WEBVTT

00:00.240 --> 00:03.240
好 直接和咱们聊一聊 这个域名和DNS

00:03.240 --> 00:05.240
这个地方会有一道面试题

00:05.240 --> 00:07.240
这个面试题一般就会这样问你

00:07.240 --> 00:09.240
问你域名解析的过程

00:09.240 --> 00:11.240
那么你就会到这么六个步骤就完事了

00:11.240 --> 00:13.240
然后加一个高速盘存

00:13.240 --> 00:14.240
那么再大概聊一聊吧

00:14.240 --> 00:16.240
这一块的知识也并不复杂

00:16.240 --> 00:18.240
首先域名很简单 大家都见过

00:18.240 --> 00:20.240
对吧 就是这么一个域名 这就是域名

00:20.240 --> 00:23.240
域名的作用是什么呢 是帮助人类记忆网站地址

00:23.240 --> 00:25.240
因为如果说没有域名的话

00:25.240 --> 00:27.240
那么你访问网站只能用IP

00:27.240 --> 00:29.240
IP是4个位置的

00:30.240 --> 00:32.240
实境置数 对吧

00:32.240 --> 00:34.240
那这个就不是很好记忆了

00:34.240 --> 00:37.240
所以说我们用域名是帮助人类记忆的

00:37.240 --> 00:39.240
好 接下来了解一下域名的类型

00:39.240 --> 00:41.240
第一个是根域名

00:41.240 --> 00:43.240
根域名是固定的一个底

00:43.240 --> 00:46.240
这是咋意思呢 其实咱们写的一个域名的时候

00:46.240 --> 00:49.240
它完整的写法是后面有一个底

00:49.240 --> 00:51.240
只要我们一般情况下会把它省略掉

00:51.240 --> 00:55.240
知道吧 最后的一个底就是根域名

00:55.240 --> 00:57.240
好比说我们的根木路理

00:58.240 --> 01:01.240
根域名 然后顶级域名的就是这些

01:05.240 --> 01:07.240
一般域名就需要购买

01:07.240 --> 01:10.240
购买的时候你会选择一些顶级域名

01:10.240 --> 01:12.240
比方说你去阿里云

01:18.240 --> 01:20.240
好 咱们这里有个产品

01:20.240 --> 01:22.240
这里搜索域名

01:22.240 --> 01:24.240
这不是广告 好 给你们看一下

01:25.240 --> 01:28.240
这里是不是 这里要选择顶级域名

01:28.240 --> 01:32.240
当然顶级域名不是什么域名都能买的

01:32.240 --> 01:34.240
有些域名是不能买的

01:34.240 --> 01:37.240
比方说像ORG

01:37.240 --> 01:42.240
这是非营利系组织 非营利系组织的域名

01:42.240 --> 01:44.240
这个东西需要去申请的

01:44.240 --> 01:46.240
还有一些域名 比方说像US

01:46.240 --> 01:48.240
就是国家的域名

01:48.240 --> 01:50.240
这些域名还是可以买

01:50.240 --> 01:52.240
还是表示你属于哪个国家的

01:52.240 --> 01:55.240
这是公司 这是一个互联网公司

01:55.240 --> 01:57.240
就这么一个意思

01:57.240 --> 01:58.240
顶级域名

01:58.240 --> 01:59.240
然后呢

01:59.240 --> 02:03.240
如果说我们像百度点康里边

02:03.240 --> 02:05.240
那么顶级域名是什么呢

02:05.240 --> 02:07.240
就是这个点康 是一家公司

02:07.240 --> 02:08.240
顶级域名

02:08.240 --> 02:10.240
ORG域名就是这一部分

02:10.240 --> 02:13.240
这一部分的域名我们往往需要去购买

02:13.240 --> 02:16.240
比方说你在这里去搜一下

02:16.240 --> 02:18.240
比方说我们搜索远近这个域名

02:18.240 --> 02:19.240
有没有被买过

02:19.240 --> 02:21.240
然后我们点击查询域名

02:21.240 --> 02:23.240
你可以看到这个域名

02:23.240 --> 02:25.240
有没有人已经买了

02:25.240 --> 02:26.240
你看已经注册了

02:26.240 --> 02:27.240
然后你可以看一下

02:27.240 --> 02:30.240
后一谁注册的他的信息是什么

02:30.240 --> 02:31.240
你可以看一下

02:31.240 --> 02:33.240
别人买的话 你要再去购买的话

02:33.240 --> 02:35.240
可能你就要去私下商量了

02:35.240 --> 02:37.240
这个玩意可能就比较贵了

02:37.240 --> 02:39.240
其实以前有一个发财之道

02:39.240 --> 02:41.240
互联网刚刚起步的初期

02:41.240 --> 02:43.240
有一些人特别有商业头了

02:43.240 --> 02:45.240
他把很多的那种短域名

02:45.240 --> 02:48.240
就是二级域名这一块都去购买了

02:48.240 --> 02:50.240
甚至我们看到一些明星

02:50.240 --> 02:52.240
出来一个明星就把他的名字拼音

02:52.240 --> 02:54.240
拿去做这个域名注册

02:54.240 --> 02:56.240
只要将来他需要这个域名的时候

02:56.240 --> 02:57.240
就来购买

02:57.240 --> 02:59.240
因为这个域名购买其实很便宜的

02:59.240 --> 03:02.240
几百块钱 几十块钱到几百块钱

03:02.240 --> 03:04.240
一年 其实很便宜

03:04.240 --> 03:07.240
这是那个二级域名

03:07.240 --> 03:09.240
二级域名里面你会发现

03:09.240 --> 03:10.240
有一些二级域名的

03:10.240 --> 03:12.240
他这里有重复 看到没

03:12.240 --> 03:13.240
二级域名抵抗

03:13.240 --> 03:14.240
他不是给你一个域名

03:14.240 --> 03:15.240
怎么跑到二级域名来了

03:15.240 --> 03:17.240
他实际上是可以组合的

03:17.240 --> 03:19.240
你看有一些网站其实是这样子的

03:19.240 --> 03:21.240
比方说抵抗 点CN

03:21.240 --> 03:23.240
那么他的顶级域名就是CN

03:23.240 --> 03:26.240
他的二级域名就是抵抗

03:26.240 --> 03:28.240
这是他的二级域名 抵抗

03:28.240 --> 03:29.240
那么这是什么意思呢

03:29.240 --> 03:32.240
表示中国的公司

03:32.240 --> 03:34.240
就这么个意思

03:34.240 --> 03:35.240
但大部分的二级域名

03:35.240 --> 03:37.240
都是我们需要自己去购买的

03:37.240 --> 03:38.240
像什么京东淘宝

03:38.240 --> 03:40.240
这些都是二级域名

03:40.240 --> 03:43.240
然后三级域名和四级域名

03:43.240 --> 03:45.240
一般来说是你自己定义的了

03:45.240 --> 03:47.240
就是你购买了二级域名之后

03:47.240 --> 03:49.240
三级域名就这个地方

03:49.240 --> 03:51.240
想写啥写啥都可以

03:51.240 --> 03:53.240
比方说我们杜一的域名

03:53.240 --> 03:55.240
是什么杜一EDU抵抗

03:55.240 --> 03:57.240
这是我们购买的二级域名

03:57.240 --> 03:59.240
我们选择的顶级域名的是抵抗

03:59.240 --> 04:01.240
然后买了之后

04:01.240 --> 04:02.240
我们所有的三级域名

04:02.240 --> 04:03.240
四级域名都可以自己定义

04:03.240 --> 04:06.240
比方说我定一个abc杜一EDU抵抗

04:06.240 --> 04:07.240
可以 没问题

04:07.240 --> 04:10.240
不用再付费了 都是免费的

04:10.240 --> 04:13.240
然后比方说mail杜一EDU抵抗

04:13.240 --> 04:16.240
他们都可以对应到不同的IP地址

04:16.240 --> 04:17.240
懂了意思吗

04:17.240 --> 04:19.240
这就是三级域名和四级域名

04:19.240 --> 04:21.240
比方说这里一个地址

04:21.240 --> 04:23.240
这个地方也是3W

04:23.240 --> 04:25.240
但是这个3W变成四级域名的

04:25.240 --> 04:26.240
为什么呢

04:26.240 --> 04:27.240
因为你看这是顶级域名

04:27.240 --> 04:29.240
这是二级域名

04:29.240 --> 04:30.240
这是三级域名

04:30.240 --> 04:32.240
他们买的是三级域名

04:32.240 --> 04:34.240
因为二级域名是国家注册的

04:34.240 --> 04:35.240
这是EDU

04:35.240 --> 04:37.240
EDU是什么呢

04:37.240 --> 04:39.240
表示教育机构

04:39.240 --> 04:41.240
国家认证的教育机构

04:41.240 --> 04:43.240
比方说PKU什么意思呢

04:43.240 --> 04:45.240
就是PKU University

04:45.240 --> 04:46.240
北京大学

04:46.240 --> 04:48.240
这就是北京大学的地址

04:48.240 --> 04:49.240
懂了意思吗

04:49.240 --> 04:50.240
这就是域名

04:50.240 --> 04:51.240
说了一个分类

04:51.240 --> 04:52.240
简单的了解一下

04:52.240 --> 04:54.240
一般来说我们购买的是什么

04:54.240 --> 04:55.240
购买的是二级域名

04:55.240 --> 04:56.240
买了之后

04:56.240 --> 04:58.240
三级四级都可以免费之地

04:58.240 --> 04:59.240
自己定义

05:00.240 --> 05:02.240
既然我们有了域名之后

05:02.240 --> 05:03.240
就会发生一个问题

05:03.240 --> 05:05.240
域名虽然说有助于我们记忆

05:05.240 --> 05:06.240
但是呢

05:06.240 --> 05:07.240
跟网络传输

05:07.240 --> 05:08.240
没有任何关系

05:08.240 --> 05:09.240
因为网络传输

05:09.240 --> 05:11.240
我们要的是IP

05:11.240 --> 05:12.240
我们之前

05:12.240 --> 05:14.240
学过了一个五层网络协议

05:14.240 --> 05:15.240
对吧

05:15.240 --> 05:16.240
五层网络协议里边

05:16.240 --> 05:18.240
不是第二层是有个TCP

05:18.240 --> 05:19.240
对吧

05:19.240 --> 05:20.240
TCP协议里边

05:20.240 --> 05:21.240
它就必须要要求

05:21.240 --> 05:23.240
第三层是网络层

05:23.240 --> 05:25.240
第三层的网络层IP协议里边

05:25.240 --> 05:26.240
它必须要传输的时候

05:26.240 --> 05:28.240
必须要要求寫IP地址

05:28.240 --> 05:29.240
它跟域名没有关系

05:29.240 --> 05:30.240
所以说呢

05:30.240 --> 05:32.240
网络传输必须要一旦IP

05:32.240 --> 05:33.240
因此就必须要有个东西

05:33.240 --> 05:34.240
把我们的域名

05:34.240 --> 05:35.240
转换成IP

05:35.240 --> 05:36.240
你不是说好记忆吗

05:36.240 --> 05:37.240
好记忆你倒是爽了

05:37.240 --> 05:38.240
对吧 但是没法传输

05:38.240 --> 05:39.240
那需要一个东西

05:39.240 --> 05:40.240
把它转换成IP地址

05:40.240 --> 05:41.240
用来传输

05:41.240 --> 05:42.240
这个东西就是

05:42.240 --> 05:43.240
DNS服务器

05:43.240 --> 05:45.240
DNS服务器叫做

05:45.240 --> 05:46.240
域名解析服务器

05:46.240 --> 05:47.240
那么

05:47.240 --> 05:49.240
翻译成IP地址的过程

05:49.240 --> 05:50.240
就称之为域名解析

05:50.240 --> 05:51.240
就这么一个逻辑

05:51.240 --> 05:52.240
看一下下面这张图

05:52.240 --> 05:54.240
比方说我们这个客户端

05:54.240 --> 05:55.240
有个电脑要去访问百度

05:55.240 --> 05:57.240
第一次访问百度的时候

05:57.240 --> 05:58.240
我不知道百度的IP是啥

05:58.240 --> 06:00.240
但是我知道它域名是啥

06:00.240 --> 06:01.240
那么这个时候能访问吗

06:01.240 --> 06:02.240
没法访问

06:02.240 --> 06:03.240
因为不知道IP

06:03.240 --> 06:04.240
所以说我们首先要去

06:04.240 --> 06:05.240
从DNS服务器

06:05.240 --> 06:06.240
查询

06:07.240 --> 06:08.240
它里面好像就好像

06:08.240 --> 06:10.240
仿佛是有个表格一样

06:10.240 --> 06:11.240
一个很大的表格

06:11.240 --> 06:13.240
它知道每一个域名的IP地址

06:13.240 --> 06:15.240
然后把IP地址告诉你

06:15.240 --> 06:16.240
原来是这个IP地址

06:16.240 --> 06:18.240
接下来我们就去请求百度

06:18.240 --> 06:20.240
通过IP地址去请求百度服务器

06:20.240 --> 06:22.240
然后完成详应

06:22.240 --> 06:23.240
基本逻辑呢

06:23.240 --> 06:24.240
就是这么一个逻辑

06:24.240 --> 06:25.240
当然细节

06:25.240 --> 06:27.240
我们还要详细的说

06:27.240 --> 06:28.240
这个DNS服务器

06:28.240 --> 06:30.240
实际上有很多种分类

06:30.240 --> 06:32.240
全世界的认可的DNS服务器

06:32.240 --> 06:34.240
一共有三种分类

06:34.240 --> 06:36.240
然后万一加上一种

06:36.240 --> 06:38.240
不是被全世界认可了

06:38.240 --> 06:40.240
但是可能我们会用到的

06:40.240 --> 06:42.240
本地DNS服务器

06:42.240 --> 06:43.240
所以说一共有四种

06:43.240 --> 06:45.240
但是注意你回答

06:45.240 --> 06:47.240
我们说DNS服务器分类有几种

06:47.240 --> 06:49.240
一共有三种

06:49.240 --> 06:50.240
就这么三种

06:50.240 --> 06:52.240
然后真实的情况下

06:52.240 --> 06:54.240
我们会有一个本地的域名服务器

06:54.240 --> 06:56.240
本地的DNS服务器

06:56.240 --> 06:58.240
分类的三种分类里边

06:58.240 --> 07:00.240
我们分为跟域名服务器

07:00.240 --> 07:02.240
和顶级域名服务器

07:02.240 --> 07:04.240
以及全线域名服务器

07:04.240 --> 07:06.240
我还是按照说一下

07:06.240 --> 07:08.240
首先这里要解决

07:08.240 --> 07:09.240
第一个问题就是

07:09.240 --> 07:10.240
你有了域名之后

07:10.240 --> 07:11.240
不要让它百度点抗

07:11.240 --> 07:13.240
它解析到哪一个IP地址

07:13.240 --> 07:15.240
它怎么知道对应到哪个IP地址

07:15.240 --> 07:17.240
这个玩意是需要你配置的

07:17.240 --> 07:18.240
就是你买了域名之后

07:18.240 --> 07:20.240
然后我们在控制台里边

07:20.240 --> 07:22.240
你买了域名之后

07:22.240 --> 07:24.240
那么你需要

07:24.240 --> 07:26.240
从那个域名提供商量那边

07:26.240 --> 07:27.240
那边它就可以进行配置

07:27.240 --> 07:29.240
你看这里有个域名

07:29.240 --> 07:31.240
我这里有个域名

07:32.240 --> 07:33.240
在这儿

07:33.240 --> 07:35.240
就是我买的是远近点tag

07:35.240 --> 07:38.620
那么点进去

07:38.620 --> 07:39.620
那里看就可以看到

07:39.620 --> 07:41.620
这个域名的一些基本信息

07:41.620 --> 07:42.620
对不对

07:42.620 --> 07:43.620
然后我们这里可以点击

07:43.620 --> 07:45.620
这里的result

07:45.620 --> 07:47.620
就是解析

07:47.620 --> 07:49.620
我不知道它为什么变成英文了

07:49.620 --> 07:50.620
你看解析的时候

07:50.620 --> 07:51.620
你看是不是可以解析

07:51.620 --> 07:52.620
这是什么意思

07:52.620 --> 07:53.620
比方说主机器

07:53.620 --> 07:55.620
那个

07:55.620 --> 07:56.620
我看一下找一个吧

07:56.620 --> 07:58.620
找一个A纪录

07:58.620 --> 08:00.620
信号是什么意思呢

08:00.620 --> 08:03.620
就表示把所有的三级域名

08:03.620 --> 08:05.620
都解析到这个IP地址

08:05.620 --> 08:06.620
什么意思

08:06.620 --> 08:08.620
比方说我这里

08:08.620 --> 08:10.620
这叫范域名解析

08:10.620 --> 08:12.620
范域名解析

08:12.620 --> 08:16.180
就这么个意思

08:16.180 --> 08:18.180
比方说我买的域名是什么呢

08:18.180 --> 08:21.180
远近点tag

08:21.180 --> 08:23.180
买的是这个域名

08:23.180 --> 08:25.180
然后我这里把所有的

08:25.180 --> 08:26.180
三级域名

08:26.180 --> 08:27.180
这里是三级域名

08:27.180 --> 08:29.180
都解析到这个IP

08:29.180 --> 08:31.180
那么就告诉电影也是服务器

08:31.180 --> 08:33.180
到时候别人访问

08:33.180 --> 08:34.180
任何的

08:34.180 --> 08:35.180
前面写任何东西

08:35.180 --> 08:37.180
访问的IP地址都是这个IP地址

08:37.180 --> 08:39.180
只要范域名解析

08:39.180 --> 08:41.180
国内的这样的域名解析

08:41.180 --> 08:43.180
都要先进行身份认证

08:43.180 --> 08:45.180
然后进行使命认证

08:45.180 --> 08:47.180
然后这三W那道自然

08:47.180 --> 08:49.180
就是这个意思了

08:49.180 --> 08:51.180
前面写3W也是解析到这个IP地址

08:51.180 --> 08:53.180
当然你可以解析到不同的IP地址

08:53.180 --> 08:55.180
你如果说你不用范域名

08:55.180 --> 08:56.180
可以分别去设置

08:56.180 --> 08:57.180
不同的三级域名

08:57.180 --> 08:59.180
解析到哪个IP地址

08:59.180 --> 09:01.180
就每个IP地址就对应到你的服务器

09:01.180 --> 09:02.180
你都买的服务器

09:02.180 --> 09:04.180
然后这个Aeta是什么意思呢

09:04.180 --> 09:06.180
这个Aeta有表示前面不写

09:06.180 --> 09:07.180
不写的情况下

09:07.180 --> 09:09.180
就这个使用定计

09:09.180 --> 09:10.180
使用那个二级域名

09:10.180 --> 09:11.180
就没有三级域名的情况下

09:11.180 --> 09:13.180
它解析到哪个IP地址

09:13.180 --> 09:14.180
都是一样的

09:14.180 --> 09:15.180
因为我只买了一个服务器

09:15.180 --> 09:16.180
都是一样的

09:16.180 --> 09:17.180
那前面你会发现

09:17.180 --> 09:18.180
还有这么一些记录

09:18.180 --> 09:20.180
叫做CNAM记录

09:20.180 --> 09:22.180
那么这个CNAM记录是什么意思呢

09:22.180 --> 09:24.180
比方说你这里访问这个RESHUM

09:25.180 --> 09:28.180
RESHUM.R哦

09:28.180 --> 09:29.180
我们这个时候

09:29.180 --> 09:31.180
这是三级域名对吧

09:31.180 --> 09:32.180
那么它怎么解析的

09:32.180 --> 09:34.180
它解析的不是到一个IP地址

09:34.180 --> 09:35.180
它解析到

09:35.180 --> 09:37.180
看上去好像是另外一个

09:37.180 --> 09:38.180
域名的地址对吧

09:38.180 --> 09:40.180
另外一个四级域名

09:40.180 --> 09:42.180
解析到那个四级域名

09:42.180 --> 09:43.180
那么你

09:43.180 --> 09:45.180
然后再通过这个四级域名

09:45.180 --> 09:47.180
去找到这个四级域名的IP地址

09:47.180 --> 09:48.180
这个对应关系

09:48.180 --> 09:50.180
先从它解析到它

09:50.180 --> 09:52.180
那从它去找到它的IP地址

09:52.180 --> 09:53.460
是有这么一个情况

09:53.980 --> 09:59.860
这就是那个郁民的解析,总之你要告诉他,你买了郁民之后,你不解析的话,那个郁民还是用不了

10:00.120 --> 10:01.660
你要告诉他解析到哪个IP地址

10:01.920 --> 10:04.720
那么一般来说的话,指向自己的服务器就OK了

10:06.000 --> 10:09.320
好,这是我们先做的一些准备工作,那么接下来呢,我们就来

10:09.580 --> 10:15.480
聊一聊啊,从头到尾聊一聊,他到底是怎么解析的,那么这些不同分类的郁民服务器又起到一个什么样的作用

10:16.240 --> 10:20.600
其实整个过程的看上去好像花的花的福哨的,其实很简单的

10:20.800 --> 10:26.740
比方说我们第一次访问一个地址的时候,访问这个地址mail.edu.ed有点抗,我们计创机上

10:27.000 --> 10:28.020
以前没有访问过

10:28.280 --> 10:30.840
好,访问这个地址的时候,首先第一步

10:31.100 --> 10:36.220
他还不着急去找IP,从哪里去找呢,他首先从本级的host文件

10:37.240 --> 10:42.620
无论你是什么样的操作系统,你本级会有个host文件,你是windows的话,那个host文件应该在哪呢

10:42.880 --> 10:43.900
应该在C盘

10:44.160 --> 10:45.680
然后windows

10:46.200 --> 10:48.760
然后system32

10:48.960 --> 10:52.540
然后是etc好像是,然后一个host

10:53.060 --> 10:56.640
你可以摆度一下,如果我写的地址不对的话,你可以摆度一下,host文件在哪

10:57.160 --> 11:02.800
你打开那个文件,那你看到,其实一用计时本的打开这个文件,打开之后你会看到一个就是

11:03.560 --> 11:04.840
一个郁民的列表

11:05.100 --> 11:08.680
那么mic地址,mic的我上面就安装了一个工具,叫switchhost

11:09.700 --> 11:15.860
那么就相当于你们那边,如果是windows打开的话,差不多也就是这样子,可能没有那么多,我这里写的一些乱七八糟的东西

11:16.840 --> 11:21.400
那么这里就是解析,你看我现在的比方说,我为什么访问localhost能

11:21.660 --> 11:29.120
访问localhost能够访问到本级的东西呢,是因为这里有个解析,看看localhost它解析到谁,解析到127.0.0.1

11:29.640 --> 11:33.740
那么这是不是本级ip地址,对吧,所以说你访问localhost的时候能够访问到本级

11:34.500 --> 11:35.540
对吧,所以说他就不用去

11:35.780 --> 11:38.600
DNS服务器查了,本级就有,本级就知道了

11:39.100 --> 11:45.260
那么比方说我这里再给他写一个127.0.0.1,然后我把它解析到

11:46.300 --> 11:49.140
比方说3w.心脏脚抗吧

11:50.180 --> 11:56.940
好,这样子写完了之后呢,我们再去保存一下啊,再去拼一下,3w.心脏脚抗

11:59.660 --> 12:02.140
人跑轴来了,我们这里重新一次啊

12:04.920 --> 12:11.360
好,你看,这不到127.0.0.1了,对不对,好,接下来呢,我们在这里,随便写个网页吧

12:12.360 --> 12:19.820
好,这里点击右键啊,你也把时候打开

12:20.260 --> 12:26.100
那么这里默认的是用ip地址,对吧,127.0.0.1,当我们这里把它换成3w.心脏脚抗,还行不行

12:27.220 --> 12:32.380
你看,随便可以访问,对吧,就什么个意思啊,这就是首先第一步

12:33.500 --> 12:36.860
先看本级的后手文件里边,我把它改过来啊

12:40.320 --> 12:45.000
首先看本级的后手文件里边有没有记录相应的ip地址,就你访问这个域名有没有

12:45.440 --> 12:48.200
如果说有的话,那就没有后面的流程了啊,就直接使用了

12:48.800 --> 12:54.560
那如果说本级没有呢,那么会去访问本地的域名服务器,那么什么叫本地的域名服务器呢

12:56.080 --> 13:00.760
因为是这样啊,比方说给大家举个例子,比方你在学校里边有些机房,对吧,既然是机房

13:01.120 --> 13:04.120
那么这个机房呢,你会发现有一些网站里是不能访问的

13:04.720 --> 13:07.920
对不对,当然这有很多技术可以实现啊,其中一种技术就是

13:08.360 --> 13:12.920
这些机房呢,他们使用的域名服务器呢,都是学校自己的域名服务器

13:13.120 --> 13:16.600
当他看到你访问一些不该访问的网站的时候,他就不给你进行解析了

13:16.960 --> 13:19.320
就得不到ip,得不到ip就没法访问了

13:19.880 --> 13:23.160
当然这是一种手段啊,当然更多手段还要一号防火墙

13:23.960 --> 13:28.000
就是本地的域名服务器,它是局部小范围使用的

13:28.520 --> 13:31.040
那么这个域名服务器是需要配置的,在哪里配置呢

13:31.400 --> 13:34.600
其实你们去,我认为这里不是温州市电脑

13:36.440 --> 13:39.000
其实你们找到你们的网络设置

13:39.720 --> 13:41.080
就是你们摆讨收一下吧

13:44.200 --> 13:46.120
查看电影式配置

13:49.720 --> 13:53.480
你们自己去看一下,是可以通过你的网络配置里面去查看到的

13:53.960 --> 13:57.000
其实我们这麦克系统的话也可以啊,比方说我们这里找一个

14:00.200 --> 14:01.400
打开网络偏好设置

14:02.040 --> 14:02.760
看一下在哪呢

14:03.400 --> 14:03.800
高级

14:05.000 --> 14:10.040
这个电影式,我这里默认设置的是什么呢,设置的是就是路由器的地址

14:10.440 --> 14:13.960
那麦这里的我们家里边路由器就充当了我这台机器的

14:15.880 --> 14:17.320
本地电影式服务器

14:17.880 --> 14:21.400
所以说我自己电脑上的后手文件里面没有,没有的话我去找谁

14:21.560 --> 14:23.720
我去问路由器,你知不知道这个域名

14:24.120 --> 14:25.160
它的IP地址是啥

14:25.640 --> 14:26.680
是这么一个意思啊

14:26.920 --> 14:30.760
其实大部分同学的电脑上的,他设置的时候,他自动设置的

14:31.240 --> 14:34.120
一般都是设置到路由器,路由器的那个IP地址

14:34.360 --> 14:35.640
他从路由器那边去查

14:35.880 --> 14:37.400
路由器一般都有这个功能

14:38.120 --> 14:41.560
好,所以说我们去查这个本地的电影式服务器,他有没有呢

14:41.560 --> 14:43.560
他如果说知道,那他就会告诉你

14:43.800 --> 14:45.320
他就直接告诉你了,就没有后边流程了

14:46.120 --> 14:47.240
如果说他不知道呢

14:47.640 --> 14:50.440
不知道的话,他就会去帮你查,我帮你问

14:50.840 --> 14:54.280
他是问谁呢,他首先问的是根域名服务器,问的是他

14:55.320 --> 14:56.600
根域名服务器呢

14:56.840 --> 15:00.440
他里边记录什麽东西呢,他里边不记录IP地址

15:00.440 --> 15:02.760
他记录的不是最终的IP地址

15:03.000 --> 15:06.840
他记录的是顶级域名的IP地址

15:07.000 --> 15:08.840
顶级域名服务器的IP地址

15:09.400 --> 15:12.280
什麽意思啊,就是根域名服务器,他里边是这么一张表

15:13.000 --> 15:14.520
比方说Diacon

15:14.760 --> 15:17.400
Diacon这种顶级域名,他有哪些

15:18.120 --> 15:18.600
哪些

15:19.640 --> 15:21.960
域名服务器,有哪些电影式服务器

15:22.840 --> 15:25.000
他去找的是谁,找的是这个服务器

15:25.480 --> 15:27.800
他不找最终的IP地址

15:28.360 --> 15:31.160
因为如果说他去找最终的IP地址的话,拿起来想一想

15:31.400 --> 15:33.720
全世界有多少域名,他得记住多大一张表格

15:34.440 --> 15:37.560
他太恐怖了,所以说这个最终查询呢,他不来做

15:37.800 --> 15:39.880
他去找什麽顶级域名服务器

15:40.120 --> 15:42.920
因为发现你访问的是谁,你访问的是他,对不对

15:43.320 --> 15:45.000
访问的是Diacon,那么他就会找

15:45.240 --> 15:47.800
这个Diacon有哪些域名服务器啊,对不对

15:47.800 --> 15:50.360
他给你挑一个,你去问他吧,比方说

15:50.600 --> 15:51.640
挑这个IP,来

15:51.880 --> 15:54.200
我不知道,但是你可以去问这个IP

15:54.920 --> 15:57.000
是这麽个意思,所以他会告诉你

15:57.400 --> 15:59.080
顶级域名服务器的IP地址

15:59.320 --> 16:00.600
让他去问顶级域名服务器

16:01.320 --> 16:03.640
像这个顶级域名服务器呢,全世界一共有

16:04.120 --> 16:04.760
300多个吧

16:06.440 --> 16:10.520
这300多个分布在世界的不同的地方,咱们国家也有

16:10.920 --> 16:14.120
但是呢,主要还是集中在美国,所以这个分布还是不均匀的啊

16:14.360 --> 16:15.240
像美国的话

16:16.120 --> 16:18.600
200万人可以共享一个

16:18.840 --> 16:22.360
顶级域名服务器,那到了咱们这边的话,可能就是2000万人了啊

16:22.600 --> 16:23.800
这个分布不是很均匀啊

16:24.520 --> 16:30.280
因此呢,如果说你第一次访问网站的话,你会发现在咱们国家跟美国比呢,肯定我们还算满意很多

16:30.920 --> 16:32.600
因为他要查到的路径要多得多

16:32.840 --> 16:33.400
而且

16:33.960 --> 16:38.200
跟域名服务器,主要是跟域名服务器还存在的信息量,访问量太大了

16:39.000 --> 16:39.880
好,这是第一步

16:40.120 --> 16:41.240
就是第三步了啊

16:41.480 --> 16:43.400
然后找到这个顶级域名服务器

16:43.640 --> 16:47.480
好,那么于是呢,他从那个顶级域名服务器又去查询

16:47.720 --> 16:51.800
你知不知道这个mail.edu.com他的IP地址是多少啊

16:52.040 --> 16:53.400
那顶级域名服务器呢

16:53.880 --> 16:56.440
他那边有可能知道,也有可能不知道

16:56.680 --> 16:59.000
那么比方说,他现在就不知道

16:59.160 --> 17:01.240
不知道的话,因为他看到这是一个什么呢

17:01.480 --> 17:02.280
这是一个

17:03.560 --> 17:04.840
三级域名,对吧

17:05.880 --> 17:06.440
对不对

17:06.680 --> 17:09.720
这是一个三级域名,那么他里边最多记录到二级域名

17:09.960 --> 17:12.040
但有些呢,他有可能会记录三级域名啊

17:12.280 --> 17:14.920
这里呢就记录到二级域名,大部分都是这样子

17:15.400 --> 17:16.520
那么他就会告诉你

17:16.760 --> 17:18.200
你访问的是三级域名

17:18.440 --> 17:20.200
那么三级域名呢,我这边没有

17:20.440 --> 17:23.080
那你去查找什么的全线域名服务器

17:23.800 --> 17:26.120
那他会把全线域名服务器的IP地址告诉你

17:26.360 --> 17:28.440
那么所以说顶级域名服务器里面还会记录什么

17:28.920 --> 17:31.080
记录的是全线服务器的IP

17:31.480 --> 17:33.320
他会给那个IP帮你去问他

17:33.560 --> 17:36.360
所以说他又发出有请求去问这个全线域名服务器

17:36.680 --> 17:40.280
看一下他知不知道呢,全线服务器什么三级域名啊,四级域名他全知道

17:40.680 --> 17:42.040
那么他就会告诉你他的IP

17:42.280 --> 17:44.840
如果说他再不知道的话,那这个域名解析失败

17:45.080 --> 17:46.520
你这个域名可能根本就不存在

17:46.760 --> 17:47.880
所以说你就防纹失败了

17:48.680 --> 17:50.200
如果他知道他就会告诉你

17:50.440 --> 17:52.760
告诉你得要过后,然后他在告诉我们的本机

17:53.000 --> 17:55.320
本机呢,就会去防纹真实的IP

17:56.040 --> 17:59.880
这就是那个整个域名解析的一个过程

18:00.200 --> 18:04.600
当然我们整个过程呢,不会老老实实的每一次都经过这个流程

18:05.000 --> 18:06.600
而是我们会用一些缓存

18:07.080 --> 18:09.640
为了让解析速度更快,查询的节点更少

18:09.880 --> 18:12.200
上述每一个节点都可能设置高速缓存

18:12.520 --> 18:13.640
来加速解析

18:14.440 --> 18:17.560
比方说你第一次访问的时候,他要经过一个完整的流程

18:18.440 --> 18:20.120
但是呢,一后续访问的时候

18:20.360 --> 18:22.920
那么比方说本机就有一个高速缓存

18:23.880 --> 18:25.240
后边我们就不需要去查询了

18:25.480 --> 18:28.040
从缓存里面直接找到IP地址,直接就防纹了

18:28.280 --> 18:29.320
后续就不需要了

18:29.960 --> 18:33.160
那过了一段时间本机没了,可能他还有这个缓存

18:33.400 --> 18:35.480
那么通过他就直接拿到了缓存结果了

18:35.720 --> 18:37.000
是这么一个回事

18:37.240 --> 18:39.080
所以说这就是域名解析的整个过程

18:39.320 --> 18:40.840
最后我们来看一下面试第一

18:41.080 --> 18:43.400
为了域名解析的过程,就是把刚才说的说一遍

18:43.640 --> 18:44.680
首先查找host

18:45.320 --> 18:47.480
host里面有,那就用,没有的话继续

18:48.040 --> 18:49.560
查到本机域名服务器

18:49.800 --> 18:51.080
查到这儿

18:51.320 --> 18:52.360
有的话就直接用

18:52.840 --> 18:54.360
然后查找根域名服务器

18:54.840 --> 18:57.960
根域名服务器呢,会告诉他顶级的域名服务器的IP

18:58.200 --> 19:00.760
然后呢,查询顶级域名服务器里面有没有

19:00.760 --> 19:01.800
有的话就直接用

19:02.680 --> 19:04.360
如果说没有的话,那就继续查找

19:04.360 --> 19:05.640
顶级域名会告诉你

19:06.920 --> 19:08.200
全线域名服务器的IP

19:08.200 --> 19:09.720
那就去查全线服务器

19:09.720 --> 19:11.720
如果说有的话就直接用

19:11.960 --> 19:13.320
都找不到解析事办

19:13.320 --> 19:15.080
然后加上一个高速缓存

19:15.080 --> 19:17.400
一般来说这些节点都会有高速缓存

19:17.800 --> 19:19.960
查了一次部分它会存在缓存里面

19:20.200 --> 19:22.280
用来减少查询次数和时间

19:22.360 --> 19:25.640
那就说到这个域名和电影的事

