WEBVTT

00:00.560 --> 00:04.160
这些可能我们来补充一个路由的知识

00:04.160 --> 00:06.160
就是嵌套路由

00:06.160 --> 00:11.160
其实路由的知识我们之前在做个人博客的时候都已经学的差不多了

00:11.160 --> 00:15.560
少一个就是嵌套路由 还有一些小的凝碎的一些知识

00:15.560 --> 00:16.560
我们慢慢来说

00:16.560 --> 00:19.360
这个嵌套路由是怎么回事呢

00:19.360 --> 00:21.560
我这里有一个简单的例子

00:21.560 --> 00:25.960
上面有一个导航 导航里边有首页关于我们

00:25.960 --> 00:29.560
然后用户中心就在三个页面

00:29.560 --> 00:33.560
如果说我们不考虑用户中心这一块的问题的话

00:33.560 --> 00:39.560
那么假设用户中心跟首页关于我们都差不多就一句话

00:39.560 --> 00:40.560
那么这个字很简单的

00:40.560 --> 00:43.560
也是不需要用到嵌套路由的

00:43.560 --> 00:44.560
那具体怎么做呢

00:44.560 --> 00:46.560
我们先把这一块天理解清楚

00:46.560 --> 00:49.560
也顺便复习一下之前的知识

00:49.560 --> 00:52.560
首先跟主见APP

00:52.560 --> 00:55.560
APP这个主见央视这些都不用去管它

00:55.560 --> 00:57.560
我们就看关键点

00:57.560 --> 00:59.560
这一块DIV相当于是什么

00:59.560 --> 01:01.560
相当于是这一块

01:01.560 --> 01:03.560
对吧 相当于这一块

01:03.560 --> 01:07.560
里边有三个超链接都是用rotling

01:07.560 --> 01:09.560
这个没问题吧

01:09.560 --> 01:11.560
要跳到不同的页面

01:11.560 --> 01:13.560
然后这一块有个DIV

01:13.560 --> 01:15.560
这个DIV就是这个部分

01:15.560 --> 01:16.560
就这一部分

01:16.560 --> 01:19.560
这个DIV里边有一个rotl view

01:19.560 --> 01:20.560
那么这个玩意是什么用的呢

01:20.560 --> 01:23.560
你像可以把它理解为相当于是站位

01:23.560 --> 01:24.560
都是学过的

01:24.560 --> 01:27.560
就没有必要再翻来覆去说了

01:27.560 --> 01:28.560
相当于是个站位

01:28.560 --> 01:32.560
对吧 那么这一块到底渲染哪个主见

01:32.560 --> 01:35.560
它取决于你的地址

01:35.560 --> 01:36.560
你地址不一样

01:36.560 --> 01:38.560
它渲染的主见就不一样

01:38.560 --> 01:40.560
比方说我是首页的地址

01:40.560 --> 01:42.560
那么它就应该渲染的是首页

01:42.560 --> 01:44.560
我是而报纸的地址呢

01:44.560 --> 01:46.560
它就应该渲染的是而报纸的主见

01:46.560 --> 01:48.560
那么这些主见在什么地方呢

01:48.560 --> 01:49.560
我把它写到这了

01:49.560 --> 01:51.560
五六是里边一个home

01:51.560 --> 01:53.560
非常简单就有一个HE元素

01:53.560 --> 01:54.560
一个home配级

01:54.560 --> 01:56.560
然后这里有一个about

01:56.560 --> 01:57.560
也很简单

01:57.560 --> 01:58.560
就有一个about配级

01:58.560 --> 01:59.560
SE元素

01:59.560 --> 02:01.560
非常简单

02:01.560 --> 02:03.560
然后我们只需要再做一个路由的配置

02:03.560 --> 02:04.560
就完事了

02:04.560 --> 02:07.560
那你这个时候的介绍里面去看一下

02:07.560 --> 02:08.560
路由里边

02:08.560 --> 02:10.560
rotl里面去看一下

02:10.560 --> 02:12.560
我的路由配置非常简单

02:12.560 --> 02:13.560
一个是首页

02:13.560 --> 02:15.560
我就渲染了home主见

02:15.560 --> 02:18.560
就刚才看到那个SE元素的主见

02:18.560 --> 02:20.560
如果说是而报纸呢

02:20.560 --> 02:23.560
我就渲染了路由兰家展

02:23.560 --> 02:25.560
就渲染了这个而报纸主见

02:25.560 --> 02:27.560
那么现在的问题

02:27.560 --> 02:29.560
其实到目前都没有任何的问题

02:29.560 --> 02:30.560
都是我们以前学过的

02:30.560 --> 02:32.560
那么现在目前问题在哪呢

02:32.560 --> 02:35.560
在这儿游热这个页面

02:35.560 --> 02:38.560
这个页面它其实不是一个页面

02:38.560 --> 02:40.560
它有很多的页面

02:40.560 --> 02:43.560
这是一个用户的资料

02:43.560 --> 02:46.560
这是用户的一些地址管理

02:46.560 --> 02:48.560
这是用户的安全管理

02:48.560 --> 02:51.560
这是用户的一些好友管理

02:51.560 --> 02:53.560
有这么一些紫菜单

02:53.560 --> 02:55.560
那么也就意味着

02:55.560 --> 02:58.560
游热这一块它有很多的页面

02:58.560 --> 03:00.560
而且这些每一个页面

03:00.560 --> 03:01.560
它还有一个共同的部分

03:01.560 --> 03:02.560
就这个部分

03:02.560 --> 03:03.560
你看

03:03.560 --> 03:04.560
这是一个页面

03:04.560 --> 03:06.560
把当成一个整个页面的话

03:06.560 --> 03:07.560
那么这个页面

03:07.560 --> 03:09.560
你看一下跟这个页面

03:09.560 --> 03:11.560
它区别在哪呢

03:11.560 --> 03:14.560
区别其实只在右边的一部分

03:14.560 --> 03:16.560
区别只在这一部分

03:17.560 --> 03:20.560
而左边这一块是完全一样的

03:20.560 --> 03:22.560
所以说我们针对这一块区域

03:22.560 --> 03:24.560
用户这个板块

03:24.560 --> 03:26.560
那么我们可以认为

03:26.560 --> 03:28.560
用户这个板块我想

03:28.560 --> 03:30.560
如果说我能够办到

03:30.560 --> 03:33.560
像那个APP这个组件一样

03:33.560 --> 03:35.560
就像这个组件一样

03:35.560 --> 03:37.560
只要出现共同的地方

03:37.560 --> 03:39.560
我就直接写了

03:39.560 --> 03:41.560
然后如果说出现那个变化的地方

03:41.560 --> 03:44.560
我用一个RotView来替代

03:44.560 --> 03:45.560
那是不是就简单了

03:46.560 --> 03:47.560
对吧

03:47.560 --> 03:48.560
我们来看一下

03:48.560 --> 03:49.560
能不能这样做呢

03:49.560 --> 03:50.560
实际上是可以的

03:50.560 --> 03:52.560
我们来看一下具体怎么做呢

03:52.560 --> 03:53.560
我在You的这里边

03:53.560 --> 03:54.560
有很多的页面

03:54.560 --> 03:56.560
其中我写了一个Layout

03:56.560 --> 03:57.560
就布局

03:57.560 --> 03:59.560
我们进去看一下

03:59.560 --> 04:00.560
那么这个页面

04:00.560 --> 04:02.560
其实跟我们APP的页面

04:02.560 --> 04:03.560
是不是很相似

04:03.560 --> 04:04.560
对吧

04:04.560 --> 04:05.560
有一些RotLink

04:05.560 --> 04:06.560
就左边那个菜单

04:06.560 --> 04:08.560
Profile,Adress,Security

04:08.560 --> 04:10.560
然后好友

04:10.560 --> 04:12.560
右边那个DIV

04:12.560 --> 04:14.560
就是用一个RotView

04:14.560 --> 04:15.560
站位

04:16.560 --> 04:18.560
做法都是一样的

04:19.560 --> 04:21.560
那么现在的问题又集中在

04:21.560 --> 04:24.560
我怎么样让那个

04:24.560 --> 04:26.560
我怎么该怎么样来写

04:26.560 --> 04:28.560
这个路由配置

04:28.560 --> 04:30.560
才能达到这样的一个效果呢

04:30.560 --> 04:32.560
好,接下来我们来开另外一个

04:32.560 --> 04:34.560
就是路由配置这一块

04:34.560 --> 04:36.560
在路由这里

04:36.560 --> 04:38.560
你看看我们User这一块

04:38.560 --> 04:39.560
是怎么处理的

04:39.560 --> 04:40.560
User这一块

04:40.560 --> 04:42.560
我们写上一个鞋杠User

04:42.560 --> 04:44.560
是我们匹配的路径

04:44.560 --> 04:46.560
当你匹配到这样的路径的时候

04:46.560 --> 04:47.560
你去夹载谁呢

04:47.560 --> 04:49.560
夹载这个Layout

04:49.560 --> 04:51.560
夹载这个玩意儿

04:51.560 --> 04:53.560
好,夹载这个的时候

04:53.560 --> 04:54.560
就遇到一个问题了

04:54.560 --> 04:55.560
比方现在这个

04:55.560 --> 04:57.560
现在这个就是User

04:57.560 --> 04:59.560
这样的一个地址

04:59.560 --> 05:01.560
当我们去夹载这个组建

05:01.560 --> 05:02.560
宣传这个组建的时候

05:02.560 --> 05:03.560
这一部分没问题

05:03.560 --> 05:05.560
很容易就渲染出来了

05:05.560 --> 05:07.560
关键是这里渲染啥

05:07.560 --> 05:08.560
他就不知道了

05:08.560 --> 05:09.560
他不知道这里

05:09.560 --> 05:11.560
应该渲染哪一个组建

05:12.560 --> 05:13.560
你想想是不是这么回事

05:13.560 --> 05:14.560
你看吧

05:14.560 --> 05:15.560
到User这里

05:15.560 --> 05:17.560
下面先不看

05:17.560 --> 05:19.560
到User这里我匹配到这个路径

05:19.560 --> 05:21.560
我就应该渲染谁呢

05:21.560 --> 05:23.560
渲染这个Layout

05:23.560 --> 05:24.560
那渲染谁

05:24.560 --> 05:25.560
那渲染出来的时候

05:25.560 --> 05:27.560
这一块他不知道渲染具体

05:27.560 --> 05:29.560
因为现在已经渲染到Layout的组建了

05:29.560 --> 05:31.560
到这一块他就不知道

05:31.560 --> 05:32.560
用什么样的组建

05:32.560 --> 05:34.560
来替换掉这个部分了

05:35.560 --> 05:36.560
那么这个时候怎么办呢

05:36.560 --> 05:38.560
这个时候就是嵌套路由

05:38.560 --> 05:40.560
因为这个RotView

05:40.560 --> 05:42.560
它实际上是根组建是不是出现过

05:42.560 --> 05:44.560
根组建那一块就替换

05:44.560 --> 05:45.560
整个这一部分

05:45.560 --> 05:47.560
而替换这一部分的时候

05:47.560 --> 05:48.560
又遇到了RotView

05:48.560 --> 05:49.560
是不是嵌套的

05:49.560 --> 05:51.560
这一部分里边还有RotView

05:51.560 --> 05:52.560
那么这个时候他就不知道

05:52.560 --> 05:53.560
该替换哪个组建了

05:53.560 --> 05:54.560
那么这个时候呢

05:54.560 --> 05:56.560
有需要在路由配置里边

05:56.560 --> 05:58.560
通过tiu去来告诉他

05:59.560 --> 06:00.560
来告诉

06:00.560 --> 06:01.560
那个View

06:01.560 --> 06:04.560
当你匹配到这个组建的时候呢

06:04.560 --> 06:07.560
你还要继续匹配路径

06:08.560 --> 06:09.560
就在这个tiu去里边

06:09.560 --> 06:10.560
继续匹配路径

06:10.560 --> 06:11.560
那么tiu准的写法

06:11.560 --> 06:13.560
其实跟外边的写法是一样的

06:13.560 --> 06:14.560
继续匹配

06:14.560 --> 06:15.560
比方说

06:15.560 --> 06:17.560
我的路径是一个空置浮串

06:17.560 --> 06:18.560
那么应该匹配的是什么呢

06:18.560 --> 06:20.560
就是负路径写杠U字

06:21.560 --> 06:22.560
那如果说我的路径

06:22.560 --> 06:23.560
是这样写的

06:23.560 --> 06:24.560
那么匹配的是什么呢

06:24.560 --> 06:25.560
匹配的就是写杠U字

06:25.560 --> 06:27.560
开头

06:27.560 --> 06:29.560
它的负路由开头

06:29.560 --> 06:31.560
然后再加上

06:31.560 --> 06:32.560
就匹配这个路径

06:32.560 --> 06:33.560
懂这意思吗

06:33.560 --> 06:34.560
那不同的路径

06:34.560 --> 06:35.560
又对应到不同的组建

06:35.560 --> 06:37.560
那比方说这个profile组建

06:37.560 --> 06:38.560
而dress组建

06:38.560 --> 06:39.560
security组建

06:39.560 --> 06:40.560
我们来看一下

06:40.560 --> 06:41.560
正向的组建

06:41.560 --> 06:43.560
所以又是只有一个A7元素

06:43.560 --> 06:44.560
正向的组建你看

06:44.560 --> 06:46.560
只有一个A7元素

06:46.560 --> 06:47.560
就这么个意思

06:48.560 --> 06:50.560
这就是嵌套路由

06:50.560 --> 06:52.560
我们再来完整的走一遍

06:52.560 --> 06:53.560
当我们访问

06:53.560 --> 06:54.560
这样的路径的时候

06:54.560 --> 06:55.560
它怎么匹配的

06:55.560 --> 06:57.560
首先匹配跟组建

07:00.560 --> 07:01.560
首先匹配跟组建

07:01.560 --> 07:02.560
abp

07:04.560 --> 07:05.560
跟组建

07:06.560 --> 07:08.560
跟组建里边

07:08.560 --> 07:09.560
有一个rot5u

07:09.560 --> 07:10.560
所以说这一块

07:10.560 --> 07:11.560
还会匹配谁

07:11.560 --> 07:12.560
匹配

07:12.560 --> 07:13.560
从这里开始找

07:13.560 --> 07:15.560
不是这个路径

07:15.560 --> 07:16.560
也不是这个路径

07:16.560 --> 07:17.560
是

07:17.560 --> 07:19.560
这个路径

07:19.560 --> 07:20.560
这个路径

07:20.560 --> 07:22.560
它就会运行这个组建

07:22.560 --> 07:24.560
运行这个组建的时候

07:24.560 --> 07:25.560
它渲染这个组建的过程中

07:25.560 --> 07:27.560
它就会遇到rot5u

07:27.560 --> 07:28.560
那么这个时候

07:28.560 --> 07:30.560
它就会去找

07:30.560 --> 07:32.560
这个组建配置里边的

07:32.560 --> 07:34.560
就是这个路由配置里边的修正

07:34.560 --> 07:36.560
继续匹配

07:36.560 --> 07:37.560
看一下这里边有没有东西

07:37.560 --> 07:38.560
能匹配上

07:38.560 --> 07:39.560
如果不能匹配上

07:39.560 --> 07:40.560
那就算了

07:40.560 --> 07:42.560
这里边怎么来匹配呢

07:42.560 --> 07:43.560
它发现这个东西能匹配

07:43.560 --> 07:44.560
对吧

07:44.560 --> 07:46.560
匹配上谁

07:46.560 --> 07:47.560
附路径

07:47.560 --> 07:49.560
加上它的指路径

07:49.560 --> 07:51.560
是不是就斜桿优点

07:51.560 --> 07:52.560
它能匹配

07:52.560 --> 07:54.560
于是它就把这个组建找到

07:54.560 --> 07:55.560
profile的组建

07:55.560 --> 07:57.560
就是一个A7元素

07:57.560 --> 07:58.560
这个组建找到

07:58.560 --> 07:59.560
找到之后

07:59.560 --> 08:01.560
把这个组建T换掉

08:01.560 --> 08:03.560
这个rot5u

08:03.560 --> 08:05.560
就是嵌桃路由

08:05.560 --> 08:07.560
整体上

08:07.560 --> 08:09.560
这一块

08:09.560 --> 08:11.560
整体上这一块区域里边

08:11.560 --> 08:13.560
这一块是一个rot5u

08:13.560 --> 08:15.560
这个rot5u匹配配到

08:15.560 --> 08:16.560
laut之后

08:16.560 --> 08:17.560
laut这一部分又是一个rot5u

08:17.560 --> 08:19.560
那么它在qz里边去找

08:19.560 --> 08:20.560
要好好琢磨一下

08:20.560 --> 08:22.560
其实并不复杂

08:22.560 --> 08:23.560
那么现在我们来试一下

08:23.560 --> 08:25.560
ertrace也是

08:26.560 --> 08:28.560
ertrace也是一样的

08:28.560 --> 08:30.560
然后我们点一个ertrace

08:30.560 --> 08:32.560
现在的路形是什么呢

08:32.560 --> 08:34.560
U鞋杠U热鞋杠ertrace

08:34.560 --> 08:35.560
看到没

08:36.560 --> 08:37.560
那么我们来看一下

08:37.560 --> 08:39.560
index的介石

08:39.560 --> 08:41.560
在这个介石里边

08:41.560 --> 08:42.560
我们来看一下

08:42.560 --> 08:44.560
ertrace是不是能匹配到这儿

08:44.560 --> 08:46.560
它附入进鞋杠U热

08:46.560 --> 08:48.560
再加上这个鞋杠ertrace

08:48.560 --> 08:49.560
那么这个时候

08:49.560 --> 08:51.560
它就会匹配到ertrace这个组建

08:51.560 --> 08:53.560
把这个组建T换掉

08:53.560 --> 08:55.560
laut里边的那个rot5u

08:56.560 --> 08:58.560
那就T换过来了

08:58.560 --> 08:59.560
这样的好处

08:59.560 --> 09:00.560
我不用多说了

09:00.560 --> 09:01.560
显而易见的

09:01.560 --> 09:03.560
就是我们整个页面里边

09:03.560 --> 09:05.560
不仅仅是整体布局上

09:05.560 --> 09:07.560
有相同的东西

09:07.560 --> 09:09.560
像整体布局这一块相同的

09:09.560 --> 09:11.560
还包括一个夜角

09:11.560 --> 09:13.560
在某一个区域里边

09:13.560 --> 09:15.560
可能也会出现有相同的区域

09:15.560 --> 09:17.560
然后有个地方不停的变化

09:17.560 --> 09:18.560
像U的这个

09:18.560 --> 09:20.560
这一部分区域里边

09:20.560 --> 09:21.560
它这一部分是相同的

09:21.560 --> 09:23.560
那么这边是不停的变化

09:23.560 --> 09:25.560
那么我们也可以用一个嵌套的路由

09:25.560 --> 09:26.560
来搞定这个事

09:26.560 --> 09:27.560
当然路由的嵌套

09:27.560 --> 09:30.560
不仅仅是只能两层

09:30.560 --> 09:31.560
它可以三层

09:32.560 --> 09:33.560
比方说用户的一个

09:33.560 --> 09:35.560
用户的资料里边

09:35.560 --> 09:36.560
上面还有一个

09:36.560 --> 09:37.560
这里有个紫菜单

09:37.560 --> 09:38.560
完全有可能

09:38.560 --> 09:40.560
一个Type选项卡

09:40.560 --> 09:41.560
比方说用户的资料

09:41.560 --> 09:42.560
用户的基本资料

09:42.560 --> 09:43.560
用户的账号资料

09:43.560 --> 09:44.560
用户的一些

09:44.560 --> 09:45.560
什么安全

09:45.560 --> 09:46.560
乱七八糟的资料

09:46.560 --> 09:47.560
它是不是可以选择

09:47.560 --> 09:49.560
那么我们可以在用户这个资料里边

09:49.560 --> 09:51.560
再继续来分纸路由

09:51.560 --> 09:52.560
是不是也可以写去了

09:52.560 --> 09:54.560
它可以嵌套无限层次

09:55.560 --> 09:56.560
就这么意思

09:57.560 --> 09:58.560
那么这个就是嵌套路由

09:58.560 --> 09:59.560
也没什么别的好说的了

09:59.560 --> 10:00.560
它其实并不复杂

10:00.560 --> 10:01.560
你把它理解清楚了

10:01.560 --> 10:02.560
很简单

10:02.560 --> 10:04.560
好,就是这一块知识

