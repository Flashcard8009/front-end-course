WEBVTT

00:00.240 --> 00:04.000
Hello 朋友们大家好 咱们今天继续来学NUX

00:04.000 --> 00:09.680
那今天咱们要搞Ville X 在NUX当中应用

00:09.680 --> 00:14.000
当然了 你说Ville X用法跟我们平常用的一不一样

00:14.000 --> 00:18.400
怎么说 不能说完全一样 几乎是一模一样

00:18.400 --> 00:22.960
老师没得认识 它里面有些区别

00:22.960 --> 00:29.760
那咱们今天会作为一个健全的例子来感受一下Ville X

00:29.840 --> 00:35.680
包括说咱们今天同样也会去用到咱们的Layouts

00:35.680 --> 00:40.720
包括说之前说的中间键 包括Plugins这堂课都会用到

00:40.720 --> 00:41.840
大家来感受一下

00:43.040 --> 00:49.280
对吧 刚才给大家看的是咱们安装的配置

00:49.280 --> 00:53.600
就是咱们这里面还用ND3Ville 别的没什么Actress有的

00:53.600 --> 00:54.560
OK 来

00:55.520 --> 00:58.240
那这样咱们先在这个页面当中

00:58.240 --> 01:00.720
先搞几个页面 好吧 搞几个页面

01:00.720 --> 01:05.680
那首先在这里面搞一个什么呢 搞一个About

01:07.840 --> 01:11.120
A.O.U7.6 咱们先充进几个路由

01:11.120 --> 01:15.840
然后包括咱们的登入页面 三个页面

01:15.840 --> 01:19.360
那这样咱们把这个默认的Index干嘛的改成Home 好吧

01:19.360 --> 01:20.320
重新用名Home

01:20.640 --> 01:28.480
OK 那这样咱们把它们简单写点

01:28.480 --> 01:33.600
Default H1About页面

01:33.600 --> 01:39.300
然后这里面是登入页面

01:39.300 --> 01:41.140
Default

01:41.140 --> 01:48.900
那登入呢 为什么老是说用Layout的用index

01:48.900 --> 01:51.860
因为这里面只有登入框咱们这拿过来用就行了

01:52.580 --> 01:53.540
哪去了 封

01:54.980 --> 01:57.780
那这样咱就不用写了 对吧 这有登入框

01:57.780 --> 01:59.140
咱咱直接用这个 好吧

02:00.020 --> 02:00.580
复制一下

02:01.700 --> 02:07.090
拿过来 这里面该有的都有

02:09.970 --> 02:12.050
包括要是什么的 咱咱来看看

02:12.050 --> 02:14.210
看看 然后让它集中

02:16.610 --> 02:19.410
Margin 0 Auto 是吧

02:20.130 --> 02:21.890
这样咱们把这个项目跑起来看一下

02:22.450 --> 02:23.890
NPM Render

02:41.760 --> 02:43.360
OK 来咱们看一下

02:47.980 --> 02:49.420
Local Host 3000

02:55.300 --> 02:58.740
首先首页找不到 这是一个咱们要解决的问题

02:58.740 --> 03:00.580
那咱们先去看看别的吧

03:01.140 --> 03:01.460
什么呢

03:05.460 --> 03:06.100
有 对吧

03:06.100 --> 03:07.460
但是样式好像不太对

03:08.900 --> 03:13.760
这个是不是它没做用上啊

03:14.720 --> 03:16.720
来 把这个干掉 来试一下

03:18.480 --> 03:24.960
还真是 可能说在功能当中这个ID出了问题

03:24.960 --> 03:26.640
那就行 不管了 样式纵上了

03:26.640 --> 03:28.160
因为刚开始就没选上 对吧

03:28.160 --> 03:29.760
来 有一个这样的页面

03:29.760 --> 03:30.800
有一个这样的页面

03:32.000 --> 03:35.760
好了 这个是它 包括说咱们的Home

03:36.480 --> 03:37.600
没有 对吧

03:38.560 --> 03:40.320
Home

03:40.880 --> 03:43.520
以及说这个Page

03:43.520 --> 03:44.720
这个Bots

03:47.650 --> 03:49.090
对吧 都有东西

03:50.530 --> 03:51.490
那么刚才说了

03:51.490 --> 03:53.330
那我们希望刚一上来

03:53.330 --> 03:56.930
对吧 如果是这个默认

03:56.930 --> 03:59.410
你指向的是什么空路

03:59.410 --> 04:00.690
对吧 咱们的根路键

04:00.690 --> 04:01.250
干嘛呢

04:01.250 --> 04:02.930
我希望你跳到哪呢

04:02.930 --> 04:05.330
跳到咱们的这个Home如今下

04:05.330 --> 04:06.530
对吧 Home如今下

04:06.530 --> 04:07.650
那这个时候干嘛呢

04:07.650 --> 04:08.690
我们需要一个中间键

04:09.170 --> 04:10.450
这个中间键呢

04:10.450 --> 04:12.850
会在这个页面执行的时候

04:12.850 --> 04:15.410
包括说我们在路由的地方去调用它

04:15.410 --> 04:17.810
包括我们就是我们路由刚进入的时候

04:17.810 --> 04:18.450
干嘛呢

04:18.450 --> 04:21.250
我们去判断一下当前路由是什么

04:21.250 --> 04:21.650
对吧

04:21.650 --> 04:23.330
如果是这个根路键

04:23.330 --> 04:25.090
我让你跳转到我们的Home

04:25.090 --> 04:27.890
那当然这里面必然要用到什么的

04:29.730 --> 04:31.410
这个是咱们应该说Star

04:32.850 --> 04:34.210
咱们的这个身份周期

04:34.210 --> 04:35.970
或者说这个Context对象

04:36.850 --> 04:37.570
Context对象

04:37.570 --> 04:37.970
为什么呢

04:37.970 --> 04:40.210
要重新一下的话用Redirect对吧

04:40.210 --> 04:40.930
Redirect

04:40.930 --> 04:43.170
包括我们判断当前路由的话会有Router

04:43.170 --> 04:44.130
OK

04:44.130 --> 04:46.050
那我们想用一个中间键的话

04:46.050 --> 04:47.410
那就在这创建个文件夹

04:47.410 --> 04:47.810
叫什么呢

04:47.810 --> 04:48.930
叫Modelware

04:48.930 --> 04:51.810
M-I-D-D-L-E-W-A-R-E

04:51.810 --> 04:53.410
然后在下面干嘛呢

04:53.410 --> 04:56.610
咱搞一个叫Inate.js

04:56.610 --> 04:57.810
Inate.js

04:57.810 --> 04:58.450
这个干嘛呢

04:58.450 --> 05:01.170
是咱们作为路由的中间键

05:01.170 --> 05:02.610
在路由刚加载的时候

05:02.610 --> 05:04.530
在路由刚进来之前

05:04.530 --> 05:06.130
我们要执行这个中间键

05:06.210 --> 05:07.170
那就是一个函数

05:08.210 --> 05:10.530
类似于这个express.mini-yos

05:11.330 --> 05:12.770
express.default

05:13.410 --> 05:14.290
默认导出一个函数

05:14.290 --> 05:15.250
它会执行这个函数

05:16.290 --> 05:16.850
方式

05:16.850 --> 05:18.770
然后这里面就是咱们的CTX

05:18.770 --> 05:20.690
那刚刚说了咱们需要看到路径

05:20.690 --> 05:22.130
有一个Root对吧

05:22.130 --> 05:23.730
然后还有一个我们需要让它重新向

05:23.730 --> 05:24.370
Redirect

05:25.730 --> 05:26.290
对吧

05:26.290 --> 05:27.090
Redirect

05:28.290 --> 05:28.690
OK

05:28.690 --> 05:32.050
判断一下如果Root.pass

05:32.930 --> 05:33.730
干嘛呢

05:33.730 --> 05:34.210
是它

05:34.530 --> 05:37.330
如果是它

05:37.330 --> 05:38.050
怎么着呢

05:38.050 --> 05:40.370
这个Redirect

05:40.370 --> 05:42.530
我们的让它跳转

05:42.530 --> 05:43.490
我们的后部录影下

05:43.490 --> 05:45.330
那这个中间键在哪儿用呢

05:45.330 --> 05:47.010
回到这个Nest.confirm.js

05:47.010 --> 05:47.490
咱们说了

05:47.490 --> 05:48.370
它一直很重要

05:48.370 --> 05:49.490
OK

05:49.490 --> 05:50.370
在下面干嘛呢

05:50.370 --> 05:51.810
咱们再添加一个配置项

05:51.810 --> 05:52.930
这个配置项叫什么呢

05:52.930 --> 05:53.570
叫Router

05:53.570 --> 05:54.690
叫Router

05:54.690 --> 05:56.770
那我们需要在这个Router里面

05:56.770 --> 05:58.130
添加这样的一个中间键

05:59.570 --> 05:59.970
Router

06:01.970 --> 06:02.770
modelware

06:03.730 --> 06:07.260
什么呢

06:07.260 --> 06:08.620
Init

06:09.900 --> 06:10.620
Init

06:10.620 --> 06:11.100
OK

06:11.100 --> 06:12.460
这个抱错了

06:12.460 --> 06:13.020
没事

06:13.020 --> 06:13.580
重启一下

06:14.860 --> 06:16.860
那还有就是这个中间键能用在哪儿呢

06:16.860 --> 06:20.380
中间键可以用在咱们的路由的之前

06:20.380 --> 06:20.780
对吧

06:20.780 --> 06:22.140
相当于我们的一个守卫一样

06:22.700 --> 06:23.420
然后包括说

06:23.420 --> 06:24.860
我们可以用在组件当中

06:24.860 --> 06:25.660
用哪个中间键

06:25.660 --> 06:27.020
或者说我们的leaf

06:27.020 --> 06:27.740
用哪个中间

06:27.740 --> 06:28.140
都行

06:28.620 --> 06:29.020
都行

06:30.700 --> 06:31.100
OK

06:31.100 --> 06:31.900
这个是

06:31.900 --> 06:32.700
完事

06:32.700 --> 06:33.340
完事

06:33.340 --> 06:33.660
回来

06:34.460 --> 06:35.100
回到这里来

06:35.740 --> 06:36.220
看着啊

06:36.220 --> 06:37.740
当我们访问跟路径的时候

06:38.620 --> 06:39.020
干嘛呢

06:39.020 --> 06:41.020
它会帮我们自动跳到后

06:42.220 --> 06:43.660
类似像我们的一个导航守卫

06:43.660 --> 06:45.660
它是以这种中间键的形式存在

06:45.660 --> 06:47.020
就是在路由调整之前

06:47.020 --> 06:49.660
会执行一个Init.js里面的函数

06:49.660 --> 06:50.700
那这个在哪儿配置呢

06:50.700 --> 06:51.820
就在我们这个

06:51.820 --> 06:54.060
这个NAS Config里面

06:54.060 --> 06:55.180
modelware

06:55.180 --> 06:56.060
告诉这种它

06:56.060 --> 06:57.740
而你说要如果在组件里面呢

06:57.740 --> 06:59.260
您组件里面也写个modelware

06:59.260 --> 07:00.140
就可以了

07:00.140 --> 07:01.020
包括一会咱们

07:01.020 --> 07:02.220
做组件键权的时候

07:02.220 --> 07:03.100
还会用了它

07:04.700 --> 07:05.100
OK

07:05.100 --> 07:06.460
这是第一个

07:06.460 --> 07:06.940
对吧

07:06.940 --> 07:07.660
第一个

07:07.660 --> 07:08.540
那老师呢

07:08.540 --> 07:09.980
我们能不能搞一个

07:09.980 --> 07:11.340
这全局导航对吧

07:11.340 --> 07:13.580
我们这个跟我们下面展示的是

07:13.580 --> 07:14.140
Home

07:14.140 --> 07:14.380
Bot

07:14.380 --> 07:15.740
包括Login

07:15.740 --> 07:16.460
他们干嘛呢

07:16.460 --> 07:18.140
作为咱们的这个字页面

07:18.140 --> 07:19.740
上面有个公共导航

07:19.740 --> 07:20.220
对吧

07:20.220 --> 07:22.620
这个Login

07:24.780 --> 07:25.340
对吧

07:25.340 --> 07:25.580
哎

07:25.580 --> 07:26.060
这些东西

07:26.060 --> 07:28.460
那你说我们的这个结构咋写呢

07:28.460 --> 07:29.980
那是不是这个时候就需要干嘛呢

07:29.980 --> 07:31.260
我们需要写一个

07:31.260 --> 07:32.380
我们的整体布局了

07:32.380 --> 07:32.620
对吧

07:32.620 --> 07:33.260
叫Layout

07:34.300 --> 07:35.020
Layout

07:35.980 --> 07:37.340
然后在这里面

07:37.340 --> 07:37.820
干嘛呢

07:37.820 --> 07:38.860
我们来一个default

07:38.860 --> 07:40.140
W

07:40.140 --> 07:41.100
好吧

07:41.100 --> 07:43.260
这是作为咱们的一个根本布局

07:43.260 --> 07:44.940
那在咱们的根本布局

07:44.940 --> 07:45.420
干嘛呢

07:45.420 --> 07:47.420
咱们也用这里面的这个Layout

07:47.420 --> 07:48.060
来搞一个

07:49.980 --> 07:51.580
也就是我们的这个基本页面

07:51.580 --> 07:53.020
都在这个布局之下

07:53.020 --> 07:54.220
Layout

07:54.220 --> 07:55.420
Layout下面是配置吧

07:55.420 --> 07:55.820
对吧

07:55.820 --> 07:56.860
咱们就搞一个

08:05.460 --> 08:06.180
搞个它吧

08:06.180 --> 08:06.740
搞个它吧

08:09.300 --> 08:09.700
搞它

08:10.420 --> 08:10.980
OK

08:10.980 --> 08:12.900
那把它粘过来

08:13.540 --> 08:14.180
对吧

08:14.180 --> 08:14.420
哎

08:14.420 --> 08:14.980
粘过来

08:16.180 --> 08:16.980
然后这个

08:16.980 --> 08:18.660
这个看看我们要调整的

08:18.660 --> 08:19.700
这个Layout

08:20.340 --> 08:21.220
这个content

08:21.220 --> 08:21.540
对吧

08:21.540 --> 08:23.940
这个content是需要我们去动的

08:23.940 --> 08:27.140
把这些content的这些都干掉

08:27.940 --> 08:28.420
都干掉

08:28.420 --> 08:29.300
我们写一个什么呢

08:29.300 --> 08:29.780
Nex

08:29.780 --> 08:30.100
对不对

08:36.210 --> 08:36.530
OK

08:36.530 --> 08:37.490
那这个时候来

08:37.490 --> 08:38.370
回来刷新一下

08:39.330 --> 08:42.110
嗯

08:45.860 --> 08:46.500
没做用上

08:50.320 --> 08:51.280
default view

08:51.280 --> 08:51.920
Layouts

08:51.920 --> 08:52.640
没写错

08:52.640 --> 08:53.840
能重启一下

09:03.180 --> 09:04.460
在这个里要写个Nex

09:04.460 --> 09:05.020
没问题

09:08.100 --> 09:08.660
对吧

09:08.660 --> 09:09.620
应该是这个

09:09.620 --> 09:10.340
喜欢布局之后

09:10.340 --> 09:11.700
应该是重新启动一下

09:11.700 --> 09:12.500
重新启动一下

09:14.020 --> 09:14.580
OK

09:14.580 --> 09:15.220
长这个样子

09:15.220 --> 09:15.540
对吧

09:15.540 --> 09:15.700
哎

09:15.700 --> 09:16.340
长这个样子

09:17.220 --> 09:17.300
哎

09:17.300 --> 09:17.780
包括说

09:18.500 --> 09:19.460
它这干嘛呢

09:19.460 --> 09:21.060
咱给我们的这个

09:22.260 --> 09:23.220
这个这个content

09:23.780 --> 09:24.820
加一个什么呢

09:24.820 --> 09:26.020
加一个这个这个

09:27.380 --> 09:27.780
高度

09:28.500 --> 09:29.140
什么呢

09:30.180 --> 09:31.380
100vh

09:31.940 --> 09:32.900
或者是80吧

09:33.380 --> 09:33.860
好吧

09:35.860 --> 09:36.180
哎

09:40.750 --> 09:41.230
对吧

09:41.230 --> 09:42.670
把下面这个内容沉一沉

09:42.670 --> 09:43.390
沉一沉

09:43.390 --> 09:44.830
然后上面它这个导航呢

09:44.830 --> 09:45.550
就这个位置

09:45.550 --> 09:46.910
它其实对对什么呢

09:46.910 --> 09:47.470
对那个

09:49.150 --> 09:51.230
Nexlink标签支持的并不太好

09:51.230 --> 09:52.750
所以说还咱们还用原生的

09:53.470 --> 09:54.190
这个什么呢

09:54.190 --> 09:54.590
首页

10:04.620 --> 10:05.260
关于

10:09.150 --> 10:09.630
登录

10:12.400 --> 10:12.720
啊

10:12.720 --> 10:13.440
然后这个地方

10:13.440 --> 10:14.240
什么呢

10:14.240 --> 10:14.480
来

10:14.480 --> 10:14.880
Tool

10:17.520 --> 10:17.920
Home

10:20.000 --> 10:20.480
这个

10:20.480 --> 10:21.600
关于About

10:23.600 --> 10:24.240
然后登录

10:26.720 --> 10:27.200
Loading

10:28.080 --> 10:28.880
对吧

10:28.880 --> 10:29.280
哎

10:29.280 --> 10:29.520
来

10:31.600 --> 10:32.160
登录

10:32.160 --> 10:33.520
关于首页

10:33.520 --> 10:33.840
对吧

10:33.840 --> 10:34.320
你不发现

10:34.320 --> 10:34.880
哎

10:34.880 --> 10:35.680
怎么回事呢

10:35.680 --> 10:37.040
因为我们这个首页

10:37.040 --> 10:37.440
哎

10:37.440 --> 10:37.920
看着

10:38.080 --> 10:39.920
我们应该是有一个样式的问题啊

10:44.030 --> 10:46.190
我们的这个里面应该有一个什么

10:46.190 --> 10:46.750
呃

10:46.750 --> 10:47.550
这个这个这个

10:47.550 --> 10:49.310
咱们给它搞上一个这个叫

10:50.110 --> 10:51.470
Nexlink Active

10:51.470 --> 10:52.830
这样那个类名

10:52.830 --> 10:53.230
好吧

10:53.230 --> 10:54.350
这样那个类名

10:55.790 --> 10:57.630
当它被选中的时候是一个颜色

10:59.070 --> 11:00.030
呃对

11:00.030 --> 11:00.670
写在这里面

11:01.950 --> 11:07.020
然后它应该是个蓝色

11:15.300 --> 11:16.580
呃颜色啊

11:18.340 --> 11:20.820
这个咱选中的时候让它是白色

11:20.820 --> 11:21.140
好吧

11:22.340 --> 11:23.140
FFF

11:24.100 --> 11:24.980
然后呢

11:24.980 --> 11:26.340
这个这个

11:26.340 --> 11:27.860
我们下面这个layout

11:28.580 --> 11:29.780
下面的这个A标签

11:30.340 --> 11:31.700
默认的是什么呢

11:31.700 --> 11:33.060
是它那个蓝色

11:34.100 --> 11:35.940
409e

11:35.940 --> 11:36.500
FFF

11:36.500 --> 11:36.660
哎

11:36.660 --> 11:37.620
40a9FF

11:38.180 --> 11:38.980
它那个蓝色

11:44.540 --> 11:45.660
那它全中的问题

11:46.220 --> 11:46.700
是不是

11:56.560 --> 11:56.880
哎

12:02.350 --> 12:02.910
这

12:02.910 --> 12:03.710
这是什么情况

12:10.290 --> 12:10.610
呃

12:10.610 --> 12:12.210
Home about Loading

12:12.210 --> 12:13.410
然后有这个类名

12:21.490 --> 12:23.090
是CSS没做用上吗

12:23.490 --> 12:23.890
来

12:37.040 --> 12:38.000
重启一下看看

12:40.560 --> 12:41.120
呃

12:41.120 --> 12:41.760
什么情况

12:43.680 --> 12:44.160
还真

12:44.960 --> 12:45.520
真是

12:46.480 --> 12:46.880
是吗

12:49.970 --> 12:51.730
这不又回到之前那个状态了吗

12:56.610 --> 12:57.650
嗯对呀

12:57.650 --> 12:59.250
这个这个样式来

13:00.130 --> 13:00.610
手印

13:01.490 --> 13:03.730
它有这个Nexlink Active

13:19.490 --> 13:19.970
哎

13:19.970 --> 13:21.010
这是什么情况

13:22.610 --> 13:24.130
Nexlink Active

13:31.330 --> 13:31.890
来好

13:31.890 --> 13:32.690
应该是这

13:32.690 --> 13:34.290
这个我们给它做用的时候

13:34.290 --> 13:35.970
这地方应该是缺了个类名

13:35.970 --> 13:38.050
因为咱们这写的是layout对吧

13:39.650 --> 13:39.970
来

13:39.970 --> 13:40.450
class

13:44.110 --> 13:45.150
layout

13:48.080 --> 13:48.640
哎

13:48.640 --> 13:49.600
这一会行了吧

13:55.280 --> 13:55.840
对吧

13:55.840 --> 13:57.680
哎刚刚刚才是类名问题啊

13:57.680 --> 13:58.080
小问题

13:59.840 --> 14:00.720
然后这个呢

14:00.720 --> 14:02.240
稍改一下84吧

14:02.240 --> 14:03.920
点太点上面了

14:07.630 --> 14:07.950
哎

14:07.950 --> 14:08.350
OK啊

14:08.350 --> 14:09.470
每这这都没问题啊

14:09.470 --> 14:10.830
刚才出点小故障

14:10.910 --> 14:11.550
问题不大

14:12.750 --> 14:13.230
OK啊

14:13.230 --> 14:15.150
那现在有了这样的一个登录页面

14:15.150 --> 14:16.190
然后有一个用语

14:16.190 --> 14:16.990
有一个首页

14:17.550 --> 14:18.110
对吧

14:18.110 --> 14:18.670
哎

14:18.670 --> 14:19.150
那行了

14:19.150 --> 14:22.430
那今天来咱们来利用store来做一个进权

14:22.430 --> 14:22.990
干嘛呢

14:22.990 --> 14:26.030
就是当我们想访问这个关于页面的时候啊

14:26.030 --> 14:26.750
你进不去

14:27.470 --> 14:27.950
啊

14:27.950 --> 14:29.150
但是干嘛呢

14:29.150 --> 14:30.990
只有登录之后你才能进去

14:30.990 --> 14:32.270
因为这当你点关于的时候

14:32.270 --> 14:33.310
它会帮我们调了登录

14:33.870 --> 14:34.270
啊

14:34.270 --> 14:35.550
那当我们点击登录之后

14:35.550 --> 14:36.110
干嘛呢

14:36.110 --> 14:39.310
再去跳转到相关的页面

14:39.470 --> 14:42.990
那这个时候就需要一个页面的一个进权操作

14:43.870 --> 14:44.430
啊

14:44.430 --> 14:46.350
那页面进权之前啊

14:46.350 --> 14:47.070
之前干嘛呢

14:47.070 --> 14:49.550
我们是得先完成登录这样一个操作

14:49.550 --> 14:50.670
这个这个操作

14:50.670 --> 14:50.990
对吧

14:51.950 --> 14:53.230
先完成登录这个操作

14:54.430 --> 14:55.550
那登录这个操作

14:55.550 --> 14:58.030
那因为是我们需要在登录页面里面啊

14:58.030 --> 14:59.070
这个互聚讯息

14:59.070 --> 15:00.110
然后有接口对吧

15:00.110 --> 15:02.590
那时候我们还需要写个小服务之类的啊

15:04.430 --> 15:04.830
OK

15:04.830 --> 15:06.830
那回到咱们的这个登录页面

15:06.830 --> 15:07.390
就是这

15:08.350 --> 15:10.270
这个这个login对吧

15:10.270 --> 15:10.910
也就在这

15:10.910 --> 15:12.750
其实也就是我们拿完它这个数据

15:12.750 --> 15:13.630
也就是这个values

15:14.750 --> 15:15.070
来

15:15.070 --> 15:16.670
咱们在这输出看一下

15:16.670 --> 15:18.590
console123

15:18.590 --> 15:19.150
123

15:20.910 --> 15:21.550
登录

15:21.550 --> 15:22.030
对吧

15:22.030 --> 15:24.030
能拿到User name去password的

15:24.030 --> 15:24.590
remember

15:24.590 --> 15:26.510
是不是记住我这样的有一些操作

15:26.510 --> 15:26.990
对吧

15:26.990 --> 15:27.870
那OK

15:27.870 --> 15:28.510
有了它之后

15:28.510 --> 15:30.270
我们可以去发送请求

15:30.270 --> 15:31.230
啊发送请求

15:31.950 --> 15:33.390
这个那这样的话

15:33.390 --> 15:35.390
我们还是要创建一个文件夹去

15:35.390 --> 15:37.390
搞一个这个

15:37.390 --> 15:39.230
这个这个这个搞一个server

15:39.230 --> 15:39.950
是吧

15:39.950 --> 15:40.670
那OK

15:40.670 --> 15:42.110
那我们再来一个文件夹server

15:43.870 --> 15:44.270
啊

15:44.270 --> 15:47.390
然后里面有什么index.js

15:48.110 --> 15:49.230
index.js

15:49.870 --> 15:50.590
那这里面呢

15:50.590 --> 15:51.470
咱就简单写

15:51.470 --> 15:51.790
好吧

15:51.790 --> 15:52.430
简单写一些

15:56.620 --> 15:58.620
npmixpress

15:59.340 --> 15:59.580
啊

15:59.580 --> 16:01.900
或者说你把这个文件夹单独的出力出去

16:02.540 --> 16:04.380
咱咱把这文件夹单独抽离出去吧

16:04.940 --> 16:05.580
嗯

16:05.580 --> 16:06.460
删除

16:08.460 --> 16:08.940
啊

16:08.940 --> 16:09.340
这样

16:09.340 --> 16:10.300
咱们在这个

16:11.180 --> 16:12.140
桌面上

16:15.970 --> 16:16.530
什么呢

16:16.530 --> 16:20.620
make.dr

16:20.620 --> 16:21.820
server

16:23.820 --> 16:24.620
cd

16:24.620 --> 16:25.180
server

16:25.980 --> 16:26.780
然后

16:26.780 --> 16:29.180
然后里面应该啥都没有吧

16:29.740 --> 16:30.380
对吧

16:30.380 --> 16:32.220
然后我们这个这个

16:32.220 --> 16:33.020
code

16:33.020 --> 16:33.980
server

16:35.980 --> 16:36.780
打开

16:36.780 --> 16:37.580
打开

16:37.580 --> 16:38.300
打开

16:38.620 --> 16:39.420
打开

16:39.420 --> 16:40.540
咬咬

16:40.540 --> 16:45.170
咬咬

16:45.170 --> 16:46.850
cd.dr

16:46.850 --> 16:48.130
code

16:48.130 --> 16:50.960
server

16:50.960 --> 16:51.760
OK啊

16:51.760 --> 16:53.760
在这里面咱们去搞

16:55.280 --> 16:57.200
npm init

16:57.200 --> 16:58.160
港外

16:58.160 --> 16:58.800
啊

16:58.800 --> 16:59.760
说说话一下

16:59.760 --> 17:07.230
晚上之后

17:07.230 --> 17:09.230
npmixpress

17:09.230 --> 17:11.230
就用它就行

17:11.230 --> 17:12.510
别的不用

17:12.510 --> 17:13.710
别的不用

17:13.710 --> 17:14.190
来

17:14.190 --> 17:16.030
那在这里面来冲进一个文件夹

17:16.030 --> 17:18.030
叫index.js

17:18.590 --> 17:19.630
然后

17:19.630 --> 17:21.630
这个咱们就写个登录接口

17:21.630 --> 17:22.030
好吧

17:22.030 --> 17:23.390
然后这里面模拟个猜选

17:23.390 --> 17:24.590
咱就不用mongo啊

17:24.590 --> 17:26.510
或者radis做税划这个了

17:26.510 --> 17:27.070
好吧

17:27.070 --> 17:29.230
那会的同学可以回去搞一搞

17:29.230 --> 17:30.190
Const

17:30.190 --> 17:31.630
express

17:31.630 --> 17:32.590
等于require

17:35.470 --> 17:36.270
express

17:37.310 --> 17:37.870
啊

17:37.870 --> 17:40.190
然后那咱们登录或者是注册的话

17:40.190 --> 17:41.870
基本上都是破格请求

17:41.870 --> 17:42.670
那所以说

17:42.670 --> 17:44.910
这里面还需要一个bodypasser对吧

17:44.910 --> 17:45.710
那这里面

17:45.710 --> 17:47.070
而且都是阶层格式的

17:47.070 --> 17:48.590
那这个18年了

17:48.590 --> 17:49.710
bodypasser的废弃了

17:49.710 --> 17:52.430
咱可以用express.json就可以了

17:52.430 --> 17:54.030
Const的server

17:54.030 --> 17:55.710
等于express执行

17:57.630 --> 17:58.350
然后这个

18:01.710 --> 18:03.150
server.use

18:04.510 --> 18:06.670
express.json

18:09.070 --> 18:09.790
嗯

18:09.790 --> 18:10.750
然后干嘛呢

18:10.750 --> 18:12.030
server.post

18:14.670 --> 18:15.070
loading

18:16.030 --> 18:22.480
sync

18:23.920 --> 18:24.480
require

18:26.880 --> 18:27.840
然后在这里面

18:27.840 --> 18:28.640
check out一下

18:30.400 --> 18:30.640
啊

18:30.640 --> 18:31.680
然后如果错了

18:32.320 --> 18:34.240
send code

18:34.240 --> 18:35.600
就服务器错误

18:45.280 --> 18:46.160
然后同时

18:46.160 --> 18:47.680
咱们也来看一下啥错误是吧

18:49.760 --> 18:50.400
哎

18:50.400 --> 18:51.760
然后在这里面干嘛呢

18:51.760 --> 18:52.400
咱们就

18:53.280 --> 18:53.680
这个

18:54.480 --> 18:55.200
结构一下

18:55.200 --> 18:55.840
结构什么的

18:55.840 --> 18:57.520
结构一个user name

18:58.160 --> 18:59.200
以及password

19:02.030 --> 19:03.310
我们的请求的

19:03.310 --> 19:04.350
body当请求体当中

19:05.470 --> 19:06.110
啊

19:06.110 --> 19:06.910
然后干嘛呢

19:06.910 --> 19:08.830
咱们就不读数据户了

19:09.710 --> 19:10.830
user name

19:11.630 --> 19:12.350
干嘛呢

19:12.350 --> 19:13.550
和我们的root

19:13.550 --> 19:14.670
如果是一个东西

19:15.310 --> 19:16.590
啊就是咱们

19:16.590 --> 19:18.030
请别人叫root

19:18.030 --> 19:20.030
并且咱们的这个密码

19:20.030 --> 19:20.670
password

19:21.790 --> 19:22.430
干嘛呢

19:22.430 --> 19:25.070
是123123

19:25.070 --> 19:26.430
123456比较难打

19:26.430 --> 19:27.070
123123

19:27.950 --> 19:28.350
ok

19:28.350 --> 19:29.150
那如果这样的话

19:29.150 --> 19:30.910
说明它这个是一个

19:30.910 --> 19:31.710
正确的

19:31.710 --> 19:32.190
对吧

19:32.190 --> 19:32.430
哎

19:32.430 --> 19:33.150
是个正确的

19:34.590 --> 19:35.150
那干嘛呢

19:35.150 --> 19:36.670
这个时候咱模拟个session

19:36.670 --> 19:37.710
就是写cookie的

19:37.710 --> 19:38.910
s.cookie

19:39.790 --> 19:40.030
啊

19:40.030 --> 19:40.510
什么呢

19:41.150 --> 19:43.870
这个sessio session

19:44.510 --> 19:44.910
啊

19:44.910 --> 19:46.750
然后给给它一个值啊

19:46.750 --> 19:47.630
123456

19:48.430 --> 19:48.670
啊

19:48.670 --> 19:50.670
同时咱把用户名给写进去好了

19:50.670 --> 19:51.950
s.cookie

19:53.790 --> 19:54.350
啊

19:54.350 --> 19:55.630
user name

19:57.470 --> 19:57.950
啊

19:58.030 --> 19:58.910
然后

19:58.910 --> 19:59.150
哎

19:59.150 --> 19:59.630
小滴人

20:01.790 --> 20:02.190
啊

20:03.230 --> 20:03.870
然后

20:03.870 --> 20:05.470
as.json

20:05.470 --> 20:05.630
啊

20:05.630 --> 20:06.270
返回

20:06.270 --> 20:07.150
返回个对象

20:07.150 --> 20:07.870
里面有什么

20:08.510 --> 20:08.830
name

20:09.470 --> 20:09.550
哎

20:09.550 --> 20:10.030
小滴人

20:11.150 --> 20:11.470
是吧

20:12.030 --> 20:12.270
哎

20:12.270 --> 20:13.710
然后咱们的这个

20:13.710 --> 20:14.190
message

20:15.070 --> 20:15.710
登入成功

20:17.550 --> 20:17.790
啊

20:17.790 --> 20:18.510
然后这个

20:18.510 --> 20:19.630
这个这个这个

20:19.630 --> 20:19.950
code

20:20.590 --> 20:20.990
200

20:22.030 --> 20:22.350
啊

20:22.350 --> 20:23.550
然后这个

20:23.550 --> 20:23.790
哎

20:26.880 --> 20:27.600
否则的话

20:30.480 --> 20:32.240
as.json

20:34.160 --> 20:34.640
啊

20:34.640 --> 20:35.120
code

20:37.120 --> 20:37.680
4倍

20:41.220 --> 20:41.940
然后这个

20:41.940 --> 20:42.260
这个

20:42.260 --> 20:42.500
这个

20:42.500 --> 20:43.060
这个

20:43.060 --> 20:43.700
这个message

20:44.580 --> 20:45.380
那什么呢

20:45.380 --> 20:45.940
用户名

20:49.300 --> 20:49.940
密码

20:49.940 --> 20:50.660
错误

20:51.620 --> 20:52.100
好吧

20:52.100 --> 20:52.500
哎

20:53.940 --> 20:54.740
这样的一个对象啊

20:55.620 --> 20:55.940
哎

20:57.060 --> 20:57.620
ok

20:57.620 --> 20:58.180
那这样

20:58.180 --> 20:59.540
咱们这边把这个服务器

20:59.540 --> 21:00.100
哎

21:00.100 --> 21:00.740
还没外出

21:01.300 --> 21:04.340
server.listen

21:05.540 --> 21:06.340
啊

21:06.340 --> 21:07.860
8080

21:07.860 --> 21:09.940
然后这个

21:09.940 --> 21:10.660
输出一下

21:13.300 --> 21:14.340
server

21:14.340 --> 21:15.300
is

21:15.300 --> 21:15.940
ren

21:17.540 --> 21:17.940
at

21:18.500 --> 21:19.300
8080

21:21.700 --> 21:22.180
ok

21:22.180 --> 21:22.500
啊

21:22.500 --> 21:23.380
然后这个

21:23.380 --> 21:24.020
用户名

21:24.020 --> 21:24.740
123

21:24.740 --> 21:25.220
root

21:25.220 --> 21:26.180
然后这个

21:26.180 --> 21:27.620
密码123123

21:27.620 --> 21:28.100
ok

21:28.100 --> 21:29.940
那这样的话咱们就可以开这个服务

21:29.940 --> 21:30.660
notemann

21:31.220 --> 21:31.940
in

21:31.940 --> 21:32.820
indexer.js

21:33.620 --> 21:34.100
对吧

21:34.100 --> 21:34.420
好

21:34.420 --> 21:36.100
那回回回到咱们这里面来

21:36.100 --> 21:36.260
啊

21:36.260 --> 21:36.980
那个不管了

21:38.500 --> 21:39.220
回到这里面来

21:39.780 --> 21:42.180
那咱们在这里面要发送请求对吧

21:42.180 --> 21:43.860
那发送请求的话咱们说的

21:43.860 --> 21:44.500
等于用啥

21:44.500 --> 21:45.380
用咱们这个

21:45.380 --> 21:45.940
actress

21:45.940 --> 21:46.500
啊

21:46.500 --> 21:47.060
actress

21:47.540 --> 21:48.020
那ok

21:48.020 --> 21:49.220
那上面这里面这个

21:49.220 --> 21:49.620
value

21:49.620 --> 21:50.740
这里面都有啊

21:50.740 --> 21:51.220
都有

21:51.220 --> 21:51.780
那这个

21:51.780 --> 21:52.180
value

21:52.180 --> 21:53.460
里面有什么password

21:53.460 --> 21:54.020
的以及

21:54.020 --> 21:54.660
user name

21:54.660 --> 21:55.300
是吧

21:55.300 --> 21:55.940
那这个

21:55.940 --> 21:56.420
再输掉

21:58.180 --> 21:58.500
来

21:59.140 --> 21:59.700
const

22:00.580 --> 22:01.140
什么呢

22:01.140 --> 22:03.140
user name

22:03.140 --> 22:04.660
以及password

22:04.660 --> 22:05.220
结构一下

22:07.220 --> 22:07.380
啊

22:07.380 --> 22:07.940
等于什么呢

22:07.940 --> 22:09.460
等于我们的这个values

22:10.660 --> 22:11.140
啊

22:11.140 --> 22:11.940
然后这里面

22:11.940 --> 22:12.340
哎

22:12.340 --> 22:12.740
干嘛呢

22:12.740 --> 22:14.020
咱们去发送请求

22:14.020 --> 22:14.420
啊

22:14.420 --> 22:15.060
发送请求

22:16.180 --> 22:16.900
比如说

22:16.900 --> 22:17.620
按什么呢

22:17.620 --> 22:18.180
const

22:19.140 --> 22:19.940
一个

22:19.940 --> 22:20.740
返回值

22:20.740 --> 22:21.060
啊

22:21.060 --> 22:21.380
value

22:22.100 --> 22:22.980
等于什么呢

22:22.980 --> 22:23.620
呃

22:23.620 --> 22:24.740
single weight的方式发

22:28.660 --> 22:29.220
await

22:30.020 --> 22:30.420
啥呢

22:30.420 --> 22:30.820
这个

22:31.060 --> 22:31.540
哎

22:31.540 --> 22:32.020
啊

22:32.900 --> 22:33.380
哎呦

22:36.460 --> 22:36.780
this

22:36.780 --> 22:37.340
点

22:37.340 --> 22:38.860
dollaractress

22:38.860 --> 22:40.300
vx i os

22:40.300 --> 22:41.420
那这个actress呢

22:41.420 --> 22:42.460
其实在用插件的时候

22:42.460 --> 22:43.580
就给它放进去了

22:43.580 --> 22:43.900
啊

22:43.900 --> 22:44.860
直接搞就行了

22:44.860 --> 22:45.580
点post

22:46.860 --> 22:47.740
那什么呢

22:47.740 --> 22:49.100
我们的login

22:49.820 --> 22:50.860
那然后这个

22:52.060 --> 22:53.180
user name

22:53.180 --> 22:54.540
以及password

22:58.000 --> 22:58.640
对吧

22:58.640 --> 22:59.120
哎

22:59.120 --> 23:00.080
然后这个这个

23:00.080 --> 23:00.960
可以可能出错呀

23:00.960 --> 23:01.280
是吧

23:02.400 --> 23:02.960
哎

23:02.960 --> 23:03.920
去来catch一下

23:07.460 --> 23:08.180
哎

23:08.180 --> 23:08.900
然后这里面

23:08.900 --> 23:09.860
如果有错误的话

23:09.860 --> 23:10.820
看看看看

23:10.820 --> 23:11.460
有没有这个

23:11.460 --> 23:12.420
弹床组件上的

23:12.420 --> 23:13.140
直接搞一搞

23:14.500 --> 23:14.900
呃

23:14.900 --> 23:15.780
有没有

23:15.780 --> 23:16.340
应该有

23:23.970 --> 23:24.850
嗯

23:24.850 --> 23:28.220
文字提示

23:36.160 --> 23:36.400
啊

23:36.400 --> 23:37.040
这不是这个

23:38.080 --> 23:38.320
哎

23:38.320 --> 23:39.040
警告提示

23:45.890 --> 23:46.290
呃

23:46.290 --> 23:47.250
关闭公告

23:48.210 --> 23:48.770
哎

23:48.770 --> 23:49.650
全局提示

23:52.510 --> 23:53.150
哎对

23:53.150 --> 23:53.870
可以用这个啊

23:56.190 --> 23:56.830
嗯

23:56.830 --> 23:57.710
让lister

23:57.710 --> 23:58.430
dollar message

23:58.430 --> 23:58.830
这点

23:58.830 --> 23:59.230
info

23:59.230 --> 23:59.390
哦

24:00.910 --> 24:01.310
哦

24:02.030 --> 24:02.510
看看

24:02.510 --> 24:03.230
哈哈哈

24:03.230 --> 24:04.030
是是是是

24:07.460 --> 24:07.860
嗯

24:10.580 --> 24:11.780
lister dollar message

24:11.780 --> 24:12.420
咱看看啊

24:12.420 --> 24:13.220
在这里能不能用

24:18.400 --> 24:18.880
呦

24:26.900 --> 24:27.940
如果全部引入的话

24:27.940 --> 24:28.980
应该是没问题的

24:28.980 --> 24:30.100
咱先测试一下

24:30.820 --> 24:31.780
看看能不能用

24:41.230 --> 24:41.550
哎

24:41.550 --> 24:42.110
这个这个

24:42.670 --> 24:43.230
一

24:43.230 --> 24:43.550
一

24:44.430 --> 24:44.670
哎

24:44.670 --> 24:45.390
可以是吧

24:45.390 --> 24:45.790
哎可以

24:45.790 --> 24:46.430
能用的话

24:46.430 --> 24:47.070
那就好办了

24:48.910 --> 24:49.550
呃

24:49.550 --> 24:50.430
然后咱给它

24:50.430 --> 24:51.550
改一个subsize

24:52.030 --> 24:52.510
iroll

24:53.470 --> 24:54.110
加

24:54.110 --> 24:54.830
加啥

24:54.830 --> 24:55.550
加太空

24:57.980 --> 24:58.380
哦

24:58.380 --> 24:58.940
subsize

25:03.840 --> 25:04.320
对吧

25:04.320 --> 25:05.280
就如果

25:05.280 --> 25:06.640
如果成功的话

25:06.640 --> 25:07.360
是不是

25:07.360 --> 25:07.680
什么

25:08.320 --> 25:09.360
lister dollar

25:10.560 --> 25:11.280
missage

25:11.280 --> 25:12.160
这点

25:12.160 --> 25:12.880
su

25:12.880 --> 25:13.040
嗯

25:13.040 --> 25:14.080
我是负责人吗

25:14.080 --> 25:14.880
哈哈哈

25:14.880 --> 25:15.040
啊

25:15.040 --> 25:15.760
全负责过来

25:17.280 --> 25:17.680
哎

25:18.240 --> 25:19.360
如果成功的话

25:19.360 --> 25:19.600
啊

25:19.600 --> 25:20.000
干嘛呢

25:20.800 --> 25:21.280
呃

25:21.280 --> 25:21.920
应该是

25:21.920 --> 25:22.960
这里面应该有一个

25:24.880 --> 25:25.760
value

25:25.760 --> 25:26.320
点

25:27.920 --> 25:28.400
呃

25:28.400 --> 25:28.960
me

25:28.960 --> 25:29.440
ss

25:29.440 --> 25:30.240
aj

25:30.240 --> 25:31.040
对

25:32.320 --> 25:33.920
咱们这边返回的是啊

25:33.920 --> 25:34.960
啊missage

25:38.420 --> 25:38.980
对吧

25:38.980 --> 25:39.460
哎

25:39.460 --> 25:40.420
如果成功的话啊

25:41.060 --> 25:42.180
然后失误的话

25:42.180 --> 25:42.740
那就

25:42.740 --> 25:43.300
lister

25:44.020 --> 25:44.500
dollar

25:45.060 --> 25:45.860
missage

25:45.860 --> 25:46.500
点

25:46.500 --> 25:47.060
iroll

25:48.740 --> 25:49.220
也是

25:51.220 --> 25:51.620
value

25:51.620 --> 25:52.100
点

25:52.100 --> 25:52.660
missage

25:58.110 --> 25:59.070
来再试一下

25:59.070 --> 25:59.950
123

25:59.950 --> 26:00.910
123

26:00.910 --> 26:01.310
logi

26:02.430 --> 26:02.830
哎

26:02.830 --> 26:03.470
成功

26:03.470 --> 26:04.510
但是没有返回

26:04.510 --> 26:04.910
是吧

26:08.960 --> 26:09.280
哎

26:09.280 --> 26:09.920
再看一下

26:09.920 --> 26:10.880
这个请求啊

26:12.320 --> 26:12.960
network

26:16.240 --> 26:16.720
总路

26:21.100 --> 26:21.340
哎

26:24.830 --> 26:25.390
123

26:25.390 --> 26:26.030
123

26:26.030 --> 26:26.270
哎

26:26.270 --> 26:27.790
那返回的是个什么东西啊

26:47.070 --> 26:49.070
它返回的是一个本身

26:49.070 --> 26:49.470
啊

26:50.350 --> 26:50.830
来

26:50.830 --> 26:51.230
它反

26:51.950 --> 26:52.190
这

26:52.190 --> 26:52.670
这

26:52.670 --> 26:53.070
这

26:53.070 --> 26:53.790
这

26:53.790 --> 26:54.110
啊

26:54.110 --> 26:55.150
出点小问题啊

26:55.150 --> 26:55.630
这个地方

26:55.630 --> 26:56.990
我们请求的是什么

26:56.990 --> 26:57.070
哎

26:57.070 --> 26:57.950
当前这个服务器

26:57.950 --> 26:58.670
80端口下的

26:58.670 --> 26:59.230
对吧

26:59.230 --> 27:00.190
那我们正常来说

27:00.190 --> 27:00.430
我们

27:01.390 --> 27:02.430
要去访问

27:02.430 --> 27:03.070
这个

27:03.070 --> 27:04.270
哎这个这个3000端口

27:04.270 --> 27:05.710
我们又和8000端口下的

27:05.710 --> 27:06.830
所以说我还得给它

27:06.830 --> 27:07.310
啊

27:07.310 --> 27:08.110
这里面干嘛呢

27:08.110 --> 27:08.830
有一个

27:08.830 --> 27:09.630
bass

27:09.630 --> 27:10.670
ur

27:10.670 --> 27:11.390
l

27:11.390 --> 27:11.950
是吧

27:11.950 --> 27:12.190
来

27:12.190 --> 27:12.670
干嘛呢

27:12.670 --> 27:13.950
是咱们这个local

27:17.860 --> 27:18.420
local

27:19.380 --> 27:19.860
host

27:20.820 --> 27:21.220
哎

27:22.500 --> 27:22.820
来

27:26.880 --> 27:27.440
哎

27:27.440 --> 27:27.920
应该是

27:29.840 --> 27:30.720
8080

27:30.720 --> 27:31.120
是吧

27:35.490 --> 27:35.890
哎

27:37.330 --> 27:37.890
来

27:37.890 --> 27:38.370
刷新

27:38.770 --> 27:39.170
啊

27:40.530 --> 27:42.290
做了个配置之后

27:42.290 --> 27:42.850
啊

27:42.850 --> 27:49.020
来

27:49.020 --> 27:49.580
123

27:49.580 --> 27:50.140
123

27:50.140 --> 27:50.540
123

27:50.540 --> 27:51.180
123

27:51.180 --> 27:51.900
哎呦

27:51.900 --> 27:52.380
哎

27:52.380 --> 27:53.900
会发生什么跨域了对吧

27:53.900 --> 27:54.220
啊

27:54.220 --> 27:55.740
那跨域的话也有招

27:55.740 --> 27:56.140
啊

27:56.140 --> 27:57.260
那在这里面干嘛呢

27:58.380 --> 27:58.700
呃

27:58.700 --> 27:59.420
利用跨域

27:59.420 --> 28:01.660
咱们可以在这里面利用proxy

28:01.660 --> 28:02.700
进行一个配置

28:02.700 --> 28:03.020
啊

28:03.020 --> 28:05.260
那当然你要想用proxy配置的话

28:05.260 --> 28:05.900
干嘛呢

28:05.900 --> 28:07.340
还得向我们的这个

28:07.340 --> 28:07.900
呃

28:07.900 --> 28:09.500
它有一个专门的插件啊

28:09.500 --> 28:10.060
proxy

28:11.900 --> 28:12.300
啊

28:12.300 --> 28:14.380
再进行一个跨域访问的话

28:14.540 --> 28:14.940
啊

28:14.940 --> 28:15.660
在这里待你

28:15.660 --> 28:16.060
啊

28:16.060 --> 28:16.700
干嘛呢

28:16.700 --> 28:17.340
咱们这

28:17.340 --> 28:18.140
bass URL

28:18.140 --> 28:19.100
还是

28:19.100 --> 28:19.820
这个

28:19.820 --> 28:20.300
3000

28:21.420 --> 28:21.660
啊

28:21.660 --> 28:22.780
还是咱们这个3000

28:23.900 --> 28:25.100
然后下面干嘛呢

28:25.100 --> 28:25.260
哎

28:25.260 --> 28:25.740
API

28:26.540 --> 28:28.540
然后访问这个API下面的什么呢

28:28.540 --> 28:29.260
相当于

28:29.260 --> 28:29.660
哎

28:29.660 --> 28:30.380
访问的这个

28:34.220 --> 28:36.060
相当于访问的是什么呢

28:36.060 --> 28:36.620
是这个

28:38.620 --> 28:39.100
target

28:41.420 --> 28:42.220
tt

28:43.420 --> 28:43.900
哎

28:46.560 --> 28:47.360
127

28:48.160 --> 28:48.800
点

28:48.800 --> 28:50.160
0.0.1

28:52.240 --> 28:52.880
帽号

28:52.880 --> 28:53.520
8080

28:55.040 --> 28:55.520
这个

28:55.520 --> 28:56.640
这个这个这个路径

28:57.360 --> 28:57.440
啊

28:57.440 --> 28:58.160
然后这个

28:58.960 --> 28:59.680
把这个

28:59.680 --> 29:00.640
路径重写一下

29:00.640 --> 29:01.360
pass

29:01.360 --> 29:01.760
rat

29:29.920 --> 29:30.240
OK

29:31.760 --> 29:32.480
那这样的话

29:32.480 --> 29:33.120
它

29:33.120 --> 29:33.920
这还没完这

29:33.920 --> 29:34.080
好

29:34.080 --> 29:34.640
这还没完这

29:34.640 --> 29:36.240
我们需要下一个专门的插件

29:36.800 --> 29:37.520
呃

29:43.040 --> 29:43.520
呃

29:43.520 --> 29:44.480
这个这个

29:44.480 --> 29:45.520
我们当时看到啊

29:45.520 --> 29:46.080
这个叫

29:46.080 --> 29:46.960
Gun Actors

29:46.960 --> 29:47.920
那这个就叫

29:47.920 --> 29:48.320
proxy

29:48.320 --> 29:49.360
PROXY

29:51.840 --> 29:53.120
那装完它之后

29:53.120 --> 29:53.760
就可以了

29:53.760 --> 29:55.120
那那你说这地方

29:55.120 --> 29:56.240
引用了这个module

29:56.240 --> 29:57.120
那下面

29:57.120 --> 29:57.840
再来一个呗

29:58.640 --> 29:59.040
对吧

30:00.880 --> 30:01.440
proxy

30:02.880 --> 30:03.920
PROXY

30:07.630 --> 30:07.870
哎

30:09.950 --> 30:10.670
OK啊

30:10.670 --> 30:11.070
来

30:11.070 --> 30:11.790
这个时候嘛

30:21.470 --> 30:21.790
OK

30:22.430 --> 30:22.910
完事啊

30:22.990 --> 30:24.030
咱过来刷新一下

30:30.260 --> 30:31.140
123

30:31.140 --> 30:31.940
123

30:31.940 --> 30:32.340
登录

30:32.980 --> 30:33.540
对吧

30:33.540 --> 30:33.700
哎

30:33.700 --> 30:34.340
可以了啊

30:34.340 --> 30:36.020
只不过返回了一个Date

30:36.020 --> 30:36.340
啊

30:36.340 --> 30:37.220
返回了一个Date

30:37.220 --> 30:37.940
那这样的话

30:37.940 --> 30:38.420
干嘛呢

30:38.420 --> 30:38.980
咱们

30:38.980 --> 30:40.100
得配合Gun Actors

30:40.100 --> 30:40.420
干嘛

30:40.420 --> 30:40.820
写中

30:40.820 --> 30:41.540
这个

30:41.540 --> 30:42.260
写一个插件

30:42.260 --> 30:42.660
是吧

30:42.660 --> 30:43.220
哎

30:43.220 --> 30:44.100
完成

30:44.100 --> 30:44.420
什么呢

30:44.420 --> 30:44.740
就是

30:46.260 --> 30:46.340
来

30:46.340 --> 30:47.300
这个这个拦几器

30:47.300 --> 30:47.540
啊

30:47.540 --> 30:48.180
写拦几器

30:50.500 --> 30:50.900
嗯

30:52.900 --> 30:53.700
咱们的这个

30:54.420 --> 30:54.900
Pragas

30:57.300 --> 30:57.780
干嘛呢

30:57.780 --> 31:01.220
再写一个AXIOS.js

31:02.660 --> 31:03.060
那

31:03.700 --> 31:04.820
那在这里面干嘛呢

31:04.820 --> 31:06.820
我们可以搞一个这样的拦几器

31:06.820 --> 31:08.180
export

31:08.180 --> 31:08.820
default

31:09.780 --> 31:09.860
啊

31:09.860 --> 31:10.260
干嘛呢

31:10.260 --> 31:12.820
这里面我们是能拿到这个Dollar Actors

31:13.540 --> 31:14.580
AXIOS

31:16.260 --> 31:16.820
干嘛呢

31:17.540 --> 31:22.580
DollarAXIOS.interceptors

31:23.620 --> 31:24.180
CEP

31:25.540 --> 31:27.220
TOS.

31:30.700 --> 31:31.580
Response

31:38.610 --> 31:39.090
Function

31:41.630 --> 31:42.510
Config

31:46.160 --> 31:46.480
嗯

31:48.160 --> 31:49.360
Config.data

31:50.480 --> 31:50.800
啊

31:50.800 --> 31:51.680
Config.data

31:56.670 --> 31:57.150
来

31:57.950 --> 31:58.110
啊

31:58.110 --> 31:58.990
然后这个的话

31:58.990 --> 31:59.870
写完之后

31:59.870 --> 32:00.590
需要AXIOS

32:00.590 --> 32:01.950
放到这里面来

32:01.950 --> 32:03.470
我们Pragas有个它

32:06.340 --> 32:08.340
还得有一个咱们刚才写的这个

32:09.300 --> 32:11.620
plugns下面的

32:12.500 --> 32:13.300
AXIOS

32:34.000 --> 32:34.800
123

32:34.800 --> 32:35.360
123

32:36.080 --> 32:36.560
对吧

32:36.560 --> 32:37.200
code400

32:37.200 --> 32:37.360
啊

32:37.360 --> 32:38.240
那其实这个地方

32:38.800 --> 32:39.200
呃

32:39.200 --> 32:39.760
这个这个

32:39.760 --> 32:40.720
我们还是要判断一下

32:43.200 --> 32:43.840
啊

32:43.840 --> 32:44.560
如果

32:45.600 --> 32:47.120
config.data

32:47.120 --> 32:47.440
点

32:48.480 --> 32:49.040
呃

32:49.040 --> 32:50.080
那个那个code

32:50.640 --> 32:51.440
等于点200

32:54.080 --> 32:54.480
啊

32:55.200 --> 32:56.000
return

32:56.000 --> 32:57.440
config.data

32:58.320 --> 32:58.960
对吧

32:58.960 --> 33:00.080
然后这个

33:00.080 --> 33:01.200
else的话

33:01.200 --> 33:02.560
return一个

33:02.560 --> 33:04.320
promise.reject

33:06.880 --> 33:07.280
呃

33:07.280 --> 33:07.760
什么呢

33:07.760 --> 33:08.240
呃

33:08.240 --> 33:09.520
config.data

33:11.600 --> 33:13.360
呃

33:13.360 --> 33:14.640
或者通过中间码的方式

33:18.590 --> 33:18.990
来

33:18.990 --> 33:19.310
刷新

33:21.710 --> 33:22.590
123

33:22.590 --> 33:23.070
123

33:25.230 --> 33:25.470
啊

33:25.470 --> 33:27.070
value is not defined

33:31.760 --> 33:32.240
哎

33:37.250 --> 33:37.970
嗯

33:37.970 --> 33:39.330
value is not defined

33:43.570 --> 33:43.970
啊

33:43.970 --> 33:44.770
就个就个就个就个

33:45.650 --> 33:46.130
对吧

33:46.130 --> 33:46.850
应该是这样

33:48.050 --> 33:48.850
123

33:48.850 --> 33:49.490
123

33:49.490 --> 33:50.610
哎对吧

33:50.610 --> 33:51.650
哎没错啊

33:51.650 --> 33:52.130
没错

33:52.130 --> 33:53.250
哎呀

33:53.250 --> 33:54.050
来

33:54.050 --> 33:54.930
这个

33:54.930 --> 33:57.440
我们来写一个

33:57.440 --> 33:58.560
这个冲

33:58.560 --> 33:59.600
冲告一个

33:59.600 --> 34:00.160
啊

34:00.160 --> 34:00.800
就要root

34:00.800 --> 34:01.360
然后

34:01.360 --> 34:01.840
123

34:01.840 --> 34:02.560
123

34:02.560 --> 34:03.600
登录

34:03.600 --> 34:04.400
哎

34:04.400 --> 34:05.280
登录成功

34:05.280 --> 34:05.840
对吧

34:05.840 --> 34:06.400
呃

34:06.400 --> 34:07.280
这个这个

34:07.280 --> 34:08.640
这不是啥错误啊

34:08.640 --> 34:09.920
然后看一下咱们这个

34:09.920 --> 34:10.640
哎

34:10.640 --> 34:11.440
adocation

34:11.440 --> 34:12.400
看我们的这个

34:12.400 --> 34:13.440
cookie

34:13.440 --> 34:14.000
对吧

34:14.000 --> 34:14.560
对吧

34:14.560 --> 34:15.040
对吧

34:15.040 --> 34:15.600
对吧

34:15.600 --> 34:16.160
对吧

34:16.160 --> 34:16.880
cookie

34:16.880 --> 34:17.440
写进来了

34:17.440 --> 34:17.840
对吧

34:17.840 --> 34:18.080
哎

34:18.080 --> 34:18.720
写进来了

34:18.720 --> 34:19.760
啊

34:19.760 --> 34:20.480
ok

34:20.480 --> 34:22.560
那正常你登录完成之后

34:22.560 --> 34:24.480
是不是我们一方面需要

34:24.480 --> 34:26.000
记录你一个登录状态啊

34:26.000 --> 34:26.640
包括说

34:26.640 --> 34:26.960
呃

34:26.960 --> 34:28.880
这个这个记录用户信息什么的

34:28.880 --> 34:29.280
是吧

34:29.280 --> 34:31.440
那所以说这里面就得用到咱们的store

34:31.440 --> 34:31.840
啊

34:31.840 --> 34:34.800
因为store咱上面没有直接讲原因是啥呢

34:34.800 --> 34:35.360
因为

34:35.360 --> 34:37.520
这个东西跟我们正常用没啥区别

34:37.520 --> 34:38.000
啊

34:39.280 --> 34:39.760
来

34:39.760 --> 34:40.640
那在这干嘛

34:40.640 --> 34:41.120
哎

34:41.120 --> 34:41.920
点错了

34:41.920 --> 34:42.720
在这干嘛呢

34:42.720 --> 34:44.560
我们创建一个indexer.js

34:46.320 --> 34:46.560
啊

34:46.560 --> 34:48.240
那是在这里面创建store吗

34:48.240 --> 34:48.800
不用啊

34:48.800 --> 34:50.400
我们直接导出就可以了

34:50.400 --> 34:51.200
export

34:51.920 --> 34:52.320
cost

34:52.320 --> 34:53.360
它一个state

34:54.000 --> 34:54.800
记得state

34:54.800 --> 34:55.360
记得

34:55.360 --> 34:56.480
它一定是一个函数

34:57.280 --> 34:57.520
啊

35:00.080 --> 35:00.320
哎

35:02.640 --> 35:03.760
一定是一个函数

35:04.400 --> 35:06.160
然后函数反过一个对象

35:06.880 --> 35:07.360
啊

35:07.360 --> 35:09.360
那如果在这里面indexer.js

35:10.000 --> 35:11.040
这里面写的state

35:11.040 --> 35:11.680
就是干嘛呢

35:11.680 --> 35:12.800
咱们的一个全球state

35:12.800 --> 35:14.480
那如果说别让下面来一个

35:15.040 --> 35:15.600
叫todo

35:16.240 --> 35:16.880
点js

35:17.520 --> 35:17.760
啊

35:17.760 --> 35:18.240
那同样

35:19.760 --> 35:20.640
那在这里面

35:20.640 --> 35:22.240
你还刀出了一个state

35:23.760 --> 35:24.080
哎

35:24.640 --> 35:24.960
呦

35:29.070 --> 35:29.550
是啊

35:29.550 --> 35:30.350
跑到台下边去了

35:32.510 --> 35:34.270
这里面要再写个state

35:34.270 --> 35:35.310
那这里面的state

35:35.310 --> 35:37.150
大家似乎这里面有一个什么abc

35:38.030 --> 35:38.670
啊123

35:39.390 --> 35:40.670
那这里面这个state

35:40.670 --> 35:41.230
就是什么呢

35:41.230 --> 35:41.950
就是

35:41.950 --> 35:43.790
我们有什么store

35:43.790 --> 35:45.550
下面的state

35:45.550 --> 35:47.230
下面的todo

35:47.230 --> 35:47.870
下面的

35:48.430 --> 35:49.550
abd

35:49.550 --> 35:50.750
这样的这样的东西

35:50.750 --> 35:51.470
是通

35:51.470 --> 35:52.430
也跟路由一样

35:52.430 --> 35:54.030
通过文件夹的方式

35:54.030 --> 35:54.830
来做stall

35:54.830 --> 35:56.510
如果你想给它搞模块的话

35:56.510 --> 35:57.630
充电这个

35:58.270 --> 35:59.070
文件就可以了

35:59.070 --> 36:00.590
然后这个indexer.js呢

36:00.590 --> 36:01.950
就是我们正常的那个

36:01.950 --> 36:02.510
啊

36:02.510 --> 36:02.910
ok

36:02.910 --> 36:03.950
那在这里面干嘛呢

36:03.950 --> 36:05.630
咱们刀出啊两个值

36:05.630 --> 36:06.110
两个值

36:06.110 --> 36:06.830
一个是就是

36:08.030 --> 36:08.910
代表我们的页面

36:08.910 --> 36:10.110
都用状态一个用户信息

36:10.590 --> 36:10.830
啊

36:17.620 --> 36:18.180
user

36:18.180 --> 36:19.060
那什么呢

36:19.060 --> 36:19.940
more than know

36:20.020 --> 36:22.020
然后这里面还有个aslogin

36:22.020 --> 36:22.980
啊more than false

36:23.540 --> 36:23.940
啊

36:23.940 --> 36:25.700
这个xlogin干嘛呢

36:25.700 --> 36:26.100
就是

36:27.140 --> 36:27.620
会

36:27.620 --> 36:28.740
要看我们的这个

36:28.740 --> 36:29.620
这个这个这个

36:30.980 --> 36:31.940
lios下面这个

36:31.940 --> 36:32.260
对吧

36:32.260 --> 36:33.380
那我们可以通过这个

36:33.380 --> 36:34.820
登录来判断一下

36:34.820 --> 36:36.660
如果这个这个已经登录了

36:37.460 --> 36:38.420
啊已经登录的话

36:38.420 --> 36:39.540
这个登录按键就

36:39.540 --> 36:40.420
不再展示了

36:40.420 --> 36:40.740
对吧

36:40.740 --> 36:41.780
就就进不去了

36:41.780 --> 36:42.500
啊进不去了

36:43.540 --> 36:44.820
所以是这个样子的

36:44.820 --> 36:45.220
那ok

36:45.220 --> 36:46.660
那同样我们干嘛呢

36:46.660 --> 36:46.980
a

36:48.100 --> 36:48.980
回到这个

36:49.540 --> 36:50.340
日本念念点多

36:52.660 --> 36:53.380
回到这里来

36:54.020 --> 36:54.100
啊

36:54.100 --> 36:55.460
然后那有state

36:55.460 --> 36:55.860
干嘛呢

36:55.860 --> 36:57.060
我们就需要去改变

36:57.060 --> 36:57.700
这个state

36:57.700 --> 36:58.340
对吧

36:58.340 --> 36:59.140
export

37:00.020 --> 37:00.900
const

37:00.900 --> 37:01.780
mutations

37:02.580 --> 37:03.380
mute

37:03.380 --> 37:03.940
tato

37:03.940 --> 37:04.420
mi

37:04.420 --> 37:05.060
ta

37:05.060 --> 37:05.780
tato

37:05.780 --> 37:06.500
mutations

37:08.100 --> 37:08.340
啊

37:08.340 --> 37:09.620
然后这里面有一些什么

37:10.180 --> 37:10.660
啊这个

37:10.660 --> 37:11.620
set user

37:13.860 --> 37:14.180
啊

37:14.180 --> 37:14.580
state

37:16.100 --> 37:16.580
呃

37:17.300 --> 37:17.780
user

37:18.580 --> 37:19.460
什么呢

37:19.460 --> 37:21.220
state.user

37:21.220 --> 37:22.340
等于我们这个user

37:23.140 --> 37:23.540
啊

37:23.540 --> 37:24.500
然后还有一个

37:25.540 --> 37:26.740
set lodging

37:28.100 --> 37:28.580
state

37:29.940 --> 37:31.060
啊是个不耳直

37:31.060 --> 37:32.580
那所以说这里干嘛呢

37:32.580 --> 37:35.060
state.isLodging等一个不理

37:35.620 --> 37:36.900
啊这两个方法

37:36.900 --> 37:37.700
啊这两个方法

37:39.220 --> 37:40.020
那ok

37:40.020 --> 37:41.060
那这两个方法

37:41.060 --> 37:42.820
呃这个这个完成之后

37:42.820 --> 37:44.340
啊那我们回到这个

37:44.580 --> 37:44.900
这个

37:45.620 --> 37:46.020
哎

37:46.740 --> 37:48.260
回到我们这个login里面来

37:48.260 --> 37:49.780
那因为说我们当过成功之后

37:49.780 --> 37:50.180
干嘛呢

37:50.180 --> 37:52.420
需要把这个信息存一下

37:52.420 --> 37:52.900
对吧

37:52.900 --> 37:54.180
哎我们回到这里面来

37:55.380 --> 37:56.580
把信息已经存储

37:57.780 --> 37:58.340
那也就是说

37:59.220 --> 37:59.700
这里面

38:00.740 --> 38:01.460
this.

38:01.460 --> 38:01.700
哎

38:02.820 --> 38:07.460
this.door.store.commit

38:08.500 --> 38:09.300
set user

38:11.380 --> 38:11.940
这什么呢

38:11.940 --> 38:12.740
这里面有一标

38:13.300 --> 38:15.220
value.name

38:18.080 --> 38:18.720
是吧

38:18.720 --> 38:19.040
哎

38:19.040 --> 38:23.840
this.door.store.commit

38:25.200 --> 38:26.400
set lodging

38:27.840 --> 38:29.200
哎登入成功了

38:29.200 --> 38:29.760
也就是出

38:31.680 --> 38:32.160
对吧

38:32.160 --> 38:33.280
哎登入出

38:33.280 --> 38:33.760
然后呢

38:33.760 --> 38:35.280
再回到我们的这个

38:35.280 --> 38:36.320
这个这个这个

38:36.320 --> 38:38.000
回到我们的这个

38:38.000 --> 38:39.040
lios这里面来

38:39.040 --> 38:39.760
那是不是这个地方

38:39.760 --> 38:40.560
我们可以写一个

38:41.360 --> 38:42.240
vigantif

38:43.520 --> 38:44.160
对吧

38:44.160 --> 38:46.000
如果 is lodging

38:46.000 --> 38:47.120
代表它登录了

38:47.200 --> 38:47.840
对吧

38:47.840 --> 38:48.960
哎那取个反

38:48.960 --> 38:49.840
如果它登录的话

38:49.840 --> 38:52.080
就不展示这个登播按钮

38:52.080 --> 38:53.200
那那所以说这地方

38:53.840 --> 38:54.480
script

38:56.880 --> 38:58.240
那而这里面干嘛呢

38:59.920 --> 39:00.640
import

39:02.640 --> 39:03.520
map state

39:05.520 --> 39:05.920
from

39:06.800 --> 39:07.360
vx

39:07.360 --> 39:08.720
那这个跟我们的vx

39:08.720 --> 39:09.600
就用法一样的

39:12.240 --> 39:13.040
vx

39:13.040 --> 39:14.320
然后这里面干嘛呢

39:15.120 --> 39:15.760
computed

39:19.140 --> 39:19.860
map state

39:22.180 --> 39:22.900
那什么呢

39:22.900 --> 39:24.420
这个 is lodging

39:32.850 --> 39:33.330
对吧

39:33.330 --> 39:34.690
然后这里面来个

39:34.690 --> 39:35.170
root

39:36.050 --> 39:36.770
123

39:36.770 --> 39:37.410
123

39:37.410 --> 39:38.050
登录

39:38.050 --> 39:38.530
是吧

39:38.530 --> 39:39.250
哎这个这个按钮

39:39.250 --> 39:40.770
就就就跳进去了

39:40.770 --> 39:41.650
啊跳不进去了

39:41.650 --> 39:42.610
但是这里面还有个问题

39:42.610 --> 39:42.850
对吧

39:42.850 --> 39:44.050
登录之后你跳到哪

39:44.050 --> 39:45.090
啊这样是一个问题

39:45.090 --> 39:45.410
对吧

39:46.450 --> 39:47.250
包括说这个

39:47.250 --> 39:48.690
是不是如果跳关于之后

39:48.690 --> 39:49.650
要跳登录

39:49.650 --> 39:51.010
包括说我们明明有Cookie

39:51.010 --> 39:51.890
为什么还要登录

39:52.450 --> 39:53.250
还有一些问题

39:53.250 --> 39:54.290
咱们再来解决

39:54.610 --> 39:55.010
啊

39:57.890 --> 39:59.250
哎哎sora不看了

40:00.770 --> 40:01.650
ok回到这里

40:01.650 --> 40:02.690
啊回到这里

40:02.690 --> 40:04.210
那这里面干嘛呢

40:04.210 --> 40:05.730
还回到我们的这个

40:05.730 --> 40:06.370
start里面

40:08.930 --> 40:09.570
回到这里来

40:10.050 --> 40:11.170
啊回到这里来

40:11.170 --> 40:11.730
咱们说呢

40:11.730 --> 40:13.090
呃给大家看看东西

40:13.090 --> 40:13.650
看什么呢

40:13.650 --> 40:14.050
还是

40:15.570 --> 40:16.450
嗯不知这个了

40:21.090 --> 40:21.330
嗯

40:26.430 --> 40:27.230
哎live circle

40:27.230 --> 40:27.710
啊这

40:28.590 --> 40:29.390
咱们生命中心

40:29.390 --> 40:29.950
上面有一个

40:29.950 --> 40:30.350
nax

40:30.350 --> 40:31.150
sora

40:31.150 --> 40:31.630
anit

40:32.030 --> 40:33.630
就是这个在服务端执行

40:34.110 --> 40:35.550
啊这个在服务端执行

40:35.550 --> 40:36.350
那在服务端执行

40:36.350 --> 40:37.390
你就像我们

40:37.390 --> 40:38.750
方请求的时候会干嘛

40:38.750 --> 40:39.710
携带Cookie

40:39.710 --> 40:40.270
对吧

40:40.270 --> 40:40.910
那所以说

40:40.910 --> 40:41.310
我们

40:42.190 --> 40:43.470
让这个还出执行

40:43.470 --> 40:44.270
干嘛呢

40:44.270 --> 40:45.150
在服务端执行

40:45.150 --> 40:45.710
判断一下

40:45.710 --> 40:46.430
你有没有Cookie

40:46.430 --> 40:47.550
有没有这个session

40:47.550 --> 40:47.870
对吧

40:47.870 --> 40:49.150
它是不是对人的直

40:49.150 --> 40:49.710
如果对

40:49.710 --> 40:50.510
ok那就

40:50.510 --> 40:51.710
嗯就不需要

40:51.710 --> 40:53.470
再进行登录这个操作了

40:53.470 --> 40:53.950
啊

40:53.950 --> 40:55.150
那ok回到这里面来

40:56.510 --> 40:57.790
啊回到这里面来

40:57.790 --> 40:59.150
同样那这个方法呢

40:59.150 --> 41:00.590
是在axence里面的

41:00.590 --> 41:01.790
啊是axence里面

41:02.750 --> 41:04.750
export

41:06.510 --> 41:07.550
const

41:07.550 --> 41:08.270
axence

41:08.270 --> 41:08.830
ac

41:08.830 --> 41:09.310
axence

41:12.430 --> 41:13.630
啊里面有一个方法

41:13.630 --> 41:14.270
叫这个

41:14.270 --> 41:15.630
next-over-init

41:15.630 --> 41:16.590
啊说实话

41:16.590 --> 41:18.030
然后这里面干嘛呢

41:18.030 --> 41:18.910
哎呦

41:18.910 --> 41:19.950
commit

41:19.950 --> 41:22.270
啊第一个是咱们的一个提交靠坐

41:22.270 --> 41:23.550
啊就是这什么提交

41:23.550 --> 41:24.910
就是我们的这个这个这个

41:24.910 --> 41:26.590
这个view-axe当中的

41:26.590 --> 41:27.790
这个这个对象

41:27.790 --> 41:28.750
啊you commit

41:28.750 --> 41:29.790
这个dispatch

41:29.790 --> 41:30.350
啊

41:30.350 --> 41:31.550
然后这个里面

41:31.550 --> 41:32.670
是我们那个对象

41:32.670 --> 41:35.470
那这里面我们可以讨论require a response

41:35.470 --> 41:37.710
啊就是平凡的两张图

41:37.710 --> 41:38.350
哎一个是

41:39.550 --> 41:39.950
哎对

41:40.750 --> 41:42.830
ok这俩货require a response

41:44.270 --> 41:44.670
啊

41:46.030 --> 41:47.550
那我们可以通过

41:47.550 --> 41:48.670
啊你的请求

41:48.670 --> 41:50.270
携带的cookie判断一下

41:50.830 --> 41:51.310
对吧

41:51.310 --> 41:52.910
哎那在这干嘛呢

41:52.910 --> 41:53.870
判断一下什么的

41:54.430 --> 41:55.870
coust cookie

41:56.430 --> 41:57.230
啊等于

41:58.110 --> 41:59.950
啊那我们得获取

41:59.950 --> 42:00.510
对吧

42:00.510 --> 42:01.230
等于

42:01.390 --> 42:02.910
如果require

42:03.470 --> 42:04.270
并且什么

42:04.270 --> 42:04.510
哎

42:05.310 --> 42:07.070
并且require点

42:07.710 --> 42:08.350
hiders

42:09.070 --> 42:09.390
点

42:10.030 --> 42:10.430
cookie

42:12.590 --> 42:13.070
啊

42:13.070 --> 42:14.030
那接下来干嘛

42:14.030 --> 42:15.070
能不能封装个方法

42:15.070 --> 42:15.790
去获取 cookie

42:15.790 --> 42:16.590
因为 cookie 的话

42:16.590 --> 42:17.310
它拿出来

42:17.310 --> 42:18.190
它是那个样子的

42:18.190 --> 42:18.750
对吧

42:18.750 --> 42:19.870
我们来搞一个函数

42:19.870 --> 42:20.270
方身

42:20.830 --> 42:21.470
get cookie

42:23.790 --> 42:24.510
啊 cookie

42:25.950 --> 42:26.510
啊 t

42:27.230 --> 42:28.350
可是这样那个自物串

42:28.350 --> 42:29.470
来获取这样的一个

42:29.950 --> 42:30.510
来对象

42:31.070 --> 42:32.510
啊那然后干嘛呢

42:32.510 --> 42:33.070
如果

42:34.990 --> 42:35.870
cookie

42:35.870 --> 42:36.430
不存在

42:37.870 --> 42:39.070
就直接return

42:41.630 --> 42:43.070
然后干嘛呢

42:43.070 --> 42:45.070
这个coust cookies

42:47.150 --> 42:48.670
等于 cookie

42:48.670 --> 42:49.630
theirs plate

42:52.190 --> 42:53.630
分号控制对吧

42:53.630 --> 42:55.550
哎分成柔感数组

42:55.550 --> 42:56.590
然后在这里面

42:56.590 --> 42:57.230
奉行还

42:57.230 --> 42:58.510
因为我们筛出来就可以了

42:58.510 --> 43:00.110
不用说把所有东西反过对象

43:00.110 --> 43:01.070
也行啊

43:01.070 --> 43:02.350
看看其个人喜欢

43:02.350 --> 43:03.630
来一小与 cookies

43:05.710 --> 43:06.510
theirlans

43:07.550 --> 43:08.510
分号爱加加

43:10.190 --> 43:10.510
呃

43:11.070 --> 43:12.350
coust的一个 c

43:12.350 --> 43:13.390
等于 cookie

43:14.510 --> 43:15.150
theirs

43:15.870 --> 43:16.190
哎

43:17.710 --> 43:18.190
theirs

43:18.750 --> 43:19.790
然后干嘛呢

43:19.790 --> 43:21.150
这个coust

43:21.150 --> 43:22.190
啊我们的 key

43:22.190 --> 43:22.430
v

43:24.590 --> 43:26.750
等于啊 c theirs plate

43:28.750 --> 43:29.630
等于对吧

43:29.710 --> 43:30.590
按空调拆嘛

43:31.550 --> 43:32.030
然后

43:32.430 --> 43:33.070
判断一下

43:33.070 --> 43:34.270
如果我们的这个 key

43:34.830 --> 43:36.350
等于我们传进来的这个 key

43:36.350 --> 43:37.310
哎干嘛呢

43:37.950 --> 43:38.750
theirs return

43:39.310 --> 43:40.910
把我们的这个 value 返回

43:40.910 --> 43:42.830
啊其他的返回了一把的贩嘛

43:42.830 --> 43:43.470
对吧

43:43.470 --> 43:43.870
ok

43:43.870 --> 43:44.670
那这样的话

43:44.670 --> 43:45.870
在这干嘛呢

43:45.870 --> 43:46.590
我们

43:46.590 --> 43:47.390
获取一下

43:48.910 --> 43:50.030
coust value

43:50.590 --> 43:51.470
等于

43:51.470 --> 43:52.430
get cookie

43:54.830 --> 43:56.110
啊然后我们要 session

43:56.110 --> 43:57.470
se sse

43:58.430 --> 43:59.630
啊

43:59.630 --> 44:00.350
然后

44:00.350 --> 44:01.070
判断一下

44:01.070 --> 44:01.950
如果有 value

44:01.950 --> 44:03.230
如果有 session 这个值

44:03.230 --> 44:03.870
ok

44:03.870 --> 44:05.470
那就代表它是登录的

44:05.470 --> 44:07.150
啊那 coust 的 user

44:07.150 --> 44:07.870
等于什么呢

44:07.870 --> 44:09.310
等于get cookie

44:09.310 --> 44:09.870
有

44:14.030 --> 44:15.150
哎get cookie

44:18.450 --> 44:18.930
user

44:19.890 --> 44:20.210
啊

44:20.850 --> 44:22.450
我们这边返回的

44:22.450 --> 44:24.050
我们这边返回的是 user吧

44:25.650 --> 44:26.530
啊 user name

44:29.980 --> 44:30.380
嗯

44:31.020 --> 44:32.540
然后在这里面干嘛呢

44:32.540 --> 44:33.500
commit

44:36.800 --> 44:38.000
啊 set user

44:39.680 --> 44:40.160
什么呢

44:40.160 --> 44:41.040
是这个 user

44:42.720 --> 44:43.840
啊然后 commit

44:44.960 --> 44:45.920
啊 set

44:46.720 --> 44:47.200
login

44:49.120 --> 44:49.840
处对吧

44:49.840 --> 44:50.800
已经登录

44:50.800 --> 44:51.680
啊已经登录了

44:52.640 --> 44:53.520
ok那这个呢

44:53.520 --> 44:54.800
是刚上来的时候

44:54.800 --> 44:55.760
我们需要判断

44:55.760 --> 44:56.400
它是不是登录

44:56.400 --> 44:57.360
把这个数据

44:57.360 --> 44:59.280
在幅度端的时候就搞好

44:59.280 --> 45:00.240
那就搞好

45:00.240 --> 45:01.600
那这这搞完之后啊

45:01.600 --> 45:02.800
对咱们整个页面

45:02.800 --> 45:03.760
它的一个顺序是

45:03.760 --> 45:05.040
执行顺序没有任何影响

45:05.040 --> 45:05.840
目前来说

45:05.920 --> 45:06.480
只能说

45:06.480 --> 45:07.520
我们能拿到它

45:08.000 --> 45:08.800
啊哎

45:08.800 --> 45:09.840
刚刚那出错了

45:11.520 --> 45:12.960
啊 set user

45:18.430 --> 45:19.390
你看执行的对吧

45:19.390 --> 45:19.950
都找不到

45:20.430 --> 45:21.390
啊没问题

45:22.510 --> 45:23.070
那接下来

45:23.070 --> 45:24.270
那你就像我们现在

45:24.270 --> 45:24.670
干嘛呢

45:24.670 --> 45:25.790
它其实是有 cookie 的

45:26.590 --> 45:26.910
对吧

45:26.910 --> 45:28.510
有 cookie 有 cookie 并也能拿到

45:28.510 --> 45:30.510
说明它是已经登录的一个状态

45:30.510 --> 45:32.270
那已经登录的一个状态了

45:32.270 --> 45:32.830
干嘛呢

45:32.830 --> 45:36.270
我们需要在登录和建权业

45:36.270 --> 45:38.110
都需要做一个全面判定

45:38.190 --> 45:40.510
如果你当前已经登录了

45:40.510 --> 45:41.070
对吧

45:41.070 --> 45:42.670
哎如果当前你已经登录的话

45:42.670 --> 45:44.910
那你就不能进到什么登录页面来

45:45.550 --> 45:45.950
对吧

45:45.950 --> 45:47.070
就不能进行

45:47.070 --> 45:48.190
就不能进行

45:48.190 --> 45:50.110
不能进到登录页面当中来

45:50.110 --> 45:51.070
那所以说在这

45:51.070 --> 45:52.190
啊在搞个研究

45:52.190 --> 45:52.910
搞叫什么呢

45:52.910 --> 45:53.550
叫 logic

45:54.350 --> 45:54.990
点 js

45:56.270 --> 45:57.310
啊干嘛呢

45:57.950 --> 45:59.950
导出 export default

46:00.430 --> 46:01.310
导出一个函数

46:03.150 --> 46:04.750
同样这里面还是

46:04.750 --> 46:06.430
就是那个对象 context

46:07.150 --> 46:07.790
redirect

46:10.770 --> 46:12.530
re dir ect

46:12.530 --> 46:13.090
OK

46:13.090 --> 46:13.650
干嘛呢

46:13.650 --> 46:14.530
我们判断一下

46:14.530 --> 46:17.410
如果 store 下面的 state

46:17.410 --> 46:19.490
下面的 user 有东西

46:20.050 --> 46:21.490
那说明你已经登录过了

46:21.490 --> 46:21.890
对吧

46:21.890 --> 46:24.610
redirect 让你调到手页

46:24.610 --> 46:25.490
后面

46:25.490 --> 46:26.050
好吧

46:26.050 --> 46:27.010
让你调到后面

46:28.050 --> 46:30.130
啊那这个这个这个中间键在哪儿用

46:30.130 --> 46:32.210
是不是在我们的这个 login 里面用

46:32.210 --> 46:32.770
对吧

46:32.770 --> 46:33.730
哎那在这

46:33.730 --> 46:34.290
干嘛呢

46:34.290 --> 46:37.090
搞一个 mi dd le modeware

46:38.610 --> 46:39.170
啊 logic

46:40.050 --> 46:40.770
也就是说

46:41.650 --> 46:42.530
这个页面

46:42.530 --> 46:43.730
在执行之前

46:43.730 --> 46:45.090
需要执行一下中间键

46:45.650 --> 46:46.530
啊来

46:46.530 --> 46:47.730
那这会来看一下啊

46:47.730 --> 46:48.050
你看

46:48.690 --> 46:51.170
你这会如果你访问的是login的话

46:51.890 --> 46:53.570
是不是他还会给我们调到 home

46:53.570 --> 46:53.970
对吧

46:53.970 --> 46:55.410
因为他已经登录了嘛

46:55.410 --> 46:55.730
对吧

46:55.730 --> 46:56.930
他已经登录了

46:56.930 --> 46:57.250
OK

46:57.250 --> 46:58.050
这是一个问题

46:58.050 --> 46:58.770
啊这一个问题

46:58.770 --> 47:00.290
那咱把它干掉啊刷新

47:01.570 --> 47:02.370
哎登录

47:02.370 --> 47:03.490
哎登录

47:03.490 --> 47:04.450
关于对吧

47:04.450 --> 47:06.130
那当你进关于页面

47:06.130 --> 47:07.090
它是一个键点页面

47:07.090 --> 47:07.890
如果你不登录

47:07.890 --> 47:09.010
你进不到

47:09.090 --> 47:11.010
我们的这个关于页面对吧

47:11.010 --> 47:13.010
那所以说咱们还需要搞一个中间键

47:13.010 --> 47:13.970
那你看这个中间键

47:13.970 --> 47:15.730
其实他作用挺多的啊

47:15.730 --> 47:17.890
他可以做路由守卫对吧

47:17.890 --> 47:19.250
哎可以可以做其他的

47:19.730 --> 47:20.850
咱这做一个键权

47:22.050 --> 47:24.130
就是看判断他啊什么呢

47:24.130 --> 47:25.330
这个当前

47:26.050 --> 47:28.450
是从哪个路径跳过来的对吧

47:28.450 --> 47:29.090
哎我们要知道

47:29.090 --> 47:30.770
你是从哪个路径跳过来的

47:30.770 --> 47:31.170
并且

47:32.290 --> 47:33.970
这个这个这个判断一下

47:33.970 --> 47:35.810
你当前啊试过登录

47:36.370 --> 47:37.810
要登能登录才能访问

47:37.810 --> 47:38.770
不能登录防不了

47:39.010 --> 47:39.490
对吧

47:39.490 --> 47:40.130
哎同样

47:40.130 --> 47:40.850
export

47:42.850 --> 47:43.570
哎default

47:44.290 --> 47:45.090
这个function

47:47.010 --> 47:47.330
呃

47:48.370 --> 47:48.850
store

47:49.890 --> 47:50.370
st

47:51.010 --> 47:51.650
ore

47:51.650 --> 47:52.210
store

47:52.210 --> 47:52.930
redirect

47:52.930 --> 47:53.250
re

47:53.250 --> 47:53.650
di

47:53.650 --> 47:53.810
re

47:53.810 --> 47:54.290
ct

47:54.850 --> 47:55.730
然后还有一个

47:55.730 --> 47:56.210
router

47:57.650 --> 47:58.210
啊router啊

47:58.210 --> 47:59.010
这没有router啊

47:59.010 --> 47:59.730
是router

47:59.730 --> 48:01.170
如果你想访问router的话

48:01.170 --> 48:02.210
那应该是

48:02.210 --> 48:03.090
上面有个app

48:03.090 --> 48:03.410
点

48:04.130 --> 48:04.770
dollarouter

48:04.770 --> 48:05.730
我记得是

48:05.730 --> 48:07.010
同他访问啊

48:07.010 --> 48:07.410
OK

48:07.410 --> 48:07.890
那干嘛呢

48:07.890 --> 48:08.450
判断一下

48:09.330 --> 48:10.370
如果什么

48:10.370 --> 48:12.050
如果没有store

48:13.650 --> 48:15.170
store.state

48:15.170 --> 48:16.210
.user

48:17.570 --> 48:18.370
如果没有他

48:18.370 --> 48:18.850
怎么着

48:19.490 --> 48:20.850
啊没有他的话

48:20.850 --> 48:21.570
redirect

48:23.090 --> 48:24.690
啊这个这个pass

48:28.610 --> 48:29.090
login

48:30.290 --> 48:30.690
对吧

48:31.650 --> 48:32.690
然后这个这个

48:32.690 --> 48:34.050
我们再给的一个参数

48:34.050 --> 48:34.850
你从哪来的

48:34.850 --> 48:35.730
parry

48:35.730 --> 48:36.370
url

48:37.090 --> 48:38.370
这个这个root

48:38.850 --> 48:39.890
router.pass

48:41.250 --> 48:41.650
诶

48:42.130 --> 48:42.850
格式划一下

48:43.490 --> 48:43.970
啊

48:45.250 --> 48:46.450
如果你没有

48:46.450 --> 48:48.210
这个这个灯路的话

48:48.210 --> 48:49.650
你就跳到灯路一样去

48:49.650 --> 48:51.730
那是不是哪个页面需要键权

48:51.730 --> 48:52.450
哪个页面

48:52.450 --> 48:54.290
执行这个中间键就可以了对吧

48:54.290 --> 48:56.130
那是不是把他放到咱们的这个

48:56.130 --> 48:57.330
哎这个这个

48:57.330 --> 48:58.930
boud这个页面里来就行了

48:58.930 --> 48:59.410
对吧

48:59.410 --> 49:00.370
这执行一个

49:01.010 --> 49:02.050
mydb

49:02.050 --> 49:02.770
modelware

49:05.170 --> 49:05.810
啊什么呢

49:06.450 --> 49:07.170
auth

49:08.530 --> 49:09.010
嗯

49:12.100 --> 49:12.500
对吧

49:12.500 --> 49:13.780
这个页面需要键权

49:13.780 --> 49:14.260
啊

49:15.060 --> 49:15.540
ok

49:17.140 --> 49:17.860
ep

49:18.500 --> 49:19.140
嗯

49:19.140 --> 49:20.180
有灯路对吧

49:20.180 --> 49:21.780
那你看假如说这个时候首页

49:22.340 --> 49:23.220
关于

49:23.220 --> 49:24.740
诶是不是当我们点关于的时候

49:24.740 --> 49:26.580
他是从我报头来的

49:26.580 --> 49:27.220
对吧

49:27.220 --> 49:28.740
那灯路成功之后

49:28.740 --> 49:30.660
是不是你从哪来回哪去

49:30.660 --> 49:31.540
或者说没有的话

49:31.540 --> 49:32.740
默认让你跳到

49:32.740 --> 49:34.500
啊这个这个这个主页

49:34.500 --> 49:34.980
是吧

49:34.980 --> 49:36.020
那所以说在这啊

49:36.020 --> 49:37.140
就是灯路成功之后

49:37.140 --> 49:38.820
还得做点小事情

49:38.820 --> 49:39.300
啊

49:40.740 --> 49:41.380
干嘛呢

49:41.380 --> 49:41.940
诶

49:42.020 --> 49:43.780
constUrl

49:43.780 --> 49:44.660
等于什么呢

49:44.660 --> 49:50.900
this.dollarroot.query.url

49:51.860 --> 49:52.420
或者

49:52.420 --> 49:53.220
啊什么呢

49:53.220 --> 49:54.420
这个home

49:56.180 --> 49:56.980
可以吧

49:56.980 --> 49:58.740
然后在这里面干嘛呢

49:58.740 --> 49:59.380
完事之后

49:59.380 --> 50:02.820
this.dollarrooter.push

50:05.300 --> 50:06.020
url

50:07.380 --> 50:08.020
是吧

50:08.020 --> 50:08.420
来

50:08.420 --> 50:09.460
这样的话就差不多了

50:09.460 --> 50:10.580
咱过来看一下试试啊

50:12.900 --> 50:13.700
ruta

50:14.580 --> 50:15.780
123456

50:16.420 --> 50:16.900
灯路

50:17.780 --> 50:18.580
诶

50:18.580 --> 50:19.460
123123

50:20.180 --> 50:20.580
对吧

50:20.580 --> 50:21.780
跳到关于页面

50:21.780 --> 50:23.380
啊那如果你从首页

50:23.380 --> 50:23.700
啊对吧

50:23.700 --> 50:24.420
咱把它删掉

50:25.220 --> 50:25.780
刷新

50:26.820 --> 50:27.860
如果你正常灯

50:28.420 --> 50:29.220
你正常灯路

50:29.940 --> 50:30.740
啊什么

50:30.740 --> 50:31.220
ruta

50:32.020 --> 50:32.420
123

50:34.020 --> 50:34.900
123123

50:36.340 --> 50:36.740
对吧

50:36.740 --> 50:37.300
诶

50:37.300 --> 50:37.940
一样的

50:37.940 --> 50:39.060
啊一样的

50:39.060 --> 50:40.020
那这里面呢

50:40.020 --> 50:40.420
你看

50:40.900 --> 50:41.220
丁老师

50:41.220 --> 50:42.260
今天东西有点多啊

50:43.060 --> 50:44.820
那这个其实也没啥啊

50:44.820 --> 50:46.420
都是咱们之前许过的一个

50:46.420 --> 50:47.140
健全操作

50:47.140 --> 50:48.100
只不过在这呢

50:48.100 --> 50:48.900
利用vuex

50:48.900 --> 50:50.180
给大家演示了一下

50:50.180 --> 50:51.140
包括说里面的

50:51.140 --> 50:51.700
零跨域啊

50:51.700 --> 50:52.500
路过配置

50:52.500 --> 50:53.700
啊咱们这个服务器

50:53.700 --> 50:54.500
简单写了一个

50:55.460 --> 50:56.180
啊

50:56.180 --> 50:57.300
包括说这里中间键

50:57.300 --> 50:57.700
你看啊

50:57.700 --> 50:58.820
中间键干嘛呢

50:58.820 --> 50:59.860
其实它可以

50:59.860 --> 51:01.700
它可以在我们组建当中用

51:01.700 --> 51:02.420
可以用

51:02.420 --> 51:03.780
可以在咱们组建当中用

51:03.780 --> 51:04.100
对吧

51:04.100 --> 51:05.140
你看这个 about

51:05.860 --> 51:06.740
利用了一个健全

51:07.300 --> 51:07.700
功能

51:07.700 --> 51:08.900
然后灯路

51:08.900 --> 51:10.020
是不是也有一个

51:10.100 --> 51:10.420
对吧

51:10.420 --> 51:12.100
可以在我们的组建当中用

51:12.100 --> 51:12.580
啊

51:12.580 --> 51:13.860
这个配置集组建

51:13.860 --> 51:14.820
当然它也可以在我们

51:14.820 --> 51:15.700
layout里面用

51:16.420 --> 51:16.660
啊

51:16.660 --> 51:18.260
就是每次进入这个页面之前

51:18.260 --> 51:19.540
都会执行一个函数

51:19.540 --> 51:19.780
啊

51:19.780 --> 51:20.820
那这个modeware

51:20.820 --> 51:21.540
然后同时

51:21.540 --> 51:22.340
它干嘛呢

51:22.340 --> 51:23.780
可以给我们的路由使用

51:23.780 --> 51:24.820
给我们路由使用的话

51:24.820 --> 51:25.460
就得next

51:25.460 --> 51:26.420
or configure js

51:26.420 --> 51:27.140
你看啊

51:27.140 --> 51:28.420
它是很重要的

51:28.420 --> 51:29.540
那这个配置文件

51:29.540 --> 51:30.660
就是你做很多事

51:30.660 --> 51:32.340
都离不开它

51:32.340 --> 51:33.780
那都需要ware它去做

51:34.820 --> 51:35.380
那这个呢

51:35.380 --> 51:36.980
就是咱们的一个

51:37.540 --> 51:38.420
中间键

51:38.420 --> 51:39.700
啊咱们的一个插件

51:39.700 --> 51:41.940
插件在这做了一个拦戒器是吧

51:41.940 --> 51:42.740
哎

51:42.740 --> 51:43.780
包括咱们的路由

51:43.780 --> 51:44.820
路由的话两种

51:44.820 --> 51:45.300
啊

51:45.940 --> 51:47.300
一个是咱们这种

51:47.300 --> 51:48.020
什么路由

51:48.580 --> 51:49.300
STAR

51:49.300 --> 51:50.420
这个这个vuex

51:50.420 --> 51:51.860
一个是咱们这种全局的

51:51.860 --> 51:52.660
另外一种是

51:52.660 --> 51:53.140
啊

51:53.140 --> 51:55.620
这个modeus这样的一个STAR

51:55.620 --> 51:56.020
啊

51:56.820 --> 51:58.180
但用法跟之前一样

51:58.180 --> 51:59.860
只不过在这里面又多了一个

51:59.860 --> 52:00.660
新的函数

52:00.660 --> 52:02.100
叫next server init

52:02.100 --> 52:04.740
这就是这个这个ssr

52:04.740 --> 52:06.020
生分周期的第一步

52:06.020 --> 52:06.420
啊

52:06.420 --> 52:07.300
第一步

52:07.300 --> 52:07.700
OK

52:07.700 --> 52:08.580
那到这啊

52:08.580 --> 52:10.100
咱们关于vuex

52:10.100 --> 52:11.300
这样的一个健全的小例子

52:11.300 --> 52:12.020
就讲完了

52:12.020 --> 52:12.100
啊

52:12.100 --> 52:13.300
同学们回去好好练一下

