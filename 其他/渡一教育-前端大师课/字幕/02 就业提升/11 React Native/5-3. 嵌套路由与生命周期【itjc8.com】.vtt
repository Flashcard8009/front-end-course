WEBVTT

00:00.370 --> 00:06.370
OK 欢迎回来 这期课咱们继续还是看这个react

00:06.370 --> 00:12.370
liberation 这边的话是这边对应的这个文档的这两小期

00:12.370 --> 00:19.370
我们前面的话已经把这个passing这个parameters to这个route 就是那个路由传参

00:19.370 --> 00:25.370
还有什么呢 还有就是configuring the header bar 就是配置那个标题的信息

00:25.370 --> 00:32.370
包括这个 包括这个header buttons 就是那个标题上面我如何搞一个按钮 是吧

00:32.370 --> 00:40.370
其实就是返回一段这个GSX 其实把这三小节已经这个把他快速的这个过了一遍

00:40.370 --> 00:47.370
然后这些课的话我们把这两个 一个是listing levergaters 就是嵌套的路由

00:47.370 --> 00:55.370
还有一个的话就是liberation 然后这个life circle 就是他的一个生命周期

00:55.370 --> 01:02.370
好吧 那我们这边我们来看一下啊 首先第一个是嵌套路由 那嵌套路由的话这个也是

01:02.370 --> 01:11.370
咱们在开发中相当常见的一个这个需求 对吧 你想想你之前学这个vue的时候

01:11.370 --> 01:18.370
啊 你无论就是那个无论是vue router 还是那个react router 里面是不是都提供了这个嵌套路由

01:19.370 --> 01:26.370
对吧啊 所以这个嵌套路由的话他的这个重要性我就不说了啊 我们主要就看一下在这个react navigation里面

01:26.370 --> 01:36.370
啊 如何设置这个嵌套路由啊 我们这边呢 你看他这边官方给了一个势力啊 假设我这边的话有不同的这个table

01:36.370 --> 01:44.370
啊 不同的table啊 这个table下面这个table下面的话这边的话对应的啊 有这个一个废的一个message

01:44.370 --> 01:52.370
好 然后接下来的话这下面这下面的话 然后这个这边又对应了三个

01:52.370 --> 02:02.810
一个是home 一个是prof这个file 一个是settings啊 这个什么意思呢啊 就是你这边你这个这个是不是home

02:02.810 --> 02:08.810
这个是不是home 是不是home这一瓶 对不对 我默认的话我这边有三瓶home啊 然后接下来这边profile

02:08.810 --> 02:15.810
那一个setting 然后home下面啊 home对应了是不是这个home这个主键 home下面这边的话又对应了

02:15.810 --> 02:24.810
啊 这个两个table啊 一个废的一个messages 看到没有 那这边的话就是会涉及到一个路由的这个嵌套啊

02:24.810 --> 02:31.810
啊 来我们这边的话我们来看一下啊 我这边这边把这个结构写出来了 这边看到没有 这边呢 首先是这个home

02:31.810 --> 02:40.810
home下面的话对应的又有这两瓶 ok 然后home和这个profilesetting 这三个是同级的 那在home下面

02:41.810 --> 02:51.810
home下面的话又有一个废的和这个message 是啊 这边是不是就是路由的嵌套 ok 然后我们来看一个常见的例子啊 这个也是他官方给的这个例子

02:51.810 --> 02:59.810
那这边的话我们要用到这个table 要用到table的话 你这边的话需要把这个bottom table 是你需要把这个把它装一下

02:59.810 --> 03:07.820
说我们这边的话我们把这个e 来我们把它装一下啊 把这个这个把它停掉

03:08.820 --> 03:16.820
停掉之后然后接下来这边npmoi 然后接下来这边啊 把这个e 来我们把它装一装

03:18.820 --> 03:25.820
那这边啊 装好了哈 还是比较快的 好 装好了之后然后接下来我们这边还是把它启动起来

03:28.580 --> 03:37.580
ok 啊 启动了之后然后接下来我们这边我们来看一下 我们把这个例子我们把它写一下吧 这个例子的话整体来讲的话就是首先有一个这个

03:38.580 --> 03:45.580
不一样的这个table 一个是first 一个是second啊 然后first下面的话对应的就是有这个

03:46.580 --> 03:55.580
一个是setting 一个是profile啊 然后接下这个second下面是有这个home有details ok来我们把这个例子我们把它写一下

03:56.580 --> 03:57.780
好 回到我们这边

03:58.980 --> 04:06.980
回到我们这边 那这边的话我们现在的话这个views下面我们现在已经有两瓶了 对吧 这个details green和这个home screen

04:07.580 --> 04:14.180
那我们这边的话把这个setting和profile把这两瓶我们把它创建起来啊 一个是setting

04:15.580 --> 04:26.740
setting screen啊 然后点接手啊 把这个拉过来点 好 然后接下这边还有一个什么呢 还有一个这个profile

04:28.540 --> 04:29.940
profilescreen

04:31.300 --> 04:39.260
也接下来 ok 好 然后接下来这个settingsetting的话我们这边让我们先简单写一下吧 这边的话就是

04:40.820 --> 04:46.940
import 我们就引入一个view 引入一个style sheet

04:48.780 --> 04:50.540
啊 然后接下来再来一个text

04:52.140 --> 04:55.540
啊 就简单引入这几个组件就可以了 然后react

04:56.540 --> 05:01.940
lative 好 然后接下来这边的话把这个样式啊 之前那个home screen的样式

05:03.460 --> 05:11.540
把这个样式把拿过来啊 拿过来之后 然后接下来这边的话就是export

05:12.580 --> 05:16.580
default 然后function 然后setting

05:17.740 --> 05:24.280
对吧 setting screen ok 好 里面然后返回一段ges差

05:25.280 --> 05:33.960
那这边呢就是view 然后最外层style 等于一个style是点container

05:34.640 --> 05:44.080
好 然后里面然后写一个text 啊按钮那些我们就先不给了啊 一会要用的时候再给啊 这边text 啊 这是

05:46.120 --> 05:48.400
这是setting

05:49.400 --> 05:55.880
页面 ok 这是这个setting 快速的把写一下啊 然后复制一份到这个pro

05:56.760 --> 05:59.400
这个profile screen 然后把这儿改一下就可以了

06:00.680 --> 06:05.760
这边是profile screen 对吧

06:06.600 --> 06:14.680
好 然后就这边这是profile screen 这个页面好 搞定 搞定了之后 然后接下来回到你的这个app 这边

06:15.360 --> 06:23.160
啊 回到app 这边 这边的话我们之前是什么 我们这之前的话 是不是这边的话是创建了一个这个lative stank

06:23.280 --> 06:30.720
livergator 对吧 这是一个赞导好气 这个赞导好气 好的 现在的话 我们这边的话 我们就要把那个

06:31.120 --> 06:34.520
就刚上我们装的那个table那个 我们把它引进来

06:35.360 --> 06:43.220
import 这边from 啊 这边的话 嗯 就这个

06:44.220 --> 06:50.020
啊 就这个 把他引进来 这个就是什么了 这个就是做那个下方table的啊 就就是这个东西

06:51.460 --> 06:51.860
就是

06:52.940 --> 06:54.620
把这个新标签中打开

06:57.700 --> 07:02.100
啊 就我们之前学的是不是stank 是这种 对不对 然后这个这个就是做这个table的

07:03.020 --> 07:09.340
看到没有 做table的啊 好 把他引进来 引进来之后 然后接下来的话 我们这边

07:10.220 --> 07:13.140
嗯 这边是一样的 这边的话 你首先这边const

07:14.140 --> 07:23.420
const 一个table等于一个 我们这边 这边还没引入 这边呢 你是他也是一个方法 叫做这个crate

07:25.020 --> 07:27.660
叫做这个crate 然后bottom

07:29.780 --> 07:31.220
bottom 然后这个

07:32.740 --> 07:33.860
table levergator

07:35.500 --> 07:39.180
也是一个方法 好 然后接下来的话 我们这边调用这个方法

07:39.900 --> 07:44.220
好 调用这个方法 这个就是创建一个什么的 创建一个标签页

07:45.620 --> 07:49.380
创建一个标签页

07:50.580 --> 07:51.140
啊 导航

07:52.820 --> 08:00.860
怎么样 创建一个标签页导航 好 然后接下来回头在你这边 你这边的话 我们之前的话 这边 你看我们这边

08:01.380 --> 08:08.100
nevergating navigation container 这个是这个最外层的容器 对吧 ok 然后里面是什么

08:08.500 --> 08:13.820
里面是不是stank 点nevergator 对不对 stank 是来自于这里

08:16.180 --> 08:20.620
好 那么我现在 我现在的话 这边的话 最外层的话 就不再是这个stank

08:21.340 --> 08:23.780
nevergator 而是什么 而是这个table

08:24.580 --> 08:32.180
啊table 点nevergator ok 那我就把这个 我就删了啊 这个反正上几课 这个代码也给了大家的

08:33.260 --> 08:33.860
好 这边

08:35.300 --> 08:36.660
那这边的话 就是这个table

08:37.620 --> 08:39.780
ok 这边呢 就是应该是table

08:40.500 --> 08:41.220
nevergator

08:42.620 --> 08:50.500
nevergator ok 好 这个这个table里面 table里面的话 然后接下来这边对应的就是什么 对应的就是table screen

08:51.620 --> 08:52.660
啊table screen

08:53.740 --> 08:55.340
table 点screen

08:57.380 --> 09:03.420
ok 那我们这边呢 我们就做两个标签页 那这边就是写两个和那个stank

09:04.100 --> 09:08.620
是不是stank screen 是不是很相似 对不对 但是你放心 我们一会会把这个stank

09:09.100 --> 09:15.940
我们会把这个stank 嵌入到这里面的 嵌入到这个标签页里面 好 那我们这边的话 其实就是两个标签页

09:16.380 --> 09:20.860
就有了 好 那接下来的话 这边的话 写一下 首先这边这个name

09:22.460 --> 09:24.460
那个这个的话 比如说这个叫做first

09:26.140 --> 09:27.500
啊 这个的话叫做second

09:28.340 --> 09:30.420
name 等于一个second

09:32.970 --> 09:36.090
ok 好 来 我们这边 我们来看一下啊 我们这边保存

09:38.550 --> 09:45.180
保存了之后 然后既然我这边我首先我刷新一下 这边等下重新编印一下

09:46.700 --> 09:54.980
我看下这里会不会爆错 这边编意完成了 完成了这边爆错了 can the fan的

09:56.340 --> 10:02.340
啊 这边是点啊 table 点nevergator 好 然后叫这边再来 保存

10:03.300 --> 10:08.740
保存了之后 我看下这边会不会爆错 这边couldn't find the comp

10:08.980 --> 10:14.180
component 这边的话 这里面我们还没写完 他这边现在的话他编意是不通过的

10:14.660 --> 10:23.800
好 那我们那我们这边继续吧 继续 好 然后在这里面 在这个table screen里面 这个的话就是第一个标签页

10:24.200 --> 10:30.520
这个就是第二个标签页 那这个标签页里面 然后既然我欠套什么呢 我欠套这个赞导行气

10:31.320 --> 10:38.760
可不可以啊 我欠套这个赞导行气 那我这边的话就是一个 然后这边的话就是创建两个啊 一个的话是这个setting

10:40.440 --> 10:47.880
setting stank 一个是这个home stank 啊 把这顺序调一下吧 上面是home 下面是这个setting

10:48.360 --> 10:54.200
ok 好 那接下来在这边 在这边的话就是这个啊 外面就是home

10:55.000 --> 10:58.040
home 然后这个stank

11:01.190 --> 11:05.670
home stank 好 然后接下来吧 这边点never getter

11:08.260 --> 11:11.540
never levy getter 啊这getter写对秒

11:12.340 --> 11:13.140
never getter

11:14.180 --> 11:16.020
nevy getter

11:17.060 --> 11:22.900
ok 看到没有 那这边的话是不是就和我们之前的那个stank的写法就是一样的了 那这个

11:23.460 --> 11:29.220
home stank 点never getter 然后里面就应该是什么 里面的话是不是就是你对应的这个第几评啊

11:30.100 --> 11:32.420
对不对 那里面的话就是这个home stank

11:33.620 --> 11:34.980
home stank

11:38.040 --> 11:41.160
home stank 然后接下来点这个screen

11:42.840 --> 11:48.280
对吧啊 然后加这边内幕 内幕的话等于一个这个home screen

11:49.720 --> 11:51.560
好 然后加这边的这个component

11:52.520 --> 11:56.920
等于一个什么 等于一个你这边的话这个home screen

11:58.440 --> 12:00.280
看到没有啊 这边呢 它是

12:01.240 --> 12:02.680
啊 这边敲了一个这个

12:03.720 --> 12:04.520
这边它是

12:05.720 --> 12:07.320
第二个 ok

12:09.080 --> 12:14.680
ok 你看这边 是不是就是我在第一个标签页 这个是第一个标签页 然后写下注写哈

12:15.080 --> 12:17.960
这个是第一个标签页

12:18.600 --> 12:21.640
好 然后这边的话是第二个标签页

12:23.000 --> 12:29.720
第二个标签页 ok 然后我在第一个标签页里面 然后这样我就嵌透了一个什么

12:29.720 --> 12:35.560
所以嵌透了一个赞导航器 对不对 然后赞导航器里面 然后配置我的第一瓶

12:36.040 --> 12:41.160
第二瓶啊 我把第二瓶写上哈 这边内幕等于一个detail

12:43.340 --> 12:44.620
detail screen

12:45.420 --> 12:49.020
好 然后对应了这个component 等于detail screen

12:49.900 --> 12:55.500
对不对 好 那接下来这边的话也是一样的 这边你就把刚才那两个你把它引进来

12:56.220 --> 13:00.780
刚才的话 这边是有一个什么来着 一个是setting 是吧

13:01.980 --> 13:08.280
setting screen 好 然后加这边的话setting screen

13:09.720 --> 13:12.600
好 然后还有一个是什么 还有一个是这个profile

13:13.480 --> 13:13.880
screen

13:15.080 --> 13:18.120
对吧 好 然后加这边对应profile screen

13:18.680 --> 13:25.000
好 那就在这边 在这边的话 你把这边直接把它复制过来 也是里面嵌透一个

13:26.280 --> 13:26.760
里面

13:28.360 --> 13:33.240
里面嵌透一个赞导航器

13:34.120 --> 13:38.760
啊 这个赞导航器就是对应了我这个标签页里面的 是不是一个赞

13:39.320 --> 13:43.480
对不对 好 这边这边的话也是一样的 这边的话就是里面

13:44.440 --> 13:49.480
里面嵌透一个赞导航器

13:50.280 --> 13:55.590
ok 好 那你这边的话 就把这部分 你把它复制过来

13:56.390 --> 14:01.030
复制过来 只不过有些地方 你要改一下 这边的话就是应该是这个setting stack

14:01.030 --> 14:05.750
就是它的赞是不一样的 对不对 这个标签页有它里面有一个赞

14:05.750 --> 14:11.750
这个标签页里面它有一个赞 啊 这边它就是这个刚才我们创建的这个setting stack

14:13.510 --> 14:14.790
setting stack

14:16.470 --> 14:18.470
setting stack

14:19.430 --> 14:24.550
ok 好 人家这边这边的这个主键 主键的话是不是就是这边setting screen

14:26.920 --> 14:30.920
setting screen啊 以及这边profile screen

14:33.860 --> 14:38.820
profile screen ok 好 那我们这边的整个这个嵌套这个就写完了

14:39.300 --> 14:41.620
好 写完了之后 然后这样我们这边我们保存一下

14:42.420 --> 14:47.140
看一下有没有错啊 这边没有错啊 没有错 我们这边我们看一下啊 保错了

14:47.700 --> 14:52.420
这边的话 got an invited value for this child pop

14:52.420 --> 14:53.780
这个pop

14:54.980 --> 14:59.940
for the screen it must function 哦 它这边

15:00.500 --> 15:04.340
看到没有 it must be a function 然后returning

15:05.060 --> 15:10.260
这个reactor element啊 包括它这个官方给的势力 你看官方给的势力是不是都是

15:10.260 --> 15:13.460
一个函数 然后这个函数是不是返回这一块

15:14.180 --> 15:16.660
对不对 这边是一个函数 函数返回这一块

15:17.140 --> 15:20.980
ok 那这个的话也很简单 对吧 那这边呢 我们就把它

15:21.460 --> 15:27.140
我们就不要直接写这个gst啊 我们写什么呢 我们这边的话就是写一个函数

15:28.740 --> 15:32.980
对吧 那整个函数还返回这一段gst啊

15:34.260 --> 15:37.540
有问题不可怕 你这边就是一点一点调就可以了

15:38.340 --> 15:41.620
面吧 就是一定要去学会去看它这个错误

15:42.420 --> 15:45.860
知道吧 一定要学会去看啊 不要害怕错误

15:46.820 --> 15:51.700
好 然后接下来我们这边继续啊 看有没有错啊 有错我们就继续再来调

15:52.500 --> 16:03.140
保存啊 啊 出来了啊 这边出来了啊 哦 这边没投屏啊 这边投屏给大家看一下

16:05.180 --> 16:16.120
稍等啊 嗯 这边投屏 ok

16:17.320 --> 16:23.800
啊 这边走 你看这边是不是已经出来了啊 下面的话这边一个first

16:24.040 --> 16:28.680
一个second ok 好 然后接下来这边这边呢是应该是属于什么

16:29.160 --> 16:33.080
是不是属于我这边这个home本身设置了这个标题了

16:34.280 --> 16:38.440
对不对 我们这边我们来切换一下这个second 哎second怎么爆错了

16:39.960 --> 16:45.400
这边看一下 这边呢是static container nothing was returned from renderer

16:46.200 --> 16:48.920
this usually means return statement is missing

16:49.880 --> 16:53.240
啊 或者没有 那这边呢是这个

16:54.760 --> 16:59.800
主键有问题吗 我们看一下 这边呢这个setting screen

17:01.240 --> 17:05.080
setting screen这个应该是没问题的吧 这个是两个屏幕

17:07.260 --> 17:10.140
啊 这两屏 两屏之后然后加这边引入

17:10.860 --> 17:18.620
引入之后然后接下来的话这边setting screen profile screen

17:20.730 --> 17:24.010
呃 这边应该是对的呀啊 稍等啊 我看一下

17:26.090 --> 17:32.890
啊 这边的话看一下这边一个函数返回一段接下对吧

17:33.530 --> 17:35.850
啊 一个还是哦 这这边呢是不忘记加括号了

17:36.570 --> 17:42.250
对吧 对吧 你把括号加上 不然他会认为你那个就就这边啊 这边的话他会认为是

17:43.210 --> 17:49.210
呃 那个就是函数体啊 我们这边的话是应该是这里啊 把这个取掉

17:51.830 --> 17:56.710
是不是这样子的 对吧 应该是这样子啊 好 然后接下来我们这边的话

17:59.910 --> 18:05.590
sorry sorry 啊 电话突然想啊 我这边把声音关一下

18:07.030 --> 18:08.950
啊 然后我们这边让我们全部保存

18:10.310 --> 18:16.310
保存之后 然后将我们这边我们再来看一下啊 这边让这个是first 然后我点这个second

18:17.030 --> 18:24.150
这边是不是过来了 对不对 这是setting也面啊 这边是first 然后first里面在这边呢 是不是有一个这种跳转

18:25.270 --> 18:32.630
对吧 啊 这边呢 有一个这个跳转啊 这个的话就是在first里面 是不是有一个独立的这个站岛行气

18:33.430 --> 18:38.630
对吧 然后接下来在这个sec的里面 sec的里面是不是也有一个独立的站岛行气啊

18:39.350 --> 18:42.550
ok 而现在的话 这边这边有个问题就是什么呢

18:43.270 --> 18:48.550
他把这个啊 就是我们这边不是这个第一个标签页叫first 第二个叫做second

18:49.110 --> 18:54.630
啊 他这边的话first second啊 这边倒是有 对吧 但是这边的话是不是也显示了

18:55.350 --> 19:02.310
啊 这个比较烦啊 这个怎么做呢 他这边的话就是你看他这里 这里的话你在这个table

19:03.030 --> 19:06.710
navigator 这边 你可以设置一个这个screen options

19:07.830 --> 19:16.390
那其实就和刚才的那个就是站岛行气是一样的啊 也有这个screen options 好 这边呢 设置这个header shoe 是force就可以了

19:16.950 --> 19:18.310
然后把这个我们把设置一下

19:19.670 --> 19:21.510
好 然后到这边

19:23.960 --> 19:27.080
然后上面 对吧 然后我们这边保存一下

19:28.840 --> 19:33.000
保存了之后 然后接下来的话 这边是不是就ok了 对不对 这个是first

19:33.720 --> 19:35.320
啊 那这个是second

19:36.440 --> 19:39.080
看到没有 ok 这边可以退回到这个红

19:40.040 --> 19:48.520
ok啊 你这个setting setting 如果你这边要跳转的话 你自己下面加一个按钮啊 跳转到这个profile比我们这边加一下嘛

19:50.120 --> 19:57.720
这边的话 你要跳转跳转的话 这边就是得接受一下 是吧 接受一下这边的话 嗯 接受这个nevergation

19:58.360 --> 19:59.960
nevergation

20:00.520 --> 20:03.240
啊 大家下面下面我们搞一个这个bar这个

20:04.920 --> 20:07.400
bar turn bar turn 然后接下来这边

20:08.680 --> 20:09.160
bar turn

20:10.440 --> 20:13.960
啊 这边的话这个title等于一个

20:14.840 --> 20:17.080
这边跳转到

20:17.960 --> 20:19.400
这个profile

20:20.600 --> 20:21.960
profile

20:23.800 --> 20:29.290
啊 这边应该是一个支付串 是吧 应该是个支付串

20:32.260 --> 20:35.060
啊 跳转到这个profile页面

20:36.260 --> 20:40.260
啊 大家对应一个什么 on price 等于一个

20:41.700 --> 20:42.340
啊 这边

20:43.220 --> 20:43.700
function

20:44.900 --> 20:45.700
这边呢是

20:47.220 --> 20:49.060
price handle

20:49.860 --> 20:51.780
然后接下来在这边 这边呢什么就是

20:52.740 --> 20:53.460
nevergation

20:54.100 --> 20:55.700
点nevergate

20:56.500 --> 20:59.220
nevergate 对吧 好 然后跳转到

21:00.180 --> 21:03.780
这个profile 把这个名字把它放过去

21:05.380 --> 21:08.660
对吧 好 然后把这个时间处理函数挂在这上面

21:09.300 --> 21:12.100
格式化一下 好 然后加这边保存

21:14.020 --> 21:19.220
保存之后 然后加这边来看一下啊 你看我现在是在什么 我现在是不是在第二个标签页里面

21:20.100 --> 21:24.260
第二个标签页 然后接下来 我这个标签页是不是有自己的这个赞导行气

21:24.820 --> 21:26.740
对不对 我这边跳转到这个profile

21:27.380 --> 21:30.260
然后返回来 对不对 然后加这边这个是first

21:30.660 --> 21:32.740
first的话 是不是有first自己的这个

21:33.380 --> 21:38.180
这个赞导行气啊 对不对 两个的话这边呢是不影响的啊 这边

21:39.460 --> 21:39.780
你看

21:40.900 --> 21:43.860
两个是不是不影响 对不对 各是不影响

21:44.500 --> 21:50.260
ok 这就是关于这个嵌套的路由啊 大家可以把这个例子把它写一下啊

21:51.220 --> 21:55.700
好吧 把这个例子写一下 你这会你可以把视频暂停了吗 暂停了把这个

21:56.100 --> 21:58.900
就我们现在写的这个例子 你把它写一下

22:00.580 --> 22:06.180
啊 然后后面 后面的话就是在使用这个嵌套路由的时候

22:06.900 --> 22:14.260
啊 有一些这个注意的细节 这个的话你就自己去看这个官方文档了 它官方文档罗列了很多啊 在这边

22:15.780 --> 22:16.260
在这边

22:17.140 --> 22:22.580
看没有 就是这边 how lasting never getters affect the behaviors

22:22.900 --> 22:29.780
就他有一些什么样的这个行为啊 each never getter keeps its own never getting history

22:30.260 --> 22:36.420
啊 就每一个这个标签页 他里面的这个导行器 他有自己的这个历史记录

22:36.980 --> 22:41.220
啊 有自己的这个options 他们啊 有自己的promise

22:41.620 --> 22:46.820
啊 你就一个一个去看哈 挺多的 其实他整个这个嵌套的路由其实势力代码没多少

22:47.460 --> 22:51.220
你看这边 lasting never getters 这边是他的这个势力代码

22:52.020 --> 22:55.860
啊 这是他势力代码啊 完了之后呢 后面就全是这个注意事项了

22:56.980 --> 22:59.780
对不对啊 全是注意事项 ok

23:01.300 --> 23:05.300
啊 这边船船那些其实都是一样的啊 都是一样的

23:06.820 --> 23:13.460
啊 这是关于这个嵌套路由 那嵌套路由的话 这边有一些这个注意事项啊 或者说最佳实践

23:13.940 --> 23:18.260
这边呢 我们来看一下 首先的话你这个过生的这个嵌套成数

23:18.820 --> 23:26.980
可能导致低端设备出现内存和性能的这个问题 比如说你嵌套的这个成数啊 不要太深了

23:27.700 --> 23:35.700
好 然后这个嵌套相同类型的这个导航器可能导致混乱的这个用户体验 什么意思啊 就比如说我这边

23:36.580 --> 23:40.980
我这边现在下面是不是一个这个标签页的导航器

23:41.620 --> 23:47.700
对不对 那我这边让我点击进来 点击进来之后人家这里面又嵌套了一个这个标签页

23:48.260 --> 23:51.860
啊 标签页人家我点第一个 那又嵌套了一个标签页

23:52.820 --> 23:55.300
啊 那你这个的话是不是会很混乱

23:56.340 --> 24:01.780
对吧 然后由于这个嵌套过多啊 在这个导航道嵌套屏幕

24:02.580 --> 24:08.820
配置这个深层链接时啊 代码变得难以调适和阅读啊 总之他这边的话其实就是

24:09.300 --> 24:13.060
说了一个问题 怎么问题呢 就你不要嵌套的成熟太多

24:13.780 --> 24:18.500
啊 你这边呢 就是像一般的话 其实我们这边做开发的话 一般就像这个就够用了

24:19.300 --> 24:23.460
啊 一般就够用 一般就什么 就是一个标签页 这里面对应一个战导航

24:23.780 --> 24:29.540
那接下来另外一个标签页啊 对应一个这个战导航 一般就这个结构就已经足够用了

24:30.500 --> 24:32.020
对吧啊 ok

24:32.500 --> 24:40.500
啊 然后下面 下面的话是一个关于登录注册的嵌套路由的最佳实践势力

24:41.060 --> 24:46.980
啊 你这边你看一下啊 这边呢 首先这边是一个这个stank lever gator 啊 里面的话判断

24:47.780 --> 24:52.180
是否登录啊 如果登录了的话 这边就渲染这一块

24:53.140 --> 25:01.780
这个啊 标签页 对吧 就渲染这边啊 home profile 如果没有登录没有登录的话 这边的话就是渲染这个

25:02.420 --> 25:08.260
啊 然后三音 然后接下来三up 下面 下面的话是这个公共的啊 health

25:08.820 --> 25:15.220
invalid 啊 帮助和邀请 这个是公共的啊 然后上面这个 上面这个呢 是根据你的这个

25:15.540 --> 25:20.980
一直脑跟印状态来选择 究竟是渲染这一块 还是渲染这一块

25:22.020 --> 25:29.860
ok 啊 这是关于这个嵌套路由 大家把就刚才这个例子啊 刚才这个例子把它写写啊 这个就不要了

25:30.660 --> 25:35.380
啊 把刚才这个例子把它写一写 好吧 ok

25:36.180 --> 25:42.020
啊 然后下面 下面的话是一个生命周期啊 把这个生命周期一起讲了吧

25:43.380 --> 25:49.860
这生命周期的话 最早的话是在这个react的这个类组件中 是不是提出了一个这个概念

25:50.820 --> 25:55.620
对不对 在这个类组件里面 它有一个一个的这个生命周期勾指函数

25:56.340 --> 26:02.500
啊 那这边的话 你在做这个导航 在做跳转的时候 那这些勾指函数的话 他也是会正常工作的

26:03.140 --> 26:09.380
啊 比如说他这边取了个例子 比如现在的话 我们有屏幕a和屏幕b啊 这两个的话是赞导航

26:09.780 --> 26:17.620
让我从这个a的话可以跳转到b啊 就好比我们刚才从这个函组件可以跳转到这个detail 对吧

26:18.580 --> 26:23.380
好 那你首先到a的时候 他会调用什么呢 他会调用这个component

26:24.340 --> 26:30.340
detail 调用这个勾指函数 然后接下来你在跳转跳转到这个b的时候

26:30.900 --> 26:34.820
然后接下来b的这个component detail 它也会被调用

26:35.700 --> 26:44.100
啊 就好比你比如说一开始你在互 互的话 你如果是用类来写的 那互的话他的这个component detail 会这个调用

26:44.740 --> 26:46.180
然后完事之后你这个

26:46.900 --> 26:51.620
跳转到detail 让这个detail这个组件就这一瓶

26:52.180 --> 27:01.700
他的这个component detail的mount也会被调用 ok 但是a a的话 他是仍然是挂载在这个堆站上的 就他没有出站

27:02.420 --> 27:08.500
没有出站 因为他是一个这个站型吗 对吧 他是一个这种站啊 然后加这个a在下面 然后b在上面

27:09.060 --> 27:15.140
因为这个a 他仍然在这个堆站里面 说他不会调用a的component real amount

27:16.100 --> 27:23.940
那你如果从b回到a 那他会调用这个b的component real amount 因为你b出站了嘛

27:24.580 --> 27:32.260
对吧 但是你a的这个component detail mount没有被调用 因为你现在回到了这个a嘛 你a又没有那个又没有卸载掉

27:33.060 --> 27:35.140
对吧 说他这个a的话他这个

27:36.340 --> 27:43.940
呃 这个component detail mount他是一进来就调用的 他就不会被调用啊 他一直出于这个挂载状态

27:44.580 --> 27:48.900
ok 这是你是用内的前提啊 前提是你用的是内组件

27:49.780 --> 27:53.300
啊 然后后面的话 你如果是就是用的是这个方形

27:53.860 --> 28:02.260
函数组件 函数组件的话 然后那个内这个内组件 以前的一些这个生命周期勾字函数 他就被这个互可

28:02.900 --> 28:07.860
给替代了 啊 因为我们在这个函数组件里面 是不是有很多这个互可

28:08.580 --> 28:10.820
对吧 那这些互可的话就替代了

28:11.300 --> 28:16.500
就是这些生命周期这个勾字函数啊 让我们这边让我们来看两个啊

28:17.220 --> 28:19.220
一个是什么呢 一个是fox

28:19.860 --> 28:26.340
一个是bner 啊 这个分别解决了就是你了解这个屏幕 他是否进入了或者释交了

28:26.740 --> 28:31.700
以前的话我们是通过这个component detail mount和component real amount

28:32.420 --> 28:37.220
来查看你是进入屏幕了 还是退出屏幕了 那现在的话你要了解

28:37.540 --> 28:40.660
进入屏幕还是退出屏幕 你现在没有这些勾字函数了

28:41.140 --> 28:45.460
对不对 那怎么办呢 这边呢 可以用这个fox或者这个bner

28:46.180 --> 28:50.020
ok 那我们来写一个嘛 我们来看他的这个例子啊

28:50.660 --> 28:53.940
这边的话 他这边是通过这个use effect

28:54.580 --> 28:58.260
好 然后接下来这边的话这个nevergating 监听一个事件

28:58.820 --> 29:02.340
啊 这个事件的话就是这个fox 然后里面做一些事情

29:02.740 --> 29:06.500
好 大家这边接受他的这个返回值 返回值的话应该是把这个

29:07.540 --> 29:12.260
and listener 给他移除掉 ok好 那我们这边呢 我们来写一下

29:13.700 --> 29:18.100
这里我们在哪里来写呢 我们这边的话就在这个profile

29:18.900 --> 29:24.260
好吧 profile 就是进入到这个profile的时候啊 我们这边的话

29:25.220 --> 29:27.940
这里一个nevergating

29:32.330 --> 29:39.530
nevergating啊 首先解构拿到拿到之后 然后接下来我们这边的话要把那个

29:41.610 --> 29:44.970
use effect 把它引入

29:45.690 --> 29:48.170
这边的话reactive

29:48.810 --> 29:53.290
好 然后接下来在这边这边的话就是use effect

29:53.930 --> 29:57.770
然后里面接受一个什么 是不是接受一个回调函数啊

29:58.410 --> 30:03.210
对不对 然后接下来接受一个这个依赖项啊 这边依赖项就是nevergating

30:03.850 --> 30:09.610
ok好 在这个回调函数里面 回调函数里面我们这边就通过nevergating点

30:10.490 --> 30:19.850
and listener 给他绑定一个事件 绑定一个什么事件呢 绑定一个fox

30:20.330 --> 30:28.010
对吧 绑定一个fox 好 当他fox的时候 我们这边做什么呢 我们这边打印一句话

30:28.490 --> 30:32.490
console.nog 啊 这边的话进入到了

30:33.930 --> 30:36.890
进入到了profile

30:38.730 --> 30:44.090
页面 ok 好 然后接下来这边这边的话拿一个这个辩量来接受一下

30:45.050 --> 30:52.570
这边的话他应该是就是会移除这个监听事件啊 就是on就是remove

30:53.770 --> 30:55.450
remove这个listener

30:57.050 --> 30:58.970
st en er

31:00.090 --> 31:04.650
ok 好 然后接下来的话 这边的话你返回 他这边的话得到的是一个函数

31:05.210 --> 31:09.530
啊 这样你这边呢 就是返回这个函数 这个函数的话就会在下一次

31:10.170 --> 31:12.650
渲染这个组件的时候 是不是先调用这个函数

31:13.210 --> 31:17.290
调用这个函数然后先把什么 是不是先把这个绑定的事件给他移除掉

31:17.850 --> 31:22.010
移除掉之后再重新绑定啊 否则你绑定的事件就越来越多

31:22.890 --> 31:26.890
ok 好 那我们这边我们来试一下啊 我们这边全部保存

31:28.650 --> 31:34.730
保存之后然后加这边他包了个错啊 undefined is not a function

31:36.730 --> 31:38.890
undefined is not a function

31:40.090 --> 31:45.980
啊 我们看一下这边那是哪里出问题了 这边的话

31:47.340 --> 31:52.700
嗯 undefined 我们看一下这边这边console

31:54.060 --> 31:54.940
点nog

31:55.980 --> 32:00.060
remove listener 我们先把这个return先把主持掉啊 保存

32:02.940 --> 32:08.780
好 保存了 然后加这边过来 过来的话 然后接下来我们这边点这个second

32:09.580 --> 32:12.140
second 然后叫我们这边进入profile

32:13.260 --> 32:15.340
啊 进入profile啊 这边就爆错了

32:15.980 --> 32:23.820
哦 哪里啊 是不是这边啊 对不对 这边应该是从react里面引入啊 那这个应该是没有问题的

32:24.780 --> 32:26.300
好 然后加我们这边保存一下

32:28.540 --> 32:35.100
保存啊 然后加我们这边重新来哈 这边来到这里 好 我现在我点这个进入profile进来

32:35.660 --> 32:39.740
你看这边是不是进入到了profile里面

32:40.700 --> 32:43.580
看到没有 进入到了profile页面里面

32:44.380 --> 32:47.820
ok 那这边呢 我们就是通过什么呢 通过这个

32:49.180 --> 32:53.020
这个这个模拟器老是要慢一步啊 我这个手机是完全是ok的

32:53.580 --> 32:55.820
ok 那我们这边呢 就通过这个fox

32:56.380 --> 33:03.260
是不是肩听到了它这个进入到这个页面 就和这儿就和你之前用这个类组件的这个component

33:03.260 --> 33:09.340
dead mount 是不是是一样的 对吧 那除了这个fox以外 那你这边呢就可以再来挂一个

33:09.420 --> 33:16.380
挂一个什么 是挂一个这个不那儿 对不对 这边再来一个啊 这边呢 就是不那儿

33:17.980 --> 33:21.180
不那儿 这边呢 就是退出了 就是从

33:23.820 --> 33:30.620
从这个profile页面退出了 对吧 来 我们这边保存一下

33:32.860 --> 33:35.020
保存了之后 然后先让我们这边我们来看一下

33:35.260 --> 33:41.660
这边呢 这边是刚才啊 打印出来的啊 然后这样我这边我点返回啊 我点击返回走

33:43.500 --> 33:47.500
哎 我刷新一下呢 稍等 刷新一下

33:50.950 --> 33:54.390
啊 这边这边呢 然后second 然后这边

33:55.510 --> 34:01.670
进入 对吧 现在是进入了啊 这这个个子还说出发了啊 然后现在这边我返回

34:03.830 --> 34:06.310
返回了这个不那儿怎么没有效果呢

34:09.450 --> 34:19.190
那不那儿 我看一下啊 这边的话 我们把啊 这样子 我们把这个把人拿过来

34:19.750 --> 34:21.990
放到一个这个use effect 里面

34:22.790 --> 34:28.390
ok 这个的话是叫做remove listener 1 这个的话是remove listener 2 ok

34:29.430 --> 34:33.990
那这个这个的话就不要了 对吧 就全部放在一个这个

34:35.190 --> 34:38.550
use effect 里面好 那就这边这边是不是要返回一个这个

34:39.190 --> 34:47.270
方法 对吧 那我们这边呢 就返回一个方形 在方形里面啊 我们这边调用remove listener 1

34:47.990 --> 34:54.070
那调用remove listener 2 ok 就这样子来做 好来我们这边我们保存一下

34:55.910 --> 34:58.310
保存了之后 然后这样我们这边我们来看一下效果啊

34:59.190 --> 35:01.510
好 这边进入到second

35:02.550 --> 35:05.670
进入到second之后 然后这样我这边我点这个啊 走

35:09.860 --> 35:17.060
呃 哦 这这边这边一个是fox 一个是不那 这边应该是fox 啊 重新来 保存

35:19.140 --> 35:21.300
保存之后 然后这样我们这边我们来看一下

35:23.060 --> 35:27.860
啊 重新退出 然后这边呢 跳转 这边是不是进入了

35:28.580 --> 35:35.060
对不对 进入到这个profile 然后加这边退出 哎 这退出怎么还是不好使呢

35:35.780 --> 35:42.330
啊 这个不那 这个这个咋还是不好使呢 我看一下

35:44.730 --> 35:50.730
这边照理说的话 这边应该已经是ok了才对啊 啊 这边保存一下

35:53.430 --> 36:01.510
然后进入 然后退出 哎 可以了 看见没有 这这会儿的可以了

36:02.470 --> 36:04.470
啊 可以可以 但

36:05.510 --> 36:07.670
哎 进入啊

36:09.430 --> 36:11.270
退出 进入啊

36:12.950 --> 36:16.150
退出对的嘛 那我这边应该不影响才对啊

36:17.350 --> 36:22.550
对吧 我这边应该不影响 我这边返回一个这个这个函数 到时候他把他这个

36:23.190 --> 36:27.110
注册的事件把他移除掉 这个代码应该没影响才对啊

36:27.830 --> 36:30.630
好 我们这边再再把这个加上

36:35.290 --> 36:40.650
加上之后再加我们这边我们来看一下啊 啊 这边进入 然后退出

36:41.850 --> 36:50.060
嘿 进入 加上之后这个退出他就这个不那事件

36:51.500 --> 36:52.860
他就不好死了

36:54.860 --> 36:57.660
因为这个真的有点奇怪 好 我看一下

36:57.660 --> 37:04.460
啊 刚才我把那个视频暂停了啊 暂停了 然后我调试了一下

37:05.020 --> 37:11.260
他这边的话这个不那啊 不那的话他这边的话这个你绑定了之后他这边倒是也是

37:12.140 --> 37:20.540
返回的是一个函数 这个函数是取消订阅的啊 但是你这边的话一旦你这边return这个函数的话 他这边他这个不那

37:21.580 --> 37:25.340
这个事件他就是绑不上去 你看一下嘛 我这边给大家看一下

37:25.900 --> 37:27.580
这边你看我这边进入

37:28.780 --> 37:35.500
先进入到这个profile了啊 这卡住了 好 然后既然我这边我返回 你看他这边他这个就是

37:36.620 --> 37:39.500
就是就是那个啊 这边不会执行

37:40.140 --> 37:45.420
ok 那这边的话他既然不会执行的话 这个不知道是不是他rn内部的bug

37:46.140 --> 37:49.100
有可能啊 有可能是他rn内部的bug

37:49.820 --> 37:56.620
ok 好 那我们这边我们就不接受他这个返回值了 我们刚才的话用这个focus用focus的话是不是完全正常的

37:57.180 --> 38:02.940
对来focus 然后既然这边接收他返回的这个函数 然后既然这边让这个函数他是一个取消订阅的

38:03.260 --> 38:07.820
那既然这边把他返回出去 是不是OK的 啊 但是这个不那他就是不行

38:08.380 --> 38:12.060
啊 你看我们这边我们再把那个嘛 再把刚才的那个focus

38:12.780 --> 38:17.180
打开大家看一下 这边呢这个是1 好 然后既然我们这边我们保存一下

38:19.660 --> 38:24.300
保存了之后再加我们这边我们来看一下啊 走 这边是不是进入到profile

38:25.100 --> 38:28.780
对不对啊 进入 进入之后然后接下来这边的话

38:30.060 --> 38:36.380
返回啊 这个focus这个是ok的 啊 但是不能的话他不行

38:36.860 --> 38:39.900
那不能不行的话 那我们这边让我们就不接收了吗

38:40.540 --> 38:44.300
他这个刚才我打印了啊 他这个的话确实也是一个取消订阅的函数

38:44.940 --> 38:46.780
但是返回出去的话他就是不生效

38:47.660 --> 38:51.500
不知道是不是RN的问题 好 然后接下来的话我们这边

38:52.700 --> 38:56.220
ok 我们就这样子嘛 这样子的话他就会完全生效了啊

38:57.020 --> 39:03.820
啊 那我们这边我们来看一下 这边进入 这边是不是进入了 对不对 卡住了

39:05.820 --> 39:11.340
卡住了啊 这边进入 我手机是ok的啊 好 然后既然我这边我点这个返回键

39:11.900 --> 39:16.300
连返回键 走 这边是不是从这个profile页面推出了

39:17.260 --> 39:20.940
对不对 ok 那这边呢 是不是就相当于你那个以前

39:22.060 --> 39:26.940
用这个内函数的时候啊 相当于这个dead mount和这个vio amount

39:27.980 --> 39:30.700
对不对 这效果的话就模拟出来了啊

39:32.300 --> 39:38.220
好 然后另外的话 然后他还给你提供了一个什么呢 还给你提供了一个叫做use focus effect

39:38.940 --> 39:44.300
啊 这个的话你是从这个react这个nevergation

39:45.020 --> 39:48.780
nevergation 而且啊lative里面 你这边的话可以引入这个

39:49.340 --> 39:54.460
钩子函数啊 他这个的话其实就是一个hook 只不过这个hook的话不是react提供给你的

39:55.020 --> 39:59.500
而是这个reactnevergation给你提供的啊 提供了一个这个hook

39:59.900 --> 40:04.940
那这个hook的话其实就类似于什么呢 就类似于那个刚才的那个fox

40:05.660 --> 40:08.940
啊 就类似于那个fox 你这边看一下吧 我们来看一下

40:10.220 --> 40:14.460
这边 这边呢 就是用的是use focus effect

40:15.580 --> 40:21.180
对吧啊 大家这边的话这个use callback 这边的话打印啊 这边这个screen

40:22.140 --> 40:24.780
what the fox 的啊 大家这边返回

40:25.500 --> 40:32.140
返回一个这个函数 这个函数就是你的这个屏幕啊 就是取消焦点的时候 不那的时候

40:32.700 --> 40:36.860
ok 来我们这边我们可以试一下吗 这边的话我们就从

40:38.460 --> 40:42.540
啊 把这个就注释掉啊 然后我们这边的话从这个

40:44.380 --> 40:47.420
import 然后from

40:48.700 --> 40:52.700
react 但是从哪引入的 是这个lative

40:55.240 --> 41:01.240
从这个lative啊 引入什么呢 引入这个use

41:04.340 --> 41:07.060
它名字叫什么 叫use fox

41:09.780 --> 41:11.620
use 啊 复制过来吧

41:12.660 --> 41:15.060
这边use fox effect

41:17.990 --> 41:24.390
ok 把这个钩子函数啊 引进来 只不过它不是react给你提供的啊 它是这个react

41:25.590 --> 41:31.430
给你提供了一个钩子函数 好 然后现在这边这边的话 然后我们这个实例里面用到了那个

41:32.310 --> 41:37.670
用到了use callback 我们把use callback 把它引进来 这个就是react给你提供了

41:38.470 --> 41:44.470
对吧 use callback 啊 做一个缓存啊 这个的话就是react的知识啊 这个我就不说了

41:45.110 --> 41:48.950
好 然后现在在这边 这边的话 我们就把这一块代码板拿过来

41:52.410 --> 41:57.130
啊 告诉我一下 这边使用这个use fox effect

41:57.610 --> 41:59.690
而里面里面的话 然后是这个

42:00.410 --> 42:07.450
use callback 啊 里面的话 然后是一个回调函数 回调函数里面 我们这边 我们就写一下吧 有进入到了

42:09.370 --> 42:17.130
进入到了profile 页面啊 然后加这边下面 下面的话 你这边再反过一个函数 反过一个函数 就是在退出的时候

42:18.410 --> 42:22.010
退出的时候 然后加回调用这个函数 然后我们这边 我们来看一下

42:22.970 --> 42:23.290
保存

42:25.750 --> 42:32.630
好 让大家这边我们跳转 这边是不是进来了 对不对 进入到了profile页面 然后点击这个ok

42:33.270 --> 42:35.510
好 让我这边点这个返回啊 返回

42:36.470 --> 42:39.670
好 这边是不是弹出来了 从profile页面是不是退出了

42:40.550 --> 42:45.910
对不对 ok 这就是react navigation 给我们提供了这么一个hook

42:47.670 --> 42:53.590
ok 好 其他的话就没什么了 你看这个代码写了这么多 写了这么多 其实就是

42:54.310 --> 42:56.470
模拟我们刚才那个效果 ok

42:57.990 --> 43:05.030
啊 这就是关于生命周期啊 其实主要就是在他其实他这一段哈 就这边他这一小节

43:05.830 --> 43:09.270
他这一小节其实主要就是讲了什么呢 主要讲了就是这个

43:10.070 --> 43:17.590
你使用hook 使用hook如何就是去模拟这个component will amount和这个component

43:18.070 --> 43:19.190
这个deadmount

43:20.070 --> 43:24.870
因为以前你在这个你使用内来写的话 他是有这两个生命周期勾字函数的

43:25.670 --> 43:32.630
对不对 但是你现在没有了 没有了的话你如何去模拟这个效果啊 那你要么的话就是通过这个

43:33.750 --> 43:36.790
啊 这边啊 要么就是通过这个fox或者不那

43:37.830 --> 43:41.990
对吧 这个刚才我们说了 要么就干嘛呢 要么就是通过这个

43:42.550 --> 43:44.230
就他给你提供了一个hook

43:44.790 --> 43:47.430
啊 这个userfox effect hook

43:48.390 --> 43:51.190
看到没有 就是react levergation给你提供了

43:51.750 --> 43:58.470
啊 原来大家就是在就是有这种需求的情况下可以用一下 有没有这种需求会有的

43:59.110 --> 44:04.230
啊 会有的 比如你离开某个页面 你要做一些这个额 就是其他的一些动作

44:04.950 --> 44:12.870
对吧 你要就是发送一下请求啊之类的 或者进入到这个页面的时候 你就要发这个请求 那这边的话是不是就要用的

44:13.830 --> 44:17.510
对不对 ok 啊 这是关于这个生命周期

44:17.590 --> 44:25.270
好 下来的话 大家把这个代码自己把它敲一下 ok 好 这一刻就先到这里啊 再见

