WEBVTT

00:00.750 --> 00:06.830
OK 欢迎回来 我们这个继续啊 这个的话咱们就把剩下的两个功能做了

00:07.430 --> 00:15.270
一个的话是这边这个选择语言 是吧 另外一个的话是这边这个历史记录 我们现在这边都是这个假的数据

00:15.910 --> 00:23.550
ok 好 然后接下来的话回到这边 这边的话我首先的话我创建了一个叫做redux的文件家

00:24.310 --> 00:30.150
看到没有 我们这边呢 肯定会用到这个状态管理啊 所以我创建了一个redux的文件家

00:30.630 --> 00:35.150
好 在这里面 这里面的话我就已经创建了一个叫做state.js

00:35.750 --> 00:42.470
好 这个文件用来干嘛的呢 这个文件的话用来就是存放就是我们默认的一些状态信息

00:43.070 --> 00:47.310
啊 大家可以看到我这边让我导出了一个对象 这对象里面有这个nanlist

00:47.870 --> 00:54.070
那对应的就是有这个英文 然后加这边它的这个代码是这个议任 然后加它的这个下标

00:55.030 --> 01:02.230
是一个这个0 对吧 好 大家这边 这边中文然后zh1 这边日语jp 然后2

01:03.070 --> 01:08.710
ok 好 大家这边这边的话还有一个什么呢 还有一个current 就是这个current

01:09.390 --> 01:15.670
然后这个cur index 这个的话就是默认的话是0 也就是说默认的话你是翻译到这个英语

01:16.670 --> 01:23.750
好 最后最后的话是有一个这个翻译历史 这边的话是一条测试数据 这条数据可有可伯

01:24.270 --> 01:32.230
啊 你这边的话就是你把写到这 到时候你做完之后 然后他默认就有一条这个历史记录啊 当你这边做完之后 你也可以把它干嘛呢

01:32.470 --> 01:36.270
也可以把它就是清空啊 一开始给个空数据

01:37.190 --> 01:41.790
ok 好 然后完事之后 让我们这边上就再创建两个文件

01:43.390 --> 01:47.230
一个叫做什么呢 一个叫做store 是我们的仓库文件

01:48.190 --> 01:53.550
对吧 另外一个的话 我们之前在讲课的时候 我们叫那个名字叫做reducer

01:54.070 --> 01:58.390
啊 但是他那个的话 我们用的是那个 我们用的是这个

01:59.510 --> 02:00.870
就我们之前上课讲的

02:04.470 --> 02:06.470
在哪呢 那个toolkit

02:08.110 --> 02:12.710
啊 我们用的就这个啊 我们用的是这个redux js 然后toolkit

02:13.270 --> 02:20.990
啊 他里面的话是不是创建一个切片切片里面就包含了什么名字呀 初始状态呀 还有就是你的reducer

02:21.390 --> 02:25.150
啊 所以我这边让我改了一个名字哈 我这边的干涉就叫做snice

02:26.590 --> 02:33.670
就叫做切片 ok 好来我们这边的话一点一点来 那首先的话这边切片这边

02:34.390 --> 02:35.470
这边的话我们首先

02:36.310 --> 02:49.470
import 啊 这边的话应该是redux js to kit 啊 这边的话引入一个叫做creator snice

02:50.350 --> 02:56.270
啊 创建切片的这个方法 对吧 然后我们再把那个默认的那个状态我们把它引进来

02:56.910 --> 02:59.470
import the default state

03:01.190 --> 03:04.950
然后from from 哪里呢 当前目录下面的state

03:05.950 --> 03:13.230
ok 好 然后接下来话 我们这边的话 第二个用这个creator slice这个方法 好 然后接下来话 这边的话

03:13.710 --> 03:14.230
const

03:15.790 --> 03:16.110
这个

03:17.110 --> 03:17.830
tries net

03:18.830 --> 03:19.350
snice

03:21.270 --> 03:28.270
ok 调用这个方法 然后在这边接收一下它的反回事 好 然后接下来在这边这边的时候接收一个对象

03:28.990 --> 03:31.750
啊 这边对象首先内幕对应的是啊

03:32.830 --> 03:37.670
tries net 好 然后接下来这边是啊 initial state

03:39.830 --> 03:46.110
对应的就应该是这边的default state 对吧 好 然后接下来话 这边的话 reducers

03:46.830 --> 03:50.790
啊 对应的reducerreducer的话 那我们有一个选择语言

03:53.410 --> 03:54.210
选择语言

03:55.290 --> 03:57.130
那我这边就叫做一个清积内

03:58.170 --> 04:00.210
他对应的话是一个函数

04:01.370 --> 04:07.250
对吧 这个函数的话 然后既然他会自动传入state 以及action

04:08.130 --> 04:08.770
好 在这边

04:09.810 --> 04:16.970
在这边的话 我们干嘛呢 在这边的话 我们这个state state 就是什么 state的话 就是你整个

04:18.410 --> 04:21.450
是不是整个这个 对不对 整个这个state

04:21.970 --> 04:27.370
好 整个就这边啊 整个这个state啊 这个state他有一个这个curl index

04:27.890 --> 04:33.850
我们把这个curl index等于什么呢 等于一个action啊 你上面会有一个payload

04:34.250 --> 04:37.290
payload的就是你带过来的这个信息

04:38.370 --> 04:39.930
对吧 就你带过来信息

04:40.570 --> 04:45.250
好 完事之后 然后接下来这边做一下导出 首先的话export

04:46.370 --> 04:47.050
default

04:47.850 --> 04:50.730
啊 把这个trice net is nice

04:52.130 --> 04:53.890
把它的这个reducer

04:54.810 --> 04:59.010
把它导出啊 这边的是导出reducer

04:59.730 --> 05:04.250
除了导出reducer以外 这样我们还导出什么 是不是导出action creator

05:05.210 --> 05:07.610
对吧啊 那我们这边的话export

05:08.610 --> 05:09.090
const

05:09.970 --> 05:11.290
这边的话清内

05:14.100 --> 05:14.420
然后

05:15.700 --> 05:16.540
等于一个

05:16.740 --> 05:20.860
price net is nice 点action

05:21.820 --> 05:23.260
这边是导出

05:24.660 --> 05:27.180
各种这个action creator

05:28.540 --> 05:30.540
啊 就是创建这个action的这个函数

05:32.420 --> 05:38.540
ok 啊 这个snice就写好了 snice写好了之后 然后接下来来的这个store

05:39.380 --> 05:41.620
store这边的话 那首先呢 这边 import

05:42.940 --> 05:43.980
然后from

05:44.700 --> 05:52.020
这边的话是这个 to kids 啊 这边引入什么呢 引入一个叫做configure

05:53.780 --> 05:58.820
啊configure store 引入这么一个方法 再把刚才的那个reducer

06:00.140 --> 06:03.220
把它引进来 啊 这边啊trice net

06:03.820 --> 06:04.460
reducer

06:06.670 --> 06:07.310
然后from

06:08.310 --> 06:10.710
呃 当前目录下面的snice

06:11.710 --> 06:14.550
ok 好 然后接下来这边呢 默认导出

06:15.910 --> 06:22.950
导出什么呢 这边呢 你通过这个configure store 这个方法来创建一个仓库

06:23.550 --> 06:28.150
创建了之后把它默认导出 好 然后接下来这边呢 传入你的配置对象

06:28.790 --> 06:29.950
这边的话reducer

06:30.790 --> 06:33.670
对应是一个对象啊 我们这边呢 是啊 try

06:34.670 --> 06:36.670
tries net

06:37.630 --> 06:41.070
然后对应的是什么呢 是你这边传入的tries net

06:41.510 --> 06:41.990
reducer

06:43.070 --> 06:43.270
ok

06:44.230 --> 06:51.990
好 这边的话就呃 仓库就创建好了 好 创建好了之后 然后接下来的话 我们来到这个app.js

06:52.670 --> 06:56.670
来到这边啊 这边的话 我们要把这个仓库 我们要把它加上去

06:57.310 --> 07:01.190
对吧 好 那我们这边的话 首先把这个仓库 我们把它引入一下

07:02.190 --> 07:06.340
这边的话 引入仓库 引入

07:07.340 --> 07:12.460
仓库 啊 这边呢 就是应该是import一个store

07:13.300 --> 07:24.320
from 呃 当前目的下面的redux 下面的这个store 对吧 把仓库引入引入了 还说引入一个什么

07:24.960 --> 07:31.960
这有一个这个provider 对吧 你最外层你要这个包一个provider 啊 provider 然后上面的这个store属性

07:32.520 --> 07:39.520
啊 挂它啊 所以我们这边的话 把这个provider 我们把引一下 provider的话是从这个react

07:40.600 --> 07:45.720
然后redux 从这上面引入啊 这边呢 把这个provider

07:46.800 --> 07:52.960
引入一下啊 引入完毕之后 然后接下来的话 我们这边就在最外层啊 主意是整个这个

07:53.440 --> 07:57.000
navigation container 的最外层啊 我们这边包一个

07:57.680 --> 08:02.860
provider provider啊 上面有一个这个

08:03.540 --> 08:07.540
store 属性啊 对应的就是我们引入的store

08:08.460 --> 08:12.220
好 然后这边完事之后 把整个这个把包进去

08:14.500 --> 08:16.980
ok 那整个这一块是不是就做好了

08:17.740 --> 08:24.580
对不对 那我们的这个仓库的准备工作就做好了 啊 做好之后 然后接下来来到我们的什么呢

08:25.900 --> 08:26.780
来到language

08:28.740 --> 08:32.340
language 在这里 是吧 那language的话 我们之前

08:33.060 --> 08:38.460
之前的话 我们这边是不是写词的 对不对 那你现在的话就不可能是写词了 现在就应该干嘛呀

08:39.020 --> 08:42.140
现在的话是不是就是应该是通过仓库去拿

08:42.940 --> 08:46.540
对吧 那这个我就删了哈 这个就不要了 这就没有意义了

08:48.590 --> 08:53.030
那把删了 那接下来的话 你就应该是通过这个仓库去拿

08:53.590 --> 08:58.670
好 那我们这边的话就import 这边呢 use selector

09:01.380 --> 09:03.780
selector 啊 然后接下来的话 这边

09:04.380 --> 09:08.060
from 什么呢 这边react

09:08.980 --> 09:10.260
然后redux

09:11.460 --> 09:20.100
ok 好 然后接下来的话在这里 这里的话我们就需要拿一个const 一个name

09:21.020 --> 09:25.060
list 它等于什么呢 等于一个use selector

09:27.060 --> 09:32.900
好 里面里面的话是一个函数 啊 这边的话会自动传入你的state

09:33.580 --> 09:36.260
好 我们这边返回state 点

09:37.260 --> 09:44.900
press net 点这个name list 就是把什么返回 就是你这边的话这个name list 就这个状态

09:46.380 --> 09:50.140
这个name list 是把它返回 那回头的话你整个

09:50.820 --> 09:55.820
呃 这边这边这个name list 拿到了就是什么 说拿到了就是这个数组

09:57.100 --> 09:58.780
对不对 拿到就这个数组

09:59.780 --> 10:06.500
啊 拿到这个数组之后 然后接下来下一步 嗯 下一步的话 这边的时候就是应该是便利这个name list

10:07.940 --> 10:16.620
对不对name list 点map啊 然后回头你这里面也得改 这里面的话你拿到现在name list 里面每一项是什么呀

10:17.860 --> 10:24.980
name list 里面每一项每一项是不是对象 对不对 是一个一个的对象啊 所以你这边的话你就要把它改成什么

10:25.420 --> 10:33.300
那item 点c 这个hs 对吧 这边的话也是 点c hs

10:34.060 --> 10:43.800
好 那我们保存了 我们来看一下哈 全部保存 保存了之后 然后接下来我这边 我们来看一下 好 这边已经出来了

10:44.880 --> 10:50.960
那边 已经出来了 你看这边 就是从我们的这个state 里面获取的这个数据

10:51.920 --> 10:52.720
这就出来了

10:54.240 --> 10:58.800
好 出来了之后 然后接下来现在现在的话 我们这边index我们是等于这个0

10:59.440 --> 11:05.840
啊 那index的话 他就不应该是等于0的 而是应该等于什么 而是应该是等于你这个curr index的时候

11:07.000 --> 11:11.160
对不对 你的这个curr index 然后接下来他就是默认被选中的

11:11.680 --> 11:18.880
啊 所以这边的话 我们还需要再拿一下这个curr index 这个的话是获取这个是获取

11:18.880 --> 11:25.760
语言列表 啊 下面的话 我们获取什么呢 获取

11:26.360 --> 11:37.790
当前语言的下标 那或者说当前选中的语言啊 那这边就是cunst

11:38.510 --> 11:39.630
curr index

11:41.110 --> 11:48.510
他等于什么呢 你这边就直接把他拿过来 这边的话 然后把这个改成curr index

11:49.510 --> 11:56.430
是不是就OK了 他就把什么拿到了 所以就把这个这个拿到了 拿到之后 然后接下来这边的话就应该是什么

11:56.990 --> 12:03.750
这边就不应该是等于0的 而是等于curr index的时候 对不对 好 来 我们这边我们保存一下

12:04.710 --> 12:10.710
保存一下 我们看一下效果 啊 现在效果呢 你看到是没变的哈 因为我默认的话 是不是也是选中第一个

12:11.270 --> 12:17.230
然后把什么呢 我们把这个state变一下 state 我们这边的话比如说把这个变成这个2

12:17.870 --> 12:21.270
2的话对应的是不是日月 我们这边我们保存一下

12:23.070 --> 12:28.950
保存之后 然后在这边看一下 是不是出来了 对不对 出来了啊

12:29.910 --> 12:36.070
好 然后这边这个语言哈 我们这边就是从仓库里面拿到语言 然后进行这个渲染

12:36.630 --> 12:40.790
这一步就做完了 然后做完了之后 然后接下来我们下一步

12:41.710 --> 12:49.550
下一步就会有一个什么的 就会有一个点击啊 那我这边的话就干嘛 这边的话我就是啊 on price

12:51.830 --> 12:54.870
on price啊 然后等于一个

12:59.930 --> 13:05.010
然后这边的话就是应该是一个price handle 但是这price handle里面我们要把什么

13:05.570 --> 13:11.370
我们是要把当前用户他点击的下标传过去啊 所以我这边对应的是一个函数

13:11.890 --> 13:19.530
函数然后接下来这边的话 price handle 啊 这边的话把这个index把它传过去

13:20.210 --> 13:22.210
好 然后接下来这边的话function

13:23.530 --> 13:27.570
price handle 我们这边我们来看一下啊 这边index

13:28.330 --> 13:34.050
console.nog index 好 我们这边我们保存一下

13:34.970 --> 13:41.450
保存了之后让家我们这边来看一下啊 这边点击的话能不能拿到 我现在点击这个英文

13:42.130 --> 13:49.970
拿到没有 这不拿到这个你当前的这个下标了 对不对 拿到了啊 拿到了之后 然后我们要做什么

13:50.770 --> 13:54.250
拿到这个下标之后我们是不是就是应该是派发一个action

13:55.930 --> 14:02.770
这边是派发一个action 对不对 派发一个action 我们就需要把那个

14:03.730 --> 14:08.290
action creator 把它引过来啊 所以这边的话 import

14:09.530 --> 14:13.730
一个这个change net 然后from

14:15.690 --> 14:17.370
这边redux

14:18.650 --> 14:23.130
下面的这个snice 把这个清积链 我们这边呢 刚才是导出了的

14:24.050 --> 14:29.810
对不对 导出了啊 他是一个action creator 好 那我们这边啊 这边我们调用

14:30.130 --> 14:33.010
change net 啊 调用这个方法把index

14:34.010 --> 14:38.130
传进去 那整个这个的话他就会得到一个什么 是不是会得到一个action

14:38.930 --> 14:45.450
得到action之后让家我们干嘛 是不是做一个派发 所以这边的话就是use dispatch

14:46.890 --> 14:51.290
对吧 然后家这边的话console一个dispatch

14:53.780 --> 14:59.540
等于一个use dispatch 回头的话这边的话就调用dispatch方法

15:01.660 --> 15:08.340
调用dispatch方法 那把整个这一块你会得到一个action吗 对吧 那我们这边把它传进去

15:09.340 --> 15:13.140
ok 啊 传进去之后 然后家他就会到达哪里 这就会到达

15:14.020 --> 15:17.260
这个位置啊 那这边通过这个action点payload

15:17.860 --> 15:21.580
action payload 就会拿到谁 说拿到你这边传的这个index

15:22.860 --> 15:28.060
对吧 那家这边的话把这个curl index 把它进行一个修改

15:28.540 --> 15:31.820
好 来 我们这边来看一下好保持啊 我这边全部保存

15:34.060 --> 15:37.980
保存之后再将我这边我点一下中文 你看这边是不是能改了

15:39.180 --> 15:44.940
看到没有 是不可以改了啊 比如说改成这个发语 改成发语之后再将我划过来

15:45.420 --> 15:48.380
划过来你会发现哪还没变 是不是这还没变

15:49.700 --> 15:54.180
啊 那这没变的话 那我们这边的话 这里的话要做一点小小的这个修改

15:54.740 --> 16:03.260
我们来到这个红来到这边 啊 这边的话也是就是从当前这个倉库 我们需要去获取一下这个状态

16:03.860 --> 16:05.060
好 说说我们这边的话

16:05.780 --> 16:06.620
import

16:07.660 --> 16:10.180
一个这个use selector

16:12.940 --> 16:13.900
然后front

16:14.580 --> 16:15.460
这个react

16:16.620 --> 16:17.700
然后redux

16:19.420 --> 16:25.060
啊 首先这边 然后接下来的话 我们这边从倉库获取一下这个状态

16:26.340 --> 16:33.930
从从倉库获取一下状态

16:34.490 --> 16:37.650
啊 那我们这边呢 要获取的啊 其实和这边是一样的

16:38.290 --> 16:41.930
就一个是这个nan list 一个是这个curl index

16:43.450 --> 16:44.130
把它获取到

16:45.290 --> 16:50.250
获取到了之后 然后接下来这边翻译成美国语言 那这边的话就应该是什么

16:51.250 --> 16:52.770
这边的话你就应该是

16:54.810 --> 16:55.690
nan list

16:56.690 --> 17:02.490
nan list 它是一个数组 对吧 数组 然后下面的话这个curl index

17:03.810 --> 17:08.530
是吧 拿到具体的语言 那它是一个对象 对象里面的chs

17:09.850 --> 17:12.250
对吧 好 然后加我们这边让我们保存一下

17:14.130 --> 17:19.370
保存你看这边这边就变了啊 这边就变了啊 这边再来不要全个日语

17:20.370 --> 17:26.370
说这边就变了 好来我们来翻译一下啊 比如说今天非常热

17:29.800 --> 17:30.640
好 这边走

17:32.080 --> 17:36.240
诶 这边的话这里啊 我们这这里往哪里往去改了

17:37.640 --> 17:40.360
就这边调方法的时候 这个地方是不是也要改

17:41.120 --> 17:44.600
啊 这个我们之前是写死了的 那你这边的话就得改成什么

17:45.360 --> 17:46.360
这和刚才是一样的

17:47.360 --> 17:58.080
nan list 啊 然后接下来的话这边是啊curl index 啊 拿到那个对象 拿到那个对象之后那个对象里面有一个这个内啊有个内

17:58.960 --> 18:02.200
好 这边呢就是点这个内

18:03.120 --> 18:09.750
ok 好 再来保存 好 然后叫这边走

18:11.190 --> 18:15.870
啊 这边是不是日语 好 然后叫我们这边点一下法语 然后叫这边

18:16.710 --> 18:18.390
翻译 然后叫这边点一下

18:19.310 --> 18:27.670
都搞定了 对不对 这边这个不同语言哈 啊 但这些语言我也不懂哈 我就只懂个英语和日语啊 看一下韩语呢

18:29.430 --> 18:32.950
韩语啊 然后叫这边日语

18:34.670 --> 18:38.310
啊kawatotema c的是啊 然后叫这边英语

18:39.310 --> 18:52.110
那也是very very hot to be 对吧 ok 那我们这边呢就是根据不同的语言啊 然后接下来的话这个不一样的这个翻译啊 这个功能就写完了

18:52.710 --> 18:59.590
很简单 是吧 其实很简单 就是从仓库拉直 拿了直之后 然后下首先的话你把它渲染出来

19:00.150 --> 19:02.070
好 然后叫这边用户在点的时候

19:02.910 --> 19:05.510
用户在点的时候 然后这样我是可以拿到下标的

19:06.150 --> 19:08.510
对吧 因为我这边是通过那个map

19:09.150 --> 19:16.790
map循环渲染的 所以每一个的话它是有下标的 我可以拿到下标 拿到下标之后人家我把那个仓库里面的那个call index

19:17.310 --> 19:19.830
对应的把它改了 是不就ok了

19:20.870 --> 19:29.590
对吧 好 这是这个语言哈 我看这边20分钟 那我们继续吧 我把这个干涉就把它讲完吧

19:30.270 --> 19:36.630
好吧 讲完 好 然后叫这边那是这个历史记录啊 那我们这边来到这个历史记录

19:37.950 --> 19:44.070
嗯 你历史记录的话其实也差不多 对不对 也是先从这个仓库

19:45.350 --> 19:49.870
ok 首先的话 这边呢 是不是也是应该是先从这个仓库去拿直啊

19:50.750 --> 19:58.100
啊 说说我们这边的话 import use selector

19:58.900 --> 20:02.620
然后front这个react

20:04.620 --> 20:08.860
然后redux 对吧 然后这个就不要了啊 这个就不要了

20:09.620 --> 20:16.300
好 然后接下来这边这边首先还是先获取一下这个状态啊 这边的话你懒得敲的话都可以直接

20:17.420 --> 20:20.220
把那个这边把拿过来

20:22.700 --> 20:29.580
对吧 啊 只不过你这边的话要改一下 这边那是history呀啊 这边的话就是应该是获取到

20:30.340 --> 20:32.140
这state我们叫做啊history

20:33.900 --> 20:39.300
来到这边啊 这边就是啊history 对吧啊 下面的话我看我们这边就是history

20:39.580 --> 20:43.940
那你下面的话都不用改啊 下面都不用改 那我们这边保存一下

20:45.020 --> 20:50.300
全部保存 保存之后这边是不是出来了 对不对 好来我们来添加一条

20:51.140 --> 20:57.400
这是这边state我们添加一个验证一下

20:59.000 --> 21:03.200
啊 这边是22好 然后加这边的话保存

21:06.290 --> 21:12.930
保存之后再看一下是不ok的 对吧 没问题啊 从仓库拿到了这个数据

21:13.530 --> 21:14.770
然后拿到这个数据之后

21:16.570 --> 21:23.090
拿到这个数据之后 然后下面的话我们这边是干嘛呢 下面的话是不是翻译完了之后要往这个

21:24.090 --> 21:27.090
这个历史记录这边 是不是添加一条记录

21:27.690 --> 21:30.610
说实际上的话应该是在哪呢 应该是在哄这边

21:31.570 --> 21:37.090
是不是在哄这边 哄这边你做完这个翻译的操作之后啊在这个位置

21:37.850 --> 21:39.850
是往仓库 是不是写入记录

21:40.850 --> 21:47.010
对吧 好 那我们这边呢先把那个吧 先把那个对应的这个reducer

21:47.850 --> 21:53.730
我们把它写了 啊 这边这个reducer的话 这边其实有两个 一个是添加历史记录

21:55.490 --> 22:00.330
添加历史记录 啊 这边呢是and

22:01.050 --> 22:05.740
history ok

22:06.620 --> 22:13.220
啊 添加历史记录 添加历史记录的话 那这边呢 我们首先看这个啊啊 等于一个这边点点点

22:14.100 --> 22:16.460
stats点history

22:17.300 --> 22:20.220
啊 先把这个history拿一个新的数据

22:20.860 --> 22:27.580
装着 好 这样我这边新的这个历史记录 是不是通过action点配置的 可以拿到拿到之后

22:28.660 --> 22:32.620
我把它干嘛呢 我把它通过on shift 最你不要通过push啊

22:33.180 --> 22:38.980
push的话 它是添加到最后的 添加到最后的话 到时候你看到的效果就是最新的它是在后面

22:39.580 --> 22:45.820
啊 然后面你翻译了 它又在后面 ok 我们这边想最新的是在最上面 说这边我们用on shift

22:46.820 --> 22:49.980
然后加这边的action 点配置的

22:50.620 --> 22:53.700
啊 把添加进去 添加完了之后 然后这样这边的话

22:54.260 --> 22:58.300
stats点history 等于一个这个数据

22:59.260 --> 23:04.580
ok 这是添加历史记录 好 然后接下来这边还有一个三处历史记录

23:06.460 --> 23:14.830
三处三处历史记录 那三处历史记录的话 这个就很简单了 啊 这边clear

23:16.030 --> 23:16.790
history

23:17.910 --> 23:23.470
啊 这边呢 也不需要接受什么action 配置的 你这边只需要干嘛呢 啊 这边action 就不要了啊

23:24.190 --> 23:26.670
这边呢 你只需要把这个stats

23:27.670 --> 23:32.950
stats 点history 改成什么呀 是不是改成空数座

23:34.270 --> 23:38.030
这就ok了 对吧 啊 这边啊 把这两个

23:38.910 --> 23:44.790
对应的这个action creator 把它传递出去 这边clear history

23:45.350 --> 23:49.790
那把传进去啊 传出去啊 传出去之后 然后接下来来到home 这边

23:51.550 --> 23:56.110
来到home 这边的话 那你首先的话 把那个引入一下

23:56.710 --> 23:57.790
这边import

23:58.630 --> 24:08.510
这个呢 and history啊 那from redox slice 好 然后接下来的话在这边 这边的话是不是应该是调用

24:09.310 --> 24:11.950
啊 这边的话还得把那个dispatch

24:13.030 --> 24:16.830
use dispatch 好 然后回头的话 这边

24:18.030 --> 24:19.870
const一个dispatch

24:21.870 --> 24:22.590
dispatch

24:23.670 --> 24:25.230
等于一个use

24:27.350 --> 24:33.110
dispatch 对吧 好 这边这边呢 就派发一个action 这边通过dispatch

24:33.670 --> 24:38.110
去派发一个action action从哪来呢 啊 这边呢 通过and

24:38.830 --> 24:44.270
history 啊 它是一个action creator 就是专门用来创建这个action的函数

24:44.710 --> 24:51.510
好 那里面里面的话 就是要传入你这边想要添加的这个数据 那这边呢 是不是 应该是一个对象

24:52.510 --> 24:55.950
对吧 这个对象 然后加这边这个text

24:56.710 --> 25:03.350
对应的是用户输的值啊res res对应的是不是 就是这边的res

25:04.310 --> 25:12.350
ok 那就这样写就可以了 好回头这个对象 整个这个对象啊 就整个这个对象 这个对象的话就会来到哪里

25:13.030 --> 25:19.510
这就是通过action点pullo的就可以拿到 拿到之后就会被加入到什么 加入到这个数据里面

25:20.510 --> 25:24.310
对不对 好来 我们这边 我们来看一下 什么保存

25:25.790 --> 25:37.270
保存了之后 然后先让我们这边我们来看一下啊 这边首页啊 我们这边的话 比如说你好 走

25:38.590 --> 25:45.350
啊 空击七万啊 这边就添加进来了 对不对 好来 我们这边再换一个语言韩语

25:46.350 --> 25:57.070
啊走 ok 啊牛哈啥哟啊 这个我还是知道的啊 这句韩语还是知道的啊牛哈啥哟啊 啊这边过来看一下 受进来了

25:57.910 --> 26:05.870
对不对 就进来了啊 ok 这个是关于这个历史记录 啊 最后一个最后一个是清楚 就是点这个按钮

26:06.670 --> 26:11.710
啊 点这个清楚历史记录 那他就把这个清空 那这个的话也很简单了

26:12.710 --> 26:18.230
这个的话 你这边来的history 你首先是不需要给他绑定一个点击时间

26:19.310 --> 26:24.310
对不对 on price 等于一个price handle

26:25.430 --> 26:35.040
好 然后加这边在上面来写这么一个方形price handle 啊 这边就是把那个

26:36.400 --> 26:37.560
use dispatch

26:38.560 --> 26:40.800
这边const

26:41.520 --> 26:59.510
一个 dispatch 等于一个use dispatch 对吧 好 然后加这边这边就派发一个action dispatch 这个action来源于哪里呢

27:00.070 --> 27:04.110
啊 就是我们这边写好的 是不是这个clear history

27:05.110 --> 27:15.070
对吧啊 所以这边的话 import clear history 然后from上一集的

27:17.030 --> 27:28.710
啊 re-dux 下面的slice啊 这边的话就直接clear history 啊 直接调这个啊 你这边也不需要传什么参数啊 就直接这边

27:29.230 --> 27:37.030
他会直接到哪里呢 到这边 啊 到这边让家这边直接就是把这个history 清空就可以了

27:38.150 --> 27:40.150
对吧啊 来我们这边保存一下

27:41.910 --> 27:48.350
保存了之后让家我们这边我们来看一下 整个这个就做完了哈 这边清楚这就完了

27:48.990 --> 27:58.230
啊 你这边清楚其实最好最好问他一下是吧啊 最好问一下 不然你这边的话啊 这边又点一下啊 这边翻译历史

27:58.950 --> 28:00.430
好 然后接下来的话 这边

28:02.510 --> 28:04.430
啊 我们再来几个 有字语

28:06.390 --> 28:13.510
ok 工具啊 好 然后接下来这这边你最好问他一下啊 这个功能也很好做 这边的话你就干嘛

28:14.910 --> 28:25.420
这边的话你就询问一下他 这边把那个 alert 把 alert 加上 好 这边的话这个 alert 怎么用啊 我都忘了 我来看一下

28:26.420 --> 28:36.580
这边的话 移动端rat native 是哪个来着 api 是吧 api 然后

28:37.820 --> 28:41.900
alert啊 嗯 就把这个拿过来就可以了

28:42.940 --> 28:46.540
是不是 把这个拿过来啊 然后接下来这边回到这里

28:47.660 --> 28:50.940
把这边放过来啊 这边呢 是这个通知

28:53.590 --> 28:58.470
通知啊 是否是否要清楚

29:00.310 --> 29:04.870
清楚所有的历史记录

29:05.750 --> 29:11.590
对吧啊 这个是一个取消 然后这边

29:13.030 --> 29:17.030
这边这个 on price 啊 这边你可写可不起啊 这边cancel

29:17.590 --> 29:22.790
price的好 然后加这边 这边调用了之后 然后我们这边的话就该做什么事情

29:23.430 --> 29:25.510
这边的话 我们是不是就是应该是执行这个事

29:27.990 --> 29:34.630
是不是就应该做这个事 对吧 okay 稍微优化一下下 好来这边的话 保存一下

29:35.910 --> 29:41.350
保存了 这边来看一下 啊 这边历史 历史这边有啊 我们这边点一下

29:42.070 --> 29:50.150
是不是是否要清楚所有的历史记录啊 点这个取消啊 没有清楚 好 大家这边点击这个ok 是不是就清楚了

29:51.110 --> 29:55.110
对吧 这个ok 有点突兀啊 然后这边改成这个确定嘛

29:56.790 --> 30:01.670
确定 ok 啊 然后我们整个这个就做完了

30:03.350 --> 30:13.110
好吧 啊 整个这个翻译的这个应用 我们就做完了怎么样啊 这个的话 是不是就是把我们之前的整个这个学的东西

30:13.590 --> 30:19.750
基本上就串起来了 对吧 包括什么导航啊啊 然后加这个状态管理啊

30:20.310 --> 30:24.870
各种组建啊 API啊 发送请求啊 什么就都串起来了

30:25.750 --> 30:33.190
对不对 okay 啊 说这个案例的话 其实还是蛮有意义的 啊 但下来的话 把这个案例自己把它好好做一下

30:33.990 --> 30:42.550
好不好 okay 啊 这些课就先到这里啊 我们整个这个小项目就结束了啊 我们后面的话就再找一个大一点

30:43.350 --> 30:47.990
找个大点的来做 okay 啊 这些课就先到这里啊 拜拜

