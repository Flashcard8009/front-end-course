WEBVTT

00:00.880 --> 00:02.280
OK 欢迎回来

00:02.840 --> 00:07.200
马上节课的话我们已经把就是三个静态页面啊已经搞定了

00:07.760 --> 00:14.440
那我们这些课的话我们来实现这个最重要的功能就是这个翻译 是吧 你作为一个翻译的一个应用

00:14.840 --> 00:18.800
那肯定要做这个翻译 好那这个翻译的话我们之前的话是写死的

00:19.360 --> 00:27.520
对吧 那你现在的话你这边就不能写死了 那我们这边首先我们来盘一下这个逻辑啊 你要做翻译的话你这边首先第一步应该干嘛

00:28.480 --> 00:31.440
第一步的话什么就是应该是获取用户的输入呀

00:32.480 --> 00:39.640
对不对 先获取用户的输入 获取了用户的输入之后 然后接下来再调用对应的这个后台接口

00:40.720 --> 00:46.000
啊 进行一个翻译啊 说说我们这边我们首先的话 我来获取一下这个用户的输入

00:46.560 --> 00:50.880
那这边的话我们把它变成一个收控组件 这边的话import

00:51.600 --> 00:52.800
这边use

00:54.800 --> 00:57.120
stats fromreact

00:58.080 --> 01:03.840
好 然后接下来在这里这里的话我们就需要维护一个状态啊 我们这边const

01:04.560 --> 01:10.560
一个content 然后set content等于一个use

01:11.280 --> 01:11.680
stat

01:13.440 --> 01:18.240
对吧 好 然后加一会的话还会有个东西来装结果哈 我们这边顺便就

01:18.960 --> 01:22.720
把它一起 把它出使化了 这边一个result

01:23.440 --> 01:24.320
那set

01:25.520 --> 01:28.560
result 等于一个usestat

01:29.680 --> 01:32.640
ok 好吧 注释写下哈 这个的话是存储

01:33.680 --> 01:42.240
存储用户输入内容的状态 这个是存储什么呢 这个是存储翻译结果

01:43.200 --> 01:45.760
存储翻译结果

01:46.560 --> 01:51.760
ok 好 大家回头的话你在这边这个text input

01:52.400 --> 01:54.960
这边的话你就需要写这个value

01:56.720 --> 01:59.680
value 它就应该等于什么 什么等于这个content

02:01.120 --> 02:06.480
对吧 好 大家还有个什么 还有一个是unchanged

02:07.680 --> 02:08.080
text

02:09.040 --> 02:10.640
啊 它就应该是等于什么呢

02:11.520 --> 02:20.320
这边的话就是啊 接收用户的输入 接收了之后 然后进来这边调用set content把用户的输入传进去

02:20.960 --> 02:24.720
啊 那回头的话 这边用户输入的内容是不是存到这个content里面了

02:25.680 --> 02:30.000
对不对 ok 好 然后接下来的话在这个下面

02:30.640 --> 02:37.200
下面的话你就需要绑定一个点击事件了啊 所以我们在这边 我们就输写un

02:38.160 --> 02:38.720
price

02:39.040 --> 02:43.040
等于一个什么呢 等于一个price handle

02:44.480 --> 02:46.880
对吧 好 然后接下来到这上面

02:47.680 --> 02:52.560
这边那是不是就要来输写具体的这个事件处理还说

02:53.600 --> 02:59.840
price handle 那首先的话第一步 第一步的话是拿到这个content啊 我们这边呢我们判断一下

03:00.240 --> 03:01.600
一符content

03:02.400 --> 03:04.640
也就是你这边的话有这个值的时候

03:05.360 --> 03:10.000
那内容就是你这边这个文本数框有值的时候 我们是不是进行翻译

03:11.760 --> 03:12.400
进行

03:14.560 --> 03:19.200
翻译 对吧 那进行翻译无外货就是什么 是不是调用这个

03:19.760 --> 03:23.360
一些这个就是别人提提供好的这个接口啊

03:24.480 --> 03:28.320
对吧 好 那我们这边的话 我们这个小程 不是小程序 我们这个app

03:28.880 --> 03:34.240
啊 都叫做这个百度翻译 所以我们这边用的是这个百度翻译的这个接口

03:35.040 --> 03:37.520
啊 你这边的话 你打开百度 你搜索一下啊

03:39.040 --> 03:43.120
这边你搜索百度翻译啊 你后面要加一个api

03:43.840 --> 03:48.720
知道吧 你这边的话 你如果不加api 让他百度翻译他搜索出来的 他是他是这个东西

03:50.000 --> 03:54.640
搜索出来是这个东西啊 你这边呢 你要加一个这个api

03:57.020 --> 04:03.260
然后api他这边都前几个都还是别家公司的啊 这个这个才是他家公司的

04:03.900 --> 04:07.340
啊 或者你这边直接搜索这个百度翻译开放平台

04:08.540 --> 04:13.260
ok 搜索这个啊 搜索这个 然后接下来这边你点击进去

04:14.140 --> 04:19.340
点击进去之后 然后接下来的话 你首先你肯定要有个百度的账号啊 这些就不说了啊

04:19.820 --> 04:23.580
好 然后这样这边他有一个产品和服务 看到没有 就上面

04:24.300 --> 04:29.500
上面有一个产品服务 产品和服务 然后里面我们就有一个债献翻译

04:29.660 --> 04:34.860
哎 就有一个哎 就有个这个债献翻译 这边是不是有个通用翻译

04:35.820 --> 04:36.860
对不对 你点击进去

04:38.140 --> 04:42.620
点击进去之后 然后接下来这边 这边他就会有一个这个揭入文档

04:43.100 --> 04:49.500
啊 那我们这边呢 就看一下他的这个揭入文档啊 其他的哈 就以后你做那个比如说什么地图啊

04:50.220 --> 04:55.500
啊 或者这个支付啊 这些都是一样的 你要去官方看他的这个揭入文档

04:56.140 --> 04:58.380
人家上面会给你写如何进行揭入

04:59.340 --> 05:02.540
没有吧啊 那你这边你点击一下这个揭入文档

05:03.260 --> 05:12.540
好 然后接下来这边是不是有这个步骤啊 首先的话你这边需要就是使用您的百度账号登录啊 那这一步我们已经做了

05:13.020 --> 05:18.300
啊 第二步 第二步的话是注册成为开发者获得这个app id

05:19.580 --> 05:23.660
ok 就你那边你要授权一下 我这边的话我已经授权了啊

05:23.980 --> 05:28.060
说他这边是直接点击进来 你们的话应该是会有一个这个开通

05:29.180 --> 05:38.700
就你点进来的时候你点这边通用翻译啊 这边下面下面应该有个按钮 就是要求你这个开通是否开通啊 我这边他已经开通了

05:39.420 --> 05:43.900
好 然后接下来话这边这边就看他的这个文档 那你这边你可以看一下

05:44.620 --> 05:49.580
这边呢 他这个通用翻译的这个api啊 这边是https

05:50.460 --> 05:52.220
ok 那整个是这个

05:53.180 --> 05:57.020
怎么样 好 然后接下来他这边需要那么几个东西哪几个呢

05:58.300 --> 05:59.980
首先需要你的app id

06:00.780 --> 06:04.860
啊 这边的app id可以在这里来看 那你这边点过去

06:05.660 --> 06:12.620
点过去之后如果你刚才开通了 开通了之后他就会分配一个这个app id和一个这个meo给你

06:13.660 --> 06:19.260
怎么样啊 这边他会分配给你 那这边的这个app id和meo你把它拿到

06:19.900 --> 06:24.140
拿到之后 然后接下来他还需要什么呢 你看一下 他这个下面他这边有

06:24.860 --> 06:27.420
这边就这几个参数是必要的

06:28.940 --> 06:33.580
怎么样 就整个整个这几个参数是必要的 好 首先这个q

06:34.380 --> 06:40.460
q对应的是什么呢 q对应的是其实就是query 就是你要翻译的这个文本

06:41.180 --> 06:45.900
好front front的话就是翻译的这个语言就原来的语言是什么

06:46.380 --> 06:52.060
那这个22的话就是你的目标语言是什么啊front的话你可以设置为auto

06:52.380 --> 06:57.020
那是2的话你不能设置为auto啊 那接下来的话是你的app id

06:57.740 --> 06:59.740
那接下来是你的这个sort

07:01.260 --> 07:03.740
sort他这边是一个随机数

07:04.460 --> 07:10.220
啊你可以是字母或者这个数字的这个支付串啊最后最后是有个签名

07:11.180 --> 07:15.740
可不可以啊 签名的话是什么呢 签名的话是你的app id

07:16.300 --> 07:24.380
加上你要翻译的内容 加上你刚才的那个随机数啊 再加上这个密要那整体加起来

07:25.660 --> 07:29.900
整体加起来 然后接下来再进行一个md5的这个转换

07:31.340 --> 07:37.020
可不可以啊 再进行个md5的转换 那整个就是必须要传的其实就是这些直段

07:37.980 --> 07:43.420
那有了同学的话就说前面几个好像还好是吧 后面这个这个签名这个

07:43.980 --> 07:51.100
啊又设计到什么md5 感觉好复杂啊 没关系啊 我那边的话我已经给你写好了啊 这边呢只是带着你看一下

07:52.540 --> 07:53.660
好 然后接下来下面

07:54.780 --> 07:59.820
嗯 下面 下面的话就会有这个不同的这个语言 这边语言的这个列表

08:00.780 --> 08:07.980
看到没有 他这边语言的这个列表 这边呢比如说英语英语的话对应的就是en 日语对应的就是jp

08:08.540 --> 08:15.180
西班牙语对应的就是这个sp 俄语对应的就是ru 他这边就会有这个代码 这个代码的话就是什么

08:15.660 --> 08:17.180
就是你一会你这边

08:19.180 --> 08:28.060
你这边你这个to的时候 to的话对应的值是不是就是你要设这个值啊 对不对 那值的话就对应比如en啊或者jp啊就对应这些值

08:28.380 --> 08:29.580
就是你的目标语言

08:30.380 --> 08:33.420
ok 好 首先首先的话这边大致看一下啊

08:34.540 --> 08:38.940
看一下之后 然后接下来回到我们代码这边 代码这边的话大家还记不记得

08:39.580 --> 08:47.580
啊 之前的话我说了这边这个api这边 我已经把它封装好了啊 这边来看一下嘛 首先的话这边这个是一个md5

08:48.620 --> 08:54.540
这是做加密的啊 这是做加密的 这里不用管他 好 然后加这边这个trice net

08:55.260 --> 09:00.860
trice net 这边大家看一下啊 你这边先把它折起来 你看一下我这边引入了什么

09:01.420 --> 09:03.180
是不是引入了md5

09:04.220 --> 09:10.300
然后引入了我自己的这个app id 以及这个key 对不对 这个是百度翻页

09:13.200 --> 09:18.560
百度翻页对应的这个app id

09:19.600 --> 09:21.680
以及密要啊

09:22.400 --> 09:28.400
那你这边的话 你到时候的话 你这边的话就把它改成你自己的

09:29.600 --> 09:34.320
ok 就改成你自己了 你就是你申请了之后 你把它改成你自己的就可以了

09:34.880 --> 09:38.480
好 然后现在这边这边的话 是不是默认导出了一个函数呀

09:39.200 --> 09:43.680
trice net funk啊 那我们这边我们来看一下啊 这边接受那么几个参数

09:44.160 --> 09:47.360
这边首先是q q的话是你要翻译的这个文本

09:48.000 --> 09:50.640
好 然后加这边这边的话 会有一个这个from

09:52.400 --> 09:55.200
ok 好 这边呢 首先创建这个sort

09:55.760 --> 09:58.720
这sort的话 我这边用的就是这个时间戳

09:59.440 --> 10:05.360
看到没有 然后加这边这个是签名 签名的话 这边你看和这里是不是就是一样的

10:06.880 --> 10:14.160
是不是就是你的app id 加上你的要翻译的内容 加上你的sort 加上你的密要 整体的md5字

10:15.040 --> 10:19.840
对不对 那你看我这边是不是 app id 以及我这个要翻译的内容

10:20.320 --> 10:26.960
以及我的这个sort 就上面的那个随机数 那以及这个key 那整体的话 然后将我这边调用这个md5

10:27.200 --> 10:29.440
md5是这边引进来的

10:30.240 --> 10:34.720
这就进行一个加密了 然后加密之后 然后加这边就是调这个废起方法

10:35.680 --> 10:43.280
废起 然后加这边呢 就是百度翻译的那个地址 然后加上什么呢 加上这个q 等于这个q 就按照这来

10:44.080 --> 10:47.920
你就按照这来q 等于什么front 等于什么true 等于什么

10:48.480 --> 10:54.480
啊 让app id 等于什么 看到没有啊 这边就一步一步来q 等于你传过来的q

10:55.200 --> 11:02.080
front 等于你这边传过来的这个front to 等于你传过来的这个true 让app idsort

11:03.680 --> 11:11.440
啊 然后加这边他是一个get 方法啊 整体的话 这边的话我会干嘛呢 整体的话我这边会返回一个promise

11:12.400 --> 11:20.800
上面啊 返回一个promise 那你在外层的话 你就调用了我这个trousenet func之后 那后面就可以跟着干嘛

11:21.280 --> 11:24.320
这就可以点认啊 是不是就可以点认

11:25.200 --> 11:29.120
对不对 ok 那这个的话就是我们这个方法啊

11:29.760 --> 11:35.120
好 这方法介绍完了之后 让家回到这边 那这边的话 是不是应该把那个方法

11:35.680 --> 11:38.960
把它引入进来啊 所以我们这边的话 import

11:42.240 --> 11:45.440
trousenet 然后front

11:47.360 --> 11:52.800
这边的话就是应该是api 下面的这个trousenet ok

11:53.440 --> 11:57.200
好 然后既然这边就是调什么 是不是调这个trousenet方法

11:58.880 --> 12:01.840
啊 然后加这边你需要传递什么呢 首先第一个参数

12:02.320 --> 12:06.000
第一个参数是你要翻译的文本 我要翻译的文本是不是就是content

12:06.400 --> 12:12.560
对吧 好 第二个 第二个的话是一个对象 对象这边的话会有这个front

12:15.040 --> 12:16.400
front的话你可以写auto

12:17.600 --> 12:22.880
好 然后加这边to to的话是不能写auto 那么这边先写死 我们就翻一层英语

12:23.840 --> 12:28.080
好吧 就翻一层英语 好 然后接下来的话 这边会有一个

12:28.720 --> 12:30.000
我们可以继续点

12:31.120 --> 12:34.320
认 对吧 好 然后下这边的话

12:35.040 --> 12:36.960
我们打印出来看一下

12:37.920 --> 12:39.440
这边res

12:40.080 --> 12:40.880
保存

12:41.600 --> 12:47.280
保存了之后 然后既然我们这边我们来看一下 看一下好不好使

12:47.920 --> 12:49.120
好 这边我们来输入

12:49.680 --> 12:50.320
比如说

12:51.120 --> 12:52.240
你好

12:52.720 --> 12:59.730
输入了之后 然后加你要点一下这个区域 点一下区域它才会触发

13:00.210 --> 13:03.570
触发这个事件 是吧 触发这个price handle

13:04.050 --> 13:05.650
然后加我们这边我们点一下

13:06.530 --> 13:07.810
你看这边出来没有

13:07.810 --> 13:11.730
出来了 对不对 好 我们这边再来一个

