WEBVTT

00:00.620 --> 00:07.260
OK 欢迎回来 这节课的话 咱们还是继续来看这个API 这节课的话和上节课一样

00:07.700 --> 00:13.460
就是快速的过一下 不会太长 这节课的话是设备相关的这个API

00:14.060 --> 00:19.020
它主要就是获取这个当前用户 它这个设备相关的一些这个信息

00:19.660 --> 00:25.300
那么你可以根据这个设备信息 不同的这个设备信息 你可以做一些不同的操作

00:26.020 --> 00:30.980
那这边的话有这么三个 一个是platform 这是平台的意思

00:31.540 --> 00:35.380
啊 然后platform corner 然后还有一个是appearance

00:36.100 --> 00:41.780
好 每一个一个来看啊 这些的话我就直接把代码粘过去 我们看一下就可以了 因为这些都很简单

00:42.420 --> 00:44.820
OK 我这边现在开始下暴雨了

00:45.620 --> 00:46.340
哇 好大的雨

00:47.460 --> 00:48.740
OK啊 继续吧

00:49.620 --> 00:54.660
啊 platform 主要用于获取设备的相关信息

00:55.140 --> 00:58.020
我们把这个官网的例子 我们把它看一下就可以了

00:58.740 --> 01:01.140
我们把这边拿过来

01:03.720 --> 01:06.200
啊 这个是platform

01:07.240 --> 01:10.040
OK啊 把这个代码大致漏一眼

01:11.160 --> 01:12.120
哇 好大的雷啊

01:12.920 --> 01:15.480
好 这边的话这个platform

01:16.040 --> 01:22.760
OK啊 大家我们看一下它怎么用的 因为它这边呢 直接就从这个platform啊 这边上面点os

01:23.320 --> 01:29.080
点vidion 点是否是这个电视啊 对吧 一直tv 一直这个pad

01:29.640 --> 01:33.000
OK 是不是直接在那用 OK 来我们这边我们来看一下

01:34.280 --> 01:37.560
保存啊 保存了之后要投下屏哈

01:38.200 --> 01:40.920
稍等一下啊 屏头一下

01:46.470 --> 01:48.070
啊 然后

01:49.990 --> 01:51.350
这怎么半天没出来呢

01:52.070 --> 01:52.950
啊 稍等一下

01:53.670 --> 01:55.350
好 看看我网络是不是有问题

01:57.700 --> 01:59.940
我这边网络的话

02:01.060 --> 02:03.620
网络 你们听得到我这儿的语声不

02:04.500 --> 02:05.940
啊 这边语声超级大

02:07.380 --> 02:08.020
啊 对的呀

02:09.540 --> 02:11.220
这边投屏在投不了了呢

02:13.220 --> 02:14.500
我重新再再找一下

02:15.540 --> 02:16.020
投屏

02:20.360 --> 02:22.520
这边投屏找不到设备了

02:22.520 --> 02:24.920
好 稍等啊 我这边的话我看一下怎么回事

02:26.600 --> 02:29.560
OK 这边的话然后投屏立即开始

02:30.040 --> 02:32.040
我刚才出了点问题啊 这会儿OK了

02:32.520 --> 02:34.120
好 来我们这边让我们来看一下

02:34.440 --> 02:35.400
这边进来

02:38.420 --> 02:40.020
啊 不要这个有出问题啊

02:40.420 --> 02:41.780
这二人开发真的是

02:42.900 --> 02:44.740
好 然后这里的话

02:45.940 --> 02:47.380
OK 算了 看到没有

02:47.860 --> 02:51.380
好 这边让你看通过这个platform.os

02:51.860 --> 02:54.100
啊 这边是不是可以拿到我当前的这个设备

02:54.580 --> 02:56.900
是安卓对吧 再加这边这个vidion

02:57.620 --> 02:59.460
28 这是他的一个版本号

03:00.100 --> 03:03.540
然后是否是电视啊啊 然后加这边是force

03:05.460 --> 03:08.420
然后这个是easypad

03:09.860 --> 03:11.940
easypad 我看这个是easy tv

03:13.380 --> 03:15.140
哦 这这边呢是做了个判断

03:15.460 --> 03:16.900
做了个判断啊

03:17.460 --> 03:20.180
好 然后接下来的话 这边这边有个constance

03:20.180 --> 03:24.020
constance下面 然后加这边platform orconstance

03:24.020 --> 03:25.060
这边就获取什么

03:25.380 --> 03:26.340
是获取我这个

03:26.980 --> 03:28.020
很多的这个信息

03:28.500 --> 03:31.140
比如这边这个设备 设备的话是小米

03:31.540 --> 03:34.580
看到没有啊 是否是测试force

03:35.140 --> 03:37.140
然后还有一些这个其他的这个信息

03:38.020 --> 03:40.980
OK 那说说我们通过这个platform的话

03:40.980 --> 03:44.260
我们就可以获取到我当前设备的一些信息

03:44.660 --> 03:46.660
那你如果想通过这个设备

03:46.980 --> 03:48.340
对吧 你判断这个os

03:48.980 --> 03:50.340
比如说经常用的就是什么呢

03:50.340 --> 03:52.260
就是这边platform.os

03:52.900 --> 03:56.020
是否等于安卓 如果等于安卓啊做一套操作

03:56.500 --> 03:59.220
否则的话 然后加判断它是否是os

03:59.220 --> 04:01.300
如果是os 做一套操作

04:01.700 --> 04:04.100
OK 这是第一个api

04:05.780 --> 04:06.660
好 那第二个

04:07.220 --> 04:09.700
第二个的话叫做platform color

04:10.260 --> 04:14.340
这个的话是就是每个平台都有系统定义的这个颜色

04:15.060 --> 04:16.660
啊 就是你这个不同的平台

04:16.660 --> 04:17.780
比如说像os

04:17.780 --> 04:20.580
os里面他有一些自己平台的这个颜色

04:20.980 --> 04:24.260
那安卓 安卓的话会有他自己一些平台的颜色

04:24.980 --> 04:27.460
那么通过这个platform color的话

04:27.860 --> 04:30.900
我就可以设定这个这种平台颜色

04:31.380 --> 04:33.300
原来他这个名字也非常直白对吧

04:33.300 --> 04:35.460
platform是刚才那个平台的意思

04:35.860 --> 04:36.980
color的话是颜色

04:37.780 --> 04:39.620
OK 我们来看一下啊

04:40.100 --> 04:42.180
RN从0.63版本开始

04:42.740 --> 04:45.300
提供了一个开箱举用的解决方案

04:45.620 --> 04:47.940
使用什么呢 使用这种系统颜色

04:48.260 --> 04:50.020
也就是我们刚所说的平台颜色

04:50.740 --> 04:52.420
啊 他是一个新的api

04:52.420 --> 04:54.340
他可以像这个颜色一样使用

04:55.140 --> 04:56.260
比如这边举了个例子

04:56.740 --> 04:57.540
比如os

04:57.540 --> 05:01.540
os里面提供了一个颜色叫做label color

05:02.020 --> 05:04.340
而让我这边你看我在设置color的时候

05:04.340 --> 05:06.500
我们之前设置color是不是什么什么颜色

05:07.060 --> 05:09.700
对吧 你看他这边的就是platform color

05:09.700 --> 05:10.820
他是一个方法

05:10.820 --> 05:13.220
那这样这边呢 传入label color

05:14.260 --> 05:16.500
啊 如果是安卓 安卓的话你看这边

05:17.460 --> 05:19.300
设置bengual color

05:19.300 --> 05:20.820
啊 以前的话是直接设置的

05:20.820 --> 05:23.060
就是他的这个背景颜色

05:23.700 --> 05:27.220
具体是什么颜色啊 红色啊 蓝色啊之类的

05:27.220 --> 05:29.620
啊 这边呢就是platform color

05:29.620 --> 05:31.780
啊 让家这边传入了一个这个制服串

05:32.340 --> 05:35.460
啊 这边问号attr color bottom normal

05:36.020 --> 05:37.700
啊 当然有的同学可能会觉得

05:37.700 --> 05:40.340
哎 这个这个上面这个我还能够理解是吧

05:40.340 --> 05:41.300
label color

05:41.300 --> 05:43.940
为什么这个这个制服串有点奇怪呢

05:44.500 --> 05:45.700
啊 这个呢其实就是他

05:45.700 --> 05:48.340
安卓里面他具体的一些这个颜色

05:48.740 --> 05:52.020
对应的这个制服串了啊 这个的话你不需要去申究他

05:52.020 --> 05:53.940
ok 这个是安卓这个平台

05:53.940 --> 05:57.220
他一些特殊的颜色啊 所对应的这个制服串

05:57.940 --> 05:58.260
ok

05:58.900 --> 06:02.660
啊 你这边的话啊 这边还有一个叫做dynamic

06:03.220 --> 06:06.340
啊 dynamic dynamic color this iOS

06:07.060 --> 06:11.620
可以定义浅色和深色模式下使用的这个颜色

06:12.180 --> 06:13.380
那我们这边来看一下嘛

06:13.940 --> 06:15.540
啊 这边他同样是个api

06:15.700 --> 06:16.100
看到没有

06:17.220 --> 06:20.740
dynamic color iOS啊 这边呢首先引入

06:21.140 --> 06:24.420
引入了之后让一下这边来传入一个对象

06:24.900 --> 06:27.060
传入一个对象让一下这边可以设置

06:27.380 --> 06:29.540
就你这边呢是深色模式下

06:30.180 --> 06:33.380
对应什么颜色 浅色模式下对应什么颜色

06:33.860 --> 06:35.940
啊 回头你看我这个文本在设置的时候

06:35.940 --> 06:39.220
这边呢就是设置为他这个dynamic color iOS

06:39.220 --> 06:42.660
你调了这个方法之后啊 这边有一个这个返回值

06:43.060 --> 06:44.580
你拿一个变量来接受一下

06:44.980 --> 06:48.660
回头我在设置color的时候 是不是就把color设置为他

06:49.700 --> 06:53.540
对吧 那这边的话在是这个不同的这个模式下面

06:53.860 --> 06:56.420
啊 就是深色和浅色的模式下面

06:56.740 --> 06:59.060
你对应了这个颜色他就不一样

07:00.180 --> 07:00.580
OK

07:01.140 --> 07:04.020
啊 然后最后呢是一个官方的例子 我们看一下吧

07:05.220 --> 07:06.340
把这个例子看一下

07:08.260 --> 07:09.620
啊 把这个注射掉

07:11.540 --> 07:13.700
这些的话你快速过一下就可以了啊

07:14.820 --> 07:17.380
platform color

07:17.380 --> 07:17.860
是吧

07:19.740 --> 07:21.580
我们来看一下他这个官方的例子

07:21.580 --> 07:24.220
官方的例子的话首先这个这个是样式

07:24.780 --> 07:27.100
样式完了之后这边是引入主键

07:27.420 --> 07:28.380
啊 这个就不说了

07:28.700 --> 07:31.020
好 然后接下来这边这边呢是这个container

07:31.660 --> 07:33.740
首先第一个container 是吧

07:33.740 --> 07:34.780
这个没什么好说的

07:34.780 --> 07:37.100
好 然后接下来这边这边这个test

07:37.100 --> 07:38.940
他对应的这个颜色啊

07:38.940 --> 07:41.820
就或者说对应的样式是一个styles点label

07:42.300 --> 07:44.940
啊 重点其实就是什么 重点就是这个label

07:45.740 --> 07:46.780
label 我们来看一下

07:47.340 --> 07:50.300
这边的话pidings16这个没什么好说的

07:50.300 --> 07:52.060
好 这边platform

07:52.700 --> 07:53.980
点select

07:54.620 --> 07:58.060
这边点点点platform点select

07:58.780 --> 07:59.900
这个是什么意思啊

07:59.900 --> 08:03.020
这个呢是不是就是platform上面给你提供了一个方法

08:03.580 --> 08:05.420
那你这边的话你就要去看一下了

08:06.860 --> 08:09.660
这边让你就要去看一下那个platform

08:10.700 --> 08:13.820
platform在这边啊看到有没有这个方法

08:13.820 --> 08:14.540
这边是有啊

08:15.580 --> 08:17.340
看到没有select

08:17.340 --> 08:19.180
啊 看一下这边中文他翻译没有

08:20.140 --> 08:21.980
还有些东西他没有翻译啊

08:22.700 --> 08:24.460
没有翻译你就只有看英文的啊

08:24.460 --> 08:26.460
这个也没翻译 那就只有看英文的

08:27.100 --> 08:30.700
而这边的话returns the most fading value

08:30.700 --> 08:33.820
for the platform you are currently running on

08:34.460 --> 08:36.620
啊 这句英文的话其实也不难

08:36.620 --> 08:37.820
就是他会返回什么呢

08:37.820 --> 08:40.460
返回就是最适合的这个值啊

08:40.460 --> 08:44.300
对于你当前的这个系统或者说当前的这个设备

08:45.020 --> 08:47.420
ok 那这边呢传入的是一个什么呢

08:47.420 --> 08:48.780
传入的是一个对象

08:49.340 --> 08:50.380
是一个配置对象

08:50.860 --> 08:53.100
这个配置对象里面包含这些属性

08:53.580 --> 08:56.220
android iOS native default

08:57.260 --> 08:59.660
看到没有啊 你可以看一下他这边的这个例子

09:00.140 --> 09:01.420
你看他这边是不是就是这样子用的

09:02.140 --> 09:05.020
看到没有啊点点点platformselect

09:05.020 --> 09:06.860
那传入一个配置对象

09:07.260 --> 09:09.180
这个对象里面就是有Android

09:10.060 --> 09:11.500
对应的背景颜色是什么

09:11.900 --> 09:14.540
iOS对应的这个背景颜色是什么

09:15.020 --> 09:17.340
好 大家这边这个是默认是吧

09:17.340 --> 09:18.460
默认背景颜色

09:19.180 --> 09:22.060
ok 那你看到这个之后你回头再来看这个代码

09:22.860 --> 09:24.380
这也是一样的对不对

09:24.380 --> 09:26.140
这个是iOS下面的颜色

09:26.700 --> 09:27.980
安卓下面的颜色

09:29.260 --> 09:30.700
然后这个是default

09:31.900 --> 09:33.500
对吧 然后这个iOS里面

09:33.500 --> 09:35.020
iOS里面你看他这边这个

09:36.460 --> 09:39.180
platform counter 然后下这边是这个label

09:39.820 --> 09:42.300
然后下这边是platform counter

09:42.300 --> 09:43.820
system to counter

09:44.300 --> 09:46.540
然后安卓 安卓下面的话这边对应的

09:46.540 --> 09:48.140
这个是不是就是安卓下面的

09:48.700 --> 09:50.620
一些特殊的这个系统颜色

09:51.740 --> 09:52.940
对吧 ok

09:53.500 --> 09:56.540
然后这是这个platform counter

09:56.540 --> 09:57.980
好 我来看一下是什么效果呢

09:58.620 --> 10:00.220
我现在是安卓是吧

10:00.220 --> 10:02.060
我看一下这个现在是什么样子

10:02.860 --> 10:05.260
这边出来了 这边现在就是这个样子的

10:05.980 --> 10:08.860
那这边对应的Banguang counter对应的就是一个

10:09.420 --> 10:10.700
是不是一个蓝色

10:11.180 --> 10:11.980
淡蓝色是吧

10:12.780 --> 10:13.820
blue braids

10:14.380 --> 10:16.060
大家这边对应了有一个这个

10:16.460 --> 10:19.260
文本的颜色 默认其实应该就是个黑色

10:20.620 --> 10:21.020
ok

10:21.980 --> 10:23.980
这是关于platform counter

10:24.540 --> 10:27.820
最后一个 最后一个的话是这个appearance

10:28.540 --> 10:31.260
appearance的话主要是用于获取这个

10:31.260 --> 10:33.660
用户当前的这个外观篇

10:34.540 --> 10:35.420
我们知道现在的话

10:35.420 --> 10:38.780
我们的手机这个系统一般是可以设置

10:38.780 --> 10:41.500
比如说浅色模式 深色模式

10:42.220 --> 10:43.340
对吧 那有些时候的话

10:43.340 --> 10:44.860
我需要根据这个不同

10:44.860 --> 10:47.900
就是用户设置了这个不同的这个色彩模式

10:48.700 --> 10:52.540
然后我来就是给出不一样的这个配色方案

10:53.420 --> 10:53.740
ok

10:54.300 --> 10:56.460
好 那这边对应了只有三个

10:56.460 --> 10:58.540
有这个nite有dark

10:58.540 --> 10:59.180
这个dark

10:59.740 --> 11:00.940
nite就是浅色

11:00.940 --> 11:02.220
dark就是深色

11:02.780 --> 11:05.260
这个就是没有选择外观篇号

11:05.660 --> 11:06.860
好 那我们这边我们来看一下吧

11:10.150 --> 11:11.990
好 这边那是appearance

11:12.710 --> 11:15.030
把这个注射掉吧

11:19.820 --> 11:23.340
appearance

11:24.460 --> 11:25.980
就是外观篇号

11:30.200 --> 11:30.920
ok

11:30.920 --> 11:32.120
好 那我们这边来看一下

11:32.760 --> 11:34.840
这边的话引入了appearance

11:35.480 --> 11:36.600
用法也很简单

11:36.600 --> 11:37.720
这边呢就是直接

11:37.720 --> 11:38.920
它调一个方法

11:38.920 --> 11:41.000
叫做get counter这个scammer

11:41.880 --> 11:43.240
就是获取它的这个

11:43.880 --> 11:45.640
当前的颜色篇号

11:45.640 --> 11:46.840
深色还是浅色

11:47.400 --> 11:48.760
好 那我们这边我们来看一下

11:50.440 --> 11:50.920
保存

11:52.280 --> 11:54.120
然后这边外观篇号

11:54.120 --> 11:55.400
这边呢是不是nite

11:56.440 --> 11:56.920
对吧

11:56.920 --> 11:59.000
因为我现在呢是浅色模式

11:59.000 --> 11:59.800
浅色模式的话

11:59.800 --> 12:01.000
这边就是一个nite

12:01.640 --> 12:03.880
你如果切换到这个深色模式

12:03.880 --> 12:05.560
它这边就是dark

12:06.040 --> 12:06.840
你回头的话是不是

12:06.840 --> 12:08.760
就是可以通过获取这个值

12:08.760 --> 12:11.160
然后给出不一样的这个配色方案

12:12.200 --> 12:12.600
对吧

12:13.320 --> 12:13.640
ok

12:14.200 --> 12:17.640
这就是关于这个设备相关的这个api

12:18.200 --> 12:20.360
这个快速过一遍就可以了

12:20.360 --> 12:22.120
这个没必要花太多的时间

12:22.760 --> 12:23.160
好吧

12:23.720 --> 12:24.360
ok

12:24.360 --> 12:26.120
这节课就先到这里

12:26.120 --> 12:26.680
再见

