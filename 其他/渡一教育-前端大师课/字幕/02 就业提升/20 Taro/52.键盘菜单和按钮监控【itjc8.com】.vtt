WEBVTT

00:00.000 --> 00:03.000
好 我们这堆课继续讲解Tarot的系列课程

00:03.000 --> 00:07.200
这堆课呢 讲解一下键盘 界面和空键的

00:07.200 --> 00:10.400
它可以使用到的一些API的操作

00:10.400 --> 00:14.400
在Tarot中呢 我们根据现在的一些

00:14.400 --> 00:16.800
啊 界面的一些需求

00:16.800 --> 00:18.800
我们有时候需要得到

00:18.800 --> 00:22.400
比如说当前你这空键它具体的位置

00:22.400 --> 00:26.800
还有 界面上面呢 你是否有一些菜单出现

00:26.800 --> 00:29.000
包括是我们的键盘 对吧

00:29.000 --> 00:33.000
键盘有高度 也有键盘的一些显示

00:33.000 --> 00:37.000
同时呢 我们有时候会去做 特别在Pad上面

00:37.000 --> 00:41.000
我们会去做小程序的一个屏幕的转换

00:41.000 --> 00:46.000
那么屏幕转换过程中呢 我们也能得到界面的一些数据

00:46.000 --> 00:50.000
那么这三个操作呢 相对而言呢都比较简单

00:50.000 --> 00:52.000
但是我们把它放在一起来讲

00:52.000 --> 00:57.000
主要的是能够去监控我们的一些数据和内容的变化

00:57.000 --> 01:04.340
好 我们现在来 首先呢 我们去创建一个简单的界面

01:04.340 --> 01:07.340
界面呢 我们写出来的是

01:07.340 --> 01:14.250
我们就以key来做啊 我们以键盘来做

01:14.250 --> 01:22.090
或者说 空键的监控 空键的key

01:22.090 --> 01:25.090
我们这个命名 从键盘来讲

01:25.090 --> 01:34.740
这里边呢 我们就写成index了

01:34.740 --> 01:35.740
jxx

01:35.740 --> 01:40.270
好 我们也不做样式结构了

01:40.270 --> 01:46.270
我们直接对它里面进行一个简单的布局

01:46.270 --> 01:49.270
首先引入terror

01:49.270 --> 01:52.270
然后呢 这上面我们做一个component

01:52.270 --> 01:55.480
from

01:55.480 --> 01:59.200
terror

01:59.200 --> 02:04.280
import

02:04.280 --> 02:05.280
view

02:05.280 --> 02:10.540
from

02:10.540 --> 02:14.170
terror component

02:14.170 --> 02:15.170
expert

02:15.170 --> 02:16.170
default

02:16.170 --> 02:19.950
class

02:19.950 --> 02:26.240
index

02:26.240 --> 02:30.450
extends

02:30.450 --> 02:34.040
component

02:34.040 --> 02:35.040
randow

02:35.040 --> 02:42.470
return

02:42.470 --> 02:57.090
咱们称之为就是country

02:57.090 --> 03:04.220
把它放到我们的app.jxx里面去

03:04.220 --> 03:11.690
pagers

03:11.690 --> 03:15.690
然后是后面是country

03:15.690 --> 03:17.690
key

03:17.690 --> 03:19.690
con

03:19.690 --> 03:24.240
index

03:24.240 --> 03:25.240
保存

03:25.240 --> 03:32.380
让它编译一下 编译完成 让它生成一下

03:32.380 --> 03:34.380
OK 生成完成了

03:34.380 --> 03:37.380
接下去呢 我们再打开我们现在的页面

03:45.830 --> 03:47.830
面面闪了一下

03:48.830 --> 03:51.830
它关掉了 我们重开一下

03:51.830 --> 03:54.830
看一下 它刚才自己闪了一下

03:54.830 --> 03:57.830
然后关掉 我们重启一下 重新打开它

03:57.830 --> 03:58.830
看到country

03:58.830 --> 04:00.830
这个页面已经被出来了

04:00.830 --> 04:03.830
好 那么紧接着呢 我们来做这个页面

04:03.830 --> 04:09.780
做第一个功能 就是我们可以去获取

04:09.780 --> 04:22.700
空间的位置信息

04:22.700 --> 04:24.700
那我们做一个简单的空间

04:24.700 --> 04:27.270
做个按钮

04:27.270 --> 04:33.660
注册声明一下

04:33.660 --> 04:39.910
我们写上获取

04:39.910 --> 04:47.330
按钮的位置信息

04:47.330 --> 04:56.170
click

04:56.170 --> 05:07.700
当前的

05:07.700 --> 05:08.700
btn

05:08.700 --> 05:09.700
click

05:09.700 --> 05:20.860
当前的按钮的信息

05:20.860 --> 05:26.350
此时你去调取一下

05:26.350 --> 05:29.350
我们现在的tarrow

05:29.350 --> 05:30.350
组件

05:31.350 --> 05:33.350
里面有个接口

05:33.350 --> 05:35.350
我们叫get

05:35.350 --> 05:37.350
咱们看 这边有一个这个词

05:37.350 --> 05:41.350
menu-button-bounding-client-reactor

05:41.350 --> 05:47.010
它会拿到当前这个

05:47.010 --> 05:49.010
按钮的信息

05:49.010 --> 05:52.010
我们把它做一个变量的对象接收

05:52.010 --> 05:59.580
接下来我们就可以输出

05:59.580 --> 06:02.580
看一下它可以给到我们哪些

06:02.580 --> 06:04.580
conceler

06:04.580 --> 06:05.580
我们一个输出

06:05.580 --> 06:08.580
我们说当前的

06:08.580 --> 06:10.580
按键的

06:10.580 --> 06:17.860
按键我们称为

06:17.860 --> 06:21.370
宽度

06:21.370 --> 06:22.370
data.

06:22.370 --> 06:23.370
它有个wise

06:23.370 --> 06:37.110
按键的

06:37.110 --> 06:39.110
高度

06:39.110 --> 06:41.110
我们先拿两个出来

06:41.110 --> 06:43.110
来看一下是否能够获取到

06:43.110 --> 06:54.170
有了吧

06:54.170 --> 06:56.170
它都可以获取到

06:56.170 --> 06:58.170
那么与其同时我们继续

06:58.170 --> 07:03.020
这个要拿的是

07:03.020 --> 07:05.020
它还可以精细化的

07:05.020 --> 07:07.020
就是说

07:07.020 --> 07:09.020
按钮

07:09.020 --> 07:12.650
按键

07:12.650 --> 07:13.650
上

07:13.650 --> 07:15.650
边界

07:15.650 --> 07:16.650
左标

07:16.650 --> 07:18.650
它可以拿到这个字

07:18.650 --> 07:22.090
也就是top

07:22.090 --> 07:26.810
复制一下

07:26.810 --> 07:35.750
那么右边界

07:35.750 --> 07:37.750
这边我们是right

07:37.750 --> 07:44.260
这边我们是

07:44.260 --> 07:46.260
按钮的

07:46.260 --> 07:58.090
下边界

07:58.090 --> 08:00.090
data.

08:00.090 --> 08:02.090
button

08:02.090 --> 08:04.090
以及

08:04.090 --> 08:10.300
左边界

08:10.300 --> 08:12.300
是不是这样就出来了

08:12.300 --> 08:14.300
当你这样看到以后的话

08:14.300 --> 08:15.300
我们再来看一下页面

08:15.300 --> 08:17.300
我们等价于按了一次按钮

08:17.300 --> 08:20.620
我们可以得到它所有的信息

08:20.620 --> 08:21.620
是吧

08:21.620 --> 08:23.620
所以空间的操作其实特简单

08:23.620 --> 08:25.620
我们本身就有这样一个

08:25.620 --> 08:27.620
得到

08:27.620 --> 08:29.620
我们菜单按钮的

08:29.620 --> 08:31.620
这个按钮的所有的一些信息

08:31.620 --> 08:33.620
我们可以通过这样的方式去获取

08:33.620 --> 08:35.620
那么同时

08:35.620 --> 08:37.620
我们继续来讲解

08:37.620 --> 08:39.620
我们可以去获得屏幕的

08:39.620 --> 08:41.620
大小改变的

08:41.620 --> 08:43.620
一个监控

08:43.620 --> 08:45.620
屏幕大小改变监控

08:45.620 --> 08:47.620
那么屏幕大小的改变

08:47.620 --> 08:49.620
我们说一下

08:49.620 --> 08:50.620
逻辑上

08:50.620 --> 08:52.620
应该是屏幕在改变的那一刻

08:52.620 --> 08:53.620
就应该得到

08:53.620 --> 08:55.620
而并不是说

08:55.620 --> 08:57.620
屏幕改变了我再去触发一个事件

08:57.620 --> 08:59.620
理解吧

08:59.620 --> 09:01.620
所以屏幕的改变

09:01.620 --> 09:03.620
其实我们应该是要坐在

09:03.620 --> 09:05.620
我们本身的一个

09:05.620 --> 09:07.620
生命周期里面的

09:07.620 --> 09:12.140
有一个shu

09:12.140 --> 09:14.140
所以我们应该是

09:14.140 --> 09:16.140
shu是无论是你激活

09:16.140 --> 09:18.140
从未激活到激活的状态

09:18.140 --> 09:20.140
还有就是屏幕改变时

09:20.140 --> 09:22.140
这个shu都会被执行

09:22.140 --> 09:24.140
所以我们打一个

09:24.140 --> 09:26.140
component

09:26.140 --> 09:28.140
我们有个data shu

09:28.140 --> 09:30.140
在shu完成以后立马激活

09:30.140 --> 09:32.140
当前的生命周期

09:32.140 --> 09:34.140
在它里面

09:34.140 --> 09:38.800
做屏幕

09:38.800 --> 09:40.800
大小监控

09:40.800 --> 09:42.800
我们写出

09:43.800 --> 09:44.800
它有一个叫

09:46.800 --> 09:48.800
我们注意一下

09:48.800 --> 09:50.800
它有一个我们直接用

09:50.800 --> 09:54.110
我们有一个叫

09:56.110 --> 09:59.680
我们可以拿出来

10:05.680 --> 10:07.680
有这样的一个属性

10:07.680 --> 10:09.680
我们把它结构先拿出来

10:13.570 --> 10:15.570
你这时候其实你可以去得到

10:15.570 --> 10:17.570
它里面屏幕的一些

10:17.570 --> 10:19.570
比如说

10:19.570 --> 10:21.570
纵向变横向以后的改变

10:21.570 --> 10:23.570
比如说横得宽得到多少了

10:23.570 --> 10:25.570
纵多到多少了

10:25.570 --> 10:27.570
你会有这样的一个操作

10:27.570 --> 10:29.570
那么这个操作

10:29.570 --> 10:31.570
我们说一下

10:31.570 --> 10:33.570
原因是我们现在有很多时候

10:33.570 --> 10:35.570
并不是所有的

10:37.570 --> 10:39.570
小程序或者h5端

10:39.570 --> 10:41.570
它都会有这功能

10:41.570 --> 10:43.570
所以taro本身没有把它放在

10:43.570 --> 10:45.570
自己的一个直接使用的

10:45.570 --> 10:47.570
组件里面

10:47.570 --> 10:49.570
直接这样去使用

10:49.570 --> 10:51.570
这样可以去调用

10:51.570 --> 10:53.570
但如果说我们这里讲一下

10:53.570 --> 10:55.570
如果你想通用的话

10:55.570 --> 10:57.570
你就这么写

10:57.570 --> 10:59.570
但如果你只针对于微信小程序的话

10:59.570 --> 11:01.570
你就直接写成微信

11:01.570 --> 11:03.570
这一点上面需要去明确

11:03.570 --> 11:05.570
因为我们现在这个onwindowresize

11:05.570 --> 11:07.570
我们刚才讲了

11:07.570 --> 11:09.570
它并不是所有的都会有

11:09.570 --> 11:11.570
一旦不是所有的都会有

11:11.570 --> 11:13.570
它会把它放在taro里面

11:13.570 --> 11:15.570
所以我们这边放着

11:15.570 --> 11:17.570
taro

11:17.570 --> 11:19.570
你可以这么写

11:19.570 --> 11:21.570
如果你确定以后你就微信小程序

11:21.570 --> 11:23.570
所以这边你这样写也可以

11:23.570 --> 11:25.570
ok吧 这理解

11:25.570 --> 11:27.570
当然屏幕监控的改变

11:27.570 --> 11:29.570
这样的话你去刷新是没有问题的

11:29.570 --> 11:31.570
屏幕监控的改变有一个事情

11:31.570 --> 11:33.570
就是它并非是

11:33.570 --> 11:35.570
我们改变这个纸

11:35.570 --> 11:37.570
很多同学都会认为是

11:37.570 --> 11:39.570
我会改变这个一个大小

11:39.570 --> 11:41.570
不是 屏幕大小一定

11:41.570 --> 11:43.570
得让你去变成横向和纵向的改变

11:43.570 --> 11:45.570
这个逻辑要清楚

11:45.570 --> 11:47.570
我们继续

11:47.570 --> 11:49.570
那么咱们看到我这边改了一下

11:49.570 --> 11:51.570
同时我们在这里边

11:51.570 --> 11:53.570
还能再做第二个事情

11:53.570 --> 11:55.570
就是键盘

11:55.570 --> 11:57.570
高度的监控

11:57.570 --> 11:59.570
键盘高度

11:59.570 --> 12:01.570
这个也是有微信的

12:01.570 --> 12:03.570
所以我们依然可以这样

12:03.570 --> 12:05.570
微信点on

12:05.570 --> 12:09.710
key

12:09.710 --> 12:11.710
height

12:11.710 --> 12:21.810
changer

12:21.810 --> 12:25.180
我们这样打出来

12:25.180 --> 12:27.180
那么这样打完以后

12:27.180 --> 12:29.180
本身来讲它本身页面不会有效果

12:29.180 --> 12:31.180
因为我们针对于当前的

12:31.180 --> 12:33.180
秀来讲的话

12:33.180 --> 12:35.180
它不会有任何的显示

12:35.180 --> 12:37.180
但是我们可以用真机模拟测试的方式

12:37.180 --> 12:39.180
给大家展现一下

12:39.180 --> 12:41.180
比如说我键盘一旦出来以后

12:41.180 --> 12:43.180
这个纸就会被显示出来

12:43.180 --> 12:48.030
这个逻辑

12:48.030 --> 12:50.030
我们来看一下

12:50.030 --> 12:52.030
然后点击

12:52.030 --> 12:54.030
真机调试

12:54.030 --> 12:56.030
打开我的手机

12:56.030 --> 13:01.390
然后此时我用手机来扫一扫

13:01.390 --> 13:03.390
扫完以后

13:03.390 --> 13:05.390
它就出现了这个调试界面

13:05.390 --> 13:07.390
出现了这个调试界面

13:07.390 --> 13:09.390
那么此时

13:09.390 --> 13:11.390
首先我点按钮

13:11.390 --> 13:13.390
肯定这边能够出来效果

13:13.390 --> 13:15.390
然后此时我用什么办法来激活呢

13:15.390 --> 13:17.390
我们可以做一个

13:17.390 --> 13:19.390
非常简单的

13:19.390 --> 13:21.390
我们可以做一个非常简单的

13:21.390 --> 13:23.390
调起菜单的功能

13:23.390 --> 13:25.390
对吧

13:25.390 --> 13:27.390
我们得调起菜单

13:27.390 --> 13:29.390
菜单看到以后

13:29.390 --> 13:31.390
我们才会有这样的一个效果

13:31.390 --> 13:35.340
所以我们在界面上面

13:35.340 --> 13:38.910
做一个输入框

13:38.910 --> 13:46.130
我们做一个输入框

13:46.130 --> 13:56.540
Import

13:56.540 --> 14:07.180
看得轻一点

14:07.180 --> 14:09.180
我们加一个placeholder

14:09.180 --> 14:11.180
Import

14:11.180 --> 14:15.520
注册申请

14:15.520 --> 14:17.520
那我们可以了

14:17.520 --> 14:19.520
手机扫一扫

14:19.520 --> 14:21.520
扫好以后

14:21.520 --> 14:23.520
真机马上出现的是一个调试功能

14:23.520 --> 14:25.520
首先我点一下按钮

14:25.520 --> 14:27.520
按钮这边能够呈现

14:27.520 --> 14:29.520
然后我现在

14:29.520 --> 14:31.520
我去点那个Import位置

14:31.520 --> 14:33.520
我只要点下去

14:33.520 --> 14:35.520
此时我手机上面会把菜单拿出来

14:35.520 --> 14:37.520
它立马会告诉我菜单的一些信息

14:37.520 --> 14:39.520
已经出来了

14:39.520 --> 14:41.520
看到吗

14:41.520 --> 14:43.520
菜单的高度有这些对吧

14:43.520 --> 14:45.520
然后本身输入的ID

14:45.520 --> 14:47.520
理解吧

14:47.520 --> 14:49.520
它把这些信息高度告诉你了

14:49.520 --> 14:51.520
这就是它现在所要

14:51.520 --> 14:53.520
展现出来的一个功能

14:53.520 --> 14:55.520
菜单收回的时候

14:55.520 --> 14:57.520
也会有一个变化

14:57.520 --> 14:59.520
表示0 菜单收回了

14:59.520 --> 15:01.520
这是它现在的一个监控操作

15:01.520 --> 15:03.520
在监控上面的话

15:03.520 --> 15:05.520
本身来讲还是比较简单

15:05.520 --> 15:07.520
所以讲

15:07.520 --> 15:09.520
无论是你通过按钮的操作

15:09.520 --> 15:11.520
还是属于我们高度

15:11.520 --> 15:13.520
键盘的高度监控

15:13.520 --> 15:15.520
我们都有些事件

15:15.520 --> 15:17.520
只不过有些事件的话

15:17.520 --> 15:19.520
它本身不一定全支持

15:19.520 --> 15:21.520
那么它需要的是你现在

15:21.520 --> 15:23.520
有一些微信端的

15:23.520 --> 15:25.520
你可以用微信的方式来写

15:25.520 --> 15:27.520
理解吧

15:27.520 --> 15:29.520
这就是这三个功能

15:29.520 --> 15:31.520
这三个功能相对而言比较简单

15:31.520 --> 15:33.520
我这边做个介绍

15:33.520 --> 15:35.520
这些课就先到这

