WEBVTT

00:00.110 --> 00:02.910
好 我们继续讲解我们的Tairo系列课程

00:02.910 --> 00:06.870
这些课讲解的API是音频

00:06.870 --> 00:09.750
音频的播放和刚之前的解构点不一样

00:09.750 --> 00:12.590
之前是我们做录音 录音功能

00:12.590 --> 00:17.350
那么这边我们会调用在线的一些音乐

00:17.350 --> 00:21.470
然后形成一个基础的一个音乐播放的功能

00:21.470 --> 00:26.030
包括是我们这里边有的是播放按钮

00:26.030 --> 00:28.990
包括我们有暂停 我们还有停止

00:28.990 --> 00:33.590
那么这些操作在Tairo中怎么去调取这些接口来完成

00:33.590 --> 00:35.990
这个是我们这边需要做的事情

00:35.990 --> 00:39.590
那么之前我们讲的是录音 录你的课程

00:39.590 --> 00:43.990
好了 那么我们现在对它来做分成两个步骤来完成

00:43.990 --> 00:49.190
第一个我们讲Tairo的一个API接口中的录音的基本功能

00:49.190 --> 00:52.590
把这基本功能讲完以后的话 我们做一个案例

00:52.590 --> 00:54.590
好 先讲基本功能

00:56.560 --> 01:01.560
我们首先去建立一个我们的音乐播放

01:01.560 --> 01:04.560
一个文件家 作为在Peters下面

01:06.160 --> 01:17.380
咱们把它取名为叫做Play Music

01:17.380 --> 01:30.340
Play Music DXX

01:30.340 --> 01:43.180
同样给它去创建一个我们的样式

01:43.180 --> 02:27.110
界面 这是一个常规的写法

02:27.110 --> 02:28.810
我们如果要把它写全的话

02:28.810 --> 02:31.610
那么它一定是Construct

02:31.610 --> 02:38.250
Constract

02:38.250 --> 02:58.650
这边少了一个东西

02:58.650 --> 03:19.500
狗造 状态数据 配置数据

03:19.500 --> 03:36.630
生命周期

03:36.630 --> 04:00.980
JXX 保存 修改这里面的部分

04:00.980 --> 04:27.870
Tairo的音频 放在首页

04:27.870 --> 04:39.430
编译 完成以后 待会查一下界面

04:39.430 --> 04:42.810
Play Music出来了

04:42.810 --> 04:49.640
基础操作 这是一个

04:49.640 --> 05:15.730
首先我们来做页面

05:15.730 --> 05:35.410
这是Title

05:35.410 --> 05:39.370
Line Height 也是30

05:39.370 --> 05:45.350
高度100%

05:45.350 --> 05:47.550
紧接着我们开始里面的部分

05:47.550 --> 05:49.350
里面部分相对而言比较容易

05:49.350 --> 05:50.750
我们是做几个按钮

05:50.750 --> 05:55.350
分别来执行这一张歌词

05:55.350 --> 05:59.150
歌的话 我们从线上去拿一个歌下来就可以了

05:59.150 --> 06:04.380
首先我们从这来

06:04.380 --> 06:06.980
先做个基础

06:06.980 --> 06:14.060
基础也要稍微有点一样 对吧

06:14.060 --> 06:16.360
这是我们的整个区域

06:16.360 --> 06:24.470
我们称之为Section

06:24.470 --> 06:33.900
然后这边Imager

06:33.900 --> 06:35.800
SRC

06:35.800 --> 06:53.580
先把Imager挂上去

06:53.580 --> 06:55.280
做到一个歌

06:55.280 --> 06:57.480
就是学之间唱的哑巴

06:57.480 --> 07:01.180
所以我们这边就拿出这个图片过来

07:01.180 --> 07:05.380
然后我们直接完成这样的一个歌曲的

07:05.380 --> 07:06.980
图片的显示

07:06.980 --> 07:10.580
待会我们再把它的歌拿出来

07:10.580 --> 07:13.480
好 我们把样式简单地做一下

07:13.480 --> 07:19.100
这有个Section

07:19.100 --> 07:23.400
我们做一下让它的宽度依然是100%

07:23.400 --> 07:29.130
高度我们做到的是400

07:29.130 --> 07:31.030
2px

07:31.030 --> 07:33.030
我们就做200吧

07:33.030 --> 07:35.770
px

07:35.770 --> 07:37.270
Display

07:37.270 --> 07:39.770
flex

07:39.770 --> 07:43.170
flex direction

07:43.170 --> 07:45.270
行

07:45.270 --> 07:47.870
just a contender

07:47.870 --> 07:50.870
center

07:50.870 --> 07:52.470
light item

07:52.470 --> 07:56.390
center

07:56.390 --> 07:58.390
section

07:58.390 --> 08:04.140
里面的图片

08:04.140 --> 08:06.240
wise280

08:06.240 --> 08:11.350
获得称之为140px

08:11.350 --> 08:17.080
宽度140px

08:17.080 --> 08:24.140
border radius

08:24.140 --> 08:29.660
好 最后的话我们下面可以做按钮

08:29.660 --> 08:31.760
我们下面设定几个按钮出来

08:31.760 --> 08:37.000
先做个view

08:37.000 --> 08:46.610
button

08:46.610 --> 08:54.240
播放

08:54.240 --> 08:56.640
bravery

08:56.640 --> 09:03.390
unclick

09:03.390 --> 09:06.190
this.play

09:06.190 --> 09:07.790
或者说

09:07.790 --> 09:10.890
actionplay

09:10.890 --> 09:22.540
bound this

09:22.540 --> 09:27.220
type

09:27.220 --> 09:29.960
bravery

09:29.960 --> 09:33.020
unclick

09:33.020 --> 09:39.120
这个我们称之为叫暂停

09:39.120 --> 09:44.330
this.action

09:44.330 --> 09:47.580
parse

09:47.580 --> 10:01.140
bound this

10:01.140 --> 10:09.530
这个我们做的是停止

10:09.530 --> 10:25.910
停止操作

10:25.910 --> 10:36.800
我们把这个都写上去

10:36.800 --> 10:40.770
actionplay

10:40.770 --> 10:46.340
actionparse

10:46.340 --> 11:18.020
actionstop

11:18.020 --> 11:21.620
好 三个事件我们都把它写在这了

11:21.620 --> 11:25.320
ok 那这样的话我们还可以做指定播放

11:25.320 --> 11:26.920
我们再写还有一个

11:26.920 --> 11:29.920
就是它可以跳到指定一个秒值来播放

11:29.920 --> 11:52.530
或者说真值来播放

11:52.530 --> 11:53.830
这里是

11:53.830 --> 11:57.300
跳转

11:57.300 --> 12:01.110
指定播放

12:01.110 --> 12:06.900
然后按钮的话我们把它按钮也做一下

12:06.900 --> 12:12.560
咱们这写一个

12:12.560 --> 12:26.920
bitn

12:26.920 --> 12:29.320
bitn下的

12:29.520 --> 12:36.420
button

12:36.420 --> 12:38.020
先把外面bitn设定一下

12:38.020 --> 12:40.420
我们把它的宽度往前往里面搁一点

12:40.420 --> 12:42.020
就是

12:42.020 --> 12:46.680
80%

12:46.680 --> 12:48.780
然后

12:48.780 --> 12:50.780
所有的button

12:50.780 --> 12:55.700
宽度做100%

12:55.700 --> 12:56.600
同时

12:56.600 --> 13:07.330
每个button有个merge

13:07.330 --> 13:08.530
看一下页面

13:08.530 --> 13:12.360
变成啥样了

13:12.360 --> 13:20.010
形成这个效果了

13:20.010 --> 13:21.510
display

13:21.510 --> 13:32.080
flex

13:32.080 --> 13:34.480
我们把它直接放进去我们看一下

13:34.480 --> 13:40.440
它指的话我们把它直接放在中间

13:40.640 --> 13:46.460
ok 就像上面一样我们直接把它放在中间

13:46.460 --> 13:47.460
display

13:47.460 --> 13:52.950
flex

13:52.950 --> 13:56.540
flex direction

13:56.540 --> 14:00.520
row

14:00.520 --> 14:03.690
just a contender

14:03.690 --> 14:07.740
center

14:07.740 --> 14:10.040
unlocked items

14:10.040 --> 14:21.320
center

14:21.320 --> 14:32.940
这个不是row call

14:32.940 --> 14:34.140
出来了

14:34.140 --> 14:37.510
还是保持这个结构

14:37.510 --> 14:41.100
它可以做100%

14:41.100 --> 14:44.200
它们做80%

14:44.200 --> 14:47.000
现在再来看一下页面

14:47.000 --> 14:48.500
出来了吧

14:48.600 --> 14:50.000
我们播放的是这首歌

14:50.000 --> 14:50.500
对吧

14:50.500 --> 14:53.700
然后的话我们这边有一个播放器

14:53.700 --> 14:55.400
图片你可以稍微再大一点

14:55.400 --> 14:56.900
这个也没有关系

14:56.900 --> 15:00.620
这就是major

15:00.620 --> 15:02.420
major

15:02.420 --> 15:05.120
240

15:05.120 --> 15:06.620
好了

15:06.620 --> 15:08.420
紧接着我们要看的是

15:08.420 --> 15:11.520
我们对它几个按钮的操作了

15:11.520 --> 15:13.020
这是基础格式

15:13.020 --> 15:17.220
所以我们可以做得比较的简单一点

15:17.220 --> 15:18.820
我们不去对它进行

15:18.820 --> 15:20.120
比如说过多的一个设定

15:20.120 --> 15:22.220
之后我们会还在后面来做

15:22.220 --> 15:24.120
比如说我们做个唱片机

15:24.120 --> 15:28.320
比如说我们做一个在线的音乐的apps

15:28.320 --> 15:32.590
这样的功能我们都可以做

15:32.590 --> 15:45.000
小一点吧

15:45.000 --> 15:46.500
首先我们回过头来

15:46.500 --> 15:50.630
我们来做音乐的播放

15:50.630 --> 15:53.730
音乐的播放我们要做它之前

15:53.730 --> 15:56.330
我们要去设定几个值

15:56.330 --> 15:57.630
第一

15:57.630 --> 16:01.130
你音乐播放的播放内容

16:01.130 --> 16:02.330
它在哪里

16:02.330 --> 16:05.940
或者说我们定位一个

16:05.940 --> 16:13.130
Audio URL

16:13.130 --> 16:15.130
我们从网上拿一个下来

16:15.130 --> 16:16.430
之前我拿过

16:16.430 --> 16:19.330
所以我把这个放过来

16:19.330 --> 16:21.030
那么大家可以看一下

16:21.030 --> 16:23.130
只要是你是一个MP3格式

16:23.130 --> 16:25.930
你在网上去拿

16:25.930 --> 16:27.530
咱们看这边

16:27.530 --> 16:28.730
我是一个MP3

16:28.730 --> 16:30.430
然后我直接拿好以后

16:30.430 --> 16:32.430
页面中就会出现这样一个标签

16:32.430 --> 16:33.930
你点击以后

16:33.930 --> 16:35.530
就会有音乐

16:35.530 --> 16:37.130
看到这个数值在走

16:37.130 --> 16:39.730
表示音乐成功了

16:39.730 --> 16:40.730
那么这样的话

16:40.730 --> 16:45.280
我们就拿着这个音乐来试用一下

16:45.280 --> 16:48.680
我把这音乐先放这

16:48.680 --> 16:50.080
再往下

16:50.080 --> 17:02.400
那么首先我们来点击这按钮

17:02.400 --> 17:03.800
播放

17:03.800 --> 17:04.900
歌曲

17:04.900 --> 17:06.900
库湖

17:06.900 --> 17:10.330
背景播放

17:10.330 --> 17:13.750
背景音乐

17:13.750 --> 17:15.850
我们俗称的

17:15.850 --> 17:19.680
BMG

17:19.680 --> 17:22.410
Taro

17:22.410 --> 17:24.110
点

17:24.110 --> 17:24.710
Play

17:24.710 --> 17:28.110
咱们看到有一个background audio

17:28.110 --> 17:32.560
叫做利用背景音乐来播放

17:32.560 --> 17:34.660
我们有一个data URL

17:34.660 --> 17:35.860
看

17:35.860 --> 17:36.960
音乐链接

17:36.960 --> 17:40.740
它支持现在的几种格式

17:40.740 --> 17:43.140
我们就把当前前面的

17:43.140 --> 17:50.540
这个Audio URL给它

17:50.540 --> 17:52.740
Audio URL

17:52.740 --> 17:53.740
同时

17:53.740 --> 17:55.740
你还能再指定它一个

17:55.740 --> 17:58.040
title音乐标题

17:58.040 --> 18:00.240
我们写上的是

18:00.240 --> 18:05.630
雅吧

18:05.630 --> 18:08.030
同时再可以指上

18:08.030 --> 18:11.060
斗号

18:11.060 --> 18:14.660
它的播放时候我们可以把所有参数都给它

18:14.660 --> 18:15.960
Cover

18:15.960 --> 18:16.960
Major URL

18:16.960 --> 18:17.560
看到吗

18:17.560 --> 18:22.040
封面 URL

18:22.040 --> 18:23.240
我们就把

18:23.240 --> 18:28.940
之前我放在之前那边的一张图片给它

18:28.940 --> 18:30.240
那么这样图片呢

18:30.240 --> 18:34.320
我也把它定义在我们的

18:34.320 --> 18:37.740
State里面

18:37.740 --> 18:44.340
封面

18:44.340 --> 18:58.300
我从这把它拿上来

18:58.300 --> 19:01.500
然后页面我们去使用这个

19:01.500 --> 19:13.000
JSR表达式来显示

19:13.000 --> 19:23.280
同样我们在这里面也用JSR表达式

19:23.280 --> 19:25.880
Cover Major

19:25.880 --> 19:27.880
三个给它了

19:27.880 --> 19:29.280
那么这样的话呢

19:29.280 --> 19:31.480
它就能够进行播放

19:31.480 --> 19:33.180
但是播放期间

19:33.180 --> 19:36.580
监控

19:36.580 --> 19:47.690
或者说开始播放监控

19:47.690 --> 19:50.390
有个On

19:50.390 --> 19:53.200
Background

19:53.200 --> 19:54.100
Audio

19:54.100 --> 20:09.060
Play

20:09.060 --> 20:13.000
Consider Log

20:13.000 --> 20:15.940
开始播放

20:15.940 --> 20:18.140
歌曲

20:18.140 --> 20:20.440
先到这我们看一下

20:20.440 --> 20:21.340
几行代码

20:21.340 --> 20:27.300
它就能实现我的播放

20:27.300 --> 20:28.100
咱们有没有看到

20:28.100 --> 20:31.700
这边有一个部分的内容出来了

20:31.700 --> 20:34.800
只要它这边显示出来了

20:34.800 --> 20:35.800
代表着

20:35.800 --> 20:38.700
它就是有一个背景音乐在播放的

20:38.700 --> 20:41.200
我可以暂停

20:41.200 --> 20:42.600
继续播放音乐

20:42.600 --> 20:44.900
它会继续执行

20:44.900 --> 20:45.800
所以这点的话

20:45.800 --> 20:47.100
我们需要知道

20:47.100 --> 20:48.600
它只要下面那个出来了

20:48.600 --> 20:53.680
代表着你的音乐是可以播放的

20:53.680 --> 20:58.490
紧接着我们再来

20:58.490 --> 21:02.390
当你现在正在播放的时候

21:02.390 --> 21:06.360
那我们现在继续可以做一个暂停

21:06.360 --> 21:10.400
暂停按钮在这

21:10.400 --> 21:11.600
暂停依然

21:11.600 --> 21:12.800
第一个是调用暂停

21:12.800 --> 21:25.380
第二个是暂停的一个事件

21:25.380 --> 21:27.780
暂停操作

21:27.780 --> 21:31.040
Tarot点

21:31.040 --> 21:32.040
Pass

21:32.040 --> 21:34.910
Background Audio

21:34.910 --> 21:37.490
暂停

21:37.490 --> 21:38.690
Tarot点

21:38.690 --> 21:40.790
On

21:40.790 --> 21:49.070
Background Pass

21:49.070 --> 21:53.980
提示

21:53.980 --> 21:55.080
暂停

21:55.080 --> 21:56.580
播放

21:56.580 --> 22:03.700
歌曲

22:03.700 --> 22:07.240
继续打开

22:07.240 --> 22:13.030
点击播放

22:13.030 --> 22:14.930
此时你点暂停看到吗

22:14.930 --> 22:16.530
这边就过于为暂停了

22:16.530 --> 22:18.130
再点播放

22:18.130 --> 22:19.130
它又能播放

22:19.130 --> 22:20.030
是不是

22:20.030 --> 22:23.690
这个会有这个变化

22:23.690 --> 22:25.790
再来

22:25.790 --> 22:27.990
如果你在用的过程中

22:27.990 --> 22:28.890
你不能播放了

22:28.890 --> 22:29.890
那你去找一下

22:29.890 --> 22:31.290
这歌是不是不行了

22:31.290 --> 22:32.690
那你换一个歌曲

22:32.690 --> 22:34.590
这意思

22:34.590 --> 22:36.190
不一定我现在给你录的时候的话

22:36.190 --> 22:37.190
这歌是OK的

22:37.190 --> 22:38.190
但是你过一段时间

22:38.190 --> 22:41.660
万一这歌不能放了

22:41.660 --> 22:43.360
然后我们紧接着接下来

22:43.360 --> 22:46.060
我们把这个先收一下

22:46.060 --> 22:47.560
我们已经开始可以播放了

22:47.560 --> 22:49.260
我们现在也可以暂停了

22:49.260 --> 22:50.260
对吧

22:50.260 --> 22:52.060
然后我们现在再做一个停止

22:52.060 --> 22:57.690
这是基础事件

22:57.690 --> 23:00.390
停止接口

23:00.390 --> 23:02.290
Tarot点

23:02.290 --> 23:04.390
Stop

23:04.390 --> 23:05.790
Background Audio

23:05.790 --> 23:09.200
停止背景音乐播放

23:09.200 --> 23:12.970
同时停止监控

23:12.970 --> 23:24.840
Background Stop

23:24.940 --> 23:38.840
停止播放歌曲

23:38.840 --> 23:41.940
打开页面

23:41.940 --> 23:44.740
播放这个是

23:44.740 --> 23:45.440
然后呢

23:45.440 --> 23:47.440
这是暂停

23:47.440 --> 23:48.840
再播放是接着播放

23:48.840 --> 23:50.440
你点停止

23:50.440 --> 23:51.840
下面这个就没了

23:51.840 --> 23:54.240
没了以后就代表着停止播放了

23:54.240 --> 23:57.540
你再点就是从头开始了

23:57.540 --> 23:58.740
这是停止播放

23:58.740 --> 23:59.940
所要做做的

23:59.940 --> 24:02.640
Stop Background Audio

24:02.640 --> 24:03.740
可以监控

24:03.740 --> 24:08.370
On Background Audio Stop

24:08.370 --> 24:09.370
还有一个

24:09.370 --> 24:10.370
称之为叫

24:10.370 --> 24:11.470
指定播放

24:11.470 --> 24:13.370
就是seq

24:13.370 --> 24:15.170
什么叫seq呢

24:15.170 --> 24:36.300
seq是你可以指定到某一真来播放

24:36.300 --> 24:37.900
指定播放

24:37.900 --> 24:46.020
到某一特定位置

24:46.020 --> 24:48.120
那么比如说我们这边来

24:48.120 --> 24:51.890
咱们做一个

24:51.890 --> 24:59.380
Tarot background audio

24:59.380 --> 25:01.580
Position有一个

25:01.580 --> 25:04.080
你看它的提示

25:04.080 --> 25:05.380
音乐位置

25:05.380 --> 25:08.380
Drum DDG秒时候播放

25:08.380 --> 25:09.680
那么这个值呢

25:09.680 --> 25:10.380
我们呢

25:10.380 --> 25:11.380
你可以固定

25:11.380 --> 25:14.080
比如说我就播放到20秒

25:14.080 --> 25:15.080
你可以这样去写

25:15.080 --> 25:15.980
这个是没有问题的

25:15.980 --> 25:19.040
能够执行

25:19.040 --> 25:21.540
但是我希望

25:21.540 --> 25:22.740
点一下

25:22.740 --> 25:23.640
往后走一点

25:23.640 --> 25:25.140
点一下往后走一点

25:25.140 --> 25:26.840
那这种情况下的话呢

25:26.840 --> 25:28.040
我们该怎么去做

25:28.040 --> 25:28.840
也就是

25:28.840 --> 25:30.140
它需要记录住

25:30.140 --> 25:33.340
你现在正在播放的位置

25:33.340 --> 25:35.140
或者说

25:35.140 --> 25:36.540
现在正在运行的位置

25:36.540 --> 25:37.340
那么这个的话呢

25:37.340 --> 25:38.440
我们待会来

25:38.440 --> 25:40.340
这就是我们平时说到的

25:40.340 --> 25:41.740
快进

25:41.740 --> 25:43.040
你点吗

25:43.040 --> 25:44.440
那么现在只要是我们

25:44.440 --> 25:46.040
现在给出一个数字来

25:46.040 --> 25:49.460
它就能指定到这个位置

25:49.460 --> 25:51.760
我们先来看基础格式

25:51.760 --> 25:53.660
播放

25:53.660 --> 25:54.460
跳转

25:54.460 --> 25:58.470
它立马这样一个跳转一句

25:58.470 --> 26:00.970
跳转一句

26:00.970 --> 26:03.970
我们再来看一下

26:03.970 --> 26:06.970
它就会去进行播放

26:06.970 --> 26:09.570
然后暂停再播放

26:09.570 --> 26:10.370
停止

26:10.370 --> 26:11.370
那就可以

26:11.370 --> 26:12.770
你这时候点跳转是没用的

26:12.770 --> 26:14.070
在没有播放情况下

26:14.070 --> 26:17.170
你点跳转是没有用的

26:17.170 --> 26:18.270
ok

26:18.270 --> 26:20.270
那这是我们所谓的跳转

26:20.270 --> 26:22.270
而跳转播放的话呢

26:22.270 --> 26:24.570
它依然会启动我们现在的

26:24.570 --> 26:28.470
这个叫做播放的一个事件

26:28.470 --> 26:29.270
好了

26:29.270 --> 26:30.570
那么这都是我们说的

26:30.570 --> 26:31.970
一些基础功能

26:31.970 --> 26:33.170
那么页面上面呢

26:33.170 --> 26:35.370
也是一些基础的按钮

26:35.370 --> 26:37.470
咱们可以通过这些按钮的方式

26:37.470 --> 26:39.470
去控制某一个

26:39.470 --> 26:42.270
所谓的音乐的播放

26:42.270 --> 26:43.070
接下来呢

26:43.070 --> 26:46.070
我们做一个音乐播放器

26:46.070 --> 26:47.970
下面把按钮我们全部换掉

26:47.970 --> 26:49.770
就像真正的音乐播放一样的

26:49.770 --> 26:54.600
这样的一个操作

26:54.600 --> 26:55.800
基础课程先讲到这

26:55.800 --> 26:58.300
我们下个视频讲解音乐播放器

