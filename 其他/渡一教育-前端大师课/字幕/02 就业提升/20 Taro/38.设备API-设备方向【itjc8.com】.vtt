WEBVTT

00:00.180 --> 00:02.180
好 我们继续讲解Terror课程

00:02.180 --> 00:05.180
接着课呢 我们继续讲解API的操作

00:05.180 --> 00:09.180
那么我们这次呢 讲解一个叫做设备的方向

00:09.180 --> 00:11.180
作为设备方向来讲的话呢

00:11.180 --> 00:13.180
它和加速计呢 有一定的区别

00:13.180 --> 00:16.180
加速计呢 它主要的是完成

00:16.180 --> 00:21.180
我们现在 每过一个频率度之间的一个

00:21.180 --> 00:25.180
运动比率 每过一个频率度中的比率结构

00:25.180 --> 00:30.180
那比如说就像摇一摇 上下简单慢速的没有关系

00:30.180 --> 00:33.180
但是快速的话 就一定会产生一个频率

00:33.180 --> 00:36.180
那么我们现在的那个设备方向呢

00:36.180 --> 00:39.180
它其实啊 是你手机拿在手里以后

00:39.180 --> 00:46.180
正面 180°左面 120°右面和360°的下面

00:46.180 --> 00:49.180
或者成为就是手机直接投往下

00:49.180 --> 00:51.180
这个一个方向的设定

00:51.180 --> 00:54.180
在手机里面有好几个参数值

00:54.180 --> 00:56.180
第一个是加速计 对吧

00:56.180 --> 00:59.180
一个是方向设备 一个是螺盘

00:59.180 --> 01:00.180
这几个都不一样

01:00.180 --> 01:03.180
螺盘的话是你手机的东西南北

01:03.180 --> 01:08.180
那么方向的话只分上 左 右 下

01:08.180 --> 01:09.180
这样的结构就可以

01:09.180 --> 01:11.180
但是你还要分析的话

01:11.180 --> 01:13.180
一个是水平的中转

01:13.180 --> 01:15.180
一个是上下的转动

01:15.180 --> 01:17.180
那么对于设备方向来说

01:17.180 --> 01:19.180
它就是上下的一个功能

01:19.180 --> 01:20.180
好了 那我们呢

01:20.180 --> 01:22.180
首先我们可以看一下

01:22.180 --> 01:24.180
现在设备方向

01:24.180 --> 01:27.180
它应该有一些什么样的格式呢

01:27.180 --> 01:28.180
或者是操作呢

01:28.180 --> 01:30.180
我们这边给大家先说一下

01:30.180 --> 01:35.090
设备方向的话呢

01:35.090 --> 01:38.090
它其实是有三个部分

01:38.090 --> 01:40.090
第一个是start

01:41.090 --> 01:43.090
device

01:43.090 --> 01:44.090
mountain

01:44.090 --> 01:45.090
lesson

01:45.090 --> 01:48.910
它称之为就是

01:48.910 --> 01:51.910
开始设备方向的监听

01:51.910 --> 01:52.910
第二个

01:52.910 --> 01:56.480
stop

01:56.480 --> 01:57.480
device

01:57.480 --> 01:58.480
mountain

01:58.480 --> 01:59.480
lesson

01:59.480 --> 02:02.480
它叫做停止设备方向的监听

02:02.480 --> 02:04.480
还有on

02:04.480 --> 02:06.480
device

02:06.480 --> 02:08.480
mountain

02:08.480 --> 02:09.480
lesson

02:09.480 --> 02:12.480
它代表呢 就是正在进行

02:12.480 --> 02:15.480
设备方向的监听的一个数据变化

02:15.480 --> 02:16.480
那么这些呢

02:16.480 --> 02:19.480
都是我们所谓的就是方向设备

02:19.480 --> 02:21.480
其实它的整个这结构

02:21.480 --> 02:23.480
或者它的整个这个

02:23.480 --> 02:26.480
API的操作和我们的

02:26.480 --> 02:29.480
加速计基本上是一样的

02:29.480 --> 02:30.480
那我们现在呢

02:30.480 --> 02:33.480
我们就来做一个这样的简单功能

02:33.480 --> 02:35.480
我们做一个

02:35.480 --> 02:36.480
屏幕方向

02:36.480 --> 02:37.480
还有

02:37.480 --> 02:39.480
当前的一个角度

02:39.480 --> 02:42.480
以及开始监听按钮的

02:42.480 --> 02:44.480
完整的一个小实力

02:44.480 --> 02:46.480
我们创建界面

02:46.480 --> 02:47.480
首先

02:47.480 --> 02:49.480
我们就把它

02:49.480 --> 02:52.480
继承我们现在的设备监听的这个词

02:52.480 --> 02:53.480
诶

02:53.480 --> 02:55.480
设备监听的这个词

02:55.480 --> 03:01.220
device

03:01.220 --> 03:03.220
mountain

03:03.220 --> 03:05.220
changer

03:05.220 --> 03:08.220
创建文件

03:08.220 --> 03:10.220
device

03:10.220 --> 03:12.220
mountain

03:12.220 --> 03:15.220
changer.jxtx

03:15.220 --> 03:16.220
同时

03:16.220 --> 03:18.220
再定义它的一个样式

03:18.220 --> 03:28.510
回到我们页面中

03:28.510 --> 03:30.510
我们把它的结构搭建一下

03:30.510 --> 03:32.510
tarrow

03:32.510 --> 03:33.510
component

03:33.510 --> 03:36.780
from

03:36.780 --> 03:40.290
js

03:40.290 --> 03:42.290
tarrow

03:42.290 --> 03:44.290
import

03:44.290 --> 03:45.290
view

03:45.290 --> 03:50.140
tarrow.js的

03:50.140 --> 03:56.260
从组件里面来

03:56.260 --> 03:57.260
导入

03:57.260 --> 03:58.260
当前的

03:58.260 --> 04:05.610
changer

04:05.610 --> 04:10.010
css

04:10.010 --> 04:12.010
这边应该做一个小写对吧

04:12.010 --> 04:17.970
changer

04:17.970 --> 04:18.970
expert

04:18.970 --> 04:24.140
default

04:24.140 --> 04:26.140
device

04:26.140 --> 04:27.140
mountain

04:27.140 --> 04:34.380
changer

04:34.380 --> 04:35.380
当然

04:35.380 --> 04:38.940
我们前面就带上一个class

04:38.940 --> 04:40.940
紧接着我们这边跟上的是

04:40.940 --> 04:41.940
extends

04:41.940 --> 04:43.940
继承

04:43.940 --> 04:51.030
component

04:51.030 --> 04:53.030
完成你现在的基本结构

04:53.030 --> 05:00.500
agreement

05:01.500 --> 05:02.500
第二个

05:02.500 --> 05:06.260
是我们写的

05:06.260 --> 05:10.050
state

05:10.050 --> 05:15.730
configure

05:15.730 --> 05:27.260
randar

05:27.260 --> 05:30.780
view

05:30.780 --> 05:32.780
好我们看到了这几个内容的出现

05:32.780 --> 05:34.780
然后我们可以在configure里面

05:34.780 --> 05:35.780
设置一下

05:35.780 --> 05:46.170
标题

05:46.170 --> 05:47.170
我们把它叫做

05:47.170 --> 05:50.610
设备方向

05:50.610 --> 05:55.160
同时

05:55.160 --> 05:57.160
我们把当前的这个页面

05:57.160 --> 06:01.860
把它放到我们的jsx里面去

06:01.860 --> 06:11.270
保存

06:11.270 --> 06:20.600
看一下页面结构

06:20.600 --> 06:35.820
它需要刷一下

06:35.820 --> 06:37.820
同时再存一下

06:37.820 --> 06:47.780
刷一下

06:47.780 --> 06:48.780
好设备方向

06:48.780 --> 06:49.780
已经出来了

06:49.780 --> 06:52.780
代表页面的配置已经完成

06:52.780 --> 06:53.780
紧接着

06:53.780 --> 06:56.780
我们就开始制作这个页面的整体内容

06:56.780 --> 07:00.100
那么首先的话

07:00.100 --> 07:02.100
我们做页面结构

07:02.100 --> 07:07.140
我们做一个最大的view

07:07.140 --> 07:08.140
我们不用去管它

07:08.140 --> 07:09.140
我们从里面开始

07:09.140 --> 07:10.140
先做第一个

07:10.140 --> 07:12.140
我们页面有一个方向

07:12.140 --> 07:18.580
我们称之为叫做

07:18.580 --> 07:20.580
屏幕

07:20.580 --> 07:22.580
朝向

07:22.580 --> 07:24.580
给它订一个简单样式

07:24.580 --> 07:35.700
订个简单样式

07:35.700 --> 07:40.550
它的样式我们写成

07:40.550 --> 07:44.630
叫做messagerview

07:47.070 --> 07:48.070
那我们就简单到

07:48.070 --> 07:50.070
我们的样式结构中

07:50.070 --> 07:51.070
订一下

07:51.070 --> 07:54.450
messagerview

07:54.450 --> 07:56.450
它只做宽度100%和

07:56.450 --> 07:58.450
文本居中就可以了

07:58.450 --> 08:10.550
好

08:10.550 --> 08:11.550
回来

08:11.550 --> 08:13.550
这边有一个

08:13.550 --> 08:21.620
我们看一下

08:21.620 --> 08:23.620
它指的是

08:23.620 --> 08:25.620
存一下看一下

08:25.620 --> 08:27.620
它是没什么问题

08:28.620 --> 08:29.620
然后紧接着

08:29.620 --> 08:30.620
我们来看

08:30.620 --> 08:31.620
现在我们的话

08:31.620 --> 08:33.620
已经导入了屏幕方向

08:33.620 --> 08:34.620
我们看一下

08:34.620 --> 08:46.190
它所出现的位置

08:46.190 --> 08:48.190
它这边还是屏幕朝向

08:48.190 --> 08:49.190
对吧

08:49.190 --> 08:57.300
我们把它重新启动一下

08:57.300 --> 09:24.960
这个

09:24.960 --> 09:25.960
看它的样式

09:25.960 --> 09:26.960
我们在这边

09:26.960 --> 09:28.960
我们把它引进来

09:28.960 --> 09:30.960
我们看一下

09:30.960 --> 09:32.960
davis mountain changer的

09:32.960 --> 09:34.960
css

09:34.960 --> 09:35.960
我们把它改一下看一下

09:35.960 --> 09:36.960
如果说

09:36.960 --> 09:37.960
这个错了

09:37.960 --> 09:38.960
这边

09:38.960 --> 09:39.960
这边应该是100%

09:39.960 --> 09:41.960
对吧

09:41.960 --> 09:43.960
然后它是居中

09:43.960 --> 09:45.960
再来看一下

09:45.960 --> 09:47.960
这个就OK了

09:47.960 --> 09:48.960
紧接着

09:48.960 --> 09:49.960
我们继续

09:49.960 --> 09:50.960
我们在页面中

09:50.960 --> 09:52.960
除了让它能够碰到

09:52.960 --> 09:53.960
这个位置以外

09:53.960 --> 09:55.960
我们屏幕朝向

09:55.960 --> 09:56.960
我们后面

09:56.960 --> 09:57.960
应该再放一个

09:57.960 --> 09:58.960
我们的文字

09:58.960 --> 09:59.960
这个文字

09:59.960 --> 10:01.960
我们给它做一个简单的

10:01.960 --> 10:02.960
textor

10:02.960 --> 10:04.960
做一个简单的textor定义

10:04.960 --> 10:12.620
textor

10:12.620 --> 10:13.620
textor没有写

10:13.620 --> 10:15.620
往上放

10:15.620 --> 10:19.900
注册声明一下

10:19.900 --> 10:20.900
紧接着

10:20.900 --> 10:21.900
我们里面就写上

10:21.900 --> 10:22.900
主要

10:22.900 --> 10:24.900
我们先写一个中文

10:24.900 --> 10:27.900
正面

10:27.900 --> 10:29.900
我们给它样式定义一下

10:29.900 --> 10:33.420
textor name

10:33.420 --> 10:37.060
我们称之为

10:37.060 --> 10:39.060
textor文本的

10:39.060 --> 10:52.290
格式

10:52.290 --> 10:53.290
文本格式我们给的

10:53.290 --> 10:54.290
就最简单

10:54.290 --> 10:55.290
我们是

10:55.290 --> 10:56.290
样式

10:56.290 --> 10:57.290
颜色

10:57.290 --> 10:58.290
给出红色

10:58.290 --> 10:59.290
font size

10:59.290 --> 11:01.290
我们给出

11:01.290 --> 11:04.290
50rpx

11:04.290 --> 11:05.290
以这个

11:05.290 --> 11:12.310
我们也以中钢来写

11:12.310 --> 11:13.310
以这样的方式

11:13.310 --> 11:14.310
给

11:14.310 --> 11:15.310
我们再来看一下界面

11:15.310 --> 11:20.760
就这样

11:20.760 --> 11:21.760
OK吧

11:21.760 --> 11:22.760
好

11:22.760 --> 11:23.760
那么

11:23.760 --> 11:24.760
上面有这部分内容了

11:24.760 --> 11:25.760
紧接着

11:25.760 --> 11:26.760
待会我们会把正面

11:26.760 --> 11:27.760
这个进行替换

11:27.760 --> 11:29.760
换成我们所

11:29.760 --> 11:31.760
看上去会比较舒服的

11:31.760 --> 11:32.760
第二个的话

11:32.760 --> 11:33.760
我们就说明一个词

11:33.760 --> 11:35.760
我们会给它一个

11:35.760 --> 11:37.760
alpha number

11:37.760 --> 11:39.760
给一个这个词

11:39.760 --> 11:40.760
它是当

11:40.760 --> 11:41.760
我们来说一下

11:41.760 --> 11:43.760
它是当

11:43.760 --> 11:45.760
手机的坐标

11:45.760 --> 11:50.350
yx

11:50.350 --> 11:52.350
y

11:52.350 --> 11:53.350
和

11:53.350 --> 11:55.350
地球的

11:55.350 --> 11:57.350
x

11:57.350 --> 11:58.350
y

11:58.350 --> 12:02.620
重合式

12:02.620 --> 12:03.620
绕着

12:03.620 --> 12:10.430
贼轴

12:10.430 --> 12:12.430
转动的

12:12.430 --> 12:15.510
夹角

12:15.510 --> 12:17.510
就是

12:17.510 --> 12:20.720
alpha

12:20.720 --> 12:22.720
它的范围曲值呢

12:22.720 --> 12:27.020
为

12:27.020 --> 12:30.800
就像

12:30.800 --> 12:31.800
0

12:31.800 --> 12:36.580
到2拍之间

12:36.580 --> 12:37.580
但是拍这边

12:37.580 --> 12:41.280
我们给的是一个

12:41.280 --> 12:42.280
小库号

12:42.280 --> 12:45.620
注意啊

12:45.620 --> 12:46.620
我们说到的

12:46.620 --> 12:47.620
它的范围曲值

12:47.620 --> 12:50.620
是在0到2拍之间

12:50.620 --> 12:51.620
那么

12:51.620 --> 12:52.620
同时呢

12:52.620 --> 12:54.620
我们还要说明的是

12:54.620 --> 12:57.620
逆时针

12:57.620 --> 12:58.620
转动

12:58.620 --> 12:59.620
为

12:59.620 --> 13:02.250
正

13:02.250 --> 13:03.250
逆时针转动为正

13:03.250 --> 13:05.250
是这样的一个过程

13:05.250 --> 13:07.250
那么我们来想一下

13:07.250 --> 13:09.250
整个这个是什么样的一个概念

13:09.250 --> 13:11.250
我们讲的通俗一点

13:11.250 --> 13:13.250
就是你现在把你手机拿起来

13:13.250 --> 13:14.250
以

13:14.250 --> 13:15.250
正常的

13:15.250 --> 13:17.250
底往下

13:17.250 --> 13:19.250
那个就正常的锤直拿

13:19.250 --> 13:21.250
在你面前锤直拿

13:21.250 --> 13:22.250
这个时候呢

13:22.250 --> 13:24.250
我们讲地球的

13:24.250 --> 13:26.250
x y 轴的整个的话

13:26.250 --> 13:29.250
应该就是锤直于它的中心点的

13:29.250 --> 13:32.250
所以你正常的这么拿

13:32.250 --> 13:33.250
它就意味着

13:33.250 --> 13:35.250
它就是一个正常的就是

13:35.250 --> 13:36.250
重合级

13:36.250 --> 13:38.250
也就是我们所谓的

13:38.250 --> 13:39.250
x 轴坐标

13:39.250 --> 13:40.250
或 y 轴坐标

13:40.250 --> 13:43.250
和地球手机坐标是重合的

13:43.250 --> 13:44.250
然后呢怎么办呢

13:44.250 --> 13:46.250
你绕着 z 轴的转动

13:46.250 --> 13:47.250
也就是手机

13:47.250 --> 13:49.250
你会往左斜

13:49.250 --> 13:50.250
和往右斜

13:50.250 --> 13:51.250
这过程中

13:51.250 --> 13:52.250
其实就产生了

13:52.250 --> 13:55.250
z 轴的一个 alpha 的转动

13:55.250 --> 13:57.250
如果你往左斜

13:57.250 --> 13:58.250
那么这时候呢

13:58.250 --> 14:00.250
它就是一个附属

14:00.250 --> 14:01.250
如果你往右斜

14:01.250 --> 14:02.250
它就是一个正属

14:02.250 --> 14:04.250
因为逆时针为正

14:04.250 --> 14:06.250
那么整个你转一圈

14:06.250 --> 14:07.250
待会你能看到

14:07.250 --> 14:09.250
上面的一个数值的变化

14:09.250 --> 14:10.250
理解吧

14:10.250 --> 14:11.250
那么你会看到这样的一个值

14:11.250 --> 14:12.250
所以呢

14:12.250 --> 14:13.250
我们讲

14:13.250 --> 14:14.250
如果你想手机上

14:14.250 --> 14:16.250
经常我们会碰到一些游戏

14:16.250 --> 14:17.250
对吧

14:17.250 --> 14:18.250
手机左斜右斜

14:18.250 --> 14:20.250
它本身自己能够晃

14:20.250 --> 14:22.250
这个人能够走平衡木一样的

14:22.250 --> 14:23.250
那它其实

14:23.250 --> 14:24.250
在微信小程序上

14:24.250 --> 14:25.250
它靠的就是

14:25.250 --> 14:27.250
今天我们讲到的这个功能来实现的

14:27.250 --> 14:28.250
好

14:28.250 --> 14:30.250
我们紧接着往下来写

14:30.250 --> 14:31.250
那么

14:31.250 --> 14:33.250
我们需要呈现出这个内容来

14:33.250 --> 14:34.250
所以呢

14:34.250 --> 14:35.250
我们把它也写出来

14:35.250 --> 14:39.290
view

14:39.290 --> 14:43.430
现在没什么提示

14:43.430 --> 14:44.430
之后的话

14:44.430 --> 14:46.430
我们重启一下这个VSCode

14:46.430 --> 14:48.430
我们来写

14:48.430 --> 14:49.430
class name

14:49.430 --> 14:50.430
那么

14:50.430 --> 14:52.430
做一个简单的messager

14:52.430 --> 14:54.430
messager view

14:54.430 --> 14:56.430
依然我们把它

14:56.430 --> 14:58.430
它也是一个纯粹的文本

14:58.430 --> 14:59.430
叫做

14:59.430 --> 15:04.920
当前为

15:04.920 --> 15:11.240
alpha

15:11.240 --> 15:12.240
alpha

15:13.240 --> 15:15.240
后面给出一个值

15:15.240 --> 15:17.240
比如说我给出个0

15:17.240 --> 15:18.240
就这么简单先给一个出来

15:18.240 --> 15:20.240
之后我们再通过

15:20.240 --> 15:22.240
程序把它给变化

15:23.240 --> 15:24.240
紧接着

15:24.240 --> 15:28.000
我们开始做两个按钮

15:28.000 --> 15:29.000
button

15:29.000 --> 15:35.360
把button进到上面进行注册声明

15:35.360 --> 15:36.360
首先

15:36.360 --> 15:37.360
它的类型

15:37.360 --> 15:38.360
我们给出

15:38.360 --> 15:40.360
那么它要用到的是

15:40.360 --> 15:42.360
绿色的我们做一个

15:42.360 --> 15:43.360
然后呢

15:43.360 --> 15:45.360
我们写上

15:45.360 --> 15:47.360
开始

15:47.360 --> 15:48.360
开始

15:48.360 --> 15:49.360
监听

15:49.360 --> 15:54.060
同样我们在这边给出一个

15:54.060 --> 15:56.060
结束监听

15:56.060 --> 15:58.820
先来看一下

15:58.820 --> 15:59.820
现在我们在

15:59.820 --> 16:01.820
做好整个界面结构的以后

16:01.820 --> 16:04.820
它应该呈现给我一个什么样的结构

16:04.820 --> 16:07.770
内容

16:07.770 --> 16:08.770
这样的结构对吧

16:08.770 --> 16:10.770
然后这边的话

16:10.770 --> 16:11.770
应该居中

16:11.770 --> 16:12.770
它应该居中

16:12.770 --> 16:14.770
少了一个对吧

16:14.770 --> 16:24.800
2块内容就有了

16:24.800 --> 16:27.800
我们让它上下再分开一点吧

16:27.800 --> 16:29.800
我们别让它挨得那么近

16:29.800 --> 16:30.800
这样的话呢

16:30.800 --> 16:31.800
我们分别

16:31.800 --> 16:32.800
非在

16:32.800 --> 16:34.800
当前这个messager view里面

16:34.800 --> 16:36.800
我们让它做一个merge

16:36.800 --> 16:37.800
上下

16:37.800 --> 16:41.940
各离开

16:41.940 --> 16:43.940
20个像素

16:44.940 --> 16:45.940
左右不动

16:45.940 --> 16:57.000
那这里边还是要有

16:57.000 --> 17:05.580
给它一个

17:05.580 --> 17:06.580
btn

17:06.580 --> 17:16.380
btn

17:16.380 --> 17:17.380
然后呢

17:17.380 --> 17:18.380
给它一个merge

17:19.380 --> 17:21.380
上下各离开10像素

17:22.380 --> 17:23.380
别都靠得太近

17:23.380 --> 17:28.060
好了

17:28.060 --> 17:29.060
就这样就行了

17:29.060 --> 17:31.060
然后样式关掉

17:31.060 --> 17:32.060
样式不错了

17:32.060 --> 17:33.060
紧接着呢

17:33.060 --> 17:34.060
我们开始做

17:34.060 --> 17:35.060
它上面的几个结构

17:35.060 --> 17:36.060
首先

17:36.060 --> 17:38.060
我们在这里

17:38.060 --> 17:39.060
需要做开始监听

17:39.060 --> 17:41.060
和结束监听的事件

17:41.060 --> 17:43.700
对吧

17:43.700 --> 17:44.700
onclick

17:44.700 --> 17:47.580
写上

17:47.580 --> 17:48.580
当前的

17:48.580 --> 17:52.660
我们写start

17:52.660 --> 17:53.660
create

17:53.660 --> 17:56.100
写个名称

17:56.100 --> 17:57.100
click

17:57.100 --> 18:00.100
开始屏幕的单击的一个操作

18:00.100 --> 18:02.100
然后呢

18:02.100 --> 18:04.100
我们把整个这部分内容

18:04.100 --> 18:05.100
写上

18:05.100 --> 18:07.930
bound

18:07.930 --> 18:08.930
this

18:10.930 --> 18:12.930
把当前的这个写在

18:12.930 --> 18:13.930
上面来

18:13.930 --> 18:25.020
开始监听

18:25.020 --> 18:27.020
再写一个停止监听

18:27.020 --> 18:56.850
停止监听

18:56.850 --> 18:57.850
哎

18:57.850 --> 18:58.850
两个事件我们都把它给

18:58.850 --> 18:59.850
框出来

18:59.850 --> 19:00.850
接下去

19:00.850 --> 19:01.850
我们来看一下

19:01.850 --> 19:03.850
所谓的开始监听啊

19:03.850 --> 19:04.850
它其实

19:04.850 --> 19:06.850
只需要你去完成几个动作

19:06.850 --> 19:07.850
第一呢

19:07.850 --> 19:08.850
我们刚刚前面

19:08.850 --> 19:09.850
在我们的文档中

19:09.850 --> 19:10.850
你还记得吗

19:10.850 --> 19:11.850
我们说start

19:11.850 --> 19:12.850
devid

19:12.850 --> 19:13.850
mountain lesson

19:13.850 --> 19:14.850
我们给它进行

19:14.850 --> 19:16.850
我们所谓的一个

19:16.850 --> 19:17.850
调用

19:17.850 --> 19:22.890
调用

19:22.890 --> 19:23.890
tarrow的

19:23.890 --> 19:28.120
开始

19:28.120 --> 19:29.120
监听时间

19:29.120 --> 19:35.060
tarrow.start

19:35.060 --> 19:39.270
device

19:40.270 --> 19:45.250
mountain lesson

19:45.250 --> 19:47.250
给出这样的一个直来

19:47.250 --> 19:48.250
然后呢

19:48.250 --> 19:49.250
我们在这个里面

19:49.250 --> 19:51.250
我们需要去完成

19:51.250 --> 19:54.250
它如果调用成功以后的操作

19:54.250 --> 20:02.300
我们把这个e给拿出来

20:02.300 --> 20:10.050
成功以后

20:10.050 --> 20:12.050
我们应该做这样的就是啊

20:12.050 --> 20:13.050
看一下

20:13.050 --> 20:15.050
现在是否成功

20:15.050 --> 20:16.050
那么停止以后的话呢

20:16.050 --> 20:19.050
也是有这套内容

20:19.050 --> 20:20.050
记住啊

20:20.050 --> 20:21.050
那么如果说

20:21.050 --> 20:22.050
你现在里面

20:22.050 --> 20:23.050
tarrow没有

20:23.050 --> 20:24.050
有微信有的

20:24.050 --> 20:25.050
你才用wx

20:25.050 --> 20:27.050
不然的话你都用tarrow来写

20:27.050 --> 20:29.050
tarrow的我们的

20:29.050 --> 20:30.050
这就是所谓的tarrow

20:30.050 --> 20:31.050
那个api

20:31.050 --> 20:34.050
和微信api的两套

20:34.050 --> 20:37.320
stop

20:37.320 --> 20:38.320
device

20:38.320 --> 20:45.250
mountain

20:45.250 --> 20:53.580
lesson

20:53.580 --> 20:55.580
success

20:55.580 --> 20:56.580
e

20:56.580 --> 20:59.850
console

20:59.850 --> 21:00.850
e

21:00.850 --> 21:02.850
console

21:02.850 --> 21:04.850
log

21:04.850 --> 21:05.850
e

21:05.850 --> 21:06.850
写上

21:06.850 --> 21:07.850
这个呢

21:07.850 --> 21:09.850
是stop

21:09.850 --> 21:12.800
这个是

21:12.800 --> 21:14.800
start

21:14.800 --> 21:17.430
开始

21:17.430 --> 21:19.430
监听和停止监听

21:19.430 --> 21:20.430
好

21:20.430 --> 21:22.430
那么当这两个有了以后的话呢

21:22.430 --> 21:23.430
那么其实

21:23.430 --> 21:24.430
我们还缺一个

21:24.430 --> 21:25.430
是什么

21:25.430 --> 21:26.430
它只是开始

21:26.430 --> 21:28.430
它只是所谓的

21:28.430 --> 21:30.430
一个我们的结束

21:30.430 --> 21:32.430
但是中间的这个

21:32.430 --> 21:33.430
监听的整个过程

21:33.430 --> 21:35.430
应该是存在着的

21:35.430 --> 21:36.430
只不过就是用

21:36.430 --> 21:38.430
与不用的过程

21:38.430 --> 21:39.430
好

21:39.430 --> 21:40.430
那我们在哪里做呢

21:40.430 --> 21:41.430
我们其实

21:41.430 --> 21:42.430
页面打开的时候

21:42.430 --> 21:43.430
我们就可以做

21:43.430 --> 21:44.430
所以我们应该是

21:44.430 --> 21:45.430
在做一个

21:45.430 --> 21:46.430
所谓的

21:46.430 --> 21:52.300
生命周期

21:52.300 --> 22:00.250
我们重启一下一下

22:02.250 --> 22:03.250
我们去拿一下

22:03.250 --> 22:04.250
它的生命周期

22:04.250 --> 22:05.250
对吧

22:05.250 --> 22:06.250
我们根据前面的

22:06.250 --> 22:08.250
安利兰拿就可以

22:08.250 --> 22:10.250
component

22:10.250 --> 22:11.250
它的提示

22:11.250 --> 22:13.250
有了对吧

22:13.250 --> 22:14.250
component

22:14.250 --> 22:15.250
然后呢

22:15.250 --> 22:17.250
我们给它一个

22:17.250 --> 22:18.250
get a show

22:18.250 --> 22:21.070
get a show

22:21.070 --> 22:26.050
我们在这里面做

22:26.050 --> 22:28.050
我们做什么呢

22:28.050 --> 22:29.050
我们首先

22:29.050 --> 22:30.050
我们需要做的是

22:30.050 --> 22:34.580
叫做

22:34.580 --> 22:36.580
设备

22:36.580 --> 22:38.580
方向的

22:38.580 --> 22:40.580
监听

22:40.580 --> 22:41.580
所以是

22:41.580 --> 22:42.580
terro

22:42.580 --> 22:43.580
点

22:43.580 --> 22:45.580
on

22:45.580 --> 22:54.330
device mountain changer

22:54.330 --> 22:55.330
然后我们通过

22:55.330 --> 22:56.330
这个值来拿一下

22:56.330 --> 22:57.330
看一下这个操作

22:57.330 --> 23:02.560
里面是什么东西

23:02.560 --> 23:03.560
is

23:03.560 --> 23:04.560
它里面就有这个

23:04.560 --> 23:05.560
alpha值

23:05.560 --> 23:06.560
这意思

23:06.560 --> 23:07.560
好

23:07.560 --> 23:08.560
我们把

23:08.560 --> 23:22.240
系统启动一下

23:22.240 --> 23:23.240
好

23:23.240 --> 23:45.020
系统编译一下

23:45.020 --> 23:46.020
OK

23:46.020 --> 23:47.020
好

23:47.020 --> 23:48.020
现在

23:48.020 --> 23:49.020
开启页面

23:49.020 --> 24:02.310
当然我这边的话呢

24:02.310 --> 24:03.310
我们应该是

24:03.310 --> 24:05.310
可以让它进行

24:05.310 --> 24:07.310
一个左右的动物

24:07.310 --> 24:08.310
运动

24:08.310 --> 24:09.310
生命周期里面的话呢

24:09.310 --> 24:10.310
它需要直接进行

24:10.310 --> 24:12.310
运动才能看到

24:12.310 --> 24:13.310
我们当然现在的话呢

24:13.310 --> 24:15.310
你比如说开始监听

24:15.310 --> 24:16.310
看到吗

24:16.310 --> 24:17.310
它现在意思说

24:17.310 --> 24:18.310
开发者工具

24:18.310 --> 24:19.310
整个这个

24:19.310 --> 24:20.310
测试工具

24:20.310 --> 24:22.310
它不支持这东西

24:22.310 --> 24:23.310
但是呢

24:23.310 --> 24:24.310
如果你这样寫我告诉大家

24:24.310 --> 24:25.310
其实你现在在

24:25.310 --> 24:26.310
移动端上面

24:26.310 --> 24:28.310
其实你是能够看到的

24:28.310 --> 24:29.310
我这样干

24:29.310 --> 24:30.310
我蒸机调试

24:30.310 --> 24:31.310
在我蒸机上面的话呢

24:31.310 --> 24:33.310
手机上面测试一下

24:33.310 --> 24:35.310
但是调试的整个结果

24:35.310 --> 24:37.310
会显示在屏幕上面

24:37.310 --> 24:38.310
好

24:38.310 --> 24:39.310
现在我手机打开了

24:39.310 --> 24:41.310
我现在没有点任何按钮

24:41.310 --> 24:42.310
屏幕上是空

24:42.310 --> 24:43.310
但我现在点击

24:43.310 --> 24:45.310
开始监听

24:45.310 --> 24:46.310
你有没有看到

24:46.310 --> 24:47.310
这边爆出一个

24:47.310 --> 24:48.310
开始监听的一句话

24:48.310 --> 24:49.310
然后下面就不断的

24:49.310 --> 24:50.310
会有监听

24:50.310 --> 24:51.310
我再点结束监听

24:51.310 --> 24:52.310
就是结束了

24:52.310 --> 24:53.310
所以你会看到

24:53.310 --> 24:54.310
Alpha这个值

24:54.310 --> 24:55.310
一直会出现

24:55.310 --> 24:56.310
对吧

24:56.310 --> 24:57.310
然后同时呢

24:57.310 --> 24:58.310
我手机如果说

24:58.310 --> 24:59.310
现在

24:59.310 --> 25:00.310
我要清掉

25:00.310 --> 25:01.310
再次开始监听

25:01.310 --> 25:03.310
我把它往左转

25:03.310 --> 25:04.310
你看到吗

25:04.310 --> 25:06.310
左转我手机平衡了

25:06.310 --> 25:07.310
衡过来了

25:07.310 --> 25:08.310
它接近于90了

25:08.310 --> 25:09.310
对吧

25:09.310 --> 25:10.310
我现在往直

25:10.310 --> 25:11.310
回到我们的顶部

25:11.310 --> 25:12.310
那么这时候呢

25:12.310 --> 25:14.310
是不是它就回到了小数值

25:14.310 --> 25:16.310
然后再往右

25:16.310 --> 25:17.310
再往右直

25:17.310 --> 25:18.310
那么这时候是大了

25:18.310 --> 25:19.310
看到吗

25:19.310 --> 25:21.310
然后再往底转

25:21.310 --> 25:22.310
再往底转的话

25:22.310 --> 25:23.310
你会发现

25:23.310 --> 25:25.310
它这边出现在就是100多了

25:25.310 --> 25:26.310
结束

25:26.310 --> 25:27.310
所以你看到这个值呢

25:27.310 --> 25:30.310
会随着我手机的变化

25:30.310 --> 25:32.310
而进行Alpha的这个值的一个

25:32.310 --> 25:33.310
重新的

25:33.310 --> 25:36.310
选择或者说重新的一个估值

25:36.310 --> 25:39.310
这时候我们就利用这个值来做判断

25:39.310 --> 25:40.310
ok吧

25:40.310 --> 25:41.310
好

25:41.310 --> 25:42.310
我们来做

25:42.310 --> 25:43.310
往这里面写代码了

25:43.310 --> 25:48.260
我们开始来判断一下

25:48.260 --> 25:49.260
首先拿出来

25:49.260 --> 25:50.260
它把这个值

25:50.260 --> 26:02.510
passFloat

26:02.510 --> 26:04.510
res点

26:04.510 --> 26:05.510
Alpha

26:05.510 --> 26:06.510
我们把它拿出来

26:06.510 --> 26:09.510
转成一个数值形

26:09.510 --> 26:10.510
判断一下

26:10.510 --> 26:11.510
来

26:11.510 --> 26:17.320
如果Alpha

26:17.320 --> 26:19.320
这个变量的值

26:19.320 --> 26:22.320
它是大于45

26:22.320 --> 26:24.320
并且我们给一个粗值

26:24.320 --> 26:26.320
不是非常洗

26:26.320 --> 26:27.320
吸到了就是

26:27.320 --> 26:28.320
角度值都有

26:28.320 --> 26:30.320
我们给出一个45

26:30.320 --> 26:32.320
到136之间

26:32.320 --> 26:35.320
我们给一个粗值

26:35.320 --> 26:36.320
大家之后的话

26:36.320 --> 26:38.320
可以自行去调整

26:38.320 --> 26:41.320
那么我们就做一个Stator里面的

26:41.320 --> 26:43.320
叫做Screen

26:43.320 --> 26:51.860
我们Stator里面给一个Screen

26:51.860 --> 26:58.600
然后对于这个Screen进行修改

26:58.600 --> 26:59.600
This点

26:59.600 --> 27:01.600
SetStator

27:01.600 --> 27:05.580
Screen

27:05.580 --> 27:06.580
等于

27:06.580 --> 27:08.580
我们给出这个

27:08.580 --> 27:09.580
一个单词

27:09.580 --> 27:11.580
或者说一个字叫做左侧

27:11.580 --> 27:14.590
继续

27:14.590 --> 27:17.610
粗一点

27:17.610 --> 27:18.610
如果你之后的话

27:18.610 --> 27:20.610
你也可以自己调整

27:20.610 --> 27:21.610
第二呢

27:21.610 --> 27:22.610
我们讲

27:22.610 --> 27:26.240
如果这个值

27:26.240 --> 27:27.240
Alpha

27:27.240 --> 27:30.240
它大于了225

27:30.240 --> 27:31.240
并且

27:31.240 --> 27:33.240
它如果Alpha

27:33.240 --> 27:36.240
它如果小于316

27:36.240 --> 27:39.240
在这个范围值内

27:39.240 --> 27:40.240
那我们呢

27:40.240 --> 27:42.240
这边给它写上

27:42.240 --> 27:43.240
我们把它理解为

27:43.240 --> 27:46.240
这个叫做右侧

27:46.240 --> 27:50.150
再来

27:50.150 --> 27:53.150
如果Alpha

27:53.150 --> 27:56.150
它在135

27:56.150 --> 27:58.150
并且

27:58.150 --> 28:00.150
它同时在

28:00.150 --> 28:02.150
小于226

28:02.150 --> 28:05.150
这个范围值内的话

28:05.150 --> 28:06.150
那么

28:06.150 --> 28:07.150
它的话

28:07.150 --> 28:10.850
我们把它写成为

28:10.850 --> 28:16.230
复制

28:16.230 --> 28:17.230
我们把它写为

28:17.230 --> 28:19.230
这叫做反面

28:19.230 --> 28:23.950
这个值的位置

28:23.950 --> 28:25.950
基本就是你手机

28:25.950 --> 28:27.950
已经转过来了

28:27.950 --> 28:28.950
其他的话

28:28.950 --> 28:29.950
我们都把它

28:29.950 --> 28:31.950
先默认做成

28:31.950 --> 28:40.900
正面

28:40.900 --> 28:42.900
形成这个写法

28:42.900 --> 28:44.900
那我们根据这个值

28:44.900 --> 28:47.900
我们就可以自动的完成

28:47.900 --> 28:49.900
你现在的一个屏幕

28:49.900 --> 28:51.900
上面的一个文本的切换

28:51.900 --> 28:52.900
那么这个Screen

28:52.900 --> 28:54.900
我们是不是就应该在页面中

28:54.900 --> 28:55.900
可以看到了

28:55.900 --> 28:57.900
我们把它放到页面中去

28:57.900 --> 28:58.900
Screen

28:58.900 --> 29:00.900
屏幕的方向在这

29:00.900 --> 29:04.210
我们写上

29:04.210 --> 29:08.520
This.Stator

29:08.520 --> 29:10.520
Screen

29:10.520 --> 29:17.250
这样写

29:17.250 --> 29:20.560
保存

29:20.560 --> 29:21.560
那么同时

29:21.560 --> 29:22.560
我们

29:22.560 --> 29:24.560
它本身自己就是Alpha对吧

29:24.560 --> 29:26.560
那么Alpha这个值呢

29:26.560 --> 29:28.560
我们就可以直接

29:28.560 --> 29:29.560
设定到

29:29.560 --> 29:31.560
我们自己再设一个Alpha的

29:31.560 --> 29:35.340
变量里面来

29:35.340 --> 29:37.340
默认设一个0

29:37.340 --> 29:44.750
当前的

29:44.750 --> 29:46.750
Set.Stator

29:46.750 --> 29:49.260
然后呢

29:49.260 --> 29:55.510
我们这边写上

29:55.510 --> 29:57.510
就把当前的这个Alpha

29:57.510 --> 29:58.510
就这个值

29:58.510 --> 30:03.300
直接给它挂进去

30:03.300 --> 30:04.300
直接挂进去

30:04.300 --> 30:05.300
保存

30:05.300 --> 30:06.300
现在来看一下

30:06.300 --> 30:08.300
那么把这个Alpha

30:08.300 --> 30:11.860
也写到我们的

30:11.860 --> 30:13.860
当前Alpha的值

30:13.860 --> 30:16.880
对不对

30:16.880 --> 30:18.880
当前的

30:18.880 --> 30:20.880
Stator.Alpha

30:20.880 --> 30:28.260
来看一下

30:28.260 --> 30:29.260
如果你现在开始监听

30:29.260 --> 30:31.260
因为它现在不符合这个要求

30:31.260 --> 30:32.260
所以它没有办法

30:32.260 --> 30:33.260
给你看到这个效果

30:33.260 --> 30:35.260
那么你现在可以去

30:35.260 --> 30:37.260
做一个蒸机调试

30:37.260 --> 30:39.260
你做蒸机调试的时候

30:39.260 --> 30:41.260
那么你现在手机上面

30:41.260 --> 30:43.260
你去打开你现在的扫码功能

30:43.260 --> 30:44.260
扫一扫

30:44.260 --> 30:46.260
现在我开始监听

30:46.260 --> 30:48.260
当我屏幕往我们的

30:48.260 --> 30:50.260
左侧倾斜的时候

30:50.260 --> 30:51.260
屏幕上会呈现左侧

30:51.260 --> 30:54.260
当我现在屏幕往右侧倾斜的时候

30:54.260 --> 30:56.260
它屏幕上会呈现右侧

30:56.260 --> 30:58.260
当我把它180度

30:58.260 --> 30:59.260
转到底部来的时候

30:59.260 --> 31:02.260
它屏幕会呈现反面

31:02.260 --> 31:04.260
那么会形成这样的一个结构

31:04.260 --> 31:06.260
所以大家可以

31:06.260 --> 31:08.260
这时候拿着你的手机

31:08.260 --> 31:10.260
那时候去测试一下

31:10.260 --> 31:11.260
我们现在

31:11.260 --> 31:13.260
所谓的

31:13.260 --> 31:14.260
设备方向

31:14.260 --> 31:16.260
是否可以运行了

31:16.260 --> 31:17.260
如果你跟我一样

31:17.260 --> 31:18.260
刚才所说的

31:18.260 --> 31:20.260
点击开始

31:20.260 --> 31:21.260
这个值一直在动

31:21.260 --> 31:24.260
并且这个值你左和右

31:24.260 --> 31:27.260
进行这样的一个手机摆动的话

31:27.260 --> 31:29.260
那么你会看到上面文字在变

31:29.260 --> 31:32.260
那就表示你的这个案例已经完成了

31:32.260 --> 31:33.260
所以通过这个案例

31:33.260 --> 31:34.260
我们就可以看到的是

31:34.260 --> 31:35.260
基本上

31:35.260 --> 31:36.260
我们这上面不存在于

31:36.260 --> 31:38.260
所谓的非常复杂

31:38.260 --> 31:40.260
我们只是完成了

31:40.260 --> 31:41.260
几个tarrow的

31:41.260 --> 31:43.260
几个组件的和API的调用

31:43.260 --> 31:45.260
tarrow几个API的调用

31:45.260 --> 31:47.260
同时我们会看到的是

31:47.260 --> 31:48.260
启动和停止

31:48.260 --> 31:50.260
都可以作为手动事件处理

31:50.260 --> 31:53.260
但是如果你要去做我们的一个

31:55.260 --> 31:56.260
监听设备的话

31:56.260 --> 31:59.260
那么你一定要做在生命周期里面

31:59.260 --> 32:02.260
千万不要把生命周期和构造寒树

32:02.260 --> 32:03.260
去军行混淆

32:03.260 --> 32:06.260
因为构造寒树只是为了处理类

32:06.260 --> 32:09.260
它的初始化对象的时候所做的

32:09.260 --> 32:11.260
但是页面的整个这过程

32:11.260 --> 32:12.260
或者说

32:12.260 --> 32:14.260
你需要宰入时候做的一件事

32:14.260 --> 32:16.260
都是由生命周期来完成的

32:16.260 --> 32:17.260
是这个逻辑

32:17.260 --> 32:19.260
那么我刚才说了

32:19.260 --> 32:20.260
这几个值的话

32:20.260 --> 32:21.260
我们不是说一定是这几个

32:21.260 --> 32:22.260
你可以调整

32:22.260 --> 32:23.260
你把它调到更小

32:23.260 --> 32:24.260
比如说

32:24.260 --> 32:25.260
左上角

32:25.260 --> 32:26.260
左右上角

32:26.260 --> 32:27.260
左下角

32:27.260 --> 32:28.260
右下角

32:28.260 --> 32:29.260
你可以调

32:29.260 --> 32:31.260
把它做得比较更心细一点的话

32:31.260 --> 32:32.260
那这个的话

32:32.260 --> 32:34.260
这个案例就比较更有意思了

32:34.260 --> 32:35.260
好

32:35.260 --> 32:36.260
拓展案例

32:36.260 --> 32:38.260
可以额外去做一些

32:38.260 --> 32:40.260
比如说游戏类的功能

32:40.260 --> 32:41.260
一张图片左导右导

32:41.260 --> 32:44.260
或者你不让他去碰到任何的边缘

32:44.260 --> 32:47.260
这种都是通过我们今天的这个案例

32:47.260 --> 32:48.260
来实现的

32:48.260 --> 32:51.260
那么设备方向的操作

32:51.260 --> 32:53.260
我们就先演示到这里了

