WEBVTT

00:00.000 --> 00:03.440
好 我们继续讲解我们的Taro的API的操作

00:03.440 --> 00:08.480
那么API呢 这里各给大家讲解一个比较简单的就是屏幕亮度的操作

00:08.480 --> 00:13.520
所谓屏幕亮度呢 其实是我们系统所给到的一个那个组件

00:13.520 --> 00:17.440
我们呢 并且Taro也给了这样的一个API接口

00:17.440 --> 00:20.080
我们通过这接口呢 可以去设定

00:20.080 --> 00:21.720
现在你手机的屏幕亮度

00:21.720 --> 00:24.600
因为我们有时候玩游戏也好 看内容也好

00:24.600 --> 00:26.360
我们要调亮度还得到外面去

00:26.360 --> 00:30.960
那么所以我们在小程序里面去做一个屏幕亮度的调整的这样的一个操作

00:30.960 --> 00:36.120
OK吧 那么我们来看一下这个一些设备的接口该怎么去调用

00:36.120 --> 00:41.960
因为这些都是属于我们一些手机设备的一些操作 对吧

00:41.960 --> 00:44.080
所以我们现在来做一个熟悉

00:44.080 --> 00:46.640
屏幕亮度呢 它主要有两个操作

00:46.640 --> 00:48.440
我们还是按照老规矩来

00:48.440 --> 00:52.920
我们在我们现在的计时本上面

00:52.920 --> 00:55.160
屏幕亮度 我们写上

00:55.200 --> 00:56.640
屏幕亮度一共有两个

00:56.640 --> 00:59.320
一个呢 是我们现在来写一下

00:59.320 --> 01:01.960
就是set

01:01.960 --> 01:14.480
Taro set

01:14.480 --> 01:16.520
set screen

01:16.520 --> 01:17.920
bridgeness

01:17.920 --> 01:21.080
叫做设置屏幕亮度

01:21.080 --> 01:22.640
第二个

01:22.640 --> 01:32.880
我们称之为get screen

01:32.880 --> 01:34.240
bridgeness

01:34.240 --> 01:39.480
叫做获取屏幕亮度

01:39.480 --> 01:40.760
是这个意图

01:40.760 --> 01:42.360
当然这两个以外呢

01:42.400 --> 01:44.320
我们其实还有一个

01:44.320 --> 01:45.760
这个的话呢

01:45.760 --> 01:50.600
应该讲和我们的保持

01:50.600 --> 01:54.040
就是一旦你现在手机在运行期间

01:54.040 --> 01:57.160
我们可以保持现在的这个亮度

01:57.160 --> 01:58.920
我们就设定一下

01:58.920 --> 02:00.040
小程序期间

02:00.040 --> 02:03.560
我们叫做Taro点

02:03.560 --> 02:05.440
set

02:05.440 --> 02:06.640
keep

02:06.640 --> 02:14.350
保持

02:14.350 --> 02:17.990
保持屏幕亮度

02:17.990 --> 02:19.950
Taro在这个保持屏幕亮度的时候

02:19.950 --> 02:20.910
它有个要求

02:20.910 --> 02:21.950
就是

02:21.950 --> 02:29.780
仅在小程序

02:29.780 --> 02:33.940
执行期间

02:33.940 --> 02:36.100
剩下

02:36.100 --> 02:38.860
你离开小程序后

02:38.860 --> 02:39.540
设置

02:39.540 --> 02:40.740
适效

02:40.740 --> 02:42.380
它是有一个区间的

02:42.380 --> 02:44.020
它有一个作用域的

02:44.020 --> 02:45.780
它就在你小程序内部操作

02:45.780 --> 02:46.100
好了

02:46.100 --> 02:47.580
我们把这几个呢

02:47.580 --> 02:50.060
我们来看一下

02:50.060 --> 02:51.780
首先我们依然照旧

02:51.780 --> 02:54.420
我们在当前的

02:54.420 --> 02:55.100
pader里面

02:55.100 --> 02:55.780
新建一个

02:55.780 --> 02:58.020
我们称之为

02:58.020 --> 02:58.980
keep

02:58.980 --> 03:00.980
我们称之为就是叫做

03:00.980 --> 03:01.900
keep screen吧

03:01.900 --> 03:07.560
叫做屏幕保持

03:07.560 --> 03:20.920
我们以这个名称来

03:20.920 --> 03:24.170
jxx

03:24.170 --> 03:25.970
我们也不做它的样式了

03:25.970 --> 03:28.490
它应该还是比较简单的一个功能

03:28.490 --> 03:30.050
我们就直接在它上面

03:30.050 --> 03:31.690
原来我们有这样一个页面

03:31.690 --> 03:33.130
我们待会把它给删了

03:33.130 --> 03:35.090
然后我们开始做我们的这部分

03:35.090 --> 03:52.510
然后我们把这个页面先建立一下

03:52.510 --> 03:53.790
import

03:53.790 --> 04:03.560
Taro

04:03.560 --> 04:06.350
Taro

04:09.330 --> 04:11.090
Taro用两个东西我们说

04:11.090 --> 04:12.010
一个是view

04:12.010 --> 04:21.420
一个是silliter

04:21.420 --> 04:25.050
component

04:25.050 --> 04:32.000
expert

04:32.000 --> 04:34.200
default

04:34.200 --> 04:35.400
class

04:35.400 --> 04:38.440
这边给出我们的

04:38.440 --> 04:40.400
keep

04:40.400 --> 04:41.200
screen

04:41.200 --> 04:44.600
on

04:44.600 --> 04:46.320
extends

04:46.320 --> 04:49.860
然后我们这边是

04:49.860 --> 05:03.140
component

05:03.140 --> 05:12.310
randle

05:12.310 --> 05:12.790
好了

05:12.790 --> 05:15.230
我们写一个大的view在这边

05:15.230 --> 05:16.550
接下去我们把它

05:16.590 --> 05:17.470
keep on

05:17.470 --> 05:19.830
这个我们放到

05:19.830 --> 05:20.550
keep screen on

05:20.550 --> 05:35.140
放到jxt的第一个页面

05:35.140 --> 05:36.260
然后我们在里面

05:36.260 --> 05:40.480
首先我们写个silliter

05:40.480 --> 05:42.280
silliter是个划块

05:42.280 --> 05:43.760
我们给它定

05:43.760 --> 05:44.480
min

05:44.480 --> 05:46.120
最小的

05:46.120 --> 05:47.840
我们给它值

05:47.840 --> 05:49.160
最小的一个值

05:49.160 --> 05:53.420
我们给它的是0

05:53.420 --> 05:56.060
最大的max

05:56.060 --> 05:57.940
我们给它的值是1

05:57.940 --> 05:59.380
好小对吧

05:59.380 --> 06:03.380
我们step

06:03.380 --> 06:04.020
步伐

06:04.020 --> 06:08.270
我们给的是0.1

06:08.270 --> 06:13.500
然后我们肯定做一个unclick实践

06:13.500 --> 06:18.920
我们this.changer

06:18.920 --> 06:19.800
screen

06:19.800 --> 06:27.360
light

06:27.360 --> 06:30.640
然后这后面这边不用做

06:30.640 --> 06:32.840
接下去我们下面写个view

06:32.840 --> 06:34.520
把屏幕亮度的值

06:34.520 --> 06:43.300
在这边写出来

06:43.300 --> 06:47.660
先写中文

06:47.660 --> 06:52.890
屏幕亮度

06:52.890 --> 06:54.730
this.stater

06:54.730 --> 06:57.130
里面我们做一个

06:57.130 --> 06:59.290
screen

06:59.330 --> 07:02.420
brightness

07:02.420 --> 07:03.900
这个简单来写

07:03.900 --> 07:06.220
screen brightness

07:06.220 --> 07:10.100
然后我们在这里边开始休写了

07:10.100 --> 07:10.860
很简单

07:10.860 --> 07:13.740
我们首先第一步

07:13.740 --> 07:17.540
我们把screen brightness写成我们的

07:17.540 --> 07:23.750
stater

07:23.750 --> 07:25.750
是0

07:25.750 --> 07:26.470
第二个

07:26.470 --> 07:37.060
把我们的changer screen light写上去

07:37.060 --> 07:42.300
划快的改变时间

07:42.300 --> 07:43.460
对吧

07:43.460 --> 07:45.460
好我们紧接着继续来做

07:45.460 --> 07:47.260
那么划快的改变时间

07:47.260 --> 07:50.260
我们会通过它的一个给出参数

07:50.260 --> 07:50.940
e

07:50.940 --> 07:54.580
来得到你现在究竟划到哪个位置了

07:54.580 --> 07:55.780
我们先看一下

07:55.780 --> 07:56.420
这个e

07:56.420 --> 08:12.280
我们应该从里面哪一个属性里面去取得这部分内容

08:12.280 --> 08:12.560
哎

08:12.560 --> 08:13.360
我们看一下啊

08:13.360 --> 08:14.760
他不是click

08:14.760 --> 08:16.640
他应该是个changer时间对吧

08:16.640 --> 08:20.510
我们不是对他进行点击

08:20.510 --> 08:23.070
unchanger改变时间

08:23.070 --> 08:35.910
ok

08:35.910 --> 08:38.470
他划过来没有显示对吧

08:38.470 --> 08:40.230
我们来看一下啊

08:40.230 --> 08:42.670
这个slider上面的unchanger时间

08:42.670 --> 08:44.430
我们做了unchanger

08:44.430 --> 08:46.950
他们能够过来对吧

08:46.950 --> 08:47.830
unchanger

08:47.830 --> 08:49.270
我们刚才多了一个地

08:49.270 --> 08:50.070
unchanger

08:50.070 --> 08:57.640
到我们写了一个

08:57.640 --> 08:59.560
看有了

08:59.560 --> 09:00.560
到这里的时候

09:00.560 --> 09:03.200
他的货值应该在detail下面的value

09:03.200 --> 09:06.210
对不对

09:06.210 --> 09:09.250
这边他也能得到detail下面的value

09:09.250 --> 09:11.090
我们知道了他的位置

09:11.090 --> 09:15.640
所以我们上面直接可以获取

09:15.640 --> 09:16.480
我们在这里边

09:16.480 --> 09:21.540
你可以去得到detail下的value

09:21.540 --> 09:24.460
这样一个操作

09:24.460 --> 09:28.500
detail下的value

09:28.500 --> 09:30.220
然后我们把这个值啊

09:30.220 --> 09:32.260
我们把这个值啊

09:32.260 --> 09:35.500
直接给他做成一个设定

09:35.500 --> 09:39.580
我们拿出这个值来存储一下

09:39.580 --> 09:50.950
咱们叫做screen light value

09:50.950 --> 09:51.470
然后呢

09:51.470 --> 09:53.830
拿出这个值以后的话呢

09:53.870 --> 09:56.470
我们现在直接把这个内容

09:56.470 --> 10:01.940
设置一下

10:01.940 --> 10:12.190
设置当前的屏幕亮度

10:12.190 --> 10:13.870
开始

10:13.870 --> 10:21.610
terror点set screen brightness

10:21.610 --> 10:27.360
他有一个参数

10:27.360 --> 10:29.240
小姐啊

10:29.240 --> 10:33.000
value等于

10:33.000 --> 10:34.640
我们要拿出这个值来

10:34.640 --> 10:35.440
那么这个值呢

10:35.440 --> 10:37.240
我们把它做一个转换

10:37.240 --> 10:40.320
就是passplot转成个小数

10:40.320 --> 10:42.440
我们从screen light里面拿出来

10:42.440 --> 10:43.480
因为他的这个值啊

10:43.480 --> 10:46.440
有时候会非常长

10:46.440 --> 10:46.880
然后呢

10:46.880 --> 10:49.160
我们把它做一个fixter

10:49.160 --> 10:52.360
接一位小数

10:52.360 --> 10:54.160
做一个存储

10:54.160 --> 10:57.620
紧接着

10:57.620 --> 11:00.220
我们完成给屏幕亮度的啊

11:00.220 --> 11:01.740
这是属于划块

11:01.740 --> 11:02.660
完成以后的话呢

11:02.660 --> 11:03.860
我们再给屏幕亮度

11:03.860 --> 11:05.860
我们再去设定一个

11:05.860 --> 11:08.060
我们在这边写上

11:08.060 --> 11:08.900
terror

11:08.900 --> 11:10.620
取出来

11:10.620 --> 11:24.770
get screen brightness success

11:24.770 --> 11:28.750
我们写出res

11:28.750 --> 11:29.550
然后里边呢

11:29.550 --> 11:35.190
我们设定当前的set stator

11:35.190 --> 11:37.790
我们在stator里面有一个这个值

11:37.790 --> 11:41.550
然后我们把它设定一下

11:41.550 --> 11:45.370
诶跳走了

11:45.370 --> 11:47.250
它等于什么啊

11:47.250 --> 11:48.610
screen brightness

11:48.610 --> 11:50.690
然后等于我们现在

11:50.690 --> 11:53.250
这一边所需要修改的那个值

11:53.250 --> 11:53.690
所以呢

11:53.690 --> 11:58.240
我们就把这个值啊

11:58.240 --> 11:59.160
我们把它拿出来

11:59.160 --> 12:00.080
往这放

12:00.080 --> 12:00.680
这样的话呢

12:00.680 --> 12:01.840
我下面用的时候

12:01.840 --> 12:04.320
我都用这个值就可以了

12:04.320 --> 12:05.200
对吧

12:05.200 --> 12:08.090
这样就可以了

12:08.090 --> 12:08.810
是吧

12:08.810 --> 12:10.450
同时你也可以设这个值

12:10.450 --> 12:12.250
你也可以用它来做

12:12.250 --> 12:16.740
就是res

12:16.740 --> 12:19.260
res.value

12:19.260 --> 12:20.620
你可以这样做

12:20.620 --> 12:33.220
当然这个需要改成1.detail.value

12:33.220 --> 12:33.380
好

12:33.380 --> 12:37.780
我们来看一下这个操作

12:37.780 --> 12:39.340
我们拉动这个效果

12:39.340 --> 12:41.100
当然我是模拟器啊

12:41.100 --> 12:42.420
我是模拟器

12:42.420 --> 12:44.420
那么你可以看到这个值的变化

12:44.420 --> 12:45.660
我们下面做一个按钮

12:45.660 --> 12:56.820
我们来锁定这个值

12:56.820 --> 13:02.000
button

13:02.000 --> 13:06.400
确定亮度

13:06.400 --> 13:07.960
on

13:07.960 --> 13:16.180
button我们把上面先注册声明一下

13:16.180 --> 13:19.860
然后这边我们来

13:19.860 --> 13:25.580
onclick

13:25.580 --> 13:28.600
我们写上

13:28.600 --> 13:44.550
当前的keep screen

13:44.550 --> 13:46.230
然后我们把它写在

13:46.230 --> 13:55.140
当前的这个事件的下面

13:55.180 --> 13:58.500
锁定亮度

13:58.500 --> 14:00.340
锁定亮度我们前面已经说过了

14:00.340 --> 14:04.300
我们就可以用我们的一个叫做set

14:04.300 --> 14:06.060
我们的那个set

14:06.060 --> 14:07.700
那个key

14:07.700 --> 14:09.700
screen on的写法来做

14:09.700 --> 14:11.540
首先我们写一下

14:12.740 --> 14:18.800
parameters

14:18.800 --> 14:19.920
要做锁定的话呢

14:19.920 --> 14:23.880
你需要至起码给出一个参数

14:23.880 --> 14:30.400
keep screen

14:30.400 --> 14:30.840
on

14:30.840 --> 14:32.760
你给出一个q

14:32.760 --> 14:34.240
你这样给

14:34.240 --> 14:35.160
当你这样给好以后

14:35.160 --> 14:37.800
我们后面再来完成我们的操作

14:37.800 --> 14:39.200
tarrow

14:39.200 --> 14:40.480
点

14:40.480 --> 14:42.440
setkey

14:42.440 --> 14:43.240
berber set

14:43.240 --> 14:45.840
那个

14:45.840 --> 14:46.600
screen on

14:46.600 --> 14:48.440
set

14:48.440 --> 14:49.200
这个

14:49.200 --> 14:51.360
set keep screen on

14:51.360 --> 14:58.000
把参数进去

14:58.000 --> 14:59.360
然后后面

14:59.360 --> 15:25.500
锁定成功

15:25.500 --> 15:26.420
ok

15:26.420 --> 15:29.240
这样来写

15:29.240 --> 15:29.520
好

15:29.520 --> 15:32.680
我们现在可以看一下我们的演示

15:32.680 --> 15:36.280
看你点在的整个这个页面

15:36.280 --> 15:36.760
然后呢

15:36.760 --> 15:38.320
我们刷新一下

15:38.320 --> 15:39.600
那么你还是注意一点

15:39.600 --> 15:42.120
就是整个这个屏幕亮度呢

15:42.120 --> 15:44.880
现在在我的这个模拟器上面

15:44.880 --> 15:45.640
你是看不见的

15:45.640 --> 15:47.120
因为设备的好多操作

15:47.120 --> 15:48.960
都需要你通过预览的方式

15:48.960 --> 15:50.320
到手机上看

15:50.320 --> 15:52.520
你手机上面去看到这个Qi以后

15:52.520 --> 15:53.560
你点一下锁定

15:53.560 --> 15:55.280
锁定成功以后的话呢

15:55.280 --> 15:56.520
那么说一下

15:56.520 --> 15:58.080
那个苹果手机的话呢

15:58.080 --> 15:59.880
它会直接除了你推出微信

15:59.880 --> 16:00.440
小程序以外

16:00.440 --> 16:03.720
它的微信中也会保持这样的一个亮度

16:03.720 --> 16:05.520
它也会保持这个亮度的

16:05.520 --> 16:06.120
所以呢

16:06.120 --> 16:06.960
我们讲

16:06.960 --> 16:07.960
这个其实

16:07.960 --> 16:11.440
它已经修改了我们所谓的设备数值

16:11.440 --> 16:13.880
而不是简简单单的就是一个

16:13.880 --> 16:15.880
我小程序的了

16:15.880 --> 16:17.720
那么安卓上面的话呢

16:17.720 --> 16:18.800
有安卓机可以

16:18.800 --> 16:21.680
有安卓机还是需要退出以后就还原的

16:21.680 --> 16:22.240
这个多

16:22.240 --> 16:23.520
但苹果机上面的话呢

16:23.520 --> 16:25.720
只要你小程序设定完以后

16:25.720 --> 16:27.480
你在微信中操作小程序退出

16:27.480 --> 16:29.120
它还是保持这样的一个

16:29.160 --> 16:30.920
大家可以手机上面去测试一下

16:30.920 --> 16:32.400
这功能的确是有的

16:32.400 --> 16:33.800
那么这样的话

16:33.800 --> 16:35.880
我们不一定要做成这样的一个下拉

16:35.880 --> 16:36.640
这个拉

16:36.640 --> 16:38.560
我们可以把它做成各种形式

16:38.560 --> 16:40.960
只要是有一个事件源的状态存在

16:40.960 --> 16:43.760
然后我们就可以改变屏幕的亮度大小

16:43.760 --> 16:45.000
这样还是比较舒服

16:45.000 --> 16:46.600
比如说我们经常装完游戏

16:46.600 --> 16:48.040
游戏有个设置页面

16:48.040 --> 16:50.640
页面里面我们大家就可以改变屏幕的亮度

16:50.640 --> 16:51.240
对不对

16:51.240 --> 16:53.400
这个功能其实就是通过我们的这个

16:53.400 --> 16:54.960
叫做我们的微信的

16:54.960 --> 16:57.000
特别是我们的taro结构来做

16:57.000 --> 16:58.040
taro包括是我们

16:58.040 --> 16:59.640
如果做一个H5的页面的话

16:59.640 --> 17:01.920
你也可以去实证这样的结构

17:01.920 --> 17:02.520
对吧

17:02.520 --> 17:04.200
这个的话比起我们说

17:04.200 --> 17:08.040
H5不能操作于我们的设备端来讲

17:08.040 --> 17:10.440
这个会有更多的一些好处了

17:10.440 --> 17:11.040
对吧

17:11.040 --> 17:11.800
我们OK

17:11.800 --> 17:13.480
大家看到了整个这个写法

17:13.480 --> 17:15.760
这也就是我们说屏幕亮度

17:15.760 --> 17:17.560
无论是你现在的设置

17:17.560 --> 17:18.520
还是获取

17:18.520 --> 17:19.400
还是锁定

17:19.400 --> 17:21.680
我们都完成了这样的一个功能

17:21.680 --> 17:24.040
在真机模拟测试上是可以的

17:24.040 --> 17:24.520
好了

17:24.520 --> 17:26.960
那么这就是我们作为屏幕

17:26.960 --> 17:31.120
现在的本身的一个亮度的设定的一些

17:31.120 --> 17:31.680
代码余分

