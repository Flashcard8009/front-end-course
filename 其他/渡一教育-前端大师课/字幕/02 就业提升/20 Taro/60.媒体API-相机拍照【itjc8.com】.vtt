WEBVTT

00:00.370 --> 00:03.770
好 我们继续讲解我们的taro系列课程

00:03.770 --> 00:07.170
这节课我们讲解一个camera

00:07.170 --> 00:10.170
也就是拍照的一个功能

00:10.170 --> 00:12.570
那么拍照本身来讲

00:12.570 --> 00:15.170
它依然是我们的一个媒体组件

00:15.170 --> 00:19.170
它需要使用到的是我们的camera这样的一个照相

00:19.170 --> 00:21.970
那么我们这节课就给大家做两个

00:21.970 --> 00:23.770
一个是基础组件的运用

00:23.770 --> 00:26.770
第二个我们现在很多时候有个人像

00:26.770 --> 00:29.970
我们把它做成一个人像的形象出来

00:30.170 --> 00:33.170
然后我们对着人像进行拍照

00:33.170 --> 00:36.770
这样的话一个人的拍照的这样的一个大体的位置

00:36.770 --> 00:38.770
我们就可以把它定下来了

00:38.770 --> 00:40.570
我们做两个一个是案例

00:40.570 --> 00:42.970
一个是我们现在的基础功能

00:42.970 --> 00:45.770
首先我们在我们的paders里面

00:45.770 --> 00:47.470
咱们新建我们的页面

00:47.470 --> 00:54.250
咱们叫camera

00:54.250 --> 01:00.570
我们创建我们的JXX

01:00.570 --> 01:01.870
那么对于它来讲

01:01.870 --> 01:04.770
我们暂时可以不用任何的样式

01:04.770 --> 01:08.270
然后我们把页面搭建一下terror

01:08.270 --> 01:13.280
component from

01:13.280 --> 01:20.950
terror in part view

01:20.950 --> 01:28.930
from

01:28.930 --> 01:31.930
terror component

01:31.930 --> 01:40.220
expert default class

01:40.220 --> 01:42.920
camera

01:42.920 --> 01:47.520
extends component

01:47.520 --> 01:53.040
random

01:53.040 --> 02:07.480
return view camera

02:07.480 --> 02:13.110
我们把这个camera放在我们的

02:13.110 --> 02:24.280
app.jax的全局文件中

02:24.280 --> 02:26.480
好我们来让它先编译一下

02:26.480 --> 02:28.980
然后我们把整个页面

02:28.980 --> 02:40.220
放到我们的微信小程序里面看一看

02:40.220 --> 02:53.110
编译完成了

02:53.110 --> 02:57.320
super

02:57.320 --> 03:25.360
我们把constructor建立起来

03:25.360 --> 03:27.260
看一下

03:27.260 --> 03:45.940
component

03:45.940 --> 03:47.140
与小程序重明

03:47.140 --> 03:53.110
我们这样的话我们其实 country

03:53.110 --> 03:55.310
我们把名称改一下

03:55.310 --> 04:04.970
叫country

04:04.970 --> 04:10.370
然后我们把它再次放到我们的app.js里面去

04:10.370 --> 04:22.930
改一改

04:22.930 --> 04:29.900
好再次打开页面

04:29.900 --> 04:31.800
它稍等一下出来了

04:31.800 --> 04:33.600
camera

04:33.600 --> 04:35.700
好接下来呢

04:35.700 --> 04:47.400
我们把现在的camera的基础组件拿出来

04:47.400 --> 04:52.140
有一个camera这样一个组件

04:52.140 --> 04:57.460
我们放在上面进行注册一下

04:57.460 --> 04:59.060
camera组件有几个模式

04:59.060 --> 05:04.020
我们要知道一下

05:04.020 --> 05:05.420
它有一个模式

05:05.420 --> 05:06.320
我们写出来

05:06.320 --> 05:08.920
你看着啊

05:08.920 --> 05:10.020
它会提示你

05:10.020 --> 05:11.220
它会有一个model

05:11.220 --> 05:14.020
或者说是scan code

05:14.020 --> 05:14.720
这两个模式

05:14.720 --> 05:16.320
默认是normal

05:16.320 --> 05:17.320
那么这样的话呢

05:17.320 --> 05:26.310
就是我们先用normal来写

05:26.310 --> 05:27.010
第二个呢

05:27.010 --> 05:32.410
我们要写一个device position

05:32.410 --> 05:35.910
它指的是你现在相机

05:35.910 --> 05:37.810
是用前置还是后置

05:37.810 --> 05:42.410
然后 flash

05:42.410 --> 05:46.320
闪光灯 all to我们写上

05:46.320 --> 05:47.720
friend size

05:47.720 --> 05:52.490
我们写上large

05:52.490 --> 05:53.890
然后我们给一个样式

05:53.890 --> 05:59.220
我们直接在里面写

05:59.220 --> 06:01.720
我们给它100%的宽度

06:01.720 --> 06:05.180
再给一个高度

06:05.180 --> 06:09.670
给出一个600rpx吧

06:09.670 --> 06:11.070
tiro本身是有这些

06:11.070 --> 06:14.370
那么这些依然可以用在小程序上面

06:14.370 --> 06:14.870
然后呢

06:14.870 --> 06:19.690
我们后面给一个按钮

06:19.690 --> 06:30.140
button声明注册一下

06:30.140 --> 06:33.500
primerA

06:33.500 --> 06:35.600
拍照

06:35.600 --> 06:44.110
好 我们来看一下

06:44.110 --> 06:46.410
它会调出这样的一个组件

06:46.410 --> 06:47.610
但是这个组件呢

06:47.610 --> 06:48.910
在id里面的话呢

06:48.910 --> 06:50.010
你是不能用的

06:50.010 --> 06:51.210
但是出这个界面的话

06:51.210 --> 06:54.010
代表你的这个

06:54.010 --> 06:55.410
整个的这个这个

06:55.410 --> 06:58.410
camera组件已经被显示出来了

06:58.410 --> 06:59.310
所以的话呢

06:59.310 --> 07:01.710
我们只需要去完成它的功能

07:01.710 --> 07:02.910
待会你可以通过

07:02.910 --> 07:05.110
预览或蒸机调试的方式

07:05.110 --> 07:09.950
在你移动端的手机上看到

07:09.950 --> 07:11.450
首先我们来做

07:11.450 --> 07:16.000
它要去做一个事件

07:16.000 --> 07:18.400
unclick

07:18.400 --> 07:20.900
take photo

07:20.900 --> 07:21.800
我们这样

07:21.800 --> 07:24.400
我们把这个写成一个

07:24.400 --> 07:26.600
jx它表达是

07:26.600 --> 07:46.290
this.take photo

07:46.290 --> 07:51.190
拍照 触发

07:51.190 --> 07:53.490
基本结构我们已经出来了

07:53.490 --> 07:54.190
那接下去呢

07:54.190 --> 07:57.290
我们做它的基本功能

07:57.290 --> 07:58.790
take photo里面

07:58.790 --> 08:06.080
首先第一步

08:06.080 --> 08:09.480
获取相机

08:09.480 --> 08:12.060
对象

08:12.060 --> 08:13.060
taro点

08:13.060 --> 08:15.660
我们有一个create

08:15.660 --> 08:18.960
camera contest

08:18.960 --> 08:21.060
得到这个对象

08:21.060 --> 08:24.800
conster

08:24.800 --> 08:26.300
直到对象以后的话呢

08:26.300 --> 08:29.300
我们继续

08:29.300 --> 08:31.800
通过接口

08:31.800 --> 08:37.110
咱们调用拍照的方法

08:37.110 --> 08:38.310
ctx点

08:38.310 --> 08:39.910
我们有一个

08:39.910 --> 08:40.710
take photo

08:40.710 --> 08:41.810
咱们看到吗

08:41.810 --> 08:46.790
它可以直接定于拍照

08:46.790 --> 08:48.790
那我们就可以在它的参数中

08:48.790 --> 08:49.990
所给出

08:49.990 --> 08:51.390
它有一个参数

08:51.390 --> 08:53.990
我们一般都会给出这个来

08:53.990 --> 08:56.890
create 质量

08:56.890 --> 08:59.190
我们说高质量

08:59.190 --> 09:01.090
再来

09:01.090 --> 09:04.060
success

09:04.060 --> 09:05.960
当你完成以后的话

09:05.960 --> 09:11.170
rs

09:11.170 --> 09:12.970
我们在这边就可以给出

09:12.970 --> 09:14.270
你现在要的

09:14.270 --> 09:14.970
你的照片

09:14.970 --> 09:16.370
所以我们先用rs的方式

09:16.370 --> 09:21.690
来看一下这个效果

09:21.690 --> 09:22.990
当然这边的话呢

09:22.990 --> 09:25.090
由于我们没有办法去做

09:25.090 --> 09:27.090
我们的一个

09:27.090 --> 09:27.690
显示

09:27.690 --> 09:29.790
所以我用蒸机调试的方式

09:29.790 --> 09:31.190
用我手机来拍完以后

09:31.190 --> 09:34.490
咱们来看一下这个显示

09:34.490 --> 09:35.790
因为蒸机调试的好处

09:35.790 --> 09:37.590
还是在于它把整个的

09:37.590 --> 09:40.090
编译的调试的console

09:40.090 --> 09:43.390
可以在这边进行输出

09:43.390 --> 09:46.590
现在我随意地拍摄一下

09:46.590 --> 09:47.390
拍完以后

09:47.390 --> 09:48.090
咱们看到

09:48.090 --> 09:49.590
界面上会出现我们的

09:49.590 --> 09:51.490
刚才的console rs

09:51.490 --> 09:54.090
这里面就得到了一张图片

09:54.090 --> 09:55.290
这张图片的话呢

09:55.290 --> 09:56.390
它是在

09:56.390 --> 09:57.390
temper

09:57.390 --> 09:58.790
imager path

09:58.790 --> 09:59.490
这个路径下

09:59.490 --> 10:00.590
咱们看到吗

10:00.590 --> 10:02.490
它有一个tmp

10:02.490 --> 10:04.890
这是现在存储在

10:04.890 --> 10:08.190
我们微信的缓存里面的一张图片

10:08.190 --> 10:09.890
所以我们就可以得到这张图片

10:09.890 --> 10:11.290
让这张图片呢

10:11.290 --> 10:13.890
我们之后可以直接显示在界面上面

10:13.890 --> 10:15.890
我们界面也可以做一个

10:15.890 --> 10:19.090
简单的一个imager的显示

10:19.090 --> 10:20.590
这样的一个情况

10:20.590 --> 10:22.890
好 我们现在来做一下

10:22.890 --> 10:23.690
我们看到了

10:23.690 --> 10:25.190
有一个在这个位置上

10:25.190 --> 10:26.290
并且呢

10:26.290 --> 10:27.490
你的高度和宽度

10:27.490 --> 10:29.590
其实就是你现在上机

10:29.590 --> 10:32.390
所设置的这个位置

10:32.390 --> 10:33.490
接下来

10:33.490 --> 10:38.950
我们就拿出这个来

10:38.950 --> 10:41.150
这是一个

10:41.150 --> 10:42.650
下滑线

10:42.650 --> 10:43.950
temper

10:43.950 --> 10:46.950
imager path

10:46.950 --> 10:49.550
等于res.temperimager path

10:49.550 --> 10:51.350
拿出来

10:51.350 --> 10:57.980
然后我们去设置一个stator

10:57.980 --> 11:04.860
我们在这边写上一个src

11:04.860 --> 11:06.460
在这边把它放进去

11:06.460 --> 11:08.460
注意 由于我没有用箭头服

11:08.460 --> 11:13.740
所以我们需要在外部定一个z

11:13.740 --> 11:15.940
那么我们zat在这边就直接使用

11:15.940 --> 11:20.540
调用zat对象进去的setstator

11:20.540 --> 11:25.980
然后帮助我们把它里面的src

11:25.980 --> 11:30.580
直接等于下滑线的temper path

11:30.580 --> 11:31.580
好

11:31.580 --> 11:33.780
那我们把这个值放完以后的话呢

11:33.780 --> 11:37.180
我们在这个按钮的下面

11:37.180 --> 11:39.280
给它一个img

11:39.280 --> 11:41.480
呈现

11:41.480 --> 11:48.080
我们把这图片进行注册声明一下

11:48.080 --> 11:51.880
然后它的src拿出来

11:51.880 --> 12:02.360
this.stator.srcstator

12:02.360 --> 12:04.960
OK 基本上是这样一个形式

12:04.960 --> 12:08.560
那么大家的话就可以现在在你的手机端

12:08.560 --> 12:10.460
去做蒸机调试

12:10.460 --> 12:12.260
当你点击蒸机调试以后

12:12.260 --> 12:14.560
手机拿开进行拍照以后

12:14.560 --> 12:18.260
那么你可以在你的整个的页面的底部

12:18.260 --> 12:21.260
也就是拍照按钮的下面

12:21.260 --> 12:24.860
你能看到这张图片的出现

12:24.860 --> 12:26.660
当然这样图片的大小的话

12:26.660 --> 12:27.560
我没有设置

12:27.560 --> 12:29.660
但是基本功能都有了

12:29.660 --> 12:31.760
我们就可以利用这张图片

12:31.760 --> 12:35.260
比如说保存或者说做其他的一些事情

12:35.260 --> 12:37.160
这样这是它的基本功能

12:37.160 --> 12:38.060
我们就看到了

12:38.060 --> 12:41.260
它只需要完成这样的一个

12:41.260 --> 12:42.560
一 创建对象

12:42.560 --> 12:46.060
二 利用对象接口完成现在的这个操作

12:46.060 --> 12:48.260
好了 基本结构好了以后的话

12:48.260 --> 12:53.060
那我们来做一个我们人像的一个拍照

12:53.060 --> 12:57.360
人像拍照其实是需要在我们图片上

12:57.360 --> 12:58.760
我们是否记得

12:58.760 --> 13:02.860
我们需要在图片上有一个所谓的覆盖

13:02.860 --> 13:06.360
也就是说图像里面还有一个人形

13:06.360 --> 13:09.560
这样的一个显示

13:09.560 --> 13:13.160
并且在整个按钮的话

13:13.160 --> 13:15.760
它并不是在我们的下面做个按钮

13:15.760 --> 13:17.660
而是我们有一个小原点

13:17.660 --> 13:18.360
对吧

13:18.360 --> 13:19.660
所以我们来做一下

13:19.660 --> 13:23.160
我们再单独建一个页面

13:23.160 --> 13:43.900
咱们叫 camera person JXX

13:43.900 --> 14:05.120
当然它需要有简单的一个小样式

14:05.220 --> 14:25.070
component tarot

14:25.070 --> 14:33.240
导入

14:33.240 --> 14:36.040
expanded default

14:36.040 --> 14:41.290
class person

14:41.290 --> 14:51.270
extends

14:51.270 --> 15:10.040
return view person

15:10.040 --> 15:22.590
我们这边把constructor拿出来

15:22.590 --> 15:28.290
stater 等会儿要用到的都是我们

15:28.290 --> 15:32.090
configure

15:32.090 --> 15:33.690
完成以后

15:33.690 --> 15:38.290
现在我们需要把它放在app.js的第一个

15:38.290 --> 15:44.820
刚才的机主操作我们已经看到了

15:44.820 --> 16:03.060
paters camera person

16:03.060 --> 16:06.260
回过头来看一下页面

16:06.260 --> 16:08.360
它还在编译过程中

16:08.360 --> 16:25.470
我们此时先把我们的标题给改一改

16:25.470 --> 16:38.630
我们称之为人形拍照

16:38.630 --> 16:41.410
拍照

16:41.410 --> 16:48.300
不要最后这痘好

16:48.300 --> 16:49.700
它现在报了一个错

16:49.700 --> 16:53.350
我们来看一下

16:53.350 --> 17:00.950
它指的是

17:00.950 --> 17:03.050
没有找到这个目录

17:03.050 --> 17:06.370
是指这个

17:06.370 --> 17:08.570
cmera person

17:08.570 --> 17:24.210
点css camera

17:24.210 --> 17:26.410
紧接着我们对它里面内容简单的

17:26.410 --> 17:27.610
去进行操作一下

17:27.610 --> 17:29.910
我们来做页面布局了

17:29.910 --> 17:31.710
camera person

17:31.710 --> 17:33.410
那么做这个布局的时候

17:33.410 --> 17:35.810
我们这条内容只是为了做显示

17:35.810 --> 17:38.010
我们现在是否调到这页面

17:38.010 --> 17:40.710
我们就开始做一个简单的格式

17:40.710 --> 17:51.840
首先我们依然使用camera

17:51.840 --> 17:59.930
这空间

17:59.930 --> 18:02.230
然后几个属性我们依然设定一下

18:02.330 --> 18:04.230
比如说

18:04.230 --> 18:05.330
divis position

18:05.330 --> 18:07.830
人形拍照

18:07.830 --> 18:11.040
我们应该前置

18:11.040 --> 18:21.760
样式

18:21.760 --> 18:22.760
注意

18:22.760 --> 18:25.360
我们需要在这个相机

18:25.360 --> 18:26.460
因为我们讲过

18:26.460 --> 18:28.360
我们有一个叫cover view

18:28.360 --> 18:30.160
cover major

18:30.160 --> 18:31.960
它是可以覆盖的

18:31.960 --> 18:32.960
所以它的覆盖

18:32.960 --> 18:36.760
可以针对于我们的camera这些组件来讲的

18:36.760 --> 18:39.360
所以我们这边写一个

18:39.360 --> 18:41.560
我们用的是

18:41.560 --> 18:42.560
cover

18:43.160 --> 18:46.420
用这个组件

18:46.420 --> 18:48.120
我们在

18:48.120 --> 18:49.820
现在的人形

18:49.820 --> 18:52.120
就是我们的camera里面进行覆盖

18:52.120 --> 18:54.720
上面覆盖一层上去

18:54.720 --> 18:57.620
我们这边先一个个来

18:57.620 --> 19:01.620
man tips

19:01.620 --> 19:04.220
我们写上

19:04.220 --> 19:10.370
对准人形

19:10.370 --> 19:17.480
我们把这两个样式先给它固定上

19:17.480 --> 19:18.580
先做最大的

19:18.580 --> 19:19.980
我们把它设定一下

19:19.980 --> 19:22.380
有一个pager

19:22.380 --> 19:25.380
宽度做百分百

19:25.380 --> 19:26.580
高度

19:26.580 --> 19:29.280
百分百

19:29.280 --> 19:32.780
然后我们这边有个camera

19:32.780 --> 19:40.060
class

19:40.060 --> 19:42.060
它的结构我们现在先不动

19:42.060 --> 19:44.160
但是我们依然把它设置成

19:44.160 --> 19:46.160
依然是百分百的

19:46.160 --> 19:48.660
第二个有个man

19:48.660 --> 19:53.400
jip

19:53.400 --> 19:55.000
它设定一下

19:55.000 --> 19:56.500
它是一个字体

19:56.500 --> 19:58.200
这个字体的话

19:58.200 --> 20:06.430
我们给它字体用白色

20:06.530 --> 20:08.230
然后

20:08.230 --> 20:09.130
定位

20:09.130 --> 20:13.040
我们给它一个绝对定位

20:13.040 --> 20:14.940
absolute

20:14.940 --> 20:18.340
据左边我们说40%

20:18.340 --> 20:19.340
然后

20:19.340 --> 20:25.010
据顶部离开10%

20:25.010 --> 20:27.910
给它一个zindex

20:27.910 --> 20:31.910
不要适合它平行的浮渔在上面它

20:31.910 --> 20:33.510
这是第一个

20:33.510 --> 20:34.810
第二个的话呢

20:34.810 --> 20:36.210
我们后面在做的是

20:36.210 --> 20:38.410
我们有一个图像

20:38.410 --> 20:39.410
在里面

20:39.510 --> 20:41.810
我们放上的一个覆盖图像

20:41.810 --> 20:43.410
我们用的是

20:43.410 --> 20:44.610
cover

20:44.610 --> 20:45.910
major

20:45.910 --> 20:47.510
这个来

20:47.510 --> 20:51.410
对它来讲依然生命注册一下

20:51.410 --> 20:54.310
cover major

20:54.310 --> 20:56.610
样式依然给它设定一下

20:56.610 --> 21:07.190
它是

21:07.190 --> 21:09.290
vertify coder

21:09.290 --> 21:13.360
cover

21:13.360 --> 21:15.660
vertify cover coder

21:15.660 --> 21:16.860
我们先放在后面

21:16.860 --> 21:18.260
待会来设

21:18.260 --> 21:19.260
第二呢

21:19.260 --> 21:21.260
我们给它一张图片

21:21.260 --> 21:23.760
这张图片呢我们在本地放置一下

21:23.760 --> 21:25.360
我们去找到它的位置

21:25.360 --> 21:27.560
然后呢我们把它放在

21:27.560 --> 21:29.760
dister里面的static

21:29.760 --> 21:32.560
放在dister的

21:32.560 --> 21:34.260
我们的static里面

21:34.260 --> 21:45.450
我们这里面可以放上一个major

21:45.450 --> 21:46.950
两张

21:46.950 --> 21:50.450
同时也可以我们直接放在src

21:50.450 --> 21:54.800
static majors里面

21:54.800 --> 21:58.160
这两张图片

21:58.160 --> 21:59.360
我们现在对应的位置

21:59.360 --> 22:01.160
你可以按照static位置对应

22:01.160 --> 22:02.060
但是最后的话

22:02.060 --> 22:04.560
它会到dister里面去找到

22:04.560 --> 22:05.160
点点杠

22:05.160 --> 22:05.760
点点杠

22:05.760 --> 22:08.360
外面的static

22:08.360 --> 22:10.560
下面的images

22:10.560 --> 22:11.960
下面有一张

22:11.960 --> 22:14.160
是我们刚才看到的那个人形

22:14.160 --> 22:16.160
你把那个人形拿出来

22:16.160 --> 22:17.660
人形的话是rx

22:17.660 --> 22:20.990
我们来看一下

22:20.990 --> 22:24.390
我们在static里面

22:24.390 --> 22:25.690
images

22:25.690 --> 22:27.590
它有一个rx

22:27.590 --> 22:28.990
这样一个人形

22:28.990 --> 22:30.390
它是一个png

22:30.390 --> 22:32.390
形成了一个就是工程文件

22:32.390 --> 22:35.090
工程文件的特点是中间这一块

22:35.090 --> 22:37.090
是一个透明的形状

22:37.090 --> 22:42.290
所以我把它加在进来

22:42.290 --> 22:43.890
rx

22:43.890 --> 22:46.390
png

22:46.390 --> 22:48.590
好现在我们再把这个样式定一下

22:48.590 --> 22:51.690
它是浮于整个这个上面

22:51.690 --> 22:54.990
整个界面上面都直接浮在上面的

22:54.990 --> 22:57.190
所以呢我们

22:57.190 --> 22:59.990
和这个字体相比

22:59.990 --> 23:01.990
它的层要比它下面一层

23:01.990 --> 23:04.090
因为字体在最上面

23:04.090 --> 23:04.990
所以第一步

23:05.090 --> 23:06.390
你一定做的是

23:06.390 --> 23:07.690
zindex

23:07.690 --> 23:08.690
你做的是e

23:08.690 --> 23:10.190
比2小

23:10.190 --> 23:15.430
第二个它的宽度我们设100

23:15.430 --> 23:16.130
保存一下

23:16.130 --> 23:24.230
现在来看一下界面

23:24.230 --> 23:26.030
稍等一下

23:26.030 --> 23:26.930
好

23:26.930 --> 23:28.930
咱们看到它在这有了

23:28.930 --> 23:31.130
只不过它没有完全撑下来

23:31.130 --> 23:33.530
我们把它做整个页面的处理

23:33.530 --> 23:35.430
是我们这边有个view

23:35.430 --> 23:37.130
我们把这个view删掉

23:37.130 --> 23:38.530
因为

23:38.530 --> 23:40.530
我们的内层和它的pager

23:40.530 --> 23:43.230
都使用到了我们的百分百

23:43.230 --> 23:44.430
所以我们就这样做

23:44.430 --> 23:45.830
给它存出好

23:45.830 --> 23:48.230
然后此时你再打开我们的界面

23:48.230 --> 23:49.630
看到了吗

23:49.630 --> 23:51.030
它就直接形成了

23:51.030 --> 23:52.130
我们刷了两次

23:52.130 --> 23:52.830
再等一下

23:52.830 --> 23:55.030
我们就看到了它直接形成了

23:55.030 --> 23:56.130
它把这个人形

23:56.130 --> 23:58.630
浮在了整个这个界面上面

23:58.630 --> 24:01.430
然后这边对准人形在中间出现

24:01.430 --> 24:03.230
那么由于我现在呢

24:03.230 --> 24:05.030
没有使用我们的

24:05.030 --> 24:06.530
那个真机

24:06.530 --> 24:07.830
真机模拟上面的话

24:07.830 --> 24:09.530
这一块内容就透露出来了

24:09.530 --> 24:10.030
露出来

24:10.030 --> 24:12.530
你可以人直接照到这一块

24:12.630 --> 24:14.130
那么这个模型出来以后

24:14.130 --> 24:16.030
你可以做形任何一张图片

24:16.030 --> 24:17.830
你可以把你要的都可以往里放

24:17.830 --> 24:20.030
包括是你这边做成一个虚

24:20.030 --> 24:21.330
那个虚线的人形

24:21.330 --> 24:22.630
那都可以

24:22.630 --> 24:24.430
这是完成了在照片

24:24.430 --> 24:25.530
也就是camera上面

24:25.530 --> 24:27.430
形成了一个我们的遮罩

24:27.430 --> 24:29.430
我们称之为

24:29.430 --> 24:30.130
对吧

24:30.130 --> 24:32.130
这样去写

24:32.130 --> 24:33.930
然后我们还要有

24:33.930 --> 24:35.530
因为现在这个人形呢

24:35.530 --> 24:36.730
只是对准

24:36.730 --> 24:39.330
我们的拍照你点哪里

24:39.330 --> 24:42.330
我们希望的是我们这边错一个

24:42.330 --> 24:44.130
类似一块门的按钮出来

24:44.130 --> 24:46.430
所以我们还有第二张图片

24:46.430 --> 24:47.230
我们这时候呢

24:47.230 --> 24:52.190
我们还可以再来对它进行cover

24:52.190 --> 24:54.090
再复制一个上来

24:54.090 --> 24:55.190
我们写出

24:55.190 --> 24:59.640
它叫red point

24:59.640 --> 25:01.240
然后我们对它来讲

25:01.240 --> 25:04.640
我们也用一个点点杠

25:04.640 --> 25:07.340
static images

25:07.340 --> 25:08.640
之前我们给了一个

25:08.640 --> 25:10.440
我们去看一下

25:10.440 --> 25:11.640
在我们的static 里面

25:11.640 --> 25:13.540
有一个我们的 HD

25:13.540 --> 25:14.440
有没有看到

25:14.440 --> 25:16.940
是一个红色的这样一个圈

25:16.940 --> 25:22.280
所以我们用它来 HD 点 PNG

25:22.280 --> 25:24.180
然后我们它的话

25:24.180 --> 25:28.460
就可以直接显示出来

25:28.460 --> 25:29.360
那么此时

25:29.360 --> 25:32.260
我们还要对它进行一个定位

25:32.260 --> 25:38.060
red point

25:38.060 --> 25:39.360
red point

25:39.360 --> 25:40.660
它主要是这个点

25:40.660 --> 25:43.360
你把它控制在什么位置上面

25:43.360 --> 25:44.560
我们它的位置

25:44.560 --> 25:46.260
它的浮层

25:46.260 --> 25:49.060
一定是在这个黑色的人框的上面

25:49.060 --> 25:51.760
所以它也必须至少大于一

25:51.760 --> 25:53.360
所以 z index

25:53.360 --> 25:54.460
它也做二

25:54.460 --> 25:56.360
和它做于同一层

25:56.360 --> 25:59.360
它们两个上下没有关系

25:59.360 --> 26:00.460
然后 position

26:00.460 --> 26:01.760
我们给一个 absolute

26:01.760 --> 26:03.560
绝对位

26:03.560 --> 26:05.560
去左边依然和上面一样

26:05.560 --> 26:07.260
我们做 40%

26:07.260 --> 26:09.360
然后去顶部我们远一点

26:09.360 --> 26:13.580
85%

26:13.580 --> 26:14.680
然后

26:14.680 --> 26:16.080
这按钮呢很大

26:16.080 --> 26:18.580
我们给它做小一点

26:18.580 --> 26:20.580
做一个 wise 160

26:20.580 --> 26:22.580
高度也做 160

26:22.580 --> 26:24.980
rpx

26:24.980 --> 26:26.580
当你这样写好以后的话呢

26:26.580 --> 26:27.680
我们再来看一下

26:27.680 --> 26:29.080
先看页面的布局

26:29.080 --> 26:32.810
刷新一下

26:32.810 --> 26:35.110
就在这边会有这样一个按钮出来

26:35.110 --> 26:36.110
那之后的话呢

26:36.110 --> 26:38.010
我人形对好这个

26:38.010 --> 26:39.710
然后点这个按钮

26:39.710 --> 26:41.610
那么它就形成了一个拍照

26:41.610 --> 26:43.010
拍下来了

26:43.010 --> 26:43.810
OK吧

26:43.810 --> 26:45.310
形成这样一个效果

26:45.310 --> 26:47.810
那么紧接着我们回来

26:47.810 --> 26:50.310
此时我们要看一下

26:50.310 --> 26:52.510
我们在整个这个里边

26:52.510 --> 26:54.810
我们里边的样式

26:54.810 --> 26:56.810
OK我们写好了

26:56.810 --> 26:58.410
那么我们现在呢

26:58.410 --> 27:00.910
需要去做它的一些功能了

27:00.910 --> 27:02.010
功能首先

27:02.010 --> 27:04.210
我们要做的是这个按钮上面

27:04.210 --> 27:06.610
我们要去做一个单击操作

27:06.610 --> 27:10.110
on click

27:10.110 --> 27:11.210
写个事件

27:11.210 --> 27:12.010
我们称之为

27:12.010 --> 27:19.660
当前的 photograph

27:19.660 --> 27:22.360
当前的 photograph

27:22.360 --> 27:23.960
我们把整个这个

27:23.960 --> 27:25.760
放在我们的

27:25.760 --> 27:29.760
事件的方法的处理函数中

27:29.760 --> 27:33.980
我们称为拍照

27:33.980 --> 27:35.880
对吧

27:35.880 --> 27:37.780
那么我们来看一下

27:37.780 --> 27:39.980
它的拍照就会沿用我们以前

27:39.980 --> 27:42.380
之前我们刚刚学习到的那些

27:42.380 --> 27:44.480
基础知识来

27:44.480 --> 27:48.850
首先做一个

27:48.850 --> 27:53.640
获取拍照

27:53.640 --> 27:56.660
对象

27:56.660 --> 28:00.460
conceptor ctx

28:00.460 --> 28:02.560
我们用taro点

28:02.660 --> 28:05.560
taro的 camera

28:05.560 --> 28:08.980
contest

28:08.980 --> 28:10.580
得到你现在的

28:10.580 --> 28:12.080
整个拍照的对象

28:12.080 --> 28:19.300
然后呢拍摄

28:19.300 --> 28:21.200
ctx点

28:21.200 --> 28:23.100
take

28:23.100 --> 28:27.110
photo

28:27.110 --> 28:29.810
设定你现在的

28:29.810 --> 28:32.310
拍摄的质量

28:32.310 --> 28:34.210
质量越大

28:34.210 --> 28:35.810
清晰度越高

28:35.810 --> 28:40.620
图片尺寸越大

28:40.620 --> 28:44.020
我们把它直接用 success 的方式

28:44.020 --> 28:48.660
当然我们可以用 zend 来

28:48.660 --> 28:53.550
我们拿到内容

28:53.550 --> 28:56.150
我们这里边可以进行设定

28:56.150 --> 29:00.350
this.setData

29:00.350 --> 29:02.550
把这个值直接设到哪呢

29:02.550 --> 29:05.650
设到我们在 data 里面设定一个 src

29:05.650 --> 29:11.070
我们不是一直这么干吗

29:11.070 --> 29:12.270
src

29:12.270 --> 29:12.970
冒号

29:12.970 --> 29:15.570
res点

29:15.570 --> 29:16.570
我们从里面拿

29:16.570 --> 29:17.270
我们记得吗

29:17.270 --> 29:19.070
我们叫做 temper

29:19.070 --> 29:20.570
a major

29:20.570 --> 29:22.670
pass

29:23.070 --> 29:24.070
这样的结构

29:24.070 --> 29:26.070
当你把它放进去以后

29:26.070 --> 29:28.840
那么紧接着

29:28.840 --> 29:30.840
我们待会还要和下面的操作啊

29:30.840 --> 29:31.840
我们本身

29:31.840 --> 29:33.840
页面中想给它做呈现

29:33.840 --> 29:34.840
所以呢

29:34.840 --> 29:36.840
我们直接可以把这个内容啊

29:36.840 --> 29:38.340
显示出来

29:38.340 --> 29:40.340
做另一个操作

29:40.340 --> 29:44.920
我们呢不再当前页面显示

29:44.920 --> 29:48.420
我们想把它转移到一个新页面进行显示

29:48.420 --> 29:49.920
这个可以怎么干呢

29:49.920 --> 29:51.420
你看着我干反啊

29:51.420 --> 29:53.920
如果你现在已经完成了

29:54.520 --> 29:56.720
如果你现在已经完成了

29:56.720 --> 29:59.820
整个这个的一个操作

29:59.820 --> 30:02.320
那我们在它的哪里啊

30:02.320 --> 30:04.320
回调函数里面

30:04.320 --> 30:06.620
一定在它的回调函数里面

30:06.620 --> 30:09.120
不然你在下面继续额外操作的话

30:09.120 --> 30:11.720
有可能这个 src就没有被附进去

30:11.720 --> 30:12.120
是吗

30:12.120 --> 30:13.220
我们说过

30:13.220 --> 30:14.620
setData

30:14.620 --> 30:16.720
它是一个异补操作

30:16.720 --> 30:17.720
然后在这边呢

30:17.720 --> 30:19.220
我们去做一个什么

30:19.220 --> 30:25.490
咱们做一个数据的存储

30:25.490 --> 30:29.690
我们来做一个setStorager

30:29.690 --> 30:31.190
setStorager

30:31.190 --> 30:33.790
这是指数据的存储

30:33.790 --> 30:35.690
table中会有一个数据存储

30:35.690 --> 30:37.990
在本地的这样的一个操作

30:37.990 --> 30:39.990
那么这个在所有的小程序中

30:39.990 --> 30:41.590
其实都存在着

30:41.590 --> 30:44.790
它的写法是setStorage

30:44.790 --> 30:45.590
看一下这个

30:45.590 --> 30:46.090
看到吗

30:46.090 --> 30:47.390
setStorage

30:47.390 --> 30:49.290
后面需要跟上它的参数

30:49.290 --> 30:51.290
这个参数是param

30:51.290 --> 30:52.490
param的话呢

30:52.490 --> 30:55.390
它可以是一个 promise 的接口

30:55.390 --> 30:56.990
返回的结构

30:56.990 --> 30:59.190
然后我们就可以来对它进行

30:59.190 --> 31:00.790
我们现在的一个

31:00.790 --> 31:05.390
首先我们在这边写上我们的 key

31:05.390 --> 31:07.490
代表你想存储这张图片

31:07.490 --> 31:09.490
在本地的一个名称

31:09.490 --> 31:14.700
我们叫做 photo people

31:14.700 --> 31:17.200
照片 拍人

31:17.200 --> 31:21.300
第二个你想存储的数据

31:21.300 --> 31:23.700
或者说它的一个另接

31:23.800 --> 31:25.300
那我们直接写

31:25.300 --> 31:27.100
我们直接把当前的

31:27.100 --> 31:29.700
因为它是在当前的 res 里面

31:29.700 --> 31:31.700
你就可以直接这样写

31:31.700 --> 31:34.000
res 点

31:34.000 --> 31:36.500
我们的直接把这个 tamper

31:36.500 --> 31:39.000
major paths 给它拿过来

31:39.000 --> 31:39.700
好

31:39.700 --> 31:41.500
这样存储好以后的话

31:41.500 --> 31:47.340
我们后面再做一个跳转页面

31:47.340 --> 31:50.140
我们做一个跳转页面

31:50.140 --> 31:53.540
taro.redirector2

31:53.540 --> 31:54.340
或者我们称之为

31:54.340 --> 31:56.140
它应该是一个重定向

31:56.140 --> 31:57.540
我们扩弧

31:57.540 --> 32:02.240
注释一下

32:02.240 --> 32:05.470
重定向

32:05.470 --> 32:08.070
然后在这我们写上 url

32:08.070 --> 32:10.070
你跳到哪里去

32:10.070 --> 32:12.670
我们跳到当前

32:12.670 --> 32:14.470
主要我们跳到当前

32:14.470 --> 32:16.470
整个这页面下面

32:16.470 --> 32:20.270
我们直接写 pages

32:20.270 --> 32:26.660
pages 下的

32:26.660 --> 32:33.790
咱们在这里边有一个 show photo

32:33.790 --> 32:35.890
咱们定一个这个页面出来

32:35.890 --> 32:37.590
跳转到这样的一个页面

32:37.590 --> 32:39.290
所以我们需要在

32:39.290 --> 32:41.890
当前的 camera person 下面

32:41.890 --> 32:44.790
再建一个 show photo

32:44.790 --> 32:47.290
jxx

32:47.290 --> 32:48.590
建立这样一个

32:48.590 --> 32:50.490
那么在这个页面上面

32:50.490 --> 32:53.090
我们把上面的几个简单的格式

32:53.090 --> 32:55.790
全给它拿过来

32:55.790 --> 32:59.640
它是没有这个的

32:59.640 --> 33:10.230
这一步里面我们把这些全拿过来

33:10.230 --> 33:21.280
random return view

33:21.280 --> 33:24.680
show photo

33:24.680 --> 33:28.660
先把这几个删掉

33:28.660 --> 33:30.760
好我们把它做一个

33:30.760 --> 33:34.120
名称修改

33:34.120 --> 33:39.660
show photo

33:39.660 --> 33:40.660
把show photo

33:40.660 --> 33:43.160
依然要进行我们的注册

33:43.160 --> 33:44.460
注册方式页面

33:44.460 --> 33:47.160
就跑到我们现在的

33:47.160 --> 33:49.960
app in jxx里面

33:49.960 --> 33:52.940
不要放第一个

33:52.940 --> 33:58.620
pages person

33:58.620 --> 34:00.720
show photo

34:00.720 --> 34:03.450
保存

34:03.450 --> 34:04.650
回来

34:04.650 --> 34:06.950
此时我们可以在页面中

34:06.950 --> 34:09.150
你可以在这边尝试一下

34:09.150 --> 34:13.600
对它进行点击

34:13.600 --> 34:16.310
稍等一下

34:16.310 --> 34:26.050
你看它还在编译

34:26.050 --> 34:27.350
好了

34:27.350 --> 34:29.150
当你拍完照以后

34:29.150 --> 34:31.850
它本身把数据已经会全部存储

34:31.850 --> 34:34.350
在我们的这个所谓的

34:34.350 --> 34:35.150
缓存里面

34:35.150 --> 34:37.650
那个数据存储结构里面

34:37.650 --> 34:40.350
然后它再会进行跳转

34:40.450 --> 34:42.250
那我们就到新页面里面

34:42.250 --> 34:44.850
去取得这个值就可以

34:44.850 --> 34:45.650
那么首先呢

34:45.650 --> 34:46.950
我们进行跳转以后

34:46.950 --> 34:48.150
我们来看一下

34:48.150 --> 34:49.250
在模拟器里面

34:49.250 --> 34:51.150
你点下去

34:51.150 --> 34:53.850
那么这边有一个爆错

34:53.850 --> 34:55.050
他是指点

34:55.050 --> 34:57.350
没有被定义

34:57.350 --> 34:59.250
我们来看一下

34:59.250 --> 35:00.950
允许我们用这个点

35:00.950 --> 35:04.350
那我们就把整个代码写进去

35:04.350 --> 35:05.350
success

35:05.350 --> 35:06.950
我们在里面写

35:06.950 --> 35:09.550
res

35:09.550 --> 35:11.150
然后把数据写进来

35:11.150 --> 35:12.350
我们把整个这改一改

35:12.350 --> 35:15.150
首先我们把里面的

35:15.150 --> 35:16.650
this这个拿进来

35:16.650 --> 35:18.050
但是问题是这个this

35:18.050 --> 35:19.850
我们需要在外部

35:19.850 --> 35:22.760
去设定一个

35:22.760 --> 35:26.230
that

35:26.230 --> 35:29.930
所以我们把这个that放这

35:29.930 --> 35:31.730
当它这一步完成以后

35:31.730 --> 35:40.410
那么我们停结了第二步开始

35:40.410 --> 35:41.310
完成了

35:41.310 --> 35:42.310
然后后面

35:42.310 --> 35:48.740
再来做我们现在下面的

35:48.740 --> 35:50.740
从这开始对吧

35:50.740 --> 35:51.840
那么看一下啊

35:51.840 --> 35:53.040
从这开始

35:53.040 --> 35:53.840
然后的话

35:53.840 --> 35:56.840
我们这边做了一个

35:56.840 --> 35:58.040
然后到

35:58.040 --> 36:07.080
这

36:07.080 --> 36:08.280
内部重定向

36:08.280 --> 36:09.080
然后到这

36:09.080 --> 36:12.280
然后这个是不要的

36:12.280 --> 36:12.880
重定向

36:12.880 --> 36:19.760
然后后面是一个大扩号

36:19.760 --> 36:23.910
我们把整个先删掉

36:23.910 --> 36:24.710
定个大扩号

36:24.710 --> 36:26.210
里面这是一段

36:26.210 --> 36:27.010
到这结束

36:27.010 --> 36:28.910
然后从这开始

36:28.910 --> 36:36.720
这个的话呢是success的

36:36.720 --> 36:37.720
应该有一对扩号

36:37.720 --> 36:40.890
我们再找一下啊

36:40.890 --> 36:43.690
它是少了这个that

36:43.690 --> 36:44.490
因为你看啊

36:44.490 --> 36:48.090
我们如果把这个数据全部拿掉的话

36:48.090 --> 36:49.590
那么剩下的是这个

36:49.590 --> 36:50.390
这是对照了

36:50.390 --> 36:51.390
但是这个that

36:51.390 --> 36:53.190
这边没有对它进行设定

36:53.190 --> 36:54.490
所以在这

36:54.490 --> 36:55.990
应该会有一个小扩号

36:55.990 --> 36:57.590
就表示所有的在that

36:57.590 --> 36:57.790
里面

36:57.790 --> 36:59.990
然后再把里面的人打上

36:59.990 --> 37:02.090
此时我们再来看一下效果

37:02.090 --> 37:07.560
此时我们用success的写法来做这个事情

37:07.560 --> 37:08.860
依然打开界面

37:08.860 --> 37:10.260
点击一下以后

37:10.260 --> 37:10.960
但是问题是

37:10.960 --> 37:12.360
我们现在由于内部

37:12.360 --> 37:14.760
它们不能进行拍照在ID一端

37:14.760 --> 37:17.260
所以你需要去经过我们的

37:17.260 --> 37:18.960
整个这个测试

37:18.960 --> 37:21.360
大家可以一起拿起你的手机

37:21.360 --> 37:22.560
在这个位置上面

37:22.560 --> 37:24.260
只要你做到这个地步了

37:24.260 --> 37:25.560
那么你可以拿起手机

37:25.560 --> 37:28.160
然后去点击一下这个按钮

37:28.160 --> 37:29.360
这个按钮点完以后

37:29.360 --> 37:31.160
它会进行拍照

37:31.160 --> 37:32.260
如果拍完以后

37:32.260 --> 37:33.560
它没有跳转的话

37:33.560 --> 37:35.860
那么你需要去看代码

37:35.860 --> 37:37.060
正常的情况下

37:37.060 --> 37:39.060
它会进行跳转

37:39.060 --> 37:40.560
那么我们来看一下

37:40.560 --> 37:42.260
有些手机如果没有跳转

37:42.260 --> 37:44.360
你要修改一下里面写法

37:44.360 --> 37:45.260
我们看一下

37:45.260 --> 37:46.460
这边有个小写错

37:46.460 --> 37:48.660
这边应该是success data

37:48.660 --> 37:50.660
就写一个

37:50.660 --> 37:52.760
如果说你错误以后的话

37:52.760 --> 37:53.860
那么很简单

37:53.860 --> 37:55.960
你可以通过我们的

37:55.960 --> 37:58.360
其他的方式来进行调试

37:58.360 --> 38:00.760
比如说你用真机方式调试

38:00.760 --> 38:01.860
你会看到

38:01.860 --> 38:03.560
它会爆给你现在这个错误

38:03.560 --> 38:04.660
所以这样的话

38:04.660 --> 38:06.560
我们大家可以不断地进行

38:06.560 --> 38:09.060
这样的一个调试过程

38:09.060 --> 38:10.860
那么我们这时候才可以看到

38:11.060 --> 38:12.960
我们现在是不是正常了

38:12.960 --> 38:14.660
现在我们继续进行调试

38:14.660 --> 38:16.060
我们把手机去对准

38:16.060 --> 38:17.460
这个二维码扫完以后

38:17.460 --> 38:18.960
在我真机上

38:18.960 --> 38:20.860
去完成这样的一个按钮

38:20.860 --> 38:22.160
点击以后

38:22.160 --> 38:23.460
它拍完照了

38:23.460 --> 38:24.660
然后的话

38:24.660 --> 38:26.460
它这边会告诉你

38:26.460 --> 38:28.560
它现在这张照片

38:28.560 --> 38:30.060
你看它现在

38:30.060 --> 38:31.360
它告诉你上面这张照片

38:31.360 --> 38:32.760
我已经拍到了

38:32.760 --> 38:35.260
然后它说的是promise

38:35.260 --> 38:37.360
说是这张照片的

38:37.360 --> 38:39.460
photo这个路径没有

38:39.660 --> 38:40.860
我们找一下

38:40.860 --> 38:42.060
这个问题就在于

38:42.060 --> 38:44.260
我们现在跳转的这个路径

38:44.260 --> 38:45.760
跳转这个路径

38:45.760 --> 38:46.760
我们找一下

38:46.760 --> 38:50.260
看一下CMERA person

38:50.260 --> 38:53.560
show photo

38:53.560 --> 38:55.460
跳到这个路径来

38:55.460 --> 38:57.260
我们来定位一下

38:57.260 --> 38:58.860
并不是这个路径不对

38:58.860 --> 38:59.860
是大小写

38:59.860 --> 39:02.260
因为我们在写这个时候

39:02.260 --> 39:04.460
我们注意这个show大写

39:04.460 --> 39:05.860
这边大写

39:05.860 --> 39:07.360
然后在我们的app.s中

39:07.360 --> 39:08.660
我们也定大写

39:08.660 --> 39:09.860
如果有一个小写的话

39:09.860 --> 39:11.260
它就找不到了

39:11.260 --> 39:13.460
所以我们全以大写方式走的话

39:13.460 --> 39:14.660
那么此时

39:14.660 --> 39:18.660
我们再来做我们的调试

39:18.660 --> 39:21.060
你注意要你点这个没用

39:21.060 --> 39:23.660
它这个组件在这不支持

39:23.660 --> 39:25.860
点真机

39:25.860 --> 39:26.660
真机时候

39:26.660 --> 39:30.160
注意要我在这边给了一个

39:30.160 --> 39:30.960
显示

39:30.960 --> 39:33.260
也就是说它只要进到这里来

39:33.260 --> 39:34.660
它就会重定向过去

39:34.660 --> 39:35.860
重定向过去以后

39:35.860 --> 39:37.060
我们在新页面

39:37.060 --> 39:39.960
会有一个show photo的显示

39:39.960 --> 39:42.560
我们来看一下

39:42.560 --> 39:43.660
我手机扫码

39:43.660 --> 39:45.960
我们来看一下这个内容

39:45.960 --> 39:47.260
扫完以后的话

39:47.260 --> 39:48.760
看到真机调试出来了

39:48.760 --> 39:51.760
我现在321点这个按钮

39:51.760 --> 39:52.760
屏幕一闪

39:52.760 --> 39:53.960
咱们有没有看到

39:53.960 --> 39:55.360
这边的话

39:55.360 --> 39:57.060
它显示没有错误

39:57.060 --> 39:59.860
就是把我现在的路径给显示了

39:59.860 --> 40:01.760
这个在哪里呈现的呢

40:01.760 --> 40:04.260
它其实就是在我们的

40:04.260 --> 40:06.460
这儿呈现出来了

40:06.460 --> 40:07.860
我们一旦把它呈现出来

40:07.860 --> 40:08.960
我们把它给关了

40:08.960 --> 40:10.060
因为代表的是

40:10.060 --> 40:12.860
我现在的数据已经被存储到了

40:12.860 --> 40:14.960
我们的Stator里面

40:14.960 --> 40:17.360
我可以通过现在这样的一个方式

40:17.360 --> 40:19.360
重定向到新页面

40:19.360 --> 40:22.160
那么新页面现在主要是取直

40:22.160 --> 40:23.160
新页面有两个

40:23.160 --> 40:25.060
一 页面的布局

40:25.060 --> 40:27.060
布局设计简单

40:27.060 --> 40:29.660
它本身就是做一个图片的呈现

40:29.660 --> 40:33.960
但是它要从我们的Storage里面去取直

40:33.960 --> 40:35.360
这是两个概念

40:35.460 --> 40:39.260
所以我们现在开始新页面的制作

40:39.260 --> 40:40.960
新页面第一件事

40:40.960 --> 40:45.800
页面简单布局

40:45.800 --> 40:48.000
就是一张图片

40:48.000 --> 40:50.900
里面放上

40:50.900 --> 40:58.380
major

40:58.380 --> 40:59.380
这边写上

40:59.380 --> 41:02.480
你的样式

41:02.480 --> 41:04.280
shoe and major

41:04.280 --> 41:06.080
src

41:06.080 --> 41:07.480
它是来自于哪里

41:07.480 --> 41:10.980
disc.Stator里面的

41:10.980 --> 41:12.480
photo

41:12.480 --> 41:14.980
所以我们就需要的是

41:14.980 --> 41:21.340
在当前的Staters里面去订一个

41:21.340 --> 41:29.540
Staters里面去订一个我们的photo

41:29.540 --> 41:33.450
订一个photo出来

41:33.450 --> 41:35.150
好 我们photo的话

41:35.150 --> 41:39.150
我们这边直接先放一个空

41:39.150 --> 41:41.650
然后它需要去接收

41:41.650 --> 41:44.450
首先第一个它不做任何的处理

41:44.450 --> 41:47.850
也就是说跳转到这个页面的时候

41:47.850 --> 41:50.950
它的数据已经有了 是吗

41:51.050 --> 41:52.350
已经有了

41:52.350 --> 41:55.050
所以的话它的接收是在什么时候

41:55.050 --> 41:56.750
是在shoe的那个时候

41:56.750 --> 41:59.350
所以它需要它的生命周期

41:59.350 --> 42:01.350
component.shoe

42:01.350 --> 42:13.570
在这个时候它直接接收数据

42:13.570 --> 42:15.870
好 这边首先我们来

42:15.870 --> 42:17.470
它的接收数据方式

42:17.470 --> 42:19.970
首先第一步

42:19.970 --> 42:25.550
我们依然去订一个z

42:25.550 --> 42:29.470
然后我们写上

42:29.470 --> 42:36.630
从数据存组中取值

42:36.630 --> 42:42.930
terror.getStorage取值

42:42.930 --> 42:44.930
然后key

42:44.930 --> 42:47.530
你要取的那个是叫什么名字

42:47.530 --> 42:48.330
我们还记得吗

42:48.330 --> 42:52.640
前面我们写的是photo people

42:52.640 --> 42:54.440
当你取到值以后

42:54.440 --> 42:58.740
它会作为返回类型

42:58.740 --> 43:01.140
success

43:01.140 --> 43:02.340
我们可以拿到

43:02.340 --> 43:06.860
当然我们直接这么来做

43:06.860 --> 43:08.860
拿到你的数据

43:08.860 --> 43:10.360
我们可以把这个数据

43:10.360 --> 43:12.660
我们先可以做一个console的输出

43:12.660 --> 43:18.560
它叫做photo people

43:18.560 --> 43:23.770
然后这边我们写上

43:23.770 --> 43:26.510
res

43:26.510 --> 43:27.710
拿到

43:27.710 --> 43:30.010
拿到以后后面就是

43:30.010 --> 43:32.210
将

43:32.210 --> 43:34.510
此值

43:34.510 --> 43:39.820
此值

43:39.820 --> 43:45.040
存储到Stator里面的

43:45.040 --> 43:48.140
所以应该是

43:48.140 --> 43:55.070
that.setStator

43:55.070 --> 43:56.470
往里走

43:56.470 --> 44:01.670
它去找到你现在的src

44:01.670 --> 44:04.170
那么它里面应该是哪一个呢

44:04.170 --> 44:05.570
那我先告诉你

44:05.570 --> 44:07.470
它的数据应该是来自于

44:07.470 --> 44:09.970
它里面有一个叫data

44:09.970 --> 44:12.370
有一个data数据里面

44:12.370 --> 44:14.970
这样去存储过来

44:14.970 --> 44:15.570
ok

44:15.570 --> 44:16.670
那我们来看一下

44:16.670 --> 44:19.870
首先这个数据是否能够被显示出来

44:19.870 --> 44:20.970
如果能被显示

44:20.970 --> 44:22.170
代表我已经取到了

44:22.170 --> 44:25.770
然后同时它已经放到src里面了

44:25.770 --> 44:26.970
然后src里面

44:26.970 --> 44:27.570
不不不

44:27.570 --> 44:29.870
photo我们放到

44:29.870 --> 44:31.970
photo里面这边就应该能够呈现

44:31.970 --> 44:33.370
是这个逻辑吧

44:33.370 --> 44:35.470
当然我们应该还有最后一步

44:35.570 --> 44:38.870
就是在这个完成以后

44:38.870 --> 44:41.370
在它的回调函数中

44:41.370 --> 44:43.670
我们去做一个

44:43.670 --> 44:45.270
清除

44:45.270 --> 44:53.140
或者移除存储数据

44:53.140 --> 45:07.350
taro.remo

45:07.350 --> 45:16.250
remo storage

45:16.250 --> 45:22.700
移除掉它

45:22.700 --> 45:24.500
移除的那个名字叫什么

45:24.500 --> 45:28.640
就是photo people

45:28.640 --> 45:37.690
当然它也有一success

45:37.690 --> 45:40.790
好啦我们来看一下整个这个结构

45:40.790 --> 45:41.990
首先

45:41.990 --> 45:44.090
我们打开了当前的页面

45:44.090 --> 45:45.090
然后呢

45:45.090 --> 45:47.190
我们得用真机调试

45:47.190 --> 45:48.490
真机这一块呢

45:48.490 --> 45:50.090
给大家要看到的是

45:50.090 --> 45:51.490
我到新页面以后

45:51.490 --> 45:58.370
下面会把那个弹出来

45:58.370 --> 46:00.970
首先我们现在进行src显示

46:00.970 --> 46:01.470
啊吧

46:01.470 --> 46:04.170
进行我们现在的那个首页

46:04.170 --> 46:06.070
点击按钮以后

46:06.070 --> 46:07.170
那么

46:07.170 --> 46:09.070
它出现了这样的一个数据

46:09.070 --> 46:10.070
咱们看到吗

46:10.070 --> 46:11.470
photo people

46:11.470 --> 46:14.370
photo people这个纸是在哪里看到的

46:14.370 --> 46:15.570
是不是这

46:15.570 --> 46:16.670
也就是说

46:16.670 --> 46:18.370
来到新页面以后

46:18.370 --> 46:21.270
它已经可以取到我现在这个纸了

46:21.270 --> 46:22.070
看

46:22.070 --> 46:22.770
是不是

46:22.770 --> 46:25.070
它可以取到我后面的这一串

46:25.070 --> 46:27.870
然后此时在你的手机上面

46:27.870 --> 46:29.870
你应该已经能看到

46:29.870 --> 46:32.370
你刚刚拍的那张照片了

46:32.370 --> 46:34.670
已经可以看到你拍的那张照片了

46:34.670 --> 46:35.670
只不过呢

46:35.670 --> 46:38.870
我们这个上边的样式

46:38.870 --> 46:40.570
其实你没有去定义

46:40.570 --> 46:42.070
我们只要把这两个

46:42.070 --> 46:44.670
简单的定制一下就可以了

46:44.670 --> 46:47.270
我们在shu

46:47.270 --> 47:00.480
jxx里面

47:00.480 --> 47:05.690
shu photo

47:05.690 --> 47:09.010
in part

47:09.010 --> 47:10.310
shu

47:10.310 --> 47:11.910
photo

47:11.910 --> 47:15.170
点css

47:15.170 --> 47:15.670
好

47:15.670 --> 47:16.970
简单定制一下啊

47:16.970 --> 47:18.170
这个我们不做复杂的

47:18.170 --> 47:19.870
我们就做两个给大家

47:19.870 --> 47:21.270
之后你看到页面的时候

47:21.270 --> 47:22.170
也会清楚一点

47:22.170 --> 47:23.070
我们就做一个吧

47:23.070 --> 47:24.570
shu image

47:24.570 --> 47:29.380
我们把图片大小定义一下就可以了啊

47:29.380 --> 47:37.340
宽度我们做它是500rpgx

47:37.340 --> 47:42.940
高度我们设置为800rpgx

47:42.940 --> 47:44.640
图片小一点吧

47:44.640 --> 47:46.040
然后container

47:46.040 --> 47:55.000
它有个container

47:55.000 --> 47:57.300
display

47:57.300 --> 48:00.560
flex

48:00.560 --> 48:02.360
flex direction

48:02.360 --> 48:05.600
column

48:05.600 --> 48:07.600
just contender

48:07.600 --> 48:09.300
center

48:09.300 --> 48:10.400
align item

48:10.400 --> 48:11.100
center

48:11.100 --> 48:13.400
好了就这样

48:13.400 --> 48:14.000
好了

48:14.000 --> 48:15.000
那么这样的话呢

48:15.000 --> 48:16.300
我们的这个案例

48:16.300 --> 48:17.400
基本就出来了

48:17.400 --> 48:19.800
我们来把这个案率捋一下

48:19.800 --> 48:22.100
首先我们大家能看到的是

48:22.100 --> 48:23.400
在第一个页面

48:23.400 --> 48:24.600
第一个页面

48:24.600 --> 48:25.900
我们主要的是

48:25.900 --> 48:27.800
只是做了一个camera

48:27.800 --> 48:29.500
然后在camera中

48:29.500 --> 48:31.400
我们形成了文字

48:31.400 --> 48:33.000
你用cover view的方式

48:33.000 --> 48:35.100
可以生成一个文字

48:35.100 --> 48:37.100
然后你再用cover major

48:37.100 --> 48:39.300
方式生成两张图片

48:39.300 --> 48:41.000
一张是人形图片

48:41.000 --> 48:43.800
一张是我们的快门图片

48:43.800 --> 48:46.100
这两张图片之间的关系

48:46.100 --> 48:48.100
我们是要通过样式结构的

48:48.100 --> 48:50.900
Zindex的层叠来完成

48:50.900 --> 48:51.800
第二呢

48:51.800 --> 48:54.100
我们针对于快门这张图片

48:54.100 --> 48:58.500
制行了一个unclick的一个快门事件

48:58.500 --> 49:00.100
photographs

49:00.100 --> 49:01.900
在快门事件里面的话呢

49:01.900 --> 49:04.700
我们主要是要创建一个叫做

49:04.700 --> 49:06.900
拍照的一个上下文对象

49:06.900 --> 49:09.100
create camera contest

49:09.100 --> 49:11.700
利用这个对象有一个拍摄方法

49:11.700 --> 49:13.800
叫做take photo

49:13.800 --> 49:15.200
完成拍摄

49:15.200 --> 49:16.200
在它拍摄的时候

49:16.200 --> 49:17.900
我们首先定一个质量

49:17.900 --> 49:18.900
quantly

49:18.900 --> 49:21.900
表示你现在要是要高质量低质量

49:21.900 --> 49:23.700
那么我们一般都会定为高质量

49:23.700 --> 49:24.900
因为图片越好

49:24.900 --> 49:26.300
越清晰越好

49:26.300 --> 49:27.600
当它拍摄完成以后

49:27.600 --> 49:30.100
它会以一个回调寒出的方式

49:30.100 --> 49:33.900
把我们把一个当前拍摄以后的图片

49:33.900 --> 49:36.900
以临时文件的路径的方式返回

49:36.900 --> 49:40.000
存储在我们的tempor and major pass里面

49:40.000 --> 49:41.500
tempor and major pass里面存好

49:41.500 --> 49:44.100
以后我们就可以通过这个值

49:44.100 --> 49:47.100
把它直接覆盖到我们现在

49:47.100 --> 49:50.400
或者更新我们现在Stator里面的一个变量

49:50.400 --> 49:51.700
更新以后的话呢

49:51.700 --> 49:54.000
那么注意在它当前的

49:54.000 --> 49:56.800
在它当前的我们的success

49:56.800 --> 49:59.300
和里面的success data里面

49:59.300 --> 50:01.500
我们去做一个回调寒数

50:01.500 --> 50:04.300
这个回调寒数是属于success data的

50:04.300 --> 50:07.700
它去完成我们现在的一个数据存储

50:07.700 --> 50:09.300
因为我们的显示

50:09.300 --> 50:11.200
之前在做基本数据的时候

50:11.200 --> 50:12.800
我们在当前页面显示

50:12.800 --> 50:15.200
而现在我们跨页面显示

50:15.200 --> 50:16.000
跨页面的话

50:16.000 --> 50:19.500
我们不把它作为数据传输的一个字符

50:19.500 --> 50:22.600
我们作为数据的一个存储结构

50:22.600 --> 50:25.500
所以我们做了一个set stator

50:25.500 --> 50:27.500
我们让它进行一个存储以后

50:27.500 --> 50:30.900
把它放在了key view

50:30.900 --> 50:33.000
这样一个存队的结构中

50:33.000 --> 50:36.400
自己起一个key的名称叫photo people

50:36.400 --> 50:39.000
然后data是我们现在要的数据

50:39.000 --> 50:42.700
就是你刚刚这边所拿到的这样的一个路径

50:42.700 --> 50:45.000
当你存完以后你就不用管它了

50:45.000 --> 50:47.200
然后你直接完成一个跳转

50:47.200 --> 50:50.500
当然我们刚才跳转大小写注意一下

50:50.500 --> 50:52.200
跳转过来以后

50:52.200 --> 50:53.700
那么在这个页面上面

50:53.700 --> 50:55.300
我们主要的是做呈现

50:55.300 --> 50:56.900
所以页面结构很简单

50:56.900 --> 50:59.600
我们只做一个图片的呈现格式

50:59.600 --> 51:02.900
而它更多的是我们做在生命交期的

51:02.900 --> 51:04.400
勾字函数里面

51:04.400 --> 51:06.500
我们做的是compounded show

51:06.500 --> 51:08.900
在show以后去执行这个操作

51:09.000 --> 51:13.800
它主要是从我们的数据存储里面取值get storage

51:13.800 --> 51:16.100
取值的时候用key的方式取得你

51:16.100 --> 51:18.900
现在刚刚存进去的这个名称的内容

51:18.900 --> 51:21.600
它以回调函数的方式帮你拿到

51:21.600 --> 51:23.000
拿到以后的话

51:23.000 --> 51:25.100
那么我们就可以把这个值

51:25.100 --> 51:27.300
直接存储或者修改

51:27.300 --> 51:29.600
当前的stator里面的一个变量

51:29.600 --> 51:30.600
是元素变量

51:30.600 --> 51:31.800
这就是photo

51:31.800 --> 51:33.300
当它得到数据以后

51:33.300 --> 51:36.100
再在set stator的回调函数中

51:36.100 --> 51:39.300
我们去移除当前的photo n

51:39.300 --> 51:41.600
不移除的话它一直存储着

51:41.600 --> 51:42.800
所以大家记住

51:42.800 --> 51:45.900
手机端如果我们存在当前页面数据的话

51:45.900 --> 51:46.900
那没有关系

51:46.900 --> 51:49.800
但如果你存在的是全局数据的话

51:49.800 --> 51:51.700
你一定要做一个移除处理

51:51.700 --> 51:53.800
不然一直会存在本地

51:53.800 --> 51:56.800
除非你把当前的这个系统给关了

51:56.800 --> 51:58.800
但是很多时候我们大家都不会关

51:58.800 --> 52:01.100
导致很多时候越来越慢

52:01.100 --> 52:01.600
好了

52:01.600 --> 52:04.100
那么这样的话这个案例就完成了

52:04.100 --> 52:06.000
当然这案例的唯一的一个小点

52:06.000 --> 52:09.700
就是在于我们没法在我们的控制模拟器上测试

52:09.700 --> 52:10.800
因为你看到了

52:10.800 --> 52:12.400
在老版本

52:12.400 --> 52:13.400
我们说一下

52:13.400 --> 52:16.200
如果说你现在没有像我一样升级

52:16.200 --> 52:18.800
你很早就开始用微信小程序学习

52:18.800 --> 52:21.600
老版本上面那么这块会显示

52:21.600 --> 52:23.300
但是作为新版本的结构

52:23.300 --> 52:25.200
它这块就显示不了了

52:25.200 --> 52:26.300
那么我说过

52:26.300 --> 52:28.500
大家用蒸机调试或者预览的方式

52:28.500 --> 52:30.500
在我们的手机上去调试

52:30.500 --> 52:34.800
这样的话你能够看到当前这个的所有结果

52:34.800 --> 52:37.100
那么同时我们刚才刚开始讲课的时候

52:37.100 --> 52:38.100
我就讲过

52:38.100 --> 52:41.600
这个人形头像我们可以换成任何一个形象

52:41.600 --> 52:47.300
我们主要做的是在此组建上的一个字和图的覆盖

52:47.300 --> 52:47.900
好了

52:47.900 --> 52:52.800
那么这就是我们这期课给大家讲解的一个人形的拍照的一个功能

52:52.800 --> 52:56.900
同时里面涉及到了是跳转页面的数据存储

52:56.900 --> 52:57.300
好了

52:57.300 --> 52:58.600
那么这期课就上到这

52:58.600 --> 53:00.900
我们大家可以多去复习复习练习练习

