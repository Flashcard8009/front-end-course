WEBVTT

00:01.200 --> 00:03.200
哈喽 大家好

00:03.200 --> 00:06.800
上一集咱们说了二叉树的单权

00:06.800 --> 00:07.120
是吧

00:07.120 --> 00:08.400
我们通过单权了之后

00:08.400 --> 00:09.800
把一棵不平衡的二叉树

00:09.800 --> 00:10.880
变成平衡的二叉树

00:10.880 --> 00:12.400
但是我们说了

00:12.400 --> 00:14.400
单权的操作不是万能的

00:14.400 --> 00:16.480
有一些情况我们根本就解决不了

00:16.480 --> 00:19.520
那么有什么情况我们解决不了呢

00:19.520 --> 00:21.680
咱来说一种二叉树

00:21.680 --> 00:27.740
这样的一棵二叉树

00:27.740 --> 00:29.740
看啊

00:29.740 --> 00:34.480
这棵二叉树是不是长得很痘

00:34.480 --> 00:36.000
对吧

00:36.800 --> 00:38.160
它只有左边的分支是吧

00:38.160 --> 00:39.360
二的左边是五的

00:39.360 --> 00:40.160
左边是六的

00:40.160 --> 00:41.120
左边是七七的

00:41.120 --> 00:43.120
左边是八

00:43.120 --> 00:45.280
这样的一种结构

00:45.280 --> 00:46.320
那你说单权吗

00:46.320 --> 00:47.520
是吧

00:47.520 --> 00:49.920
从下往上找对吧

00:49.920 --> 00:50.960
八是平衡的

00:50.960 --> 00:52.000
不用变

00:52.000 --> 00:52.960
七是平衡的

00:52.960 --> 00:53.920
不用变

00:53.920 --> 00:55.440
六不平衡

00:55.440 --> 00:56.480
对吧

00:56.480 --> 01:01.360
左边身右边前进行右单权

01:01.360 --> 01:02.880
变成这个球员

01:02.880 --> 01:04.080
对吧

01:04.080 --> 01:05.360
然后看五

01:05.360 --> 01:07.520
五也不平衡

01:07.600 --> 01:08.400
对吧

01:08.400 --> 01:09.520
左边两层

01:09.520 --> 01:10.800
右边没有是吧

01:13.200 --> 01:15.200
往右进行

01:17.200 --> 01:17.680
等一下

01:17.680 --> 01:19.600
我把这个改一下

01:19.600 --> 01:20.640
这是二三字五的齐

01:20.640 --> 01:23.120
我把它变成左小右大的形式吧

01:23.120 --> 01:23.920
咱们从来

01:23.920 --> 01:25.040
把它变成左小右大

01:25.040 --> 01:26.160
这样的话比较好改

01:27.520 --> 01:30.640
七六五二

01:30.640 --> 01:31.680
这样啊

01:31.680 --> 01:32.560
看第一步

01:32.560 --> 01:33.200
二平衡

01:33.200 --> 01:34.080
第二步五平衡

01:34.080 --> 01:35.200
第三步六不平衡

01:35.200 --> 01:37.040
左边身右边前进行右单权

01:37.600 --> 01:38.960
把五提上去

01:38.960 --> 01:41.360
变成一个这样的形式

01:41.360 --> 01:43.680
然后再看七也不平衡

01:43.680 --> 01:44.320
对吧

01:44.320 --> 01:45.120
左边两层

01:45.120 --> 01:46.560
右边没有

01:46.560 --> 01:47.600
二比零是吧

01:47.600 --> 01:48.320
不平衡是吧

01:48.320 --> 01:49.280
哎

01:49.280 --> 01:50.480
提五

01:50.480 --> 01:51.760
落七

01:51.760 --> 01:53.440
六变成七的左字数

01:55.040 --> 01:55.920
变成这个形状

01:57.360 --> 01:57.680
对吧

02:00.080 --> 02:02.400
我现在还是把这个线给它补上吧

02:06.130 --> 02:07.250
变成了这种形状

02:18.420 --> 02:18.980
再来一个

02:23.840 --> 02:25.040
然后看八

02:25.040 --> 02:26.880
八的左边有三层

02:28.400 --> 02:29.680
右边一层都没有

02:29.680 --> 02:31.360
是不是也要进行右单权

02:31.360 --> 02:31.600
是吧

02:31.600 --> 02:32.880
也要进行右单权

02:32.880 --> 02:33.600
给谁提上去

02:33.600 --> 02:34.720
是不是得给五提上去

02:35.840 --> 02:36.880
八进行右单权

02:36.880 --> 02:38.000
是不是得给五提上去

02:40.990 --> 02:41.870
五提上去的话

02:41.870 --> 02:43.230
是不是代表的是二点

02:43.230 --> 02:44.030
还是连着五

02:44.990 --> 02:46.590
然后七跟着谁

02:46.590 --> 02:47.230
七指向八

02:48.510 --> 02:48.830
对吧

02:49.790 --> 02:50.830
变化分支变成

02:51.790 --> 02:53.230
过去分支的左字数

02:54.510 --> 02:55.950
然后你看变完了之后

02:56.990 --> 02:57.710
它还是不平

03:00.210 --> 03:00.530
对吧

03:02.290 --> 03:03.010
左边一层

03:03.010 --> 03:03.730
右边三层

03:04.530 --> 03:05.250
还是差两层

03:06.370 --> 03:07.330
你看这个是为什么

03:09.820 --> 03:10.860
你看刚才的结构

03:13.140 --> 03:14.020
刚才的结构

03:14.980 --> 03:15.540
是八

03:16.100 --> 03:16.900
左边是五

03:19.790 --> 03:20.110
对吧

03:21.070 --> 03:21.950
左边是五

03:21.950 --> 03:23.870
然后这个是一个七六是吧

03:23.870 --> 03:24.190
你看

03:25.310 --> 03:26.030
这三个节点

03:29.710 --> 03:31.310
这三个节点相当于是一个量

03:33.710 --> 03:34.910
七的这两个节点

03:34.910 --> 03:35.870
相当于是一个准

03:37.710 --> 03:39.070
无论这个准

03:39.630 --> 03:41.150
这个准是提供最大深度的

03:41.550 --> 03:41.790
是吧

03:41.790 --> 03:43.070
这个准是提供最大深度的

03:44.430 --> 03:45.390
它往哪查

03:45.390 --> 03:46.190
谁就是最审的

03:46.750 --> 03:47.550
它变完了之后

03:47.550 --> 03:48.270
会变成什么呢

03:48.270 --> 03:49.070
五在最上面

03:49.630 --> 03:50.270
八下来了

03:52.270 --> 03:52.670
对吧

03:52.670 --> 03:54.030
五在最上面八下来了

03:59.870 --> 04:01.070
看这还是这三个

04:11.150 --> 04:11.870
七往下的

04:12.510 --> 04:13.390
七连在八上

04:15.630 --> 04:17.310
其实你说最后就是谁变了

04:18.110 --> 04:20.190
无非就是六七连在五上

04:20.190 --> 04:21.710
和六七连在八上

04:21.710 --> 04:22.110
是吧

04:22.910 --> 04:24.430
无论连在水上

04:24.430 --> 04:25.470
水加这两层

04:26.030 --> 04:28.590
都会比隔壁多两层

04:29.790 --> 04:30.190
对吧

04:30.830 --> 04:32.590
这两层是决定性因素

04:32.590 --> 04:33.310
是吧

04:33.310 --> 04:34.830
六和七加在谁的身上

04:34.830 --> 04:35.790
谁就是最审的

04:35.790 --> 04:36.350
是吧

04:36.350 --> 04:37.870
六和七如果你加在二层

04:37.870 --> 04:39.390
也就是规则不让你往这加

04:39.390 --> 04:39.790
是吧

04:39.870 --> 04:40.990
六和七加在二身上

04:40.990 --> 04:41.790
它也是最深的

04:41.790 --> 04:42.510
是吧

04:42.510 --> 04:44.030
它是最深的这一层

04:44.030 --> 04:45.790
所以它往谁的身上加

04:45.790 --> 04:46.670
谁就是最审的

04:48.030 --> 04:49.790
所以说这个就是一个左单权

04:49.790 --> 04:52.350
和右单权一个不能解决的一个问题

04:54.670 --> 04:56.750
这就是一个左单权和右单权

04:56.750 --> 04:58.110
一个不能解决的问题

04:58.110 --> 04:59.630
所以说有一种情况下

04:59.630 --> 05:00.670
不能进行左单权

05:02.190 --> 05:02.670
什么呢

05:02.670 --> 05:05.870
就是六和七是什么分支

05:05.870 --> 05:07.150
六和七是变化分支

05:07.150 --> 05:07.470
是吧

05:08.430 --> 05:09.790
变化分支

05:12.430 --> 05:13.550
不可以是

05:14.510 --> 05:15.230
唯一的

05:18.050 --> 05:18.930
最深分支

05:20.770 --> 05:22.290
就是说你这颗二叉数

05:22.290 --> 05:24.210
全靠六和七去提供深度

05:24.770 --> 05:26.050
然后它是变化分支

05:26.690 --> 05:27.250
是吧

05:27.250 --> 05:28.290
它变到谁身上

05:28.290 --> 05:29.010
谁就是最审的

05:29.570 --> 05:29.890
是吧

05:29.890 --> 05:30.930
它变到谁身上

05:30.930 --> 05:31.970
谁就是最审的

05:31.970 --> 05:32.610
你不信的话

05:32.610 --> 05:34.690
都把这个图自己去画两遍

05:35.330 --> 05:36.850
自己去摆弄两下

05:36.850 --> 05:37.970
自己去试一下

05:38.210 --> 05:39.570
光靠我说的话

05:39.570 --> 05:41.650
脑力是很难想得清楚的

05:41.650 --> 05:43.570
自己画一个这样的图去摆弄摆弄

05:44.610 --> 05:45.890
它是变化分支

05:45.890 --> 05:47.090
它挂在谁的身上

05:47.090 --> 05:47.970
谁就是最审的

05:48.930 --> 05:49.810
所以说

05:49.810 --> 05:51.010
我们的变化分支

05:51.010 --> 05:52.210
不可以就是最深分支

05:52.690 --> 05:53.090
是吧

05:54.290 --> 05:56.610
你本来是为了削减左边的深度的

05:57.250 --> 05:57.570
对吧

05:57.570 --> 05:59.410
本来是你为了削减左边的深度的

05:59.890 --> 06:02.290
但是你把左边提供深度的分支

06:02.290 --> 06:03.090
给它转动了

06:03.090 --> 06:03.330
是吧

06:04.130 --> 06:04.770
原封不动的

06:04.770 --> 06:05.650
插在右边的

06:05.650 --> 06:07.170
那不就右边就是最深分支了

06:08.450 --> 06:08.930
对吧

06:09.570 --> 06:11.410
所以说变化分支

06:12.210 --> 06:14.770
不可以是唯一的最深分支

06:15.650 --> 06:18.290
如果变化分支是唯一的最深分支

06:18.290 --> 06:18.690
怎么办

06:20.850 --> 06:26.450
如果变化分支是唯一的最深分支

06:30.740 --> 06:37.700
我们要先进行反向的旋转

06:38.580 --> 06:39.860
比如说

06:43.420 --> 06:43.980
比如说

06:44.620 --> 06:45.180
左边这个

06:46.700 --> 06:48.700
我们要对八进行右单旋

06:48.700 --> 06:49.020
对吧

06:49.020 --> 06:51.100
我们要对八进行右单旋是吧

06:52.060 --> 06:54.860
但是变化分支是最深分支

06:55.580 --> 06:55.900
对吧

06:55.900 --> 06:58.700
六七这个分支是最深分支

06:58.700 --> 07:00.060
它是变化分支

07:00.780 --> 07:02.300
所以我们要先进行怎么样

07:02.860 --> 07:03.980
先对它的左子数

07:03.980 --> 07:05.580
对这个五进行一次左旋

07:05.580 --> 07:05.820
是吧

07:05.820 --> 07:07.580
我们本来要对八进行右旋

07:08.140 --> 07:10.060
但是因为变化分支是最深的

07:10.060 --> 07:12.300
所以我们得先对五进行左旋

07:12.300 --> 07:13.340
先给它变成什么样的

07:15.180 --> 07:15.980
先给它变成

07:17.740 --> 07:18.300
五和二

07:19.500 --> 07:20.060
拿下来

07:22.770 --> 07:23.490
七拿上去

07:33.710 --> 07:34.910
第一步先变成这样

07:42.060 --> 07:42.780
这是第一步

07:45.100 --> 07:47.180
先对五这个节点进行左旋

07:49.820 --> 07:50.620
变成这个样子

07:56.990 --> 08:00.190
对五这个节点进行左旋

08:03.250 --> 08:03.970
我给你画一下

08:08.140 --> 08:11.020
对蓝色区域内的这些东西进行左旋

08:20.500 --> 08:21.940
左旋了之后就变成

08:23.940 --> 08:24.420
这个样子

08:30.620 --> 08:31.260
对吧

08:31.260 --> 08:32.140
变成了这个样子

08:33.580 --> 08:37.500
然后再对八这个节点进行右旋

08:37.500 --> 08:38.060
所以说

08:38.620 --> 08:40.540
当变化分支是最深分支是

08:40.540 --> 08:41.820
你本来要进行右旋

08:41.820 --> 08:44.300
得先对左子数进行一下左旋

08:44.300 --> 08:47.100
所以这种旋转方式叫做左右双旋

08:53.650 --> 08:55.650
先对它进行左旋了之后变成这样

08:55.650 --> 08:56.290
是吧

08:56.290 --> 08:57.730
然后再对它进行右旋

08:57.730 --> 08:59.250
右旋了之后把八拿下去是吧

09:04.780 --> 09:05.580
八拿下去

09:06.300 --> 09:07.020
七提上去

09:15.790 --> 09:16.590
完事是吧

09:17.150 --> 09:19.070
这个时候没有变化分支了

09:19.070 --> 09:19.230
是吧

09:19.230 --> 09:20.430
七的右分支是空的

09:20.430 --> 09:21.390
所以没有变化分支了

09:22.510 --> 09:23.870
这样的话就变成这个结构了

09:25.550 --> 09:28.910
这样就可以重新打到平衡了

09:29.630 --> 09:32.110
这样的话先左旋后右旋

09:32.110 --> 09:33.550
这样的叫做左右双旋

09:39.700 --> 09:40.180
写一下

09:43.580 --> 09:44.620
二叉数的双旋

09:51.950 --> 09:52.910
二叉数的双旋

09:53.550 --> 09:59.550
也就是左右双旋和右左双旋

10:02.180 --> 10:03.700
什么样情况下进行双旋呢

10:04.660 --> 10:15.230
当要对某个节点进行左丹旋时

10:16.350 --> 10:17.790
要对它进行左丹旋时

10:18.590 --> 10:25.550
如果变化分支是唯一的最深分支

10:26.510 --> 10:35.070
那么我们要对心肯进行右丹旋

10:38.900 --> 10:43.700
然后再进行左丹旋

10:45.540 --> 10:46.580
这样的旋转

10:48.100 --> 10:50.900
叫做右左双旋

10:51.860 --> 10:59.460
还有种情况就是当要对某个节点进行右丹旋时

11:03.090 --> 11:11.330
如果变化分支是唯一的最深分支

11:13.090 --> 11:20.850
那么我们要对心肯进行左丹旋

11:21.570 --> 11:26.050
然后再进行右丹旋

11:28.910 --> 11:30.030
这样的旋转

11:31.310 --> 11:35.490
叫做左右双旋

11:38.450 --> 11:41.970
这就是右左双旋和左右双旋的定义

11:42.770 --> 11:45.170
也是右左双旋和左右双旋发生的情况

11:45.650 --> 11:47.090
也就是说旋转来之后

11:47.090 --> 11:49.410
如果变化分支是最深分支

11:49.970 --> 11:51.330
这样的话你旋转来之后

11:51.330 --> 11:52.370
它还是不平衡的

11:52.370 --> 11:52.930
就像这个

11:53.250 --> 11:54.770
它左边的一层右边是三层

11:54.770 --> 11:55.490
它还是不平衡

11:56.370 --> 11:58.370
就是因为变化分支是最深分支

11:58.370 --> 11:59.810
它旋转过去了之后

11:59.810 --> 12:01.970
变化分支挂到了新的这一遍

12:03.010 --> 12:04.770
导致新的这一遍是最深的

12:06.050 --> 12:07.970
刚才说的是你们可能很难理解

12:07.970 --> 12:09.570
大家需要去找个PPT

12:09.570 --> 12:10.770
拿几个情绪去画一画

12:11.570 --> 12:12.690
多画几遍就明白了

12:14.770 --> 12:17.650
左右双旋和右左双旋怎么写呢

12:18.370 --> 12:20.370
如何把它落实在代码上呢

12:20.370 --> 12:21.810
咱们下一集具体再说

