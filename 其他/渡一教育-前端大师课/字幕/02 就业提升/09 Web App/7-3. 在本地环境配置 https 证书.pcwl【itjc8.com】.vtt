WEBVTT

00:00.000 --> 00:05.500
OK 我们这节课的话 我们来讲一下就是如何在这个本地环境

00:05.500 --> 00:10.500
就是在你自己机器上面 配置这个https证书

00:10.500 --> 00:14.800
当然有的同学会觉得 这个和我们就是整个这一张

00:14.800 --> 00:19.500
以及就是反正就整个这个课程内容 没有太大的关系

00:19.500 --> 00:23.500
我们整个这个课程内容是讲这个weboppp 对不对

00:23.500 --> 00:26.500
怎么会突然开始讲这个呢 原因很简单

00:27.000 --> 00:33.000
就是因为我们这边在讲weboppp的时候 我们会用到很多html5的这个API

00:33.000 --> 00:37.000
然后很多这个html5的API的话 它只能什么呢

00:37.000 --> 00:42.500
只能在https的情况下 才能够这个开启

00:42.500 --> 00:48.000
比如说我们之前的话其实也遇到一个 就是那个新增的那个

00:48.000 --> 00:51.000
那个叫什么名来着 就是我们那个摄像头还记不记得

00:51.000 --> 00:55.000
我们当时讲的 好吧 打开哈 稍等一下

00:55.500 --> 00:58.500
一动端

00:59.500 --> 01:05.500
然后这边就这个摄像头 摄像头的话 我们当时是采用的是第二种方案

01:05.500 --> 01:09.500
对不对 我们采用的是这个input file这种方案

01:09.500 --> 01:12.500
然后我们还做了一个小的实例 但是第一种方案

01:12.500 --> 01:16.500
这个get user media API 当时我们讲的是

01:16.500 --> 01:21.500
让我们如果是这个localhost 就127.0.0.1

01:22.000 --> 01:27.000
它的这个API是不是正常运行 对吧 但是我一代的话 我把它改成这个

01:27.000 --> 01:31.000
就是我的电脑的ip地址的话 你会发现它不好使了

01:31.000 --> 01:35.000
原因是什么 原因就是这边当时我罗列了的

01:35.000 --> 01:39.000
你要骂的话地址是localhost 要骂什么 要骂你这边file

01:39.000 --> 01:43.000
要骂什么 要骂你是https

01:43.000 --> 01:47.000
那这个的话它其实不是个例 你听清楚

01:47.000 --> 01:52.000
这个它不是个例 就我们HTML5的话 它很多API

01:52.000 --> 01:57.000
包括我们后面会讲到的这个重力感应啊 这些很多API

01:57.000 --> 02:02.000
它必须要求你什么 必须要求你是https

02:02.000 --> 02:07.000
只有是在https的情况下 它才能正常的这个工作

02:07.000 --> 02:11.000
OK 所以我这边的话 我们就花一节课时间 我们来看一下

02:11.000 --> 02:15.000
如何来配置这个证书 这个其实不难

02:15.000 --> 02:20.000
我们可以在这个本地配置一个 我们就是做这个开发来用嘛

02:20.000 --> 02:25.000
对吧 我们这边首先的话会用到一个第三方的这个插件

02:25.000 --> 02:29.000
叫做这个make a start

02:29.000 --> 02:33.000
它是使用这个购语言写的一个零配置的

02:33.000 --> 02:36.000
专门用来在本地环境

02:36.000 --> 02:40.000
所以本地环境生成https证书的一个工具

02:40.000 --> 02:43.000
而这边这个的话是它的这个官网

02:43.000 --> 02:46.000
你这边你可以打开看一下 这边有一个这个

02:46.000 --> 02:50.000
最近好像出来那个新的叫做getcode 这个好像最近才出来的

02:50.000 --> 02:57.000
最早get hub 然后接下来gete 是吧 马云gete 最近又出了一个这个getcode

02:57.000 --> 03:02.000
好 接下来在这边那就是有这个讲解 这个make

03:02.000 --> 03:06.000
mk就是那个make的意思 make a start

03:06.000 --> 03:13.000
你看它是simple tool for making locally trusted development

03:13.000 --> 03:18.000
这个certificate 就是在本地你可以来创建什么呢

03:18.000 --> 03:24.000
创建你的一个证书中心 然后接下来本地生成这个证书和密钥

03:24.000 --> 03:28.000
好 接下来这边它讲了就是这个安装的这个方法

03:28.000 --> 03:32.000
三个系统都支持 不论你是这个

03:32.000 --> 03:39.000
苹果电脑还是lilink式 但很少有人用lilink式 除非你是服务器端环境 对吧

03:39.000 --> 03:45.000
好 接下来这边windows ok 都是支持的 好吧 都是支持的

03:45.000 --> 03:49.000
好 然后因为谢老师这边的话是这个make os

03:49.000 --> 03:55.000
所以我这边记录了一下这个make o s 下面如何进行安装

03:56.000 --> 04:03.000
那make os下面你看一下 它这边推荐什么 它这边的推荐你使用这个homebrew

04:03.000 --> 04:07.000
使用这个来装 这个是什么呢 这个可能有同学不知道

04:07.000 --> 04:12.000
这个的话它是这个make os上面的一个包管理器

04:12.000 --> 04:16.000
你这边可以就是去它的官网看一下

04:16.000 --> 04:20.000
我们这边去官网看一下 这边

04:20.000 --> 04:23.000
这个 就这个

04:23.000 --> 04:28.000
可不可以这边可以切换语言 简体中文

04:28.000 --> 04:32.000
ok 你看它是make os或者lilink式上面

04:32.000 --> 04:36.000
一个缺失的软件 缺失是它打广告

04:36.000 --> 04:40.000
就是它是一个软件包管理器

04:40.000 --> 04:44.000
这个其实很好理解 大家就是如果学过load的话

04:44.000 --> 04:46.000
如果学过load这个就很好理解

04:46.000 --> 04:51.000
load上面的话 它的这个包管理器是不是使用的是那个npm

04:51.000 --> 04:53.000
或者压案 那你装包的时候

04:53.000 --> 04:56.000
是不是同意就使用这个npm或者压案来装包

04:56.000 --> 04:58.000
对不对 那这个homebrew的话

04:58.000 --> 05:03.000
它就是这个给这个make os进行装包的

05:03.000 --> 05:08.000
好 那你首先你要安装它 就像你首先要安装这个npm

05:08.000 --> 05:12.000
一样 这边首先要安装 安装的话就这一行代

05:12.000 --> 05:14.000
ok 你这边复制一下 复制了之后

05:14.000 --> 05:17.000
然后接下来的话 你这边打开 打开之后

05:17.000 --> 05:20.000
然后叫你安装 你就会发现它爆错了

05:20.000 --> 05:23.000
就会发现它爆错了 爆什么错

05:23.000 --> 05:28.000
field to collect 是不是连接失败

05:28.000 --> 05:30.000
对不对 大家这边是443

05:30.000 --> 05:32.000
这个是怎么呢 这个的话

05:32.000 --> 05:35.000
其实是这个国内它的这个特殊的网络环境

05:35.000 --> 05:40.000
你看这边connection refills的 是不是拒绝你这个连接了

05:41.000 --> 05:43.000
对吧 怎么办呢 没关系

05:43.000 --> 05:45.000
这边的话 你可以使用什么呢

05:45.000 --> 05:48.000
可以使用就是国内的这个镜像

05:48.000 --> 05:50.000
国内的话 专门有一个这个镜像

05:50.000 --> 05:54.000
可以使用这个国内的镜像环境进行安装

05:54.000 --> 05:56.000
你看这边是不是一下子就出来了

05:56.000 --> 05:59.000
出来了之后 然后既然让你选择一个这个镜像园

05:59.000 --> 06:01.000
你这边就选择就可以了

06:01.000 --> 06:03.000
这边还是提供了五个这个镜像园

06:03.000 --> 06:05.000
中科大 清华大学

06:05.000 --> 06:08.000
然后北京外国语大学

06:08.000 --> 06:11.000
然后腾讯阿里巴巴 然后我选的是阿里巴巴的

06:11.000 --> 06:13.000
你看你自己选择哪个

06:13.000 --> 06:14.000
然后选择了之后

06:14.000 --> 06:17.000
然后你把那个homebrew 然后把这个先停掉

06:17.000 --> 06:20.000
然后把那个homebrew装上

06:20.000 --> 06:21.000
然后装上之后

06:21.000 --> 06:23.000
然后接下来的话 下一步

06:23.000 --> 06:24.000
下一步的话

06:24.000 --> 06:26.000
你这边就可以使用什么呢

06:26.000 --> 06:29.000
就可以使用这个命令

06:29.000 --> 06:32.000
就这个 这个命令

06:32.000 --> 06:33.000
然后接下来的话

06:33.000 --> 06:36.000
就可以开始来装这个make cert

06:36.000 --> 06:38.000
装这个插件

06:38.000 --> 06:39.000
把这个插件装好

06:39.000 --> 06:41.000
我这边是已经安装了

06:41.000 --> 06:43.000
安装完了之后

06:43.000 --> 06:44.000
然后接下来下一步

06:44.000 --> 06:45.000
下一步的话

06:45.000 --> 06:47.000
你这边执行make cert

06:47.000 --> 06:49.000
gan install

06:49.000 --> 06:50.000
他就会干嘛呢

06:50.000 --> 06:53.000
他就会在你的本地安装一个

06:53.000 --> 06:55.000
这个本地的这个ca

06:55.000 --> 06:58.000
本地的ca你可以把理解成是一个

06:58.000 --> 07:01.000
颁发这个证书的这个中心

07:02.000 --> 07:05.000
就是这个由这个中心来颁发这个证书

07:05.000 --> 07:06.000
只不过现在的话

07:06.000 --> 07:08.000
因为我们是开发环境

07:08.000 --> 07:09.000
所以我们直接把这个

07:09.000 --> 07:11.000
证书中心

07:11.000 --> 07:13.000
直接就是在我们本地安装了一个

07:13.000 --> 07:14.000
安装了一个

07:14.000 --> 07:15.000
然后接下来回头

07:15.000 --> 07:17.000
我们就本地这个证书中心

07:17.000 --> 07:19.000
来给我们颁发证书

07:19.000 --> 07:20.000
ok

07:20.000 --> 07:21.000
这边安装了之后

07:21.000 --> 07:23.000
然后你可以使用这个make cert

07:23.000 --> 07:26.000
然后干干这个ca

07:26.000 --> 07:27.000
这个root

07:27.000 --> 07:29.000
你可以看这个证书中心

07:29.000 --> 07:31.000
就是这个ca

07:31.000 --> 07:33.000
他安装在哪个位置的

07:33.000 --> 07:35.000
这边可以看一下

07:35.000 --> 07:36.000
这边走

07:36.000 --> 07:37.000
你看我这边的话

07:37.000 --> 07:39.000
就安装在这个位置的

07:39.000 --> 07:40.000
ok

07:40.000 --> 07:41.000
看了没有

07:41.000 --> 07:42.000
但这个的话不是重点

07:42.000 --> 07:43.000
好然后接下来

07:43.000 --> 07:46.000
你现在的话就是在本地

07:46.000 --> 07:48.000
就已经把这个ca

07:48.000 --> 07:51.000
这个证书中心就已经安装好了

07:51.000 --> 07:52.000
安装好了之后

07:52.000 --> 07:53.000
这样回头的话

07:53.000 --> 07:56.000
就可以由他来生成这个证书

07:56.000 --> 07:57.000
好吧

07:57.000 --> 07:58.000
你简单理解

07:58.000 --> 07:59.000
就是以前比如说

07:59.000 --> 08:00.000
你要出国

08:00.000 --> 08:02.000
出国的话你要办签证

08:02.000 --> 08:03.000
你办签证的话

08:03.000 --> 08:05.000
你要去跑到哪去

08:05.000 --> 08:06.000
跑到就是比如说

08:06.000 --> 08:08.000
颁发这个签证的中心

08:08.000 --> 08:10.000
有可能这个中心在北京

08:10.000 --> 08:12.000
可能在上海

08:12.000 --> 08:13.000
你要跑一趟

08:13.000 --> 08:14.000
现在的话

08:14.000 --> 08:15.000
我们开发环境

08:15.000 --> 08:16.000
开发环境我们没必要跑

08:16.000 --> 08:18.000
我们就在我们自己机器上

08:18.000 --> 08:20.000
搞了一个签证处

08:20.000 --> 08:22.000
搞了一个签证处之后

08:22.000 --> 08:23.000
再在我们的机器上

08:23.000 --> 08:26.000
自己来颁发这个证书和密钥

08:26.000 --> 08:27.000
就这个意思

08:27.000 --> 08:28.000
好吧

08:28.000 --> 08:29.000
好

08:29.000 --> 08:32.000
既然这个C这个中心安装好了之后

08:32.000 --> 08:33.000
下一步

08:33.000 --> 08:34.000
下一步的话

08:34.000 --> 08:36.000
你就可以CD

08:36.000 --> 08:38.000
到你需要生成

08:38.000 --> 08:40.000
评证的这个目录下面

08:40.000 --> 08:42.000
通过这个M&K

08:42.000 --> 08:44.000
就这个make sort命令

08:44.000 --> 08:48.000
来生成证书文件和这个施要

08:48.000 --> 08:51.000
那比如说我举个例子

08:51.000 --> 08:52.000
举个例子

08:52.000 --> 08:54.000
比如说我这边

08:54.000 --> 08:56.000
我这边的话新建一个

08:56.000 --> 08:59.000
新建一个比如叫做Test

08:59.000 --> 09:00.000
Test

09:00.000 --> 09:01.000
Test

09:01.000 --> 09:02.000
然后接下来这个的话是什么

09:02.000 --> 09:04.000
这个是我的这个项目目录

09:04.000 --> 09:05.000
OK

09:05.000 --> 09:06.000
平时的话比如说我写项目

09:06.000 --> 09:07.000
在这里面写

09:07.000 --> 09:10.000
比如我这边新建一个HTML

09:10.000 --> 09:15.000
大家这边新建一个CSS

09:15.000 --> 09:17.000
那文件我就不建了

09:17.000 --> 09:19.000
反正你反正就写项目嘛

09:19.000 --> 09:20.000
在这里面写

09:20.000 --> 09:21.000
写了之后

09:21.000 --> 09:22.000
然后回头的话

09:22.000 --> 09:23.000
我要这个目录

09:23.000 --> 09:25.000
我想让它干嘛呢

09:25.000 --> 09:27.000
生成这个评证

09:27.000 --> 09:28.000
很简单

09:28.000 --> 09:29.000
你这边的话

09:29.000 --> 09:30.000
首先的话

09:30.000 --> 09:32.000
你CD到这个目录下面

09:32.000 --> 09:33.000
CD

09:33.000 --> 09:35.000
把这个拖进去

09:35.000 --> 09:36.000
走

09:36.000 --> 09:37.000
OK

09:37.000 --> 09:39.000
现在这个是不是在这个目录下了

09:39.000 --> 09:40.000
在这个目录下之后

09:40.000 --> 09:42.000
把这放大点

09:42.000 --> 09:43.000
在这个目录下之后

09:43.000 --> 09:44.000
然后接下来的话

09:44.000 --> 09:46.000
这边就干嘛呢

09:46.000 --> 09:49.000
这边就用这个make sort

09:49.000 --> 09:50.000
OK

09:50.000 --> 09:51.000
然后接下来的话

09:51.000 --> 09:53.000
你这里的话就是要输入

09:53.000 --> 09:55.000
你这边要指定的

09:55.000 --> 09:57.000
哪些这个域名

09:57.000 --> 10:02.000
比如说我这边127.0.0.1.1

10:02.000 --> 10:05.000
那比如说我这边localhost

10:05.000 --> 10:06.000
再比如说

10:06.000 --> 10:07.000
你如果还有什么

10:07.000 --> 10:08.000
其他的这个域名的话

10:08.000 --> 10:10.000
你可以把它就是放在这里面

10:10.000 --> 10:11.000
OK

10:11.000 --> 10:12.000
比如说我这边

10:12.000 --> 10:13.000
再放一个我本地的IP地址

10:13.000 --> 10:18.000
192.168.101.26

10:18.000 --> 10:19.000
OK

10:19.000 --> 10:22.000
就把你所有可能用到的这个域名

10:22.000 --> 10:25.000
你这边以空格进行分隔

10:25.000 --> 10:26.000
然后接下来的话

10:26.000 --> 10:27.000
这边回车

10:27.000 --> 10:28.000
简单不

10:28.000 --> 10:30.000
说很简单

10:30.000 --> 10:31.000
对不对

10:31.000 --> 10:32.000
非常简单

10:32.000 --> 10:33.000
然后接下来之后

10:33.000 --> 10:35.000
它这边会在你的目录下面

10:35.000 --> 10:36.000
生成这两个文件

10:36.000 --> 10:37.000
一个是这个

10:37.000 --> 10:38.000
一个是什么呢

10:38.000 --> 10:39.000
一个是这个

10:39.000 --> 10:41.000
那这个的话就是证书

10:41.000 --> 10:42.000
这个是什么呢

10:42.000 --> 10:43.000
这个就是施药

10:43.000 --> 10:45.000
它是在你的这个目录下面

10:45.000 --> 10:46.000
你看一下

10:46.000 --> 10:47.000
你的目录下面

10:47.000 --> 10:49.000
是不是这边就生成了

10:49.000 --> 10:50.000
看到没有

10:50.000 --> 10:51.000
这边就生成了

10:51.000 --> 10:52.000
它生成了之后

10:52.000 --> 10:53.000
然后接下来的话

10:53.000 --> 10:56.000
你这边这个证书和施药都有了

10:56.000 --> 10:58.000
大家回头下一步

10:58.000 --> 10:59.000
下一步的话

10:59.000 --> 11:00.000
你这边比如说

11:00.000 --> 11:01.000
我这边举的例子

11:01.000 --> 11:03.000
比如说是在这个leave server里面

11:03.000 --> 11:04.000
我每次用这个leave server

11:04.000 --> 11:05.000
打开这个项目的时候

11:05.000 --> 11:07.000
它莫人是不是用的是

11:07.000 --> 11:09.000
HTDP

11:09.000 --> 11:10.000
对吧

11:10.000 --> 11:11.000
那我这边的话

11:11.000 --> 11:12.000
我就可以进行一个配置

11:12.000 --> 11:13.000
好吧

11:13.000 --> 11:14.000
这个拿进来

11:16.000 --> 11:17.000
拿进来之后

11:17.000 --> 11:18.000
大家你点什么呢

11:18.000 --> 11:19.000
点击这个

11:20.000 --> 11:21.000
点击这边

11:21.000 --> 11:22.000
点击这个设置

11:23.000 --> 11:24.000
点击设置

11:24.000 --> 11:25.000
大家这边是不是有个扩展

11:25.000 --> 11:26.000
扩展

11:26.000 --> 11:27.000
然后接下来的话

11:27.000 --> 11:28.000
这边

11:28.000 --> 11:30.000
有一个这个leave server

11:30.000 --> 11:31.000
config

11:31.000 --> 11:32.000
看到没有

11:32.000 --> 11:33.000
你在这边的话

11:33.000 --> 11:34.000
你就可以配置一下

11:35.000 --> 11:36.000
在这边配置一下

11:36.000 --> 11:38.000
这边就是这个HTDP

11:38.000 --> 11:39.000
s

11:39.000 --> 11:40.000
这个enable

11:40.000 --> 11:42.000
你这边把它设置为q

11:42.000 --> 11:43.000
看到没有

11:43.000 --> 11:44.000
这边你可以改的q

11:44.000 --> 11:45.000
或者force

11:45.000 --> 11:46.000
改成q

11:46.000 --> 11:48.000
改成q之后

11:48.000 --> 11:49.000
然后这边的话

11:49.000 --> 11:50.000
就是填什么呢

11:50.000 --> 11:52.000
这边的话就填写你这个证书

11:52.000 --> 11:54.000
就他那个

11:54.000 --> 11:55.000
刚才生成的那个证书

11:55.000 --> 11:56.000
他的地址

11:56.000 --> 11:57.000
比如我们这边

11:57.000 --> 11:58.000
我们把它改一下

11:58.000 --> 12:00.000
比如说我们这边的话是

12:02.000 --> 12:03.000
叫什么

12:03.000 --> 12:04.000
叫test是吧

12:04.000 --> 12:05.000
test下面

12:05.000 --> 12:06.000
然后叫什么名字

12:08.000 --> 12:09.000
test下面

12:09.000 --> 12:11.000
然后叫这个名字

12:12.000 --> 12:13.000
是吧

12:13.000 --> 12:14.000
你这边把拿过来

12:16.000 --> 12:17.000
把这个证书

12:17.000 --> 12:18.000
把这个证书放过来

12:18.000 --> 12:19.000
确定

12:19.000 --> 12:20.000
好

12:20.000 --> 12:21.000
然后接下来

12:21.000 --> 12:22.000
这边这个

12:22.000 --> 12:23.000
施药

12:24.000 --> 12:25.000
好

12:25.000 --> 12:26.000
然后叫这边的话

12:26.000 --> 12:27.000
改一下

12:27.000 --> 12:29.000
这边是test目录

12:29.000 --> 12:30.000
然后接下来

12:30.000 --> 12:31.000
在这里

12:32.000 --> 12:33.000
然后确定

12:33.000 --> 12:34.000
ok

12:34.000 --> 12:35.000
就这样的话

12:35.000 --> 12:36.000
就搞定了

12:37.000 --> 12:38.000
看到没有

12:38.000 --> 12:39.000
就搞定了

12:39.000 --> 12:40.000
搞定了之后

12:40.000 --> 12:41.000
回头我们这边

12:41.000 --> 12:42.000
我们来看一下

12:42.000 --> 12:43.000
这边比如说新建一个

12:45.000 --> 12:46.000
新建一个

12:47.000 --> 12:49.000
比如说index.html

12:50.000 --> 12:51.000
然后接下来

12:51.000 --> 12:52.000
这边随便写一点

12:55.000 --> 12:56.000
随便写一点

12:57.000 --> 12:58.000
好

12:58.000 --> 12:59.000
再保存

12:59.000 --> 13:00.000
保存了之后

13:00.000 --> 13:01.000
然后叫这边open with new server

13:03.000 --> 13:04.000
这边打开

13:04.000 --> 13:05.000
打开的话

13:05.000 --> 13:06.000
你会发现他这边

13:06.000 --> 13:07.000
就是https

13:08.000 --> 13:09.000
看到没有

13:09.000 --> 13:10.000
这边

13:10.000 --> 13:11.000
他就是https

13:12.000 --> 13:13.000
我现在

13:13.000 --> 13:14.000
我手机的话

13:14.000 --> 13:15.000
也可以就访问了

13:15.000 --> 13:16.000
回头的话

13:16.000 --> 13:18.000
我们用很多https5的

13:18.000 --> 13:19.000
这个API

13:19.000 --> 13:20.000
就都可以用了

13:20.000 --> 13:21.000
好吧

13:21.000 --> 13:22.000
大家下去

13:22.000 --> 13:24.000
可以把这个配置一下

13:24.000 --> 13:25.000
整个这个不难

13:25.000 --> 13:26.000
整个这个不难

13:26.000 --> 13:27.000
但是我这边

13:27.000 --> 13:29.000
演示的是这个micOS

13:29.000 --> 13:31.000
大家的话就是

13:31.000 --> 13:32.000
windows的话

13:32.000 --> 13:33.000
你就跟着他这个文档

13:34.000 --> 13:35.000
跟着这个文档

13:35.000 --> 13:37.000
他这边有一个

13:37.000 --> 13:38.000
windows这边

13:38.000 --> 13:40.000
可以用这个是吧

13:40.000 --> 13:41.000
可以用这个

13:41.000 --> 13:42.000
来安装

13:43.000 --> 13:44.000
ok

13:44.000 --> 13:45.000
大家下去的话

13:45.000 --> 13:46.000
自己试一试

13:46.000 --> 13:47.000
这期课就先到这里

