WEBVTT

00:00.000 --> 00:05.000
好 我们继续讲解我们的云端的一个数据操作

00:05.000 --> 00:09.500
特别是针对于增三改查的一些结构化的设置

00:09.500 --> 00:15.000
那么在之前呢 我们把增和查这两个说了一下

00:15.000 --> 00:18.500
那么我们查呢 拿到了我们的所有的数据

00:18.500 --> 00:22.000
写一下 如果获得单条数据的操作

00:22.000 --> 00:26.000
那么依然 我们在前面写一个页面

00:28.520 --> 00:35.380
获取 单条数据

00:35.380 --> 00:39.380
单条数据其实很简单 我们把这个页面简单改一下

00:39.380 --> 00:49.930
我们不做循环了 我们不做循环了 我们把这个撤掉

00:49.930 --> 01:06.350
获取 单条数据 读取 记录 单条 单记录 这样做

01:06.350 --> 01:10.350
然后呢 我们这里边用户姓名的话呢 我们就直接写上

01:10.350 --> 01:31.640
念  age 把念跟 age 我们写在这里边

01:31.640 --> 01:34.640
好 紧接着 我们开始

01:34.640 --> 01:39.640
那么获取它的方式呢 我们把这个改一下 咱们叫做

01:39.640 --> 01:57.600
get use 获取单条数据 获取单条数据

01:57.600 --> 02:06.540
然后我们看一下啊 单条数据的获取和我们这要复制就可以

02:06.540 --> 02:10.540
单条数据和我们它的区别在哪 我们把它给复制过来

02:10.540 --> 02:14.540
主要的呢 就是先不做里面这个

02:14.540 --> 02:21.410
主要是指它需要去做一个dog

02:21.410 --> 02:25.410
这个呢 是你里面id 你想获取哪一条

02:25.410 --> 02:30.410
那么我们这边先写一下 我们想获取里面的任何一条

02:30.410 --> 02:37.770
比如说是这条 Tom 19岁这条 我们把这个id要告诉他

02:37.770 --> 02:40.770
你要把这个id告诉他

02:40.770 --> 02:44.770
然后在里面 我们把这个纸拿出来看一下

02:44.770 --> 02:54.750
OK 那么这样的话呢 我们就会知道

02:54.750 --> 02:58.750
当前的这一条数据是不是可以被获取到

02:58.750 --> 03:02.750
我们比如说这边不用管 我们先点一下

03:02.750 --> 03:06.750
db对吧 OK 我们db的数据

03:06.750 --> 03:10.750
好 一个db 那么db呢 我这样 我把这个

03:10.750 --> 03:14.750
这个纸放到最外面去 放在我们script外面

03:14.750 --> 03:22.390
这样的话呢 我内部都可以使用到

03:22.390 --> 03:25.390
这样的话呢 我们这里就不需要再次复制了

03:25.390 --> 03:34.480
这结构 好 我们来看一下页面

03:34.480 --> 03:37.480
获取单条数据点一下 先不管这边

03:37.480 --> 03:41.480
感谢我一下 我们data数据是不是可以取到这条

03:41.480 --> 03:44.480
19 Tom 是不是取到了

03:44.480 --> 03:48.480
这样的话呢 我们就代表着我单条数据可以使用这样的模式

03:48.480 --> 03:52.480
来完成 然后我们把页面给放置一下就行了

03:52.480 --> 03:55.480
等于res.data数据里面

03:55.480 --> 04:02.110
对啊 我们通过res.data.ager和nan里面完成

04:02.110 --> 04:11.780
ager和nan data里面的 同样

04:11.780 --> 04:15.780
this.ager 等于res.data.ager

04:15.780 --> 04:20.860
页面应该就会有了 我们来看一下

04:20.860 --> 04:31.110
是吧 Tom跟19 然后你如果想获取这个数据的

04:31.110 --> 04:35.110
更多的一些信息的话 或者说你想动态获取的话

04:35.110 --> 04:38.110
其实你只要在之前读取过程中

04:38.110 --> 04:42.110
去拿到这个ID 那么你把它放进来就可以

04:42.110 --> 04:46.110
我们可以在这过程之前先做个列表查找

04:46.110 --> 04:49.110
比如说我就查出一般的所有同学的姓名

04:49.110 --> 04:53.110
点中这条 然后给它做一个详细记录查询

04:53.110 --> 04:57.110
那么这种时候呢 我们就可以看到拿单条记录的数据查找

04:57.110 --> 05:01.110
这样的模式 这是属于我们的查找多条和单条

05:01.110 --> 05:14.700
接下去 我们做一个更新

05:14.700 --> 05:22.740
我们收一下 数据 单条 更新

05:22.740 --> 05:30.710
依然用 class.pager.section

05:30.710 --> 05:36.280
我们完成里面的一个简单的页面

05:36.280 --> 05:39.280
把它上面的其实我们只要有些复制就行

05:39.280 --> 05:43.280
我们打开添加数据

05:43.280 --> 05:47.280
它有一个标题 我们把它复制下来

05:47.280 --> 05:58.670
咱们叫数据 单条 更新

05:58.670 --> 06:05.810
然后后面是 content

06:05.810 --> 06:08.810
我们再复制 内容区域

06:08.810 --> 06:30.600
里面做行 需要更新的自断

06:30.600 --> 06:33.600
我们可以是 你要更新哪个自断

06:33.600 --> 06:41.780
in part, name

06:41.780 --> 06:44.780
new,新的自断

06:44.780 --> 06:51.880
value 做个单击

06:51.880 --> 06:56.880
get, news, file, field

06:56.880 --> 07:13.290
value 灰色背景

07:13.290 --> 07:16.290
再往下 是我们的你要是

07:16.290 --> 07:19.290
数据库 哪个自断

07:19.290 --> 07:39.620
我们让它显示一下

07:39.620 --> 07:48.960
in part, name, file

07:48.960 --> 08:01.860
field value,值 写上

08:01.860 --> 08:06.420
db, field value

08:06.420 --> 08:18.060
in part, style

08:18.060 --> 08:21.060
再给两个按钮 就是数据更新按钮

08:25.100 --> 08:33.160
button, type, primary

08:33.160 --> 08:42.690
updata, date

08:42.690 --> 08:45.690
数据更新 放在data里面

08:45.690 --> 08:59.440
放空 然后来完成

08:59.440 --> 09:13.640
updata data 操作 数据更新

09:13.640 --> 09:27.460
单条 数据更新的时候

09:27.460 --> 09:30.460
我们可以这样 比如说我们数据库里

09:30.460 --> 09:32.460
我们有这条纪录 对吧

09:32.460 --> 09:34.460
我们先把这个链拿出来

09:34.460 --> 09:37.460
然后我们要求把这个链改成其他名字

09:37.460 --> 09:39.460
所以我们把这个链啊

09:39.460 --> 09:42.460
tom 先显示在这个位置上

09:42.460 --> 09:45.460
先显示在这个位置上

09:45.460 --> 09:48.460
然后把这个自断 你要更新什么

09:48.460 --> 09:50.460
我们把它写在这 比如说

09:50.460 --> 09:52.460
tom 我想改成jack 那jack写在这

09:52.460 --> 09:54.460
那我们来看一下它的更新

09:54.460 --> 09:56.460
那么你现在需要把这个内容

09:56.460 --> 09:58.460
显示出来的话呢

09:58.460 --> 10:00.460
你需要做一部操作 就是在

10:00.460 --> 10:02.460
刚刚页面加载的那一刻

10:02.460 --> 10:07.340
刚刚页面加载的那一刻

10:07.340 --> 10:09.340
把这个数据就已经呈现出来了

10:09.340 --> 10:12.230
对吧

10:12.230 --> 10:14.230
然后我们看到在生命周期

10:14.230 --> 10:15.230
刚开始的时候

10:15.230 --> 10:17.230
我们就完成这个操作去

10:18.230 --> 10:20.230
那么我们做一部 就是

10:20.230 --> 10:24.860
db1.glection

10:24.860 --> 10:26.860
找到哪个表

10:26.860 --> 10:34.700
数据 数据库

10:34.700 --> 10:35.700
3

10:35.700 --> 10:40.840
where 找一下

10:40.840 --> 10:46.820
下桿 id 等于我们去拿到

10:46.820 --> 10:49.820
这条数据的 id

10:49.820 --> 10:55.180
找到这条记录

10:55.180 --> 10:57.180
然后用get 方式获取

10:57.180 --> 10:59.180
获取以后的话 它的结果

10:59.180 --> 11:01.180
会放在res

11:01.180 --> 11:03.180
result 结果级里

11:03.180 --> 11:05.180
那么这个结果级呢

11:05.180 --> 11:07.180
我们先打开的时候可以看一下

11:07.180 --> 11:10.180
它应该是在data 里面

11:10.180 --> 11:16.720
打开它 啥都别动

11:16.720 --> 11:17.720
这边有 对吧

11:17.720 --> 11:18.720
在data 里面

11:18.720 --> 11:19.720
lata 是个数组

11:19.720 --> 11:21.720
所以在数组里面

11:21.720 --> 11:23.720
我们看到有这条数据有

11:23.720 --> 11:24.720
并且我们把

11:24.720 --> 11:26.720
它的一个

11:26.720 --> 11:28.720
tang 名字给取出来

11:28.720 --> 11:32.930
所以它应该是

11:32.930 --> 11:34.930
data 下的

11:34.930 --> 11:36.930
0.nain

11:36.930 --> 11:40.240
我们把它复指给谁呢

11:40.240 --> 11:42.240
复指给我们的这个辨量

11:42.240 --> 12:01.170
dbfueledValue

12:01.170 --> 12:03.170
等于

12:03.170 --> 12:06.170
rs.data

12:06.170 --> 12:09.170
0.nain

12:09.170 --> 12:13.570
复给它

12:13.570 --> 12:15.570
保存 看一下页面

12:15.570 --> 12:25.340
这边有一个res的

12:25.340 --> 12:26.340
一个报错

12:26.340 --> 12:27.340
我们来看一下

12:27.340 --> 12:36.480
数据库自断

12:36.480 --> 12:38.480
res的一个报错

12:38.480 --> 12:43.010
再来看一下

12:43.010 --> 12:48.260
大写了

12:48.260 --> 12:49.260
tang 有了

12:49.260 --> 12:51.260
这格式太长了对吧

12:51.260 --> 12:52.260
那我们看一下

12:52.260 --> 13:05.590
section row

13:05.590 --> 13:06.590
tang 有了

13:06.590 --> 13:08.590
我们想把这个改成

13:08.590 --> 13:09.590
jack

13:09.590 --> 13:10.590
就这样写

13:10.590 --> 13:11.590
然后点更新

13:11.590 --> 13:12.590
tang 就变成jack了

13:12.590 --> 13:13.590
在里面

13:13.590 --> 13:16.970
OK 那我们来看一下

13:16.970 --> 13:17.970
找到updata

13:17.970 --> 13:18.970
我们刚才写了

13:18.970 --> 13:20.970
我们在里面

13:20.970 --> 13:22.970
updata 本身自己呢

13:22.970 --> 13:23.970
很简单

13:23.970 --> 13:24.970
它需要的就是

13:24.970 --> 13:26.970
拿到你现在页面

13:26.970 --> 13:28.970
所能够看到的那个值

13:28.970 --> 13:29.970
所以呢

13:29.970 --> 13:30.970
这个值

13:30.970 --> 13:33.970
我们现在先要去获得它

13:33.970 --> 13:35.970
你先要获得这个值

13:35.970 --> 13:37.970
那么这个值从哪儿拿到呢

13:37.970 --> 13:38.970
我们看到

13:38.970 --> 13:40.970
需要更新的这个

13:40.970 --> 13:42.970
我们没法去做这个click

13:42.970 --> 13:43.970
我没法说

13:43.970 --> 13:45.970
这边去点一下对吧

13:45.970 --> 13:47.970
但我们可以做的是

13:47.970 --> 13:48.970
blur

13:48.970 --> 13:50.970
当你光标移开的时候

13:50.970 --> 13:52.970
get news5

13:52.970 --> 13:53.970
这结构

13:53.970 --> 13:57.240
OK来

13:57.240 --> 13:59.240
我们在这里边

13:59.240 --> 14:02.620
诶 不对 在message里面啊

14:02.620 --> 14:03.620
建立这样一个方法

14:03.620 --> 14:05.620
这表示

14:05.620 --> 14:10.080
获取

14:10.080 --> 14:12.080
需要修改的

14:12.080 --> 14:14.080
文本

14:14.080 --> 14:20.590
咱们把它定成

14:20.590 --> 14:22.590
这是一个

14:22.590 --> 14:29.870
new value

14:29.870 --> 14:30.870
来this

14:30.870 --> 14:34.570
点

14:34.570 --> 14:35.570
new value

14:35.570 --> 14:37.570
等于

14:37.570 --> 14:39.570
e

14:39.570 --> 14:40.570
e 点

14:40.570 --> 14:44.970
current target

14:44.970 --> 14:50.840
点value

14:50.840 --> 14:51.840
应该是这个值

14:51.840 --> 14:55.790
我们可以

14:55.790 --> 14:57.790
看质一下

14:57.790 --> 14:58.790
同时

14:58.790 --> 14:59.790
复完这个值

14:59.790 --> 15:00.790
逗号

15:00.790 --> 15:11.040
marry

15:11.040 --> 15:13.040
光标移开

15:13.040 --> 15:15.040
current target 下的

15:15.040 --> 15:17.040
data set

15:17.040 --> 15:20.570
点

15:20.570 --> 15:21.570
marry

15:21.570 --> 15:22.570
在这 在这

15:22.570 --> 15:24.570
data 下的

15:24.570 --> 15:29.310
value

15:29.310 --> 15:31.310
这样给它复进去了

15:31.310 --> 15:33.310
当你这样复完以后的话呢

15:33.310 --> 15:35.310
那么我们接下去的方法就是

15:35.310 --> 15:36.310
处理它

15:36.310 --> 15:38.310
让它去完成更新格式了

15:38.310 --> 15:40.310
先做

15:40.310 --> 15:47.720
db 回料模式

15:47.720 --> 15:49.720
db

15:49.720 --> 15:57.320
collection

15:57.320 --> 15:59.320
数据库3里面的

15:59.320 --> 16:01.320
doc 找到

16:01.320 --> 16:02.320
这条数据

16:02.320 --> 16:04.320
找到这条数据

16:04.320 --> 16:06.320
这条数据的话呢

16:06.320 --> 16:08.320
它其实就是eA 这个式

16:08.320 --> 16:14.380
找到它以后

16:14.380 --> 16:19.210
我们后面给它的方法是update

16:19.210 --> 16:20.210
然后

16:20.210 --> 16:23.030
data

16:23.030 --> 16:24.030
n

16:24.030 --> 16:27.030
this点

16:27.030 --> 16:29.030
咱们称之为new

16:29.030 --> 16:31.030
value

16:31.030 --> 16:35.780
这样去更新

16:35.780 --> 16:40.820
在这里边

16:40.820 --> 16:41.820
success

16:41.820 --> 16:47.300
成功以后

16:47.300 --> 16:48.300
console.log

16:48.300 --> 16:51.740
这应该是逗号

16:51.740 --> 17:03.440
file

17:04.440 --> 17:07.440
console.ary

17:07.440 --> 17:11.580
红线对吧

17:11.580 --> 17:12.580
位置

17:12.580 --> 17:14.580
我们应该往里放一层

17:14.580 --> 17:16.580
这样就好了

17:16.580 --> 17:18.580
那么这边再说一下

17:18.580 --> 17:20.580
如果说你现在console后面

17:20.580 --> 17:22.580
它本身接收一个值

17:22.580 --> 17:23.580
就是res

17:23.580 --> 17:26.580
你本身就想把这个字打印出来的话

17:26.580 --> 17:27.580
你可以不写res

17:27.580 --> 17:28.580
因为它本身就接收

17:28.580 --> 17:29.580
就一个参数

17:29.580 --> 17:30.580
你就写console.log

17:30.580 --> 17:32.580
它就会把这个res打印出来

17:32.580 --> 17:34.580
如果说你现在file的话

17:34.580 --> 17:36.580
那么你错误接收的参数

17:36.580 --> 17:38.580
你也可以直接写上console.ary

17:38.580 --> 17:39.580
把它错误打印出来

17:39.580 --> 17:42.580
就这样这样写就可以

17:42.580 --> 17:43.580
然后的话

17:43.580 --> 17:44.580
我们来看一下

17:44.580 --> 17:46.580
现在页面中的效果了

17:46.580 --> 17:47.580
首先打开数据库

17:47.580 --> 17:48.580
刷刷刷

17:48.580 --> 17:52.090
看到它的tom

17:52.090 --> 17:54.090
然后打开以后也看到tom

17:54.090 --> 17:59.450
我们写上jack

17:59.450 --> 18:01.450
一点数据更新

18:01.450 --> 18:03.450
咱们看

18:03.450 --> 18:05.450
这边有一个返回

18:05.450 --> 18:07.450
它这个返回告诉你status

18:07.450 --> 18:09.450
状态是updated等于1

18:09.450 --> 18:11.450
代表你现在更新了

18:11.450 --> 18:13.450
一条数据

18:13.450 --> 18:15.450
它会返回这个值来

18:15.450 --> 18:16.450
那我们来看一下

18:16.450 --> 18:18.450
我们打开我们的云

18:18.450 --> 18:20.450
云本来是tom

18:20.450 --> 18:21.450
我一刷新

18:21.450 --> 18:23.450
是不是变jack了

18:23.450 --> 18:25.450
这样的方式导致我们现在可以

18:25.450 --> 18:27.450
非常简单的完成

18:27.450 --> 18:29.450
你现在的一条数据都更新了

18:29.450 --> 18:31.450
咱们这是不是

18:31.450 --> 18:33.450
那么在这个里面的话

18:33.450 --> 18:35.450
我们当然可以用Promise模式

18:35.450 --> 18:37.450
我们再做一个用户的提示

18:37.450 --> 18:38.450
给用户一个

18:38.450 --> 18:44.190
给用户一个提示

18:44.190 --> 18:46.190
Promise模式

18:46.190 --> 18:57.540
db.collection

18:57.540 --> 19:01.300
数据库

19:01.300 --> 19:03.300
3.doc

19:03.300 --> 19:04.300
随便怎么样

19:04.300 --> 19:05.300
你得告诉它

19:05.300 --> 19:14.700
你要改哪条记录

19:14.700 --> 19:15.700
update

19:15.700 --> 19:21.780
那么在这里面

19:21.780 --> 19:23.780
我们把上面这个复制下来

19:23.780 --> 19:28.590
此时

19:28.590 --> 19:29.590
我们的success

19:29.590 --> 19:30.590
整个操作

19:30.590 --> 19:32.590
就不在我们的db里面了

19:32.590 --> 19:34.590
是在db的外面

19:34.590 --> 19:35.590
做连接

19:35.590 --> 19:37.590
then

19:37.590 --> 19:40.590
res数据过来

19:40.590 --> 19:42.590
然后我们不用打出来了

19:42.590 --> 19:43.590
我们刚才看到了

19:43.590 --> 19:44.590
所以我们做一个

19:44.590 --> 19:45.590
微信点

19:45.590 --> 19:47.590
shortost

19:47.590 --> 19:50.970
给提示

19:50.970 --> 19:54.110
title

19:54.110 --> 19:55.110
更新

19:55.110 --> 19:56.110
记录数

19:56.110 --> 20:01.960
加上res是从哪个上面呢

20:01.960 --> 20:06.300
status

20:06.300 --> 20:08.300
status

20:08.300 --> 20:12.300
res.status.updated

20:12.300 --> 20:19.740
从这上面拿过来

20:19.740 --> 20:20.740
这样的话呢

20:20.740 --> 20:21.740
我们现在

20:21.740 --> 20:22.740
一旦完成以后

20:22.740 --> 20:24.740
我们就会有一个提示

20:24.740 --> 20:26.740
更新了几条

20:26.740 --> 20:27.740
是这个逻辑

20:27.740 --> 20:28.740
那么当然

20:28.740 --> 20:29.740
你如果不成功的话

20:29.740 --> 20:31.740
我们这边有个catch

20:31.740 --> 20:33.740
或去

20:33.740 --> 20:35.740
直接console.ary

20:35.740 --> 20:37.740
把错误打出来

20:37.740 --> 20:38.740
好

20:38.740 --> 20:39.740
我们来看一下

20:39.740 --> 20:40.740
这样的操作

20:40.740 --> 20:45.020
首先依然打开数据库

20:45.020 --> 20:47.020
现在里面是jack

20:48.020 --> 20:49.020
现在是jack

20:49.020 --> 20:50.020
我们改回趟

20:50.020 --> 20:52.900
更新一条记录

20:52.900 --> 20:53.900
有提示

20:53.900 --> 20:54.900
对吧

20:54.900 --> 20:55.900
然后的话呢

20:55.900 --> 20:57.900
我们再来看一下数据库

20:57.900 --> 20:58.900
刷新

20:58.900 --> 20:59.900
是不是变回来了

20:59.900 --> 21:00.900
趟

21:00.900 --> 21:01.900
所以一条记录的更新

21:01.900 --> 21:03.900
这样就完成了

21:03.900 --> 21:04.900
相对而言

21:04.900 --> 21:05.900
还是比较简单

21:05.900 --> 21:06.900
主要的一点就是

21:06.900 --> 21:07.900
属于

21:07.900 --> 21:08.900
念里面

21:08.900 --> 21:09.900
跟上你现在的内容

21:09.900 --> 21:10.900
指定那一条记录

21:10.900 --> 21:13.900
然后完成这个套作

21:13.900 --> 21:14.900
好

21:14.900 --> 21:15.900
那么紧接着继续呢

21:15.900 --> 21:17.900
我们讲一下删除

21:17.900 --> 21:19.900
这边要额外说一下

21:19.900 --> 21:22.900
微信小程序的客户端

21:22.900 --> 21:24.900
也就是我们现在在写的

21:24.900 --> 21:27.900
用户使用的小程序介面

21:27.900 --> 21:29.900
在这个过程中

21:29.900 --> 21:31.900
微信小程序官方规定的是

21:31.900 --> 21:33.900
它是无法直接

21:33.900 --> 21:36.900
去完成多条数据更新的

21:36.900 --> 21:38.900
为什么有这个设置呢

21:38.900 --> 21:40.900
因为你对于一个小程序来讲

21:40.900 --> 21:42.900
它并非去做

21:42.900 --> 21:44.900
这种控制管理中心

21:44.900 --> 21:45.900
也就是

21:45.900 --> 21:48.900
一般性都是个人使用客户端

21:48.900 --> 21:50.900
个人使用客户端的时候

21:50.900 --> 21:52.900
你没有办法说

21:52.900 --> 21:54.900
我个人去批量的去修改

21:54.900 --> 21:56.900
小程序现在还不提供

21:56.900 --> 21:58.900
所谓的小程序管理端

21:58.900 --> 21:59.900
因为

21:59.900 --> 22:02.900
作为这个云端来讲的话

22:02.900 --> 22:03.900
它其实和我们的数据库

22:03.900 --> 22:05.900
还是有一定区别

22:05.900 --> 22:08.900
它并非是非常完整

22:08.900 --> 22:09.900
或者完善的

22:09.900 --> 22:11.900
一个数据库管理结构

22:11.900 --> 22:13.900
它主要的还是属于

22:13.900 --> 22:15.900
我们现在简单的一个

22:15.900 --> 22:18.900
数据存储的一个地点

22:18.900 --> 22:20.900
所以我们客户端这一块

22:20.900 --> 22:23.900
没法去做它的一个完整的

22:23.900 --> 22:26.900
全部的多条数据

22:26.900 --> 22:28.900
就是全部包括表里面的

22:28.900 --> 22:29.900
多条数据的更新

22:29.900 --> 22:31.900
这个是在小程序官方上面

22:31.900 --> 22:33.900
是不允许的

22:33.900 --> 22:34.900
这个事情

22:34.900 --> 22:36.900
这点咱们要知道一下

22:36.900 --> 22:38.900
那么能不能做呢

22:38.900 --> 22:39.900
当然可以

22:39.900 --> 22:41.900
但是它不在小程序端做

22:41.900 --> 22:44.900
它需要到云端去做

22:44.900 --> 22:46.900
但是云端的整个这个操作

22:46.900 --> 22:47.900
我们说

22:47.900 --> 22:49.900
现在我们暂时

22:49.900 --> 22:51.900
我们只做小程序客户端的这一块

22:51.900 --> 22:53.900
那么在后期的课程中

22:53.900 --> 22:55.900
我给大家再去讲一下云端

22:55.900 --> 22:58.900
特别是对于微信的客户端

22:58.900 --> 22:59.900
和原生开发

22:59.900 --> 23:01.900
还有就是MP View

23:01.900 --> 23:02.900
它都不太一样

23:02.900 --> 23:04.900
我们现在先往下走

23:04.900 --> 23:05.900
注意一下

23:05.900 --> 23:06.900
所以你记住一点

23:06.900 --> 23:08.900
在小程序客户端是没有办法

23:08.900 --> 23:09.900
做多条数据更新的

23:09.900 --> 23:11.900
原因刚才说了

23:11.900 --> 23:13.900
客户端指都开放于个人

23:13.900 --> 23:16.900
没办法做一个平台化的处理

23:16.900 --> 23:17.900
紧接着继续

23:17.900 --> 23:28.900
我们把数据做删除

23:28.900 --> 23:37.330
数据删除操作

23:37.330 --> 23:45.440
Payter section

23:45.440 --> 23:52.360
标题

23:52.360 --> 23:56.250
数据删除操作

23:56.250 --> 23:57.250
下面很简单

23:57.250 --> 23:58.250
主要的就是

23:58.250 --> 24:00.250
我们给它一个ID

24:00.250 --> 24:01.250
删了一条记录

24:01.250 --> 24:03.250
就这么一个操作

24:03.250 --> 24:04.250
我们

24:04.250 --> 24:05.250
还按上面格式来

24:05.250 --> 24:09.520
我们复制复制

24:09.520 --> 24:10.520
复制一下

24:10.520 --> 24:11.520
这是内容

24:11.520 --> 24:16.430
然后里面的行

24:16.430 --> 24:22.840
里面的行

24:22.840 --> 24:24.840
我们写上span

24:24.840 --> 24:27.840
需要删除的

24:27.840 --> 24:28.840
ID

24:28.840 --> 24:32.500
Import

24:32.500 --> 24:39.140
Net

24:39.140 --> 24:40.140
咱们给出

24:40.140 --> 24:41.140
它是一个新的

24:41.140 --> 24:43.140
叫New

24:43.140 --> 24:45.140
FilledValue

24:45.140 --> 24:51.460
Import

24:51.460 --> 24:54.090
Get

24:54.090 --> 24:55.090
新的

24:55.090 --> 25:01.790
不叫新

25:01.790 --> 25:02.790
我们不叫新

25:02.790 --> 25:05.790
我们就是需要

25:05.790 --> 25:08.810
删除的

25:08.810 --> 25:12.890
我们做需要删除的

25:12.890 --> 25:13.890
Delete

25:13.890 --> 25:17.290
ID

25:17.290 --> 25:19.290
需要删除的ID

25:19.290 --> 25:27.360
这样写

25:27.360 --> 25:29.360
DeleteFilledValue

25:29.360 --> 25:32.930
GetDeleteID

25:32.930 --> 25:33.930
简单

25:33.930 --> 25:41.300
加一个样式

25:41.300 --> 25:55.100
ImportStyle

25:55.100 --> 25:56.100
然后紧接着

25:56.100 --> 25:58.100
我们在这边的话

25:58.100 --> 26:06.670
我们可以去写一个按钮

26:06.670 --> 26:12.100
按钮这边设定一下

26:12.100 --> 26:14.100
Primary

26:14.100 --> 26:15.100
点击

26:15.100 --> 26:18.600
Click

26:19.600 --> 26:20.600
Delete

26:20.600 --> 26:21.600
Data

26:21.600 --> 26:30.190
删除数据

26:30.190 --> 26:31.190
这样的话

26:31.190 --> 26:33.190
我们这个页面的

26:33.190 --> 26:34.190
或称之为

26:34.190 --> 26:36.190
这个删除小牌板

26:36.190 --> 26:37.190
就有了

26:37.190 --> 26:38.190
很简单

26:38.190 --> 26:39.190
我们给它一个ID以后

26:39.190 --> 26:41.190
做一个删除

26:41.190 --> 26:42.190
首先第一步

26:42.190 --> 26:43.190
还是一让

26:43.190 --> 26:45.190
我们是获取

26:45.190 --> 27:00.220
GetDeleteID

27:00.220 --> 27:01.220
注释

27:01.220 --> 27:40.270
传直进来

27:40.270 --> 28:03.810
和下面这个是一样

28:03.810 --> 28:05.810
然后完成这个以后的话

28:05.810 --> 28:07.810
就开始继续做

28:07.810 --> 28:09.810
DeleteData

28:09.810 --> 28:25.020
删除数据

28:25.020 --> 28:29.550
删除数据呢

28:29.550 --> 28:30.550
本身来讲

28:30.550 --> 28:32.550
其实它只要你得到了这个ID

28:32.550 --> 28:34.550
我们本身就可以用

28:34.550 --> 28:35.550
它有个Delete操作

28:35.550 --> 28:40.080
就可以来完成这个东西

28:40.080 --> 28:41.080
我们

28:41.080 --> 28:43.080
直接写

28:43.080 --> 28:45.080
Db点

28:45.080 --> 28:49.250
Collection

28:49.250 --> 28:51.250
数据库A

28:51.250 --> 28:56.990
数据库3

28:56.990 --> 28:57.990
Doc

28:57.990 --> 29:02.870
先去拿这个字

29:02.870 --> 29:03.870
This点

29:03.870 --> 29:09.780
DeleteID

29:09.780 --> 29:10.780
点

29:10.780 --> 29:14.920
Remove

29:14.920 --> 29:18.060
Then

29:18.060 --> 29:19.060
Console

29:19.060 --> 29:21.060
打印出来

29:21.060 --> 29:23.060
Catch

29:23.060 --> 29:25.060
Console

29:25.060 --> 29:27.820
Area

29:27.820 --> 29:28.820
做它之前

29:28.820 --> 29:30.820
先判断一下

29:30.820 --> 29:31.820
If

29:31.820 --> 29:32.820
This点

29:32.820 --> 29:34.820
DeleteID

29:34.820 --> 29:35.820
如果等于空

29:35.820 --> 29:38.970
提示

29:38.970 --> 29:47.180
ShowToast

29:47.180 --> 29:48.180
给出一个

29:48.180 --> 29:52.600
Title

29:52.600 --> 29:56.130
给出一个Title

29:56.130 --> 29:57.130
我们叫做

29:57.130 --> 30:01.530
删除ID

30:01.530 --> 30:02.530
没有

30:02.530 --> 30:16.420
不然

30:16.420 --> 30:20.250
才执行这一步

30:21.250 --> 30:22.250
页面

30:22.250 --> 30:24.250
跟L to Shift F

30:24.250 --> 30:27.650
整理一下

30:27.650 --> 30:35.700
我们来看一下效果

30:35.700 --> 30:37.700
我们就拿这条数据

30:37.700 --> 30:39.700
我们换一条吧

30:39.700 --> 30:41.700
换一条其他的

30:41.700 --> 30:45.330
换一条它

30:45.330 --> 30:46.330
理四

30:46.330 --> 30:50.860
打开页面

30:50.860 --> 30:52.860
在没有停的时候

30:52.860 --> 30:54.860
删除ID没有

30:54.860 --> 30:56.860
会爆出来

30:56.860 --> 30:58.860
停写了

30:58.860 --> 31:00.860
这时候你点数据

31:00.860 --> 31:02.860
咱们看里面

31:02.860 --> 31:04.860
RemoveOK

31:04.860 --> 31:06.860
并且告诉你

31:06.860 --> 31:09.860
Remove1表示以删除掉一条

31:09.860 --> 31:10.860
对吧

31:10.860 --> 31:12.860
我们把这条内容

31:12.860 --> 31:19.150
作为你现在的一个提示给用户

31:19.150 --> 31:20.150
成功以后

31:20.150 --> 31:28.100
在这里面写

31:28.100 --> 31:31.100
我们做一个简单的函数

31:31.100 --> 31:41.960
我们做一个把这个复制过来

31:41.960 --> 31:42.960
我们把这个复制过来

31:42.960 --> 31:43.960
然后的话呢

31:43.960 --> 31:44.960
这边写上

31:44.960 --> 31:49.360
以

31:49.360 --> 31:51.360
以金的

31:51.360 --> 31:53.360
以删除记录

31:53.360 --> 31:56.670
多少条

31:56.670 --> 31:58.670
放在上面

31:58.670 --> 31:59.670
这边的话呢

31:59.670 --> 32:00.670
我们要改一改

32:00.670 --> 32:02.670
这边的话呢是

32:02.670 --> 32:05.670
我们从这里面获取到的

32:05.670 --> 32:06.670
Stator

32:06.670 --> 32:11.580
Remove的应该是

32:11.580 --> 32:17.650
这边有一个扩号

32:17.650 --> 32:19.650
我们对一对啊

32:19.650 --> 32:21.650
Db是对最外层的

32:21.650 --> 32:23.650
然后的话呢

32:23.650 --> 32:26.650
这个应该是到这

32:26.650 --> 32:28.650
对的

32:28.650 --> 32:30.650
那么我就看里面

32:30.650 --> 32:32.650
里面的话

32:32.650 --> 32:33.650
这几道这

32:33.650 --> 32:35.650
所以这个的话还缺一个

32:35.650 --> 32:45.420
这个圆的到这对吧

32:45.420 --> 32:47.420
然后的话

32:47.420 --> 32:48.420
这几道这

32:48.420 --> 32:49.420
所以呢

32:49.420 --> 32:52.420
它的话没有一个OK

32:52.420 --> 32:55.420
个大扩号

32:55.420 --> 32:58.420
再补一个小扩号

32:58.420 --> 32:59.420
它对到它

32:59.420 --> 33:00.420
它对到它

33:00.420 --> 33:02.420
然后它里面两个

33:02.420 --> 33:08.680
OK我们来看一下

33:08.680 --> 33:11.680
还是一样跑到数据库里面

33:11.680 --> 33:12.680
复制

33:12.680 --> 33:20.250
删除

33:20.250 --> 33:22.250
刚才删除过了对吧

33:22.250 --> 33:23.250
刚才删除过了

33:23.250 --> 33:25.250
所以这条记录已经不存在了

33:25.250 --> 33:26.250
我们查找一下数据库

33:26.250 --> 33:29.140
对吧

33:29.140 --> 33:30.140
这条没有了

33:30.140 --> 33:32.140
我们从下面再拿一条

33:32.140 --> 33:42.000
这条

33:42.000 --> 33:43.000
再来一次

33:43.000 --> 33:45.000
以删除一条记录

33:45.000 --> 33:47.000
如果这条没有的话

33:47.000 --> 33:48.000
我们来看一下

33:48.000 --> 33:49.000
没有的话

33:49.000 --> 33:52.000
我们这边需要给它报出就是

33:52.000 --> 33:54.000
依然给它做一个

33:54.000 --> 34:00.060
到这

34:00.060 --> 34:01.060
提示

34:01.060 --> 34:07.150
数据

34:07.150 --> 34:15.620
未能删除

34:15.620 --> 34:16.620
查ID

34:16.620 --> 34:24.610
做一个这样的挺简单的提示给用户

34:24.610 --> 34:26.610
这条记录其实已经没有了

34:26.610 --> 34:28.610
其实它这个云端

34:28.610 --> 34:30.610
你需要手动这样去刷一下

34:30.610 --> 34:34.110
我们这边来

34:34.110 --> 34:36.110
123随便输

34:36.110 --> 34:38.110
你可以看到它

34:38.110 --> 34:39.110
所以你remote

34:39.110 --> 34:40.110
为空

34:40.110 --> 34:41.110
这设施

34:41.110 --> 34:42.110
我们来看一下

34:42.110 --> 34:45.110
如果说你现在给它了这个值

34:45.110 --> 34:47.110
它报你这个错的话

34:47.110 --> 34:48.110
那代表的是

34:48.110 --> 34:51.110
你现在remote不能删除一个

34:51.110 --> 34:52.110
无数据的

34:52.110 --> 34:57.660
在这我们上来

34:57.660 --> 34:59.660
我们需要判断一下

34:59.660 --> 35:00.660
它如果没有对吧

35:00.660 --> 35:01.660
如果有的话

35:01.660 --> 35:03.660
我们直接进到这里来

35:03.660 --> 35:04.660
deleteID

35:04.660 --> 35:05.660
这样

35:05.660 --> 35:06.660
就是没有的话

35:06.660 --> 35:07.660
未能删除

35:07.660 --> 35:09.660
我们后面就不能再跟这个了

35:09.660 --> 35:10.660
未能删除ID

35:10.660 --> 35:11.660
请检查ID

35:11.660 --> 35:12.660
先做这个

35:12.660 --> 35:14.660
你不能后面再跟着一个ID

35:14.660 --> 35:15.660
对吧

35:15.660 --> 35:16.660
它没有删除就没有

35:16.660 --> 35:20.380
对吧

35:20.380 --> 35:22.380
未能删除ID

35:22.380 --> 35:25.380
这个ID在这表示找不到

35:25.380 --> 35:28.380
或者我们称之为就是找不到

35:28.380 --> 35:30.380
找不到自己录

35:30.380 --> 35:34.100
无此记录

35:34.100 --> 35:35.100
一个友好提示

35:35.100 --> 35:36.100
当然了

35:36.100 --> 35:38.100
最好是不能有勾的

35:38.100 --> 35:41.100
Icon我们给的是

35:41.100 --> 35:43.100
那

35:43.100 --> 35:44.100
这样做

35:44.100 --> 35:47.180
刷新

35:47.180 --> 35:49.180
随便先给那条记录

35:49.180 --> 35:53.180
那么一旦它现在没法删的话

35:53.180 --> 35:54.180
无此记录

35:54.180 --> 35:55.180
对吧

35:55.180 --> 35:56.180
它会有这样一个提示

35:56.180 --> 35:57.180
正常删除的话

35:57.180 --> 35:58.180
那就OK了

35:58.180 --> 35:59.180
它就会有一个

35:59.180 --> 36:01.180
正常删除一条数据的

36:01.180 --> 36:02.180
这样的一个提示

36:02.180 --> 36:03.180
OK

36:03.180 --> 36:05.180
那我们把数据库的几个

36:05.180 --> 36:07.180
增三改查的操作

36:07.180 --> 36:09.180
在这边都给大家演示了一把

36:09.180 --> 36:11.180
那么数据库的本身操作

36:11.180 --> 36:12.180
我们回顾一下

36:12.180 --> 36:13.180
它本身来说

36:13.180 --> 36:14.180
其实不是特别复杂

36:14.180 --> 36:15.180
它主要的

36:15.180 --> 36:16.180
是分成两大块

36:16.180 --> 36:17.180
第一块是配置

36:17.180 --> 36:18.180
第二块是

36:18.180 --> 36:19.180
把它按照

36:19.180 --> 36:21.180
它的固定的一个协法来完成

36:21.180 --> 36:22.180
配置

36:22.180 --> 36:23.180
我们需要到我们的

36:23.180 --> 36:25.180
app.view里面

36:25.180 --> 36:28.180
完成一个初始化的数据库配置

36:28.180 --> 36:29.180
第一步

36:29.180 --> 36:30.180
包括是你要用我们的

36:30.180 --> 36:31.180
app id

36:31.180 --> 36:32.180
标准

36:32.180 --> 36:34.180
正确的app id的协法

36:34.180 --> 36:35.180
第二

36:35.180 --> 36:36.180
我们现在

36:36.180 --> 36:37.180
配置的时候

36:37.180 --> 36:39.180
还可以去到我们的

36:39.180 --> 36:42.820
project.configure这里

36:43.820 --> 36:44.820
把我们的云端路径

36:44.820 --> 36:46.820
这边先写一下

36:46.820 --> 36:48.820
然后在做页面的时候

36:48.820 --> 36:50.820
基本上就是

36:50.820 --> 36:51.820
我们可以把我们

36:51.820 --> 36:52.820
后期的话

36:52.820 --> 36:53.820
我们不是把一个db吗

36:53.820 --> 36:55.820
作为它的一个

36:55.820 --> 36:56.820
共享的长量

36:56.820 --> 36:58.820
写在scrater标签里面

36:58.820 --> 37:00.820
在expert default外面

37:00.820 --> 37:02.820
那么我们在使用的时候

37:02.820 --> 37:04.820
直接db可以用了

37:04.820 --> 37:05.820
db的collection

37:05.820 --> 37:07.820
选择到某一个数据库

37:07.820 --> 37:08.820
也就是集合

37:08.820 --> 37:09.820
那么这时候

37:09.820 --> 37:10.820
你对它进行操作

37:10.820 --> 37:12.820
包括是get操作

37:12.820 --> 37:13.820
get有个where

37:13.820 --> 37:14.820
包括是

37:14.820 --> 37:15.820
我们现在

37:15.820 --> 37:17.820
还可以是一个

37:17.820 --> 37:18.820
删除对吧

37:18.820 --> 37:19.820
删除是什么

37:19.820 --> 37:21.820
删除是人目

37:21.820 --> 37:23.820
删除是人目

37:23.820 --> 37:24.820
然后再往下

37:24.820 --> 37:26.820
我们看到的是

37:26.820 --> 37:27.820
得到数据

37:27.820 --> 37:28.820
或者更新

37:28.820 --> 37:29.820
更新的话

37:29.820 --> 37:32.820
我们用的是一个update

37:32.820 --> 37:33.820
再往下

37:33.820 --> 37:34.820
我们这边

37:34.820 --> 37:36.820
可以得到单条数据

37:36.820 --> 37:38.820
可以直接这样写

37:38.820 --> 37:39.820
对吧

37:39.820 --> 37:41.820
然后获取更多数据

37:41.820 --> 37:42.820
然后的话

37:42.820 --> 37:43.820
就是全部数据

37:43.820 --> 37:45.820
你不用跟上dog

37:45.820 --> 37:47.820
你直接是get就可以了

37:47.820 --> 37:49.820
整个这个开发的话

37:49.820 --> 37:50.820
应该讲

37:50.820 --> 37:52.820
我们可以把这些内容

37:52.820 --> 37:54.820
包括是数据库的增三改查

37:54.820 --> 37:56.820
你可以简单写一个

37:56.820 --> 37:58.820
共享文件

37:58.820 --> 37:59.820
那么之后

37:59.820 --> 38:00.820
我们都可以调去它

38:00.820 --> 38:01.820
你把这个里面

38:01.820 --> 38:02.820
比如说

38:02.820 --> 38:03.820
我们看

38:03.820 --> 38:07.700
举个实例

38:07.700 --> 38:09.700
我们在做这样的

38:09.700 --> 38:10.700
删除的时候

38:10.700 --> 38:11.700
对吧

38:11.700 --> 38:12.700
删除其实

38:12.700 --> 38:14.700
它只要这里面动什么

38:14.700 --> 38:16.700
动你哪条记录的这个位置

38:16.700 --> 38:18.700
它就能把后面的数据

38:18.700 --> 38:19.700
给你返回

38:19.700 --> 38:21.700
所以你只需要去完成

38:21.700 --> 38:23.700
调用某一个

38:23.700 --> 38:25.700
delete data的数据的时候

38:25.700 --> 38:27.700
传入ID

38:27.700 --> 38:28.700
这样的话

38:28.700 --> 38:29.700
它就会自动完成删除

38:29.700 --> 38:30.700
删除以后的话

38:30.700 --> 38:32.700
它会把结果给返回给你

38:32.700 --> 38:33.700
结果的话

38:33.700 --> 38:34.700
无论是以删除

38:34.700 --> 38:36.700
还是属于

38:36.700 --> 38:37.700
为删除结果

38:37.700 --> 38:39.700
这个都可以回到你这边

38:39.700 --> 38:41.700
那么你在调用它的时候

38:41.700 --> 38:42.700
就可以处理这些数据

38:42.700 --> 38:43.700
ok

38:43.700 --> 38:44.700
那么这呢

38:44.700 --> 38:45.700
就是我们说到的

38:45.700 --> 38:47.700
利用mpview来制作

38:47.700 --> 38:49.700
我们现在的数据互的

38:49.700 --> 38:51.700
增三改查的操作结构

38:51.700 --> 38:52.700
好

38:52.700 --> 38:54.700
那么这里就讲到这了

