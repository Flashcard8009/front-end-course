WEBVTT

00:00.620 --> 00:05.320
好 我们继续讲解NPE的我们的NPVE的案例

00:05.320 --> 00:09.320
那么JDK给大家讲解一下我们的电视节目列表

00:09.320 --> 00:14.920
我们呢 沿用我们现在的一个几种方式的结合

00:14.920 --> 00:16.420
我们来做这个功能

00:16.420 --> 00:18.320
首先我们能看到的呢

00:18.320 --> 00:20.620
它是一个这样的一个列表结构

00:20.620 --> 00:22.320
然后这是用组件来做

00:22.320 --> 00:24.320
然后呢 点击一下以后

00:24.320 --> 00:27.420
我们可以看到里面是有这样的一个广告

00:27.420 --> 00:30.220
下面还是有它的一个数据结构

00:30.420 --> 00:32.020
然后点击我们比如说

00:32.020 --> 00:34.720
你要看了这个电视的介绍的话呢

00:34.720 --> 00:38.920
那么它会告诉你这电视是什么样的一个简单的解析

00:38.920 --> 00:40.720
然后返回你可以

00:40.720 --> 00:43.320
然后同时呢 我们点搜索节目

00:43.320 --> 00:44.620
你比如说动物世界

00:46.320 --> 00:47.920
那么它会告诉你说

00:47.920 --> 00:51.420
这个电视其实10点到11点在安徽位置会播啊

00:51.420 --> 00:52.120
这样的功能

00:53.220 --> 00:57.820
那么我们把它全部用NPVE的组件的方式来做

00:57.820 --> 00:58.920
那么数据的话呢

00:59.020 --> 01:01.220
我们也用我们的接口数据

01:01.920 --> 01:03.420
我们用接口数据来完成

01:03.420 --> 01:03.820
这样呢

01:03.820 --> 01:04.720
对大家来讲呢

01:04.720 --> 01:06.920
我们可以很好的再学一遍

01:06.920 --> 01:08.220
怎么样能够NPVE

01:08.220 --> 01:10.620
能够快速的来开发这样一个功能

01:11.620 --> 01:12.420
好了

01:12.420 --> 01:15.320
那么说到了它的整个功能以后的话呢

01:15.320 --> 01:16.920
我们现在可以进行开发

01:17.520 --> 01:19.320
创建了一个新的项目

01:19.320 --> 01:20.020
然后呢

01:20.020 --> 01:21.920
简单的让它编译一下

01:21.920 --> 01:22.820
为什么呢

01:22.820 --> 01:24.720
因为我们跑一下

01:24.720 --> 01:27.820
整个这个交流价是否成对吧

01:27.820 --> 01:29.720
也就是说它是否是顺的

01:31.320 --> 01:32.820
能够跑起来

01:32.820 --> 01:34.020
如果编译成功了

01:34.920 --> 01:35.720
那就表示

01:35.720 --> 01:38.420
它这个我们后写代码是没什么问题的

01:38.420 --> 01:40.720
那如果编译失败表示交流价有问题啊

01:40.720 --> 01:42.320
我们先把这个看到了吗

01:42.320 --> 01:43.320
成功啊

01:43.320 --> 01:44.520
编译出destiny了

01:44.520 --> 01:45.320
好了

01:45.320 --> 01:46.520
我们现在开始

01:47.420 --> 01:49.020
首先第一个事情很简单

01:49.020 --> 01:51.320
我们把它的一些简单的结构

01:51.320 --> 01:52.520
先做一下

01:52.520 --> 01:57.330
我们说我的电视列表

01:58.330 --> 01:59.330
然后呢

01:59.330 --> 02:01.330
上面我们这边颜色呢

02:01.330 --> 02:02.330
呃

02:02.330 --> 02:03.330
我们用的是

02:03.330 --> 02:05.830
它现在是白色对吧

02:05.830 --> 02:07.830
我们给它换一下

02:07.830 --> 02:13.910
换成

02:13.910 --> 02:16.800
蓝色

02:16.800 --> 02:23.120
字体颜色的话

02:23.120 --> 02:24.120
我们黑色吧

02:24.120 --> 02:26.120
我们就直接以这样的方式来吧

02:26.120 --> 02:27.120
黑色

02:27.120 --> 02:31.480
白色的

02:32.480 --> 02:33.480
我们的字

02:33.480 --> 02:35.480
然后的话黑色的背景

02:35.480 --> 02:36.480
这样去做啊

02:36.480 --> 02:37.480
ok

02:37.480 --> 02:39.480
接下去我们完成

02:39.480 --> 02:40.480
我们现在的

02:40.480 --> 02:44.810
页面的创建

02:44.810 --> 02:46.810
创建一个新的目录

02:46.810 --> 02:47.810
我们称之为

02:47.810 --> 02:56.990
tv index

02:56.990 --> 03:00.490
mandant.js

03:00.490 --> 03:04.340
再来

03:04.340 --> 03:05.340
vue

03:06.340 --> 03:07.340
紧接着

03:07.340 --> 03:08.340
我们在这边呢

03:08.340 --> 03:17.280
我们去做一个

03:17.280 --> 03:18.280
然后

03:18.280 --> 03:39.450
vue的框架

03:39.450 --> 03:40.450
第一个页面

03:41.450 --> 03:42.450
然后我们来啊

03:42.450 --> 03:44.450
我们在这里边

03:44.450 --> 03:46.450
我们去写上当前的一个布局

03:46.450 --> 03:49.450
当然我们先看一下我们的container

03:49.450 --> 03:51.450
打开我们的app.vue

03:51.450 --> 03:54.020
container

03:54.020 --> 03:55.020
container的数据呢

03:55.020 --> 03:57.020
我们前面以前说过啊

03:57.020 --> 03:58.020
如果你不要用的话呢

03:58.020 --> 04:00.020
你可以删掉一点

04:00.020 --> 04:01.020
那么我们的话

04:01.020 --> 04:02.020
我们看一下

04:02.020 --> 04:04.020
我们align item给它删掉

04:04.020 --> 04:06.020
然后这个删掉

04:06.020 --> 04:14.000
就留这几个啊

04:14.000 --> 04:16.000
我们那个flex

04:16.000 --> 04:18.000
然后垂直排列

04:18.000 --> 04:19.000
然后box

04:19.000 --> 04:21.000
你可以加一个align item

04:21.000 --> 04:23.000
你如果把这个加着

04:23.000 --> 04:24.000
其实问题不大

04:24.000 --> 04:25.000
好了

04:25.000 --> 04:26.000
我们来看一下啊

04:26.000 --> 04:28.000
我们可以把这个给删了

04:28.000 --> 04:33.170
回到我们界面中

04:33.170 --> 04:35.170
我们开始做它的简单布局

04:35.170 --> 04:44.470
container

04:44.470 --> 04:46.470
div

04:46.470 --> 04:47.470
class

04:47.470 --> 04:48.470
title

04:48.470 --> 04:49.470
我们称为

04:49.470 --> 04:55.660
我的电视

04:55.660 --> 04:57.660
里边我们将采取的是

04:57.660 --> 04:58.660
我们的

04:58.660 --> 05:00.660
再写个div

05:00.660 --> 05:01.660
class

05:01.660 --> 05:03.660
pager

05:03.660 --> 05:05.660
section

05:05.660 --> 05:07.660
做循环

05:07.660 --> 05:08.660
block

05:08.660 --> 05:13.530
v4

05:13.530 --> 05:17.550
我们做item

05:17.550 --> 05:21.050
in channel list

05:21.050 --> 05:24.620
channel list

05:24.620 --> 05:25.620
然后

05:25.620 --> 05:27.620
k

05:27.620 --> 05:33.430
index 写出来

05:33.430 --> 05:34.430
里面我们是把

05:34.430 --> 05:36.430
现有的美行

05:36.430 --> 05:37.430
肉

05:37.430 --> 05:42.400
给它的内容呢

05:42.400 --> 05:43.400
其实可以是

05:43.400 --> 05:45.400
第一个图标

05:45.400 --> 05:47.400
可以是一个图标

05:47.400 --> 05:48.400
好

05:48.400 --> 05:49.400
然后呢

05:49.400 --> 05:50.400
我们

05:50.400 --> 05:52.400
待会儿把上面写上

05:52.400 --> 05:54.400
images

05:54.400 --> 05:56.400
第二个

05:56.400 --> 05:58.400
它是一行文本

05:58.400 --> 06:00.400
我们就称之为

06:00.400 --> 06:02.400
这是

06:02.400 --> 06:06.870
频道

06:06.870 --> 06:11.040
频道

06:11.040 --> 06:15.440
再有的就是

06:15.440 --> 06:19.130
它是一个箭头

06:19.130 --> 06:20.130
对吧

06:20.130 --> 06:21.130
好

06:21.130 --> 06:22.130
那么这个好了以后的话呢

06:22.130 --> 06:24.130
我们需要去做一件事情

06:24.130 --> 06:27.130
就是channel list数据的来源

06:27.130 --> 06:28.130
我们channel list

06:28.130 --> 06:30.130
先到我们的data中

06:30.130 --> 06:32.130
一旦你上面定义了

06:32.130 --> 06:33.130
我们就到data中

06:33.130 --> 06:35.130
先设定channel list

06:35.130 --> 06:37.130
它一定以速度

06:37.130 --> 06:38.130
方式放着

06:38.130 --> 06:39.130
第二呢

06:39.130 --> 06:40.130
channel list

06:40.130 --> 06:41.130
我们从哪来呢

06:41.130 --> 06:42.130
那么我们看一下

06:42.130 --> 06:43.130
我们的channel list

06:43.130 --> 06:44.130
其实

06:44.130 --> 06:45.130
我们是可以通过

06:45.130 --> 06:46.130
wifi

06:46.130 --> 06:47.130
加载进来的

06:47.130 --> 06:49.130
我们要拿它的数据

06:49.130 --> 06:50.130
我们想一下

06:50.130 --> 06:51.130
如果说

06:51.130 --> 06:52.130
里边的数据

06:52.130 --> 06:54.130
来自于哪里

06:54.130 --> 06:55.130
那么我们

06:55.130 --> 06:56.130
之前已经学过了

06:56.130 --> 06:58.130
我们的本地获取

06:58.130 --> 07:00.130
也学过了我们的一些

07:00.130 --> 07:02.130
如果你写在里面也可以

07:02.130 --> 07:03.130
那么呢

07:03.130 --> 07:04.130
我们的微信小证据中

07:04.130 --> 07:05.130
其实还有一个地方

07:05.130 --> 07:07.130
我们看到是哪啊

07:07.130 --> 07:08.130
这

07:08.130 --> 07:10.130
在云开发里面

07:10.130 --> 07:11.130
我们点开看一下

07:11.130 --> 07:13.130
在云开发里面本身

07:13.130 --> 07:15.130
我们会有一个叫

07:15.130 --> 07:16.130
channel list

07:16.130 --> 07:18.130
这里面是有四个电台

07:18.130 --> 07:19.130
是吗

07:19.130 --> 07:20.130
那么

07:20.130 --> 07:21.130
我们有些数据

07:21.130 --> 07:23.130
是可以直接自己存到

07:23.130 --> 07:24.130
我们的云开发

07:24.130 --> 07:25.130
我们的云开发

07:25.130 --> 07:27.130
也可以从云开发

07:27.130 --> 07:29.130
来返向获取过来

07:29.130 --> 07:30.130
那这种时候

07:30.130 --> 07:31.130
就设计到的是

07:31.130 --> 07:32.130
我们小程序

07:32.130 --> 07:34.130
和云开发的关联

07:34.130 --> 07:36.130
那么在我们在原生的时候

07:36.130 --> 07:38.130
我们是讲过小程序和原生

07:38.130 --> 07:39.130
和云开发的一些关联

07:39.130 --> 07:41.130
并且也举过一些案例

07:41.130 --> 07:42.130
但是呢

07:42.130 --> 07:43.130
我们怎么要讲到

07:43.130 --> 07:44.130
我们mpview

07:44.130 --> 07:46.130
怎么和云开发去关联

07:46.130 --> 07:48.130
这里面是跨越的

07:48.130 --> 07:49.130
也就是说

07:49.130 --> 07:50.130
mpview

07:50.130 --> 07:52.130
它最后所生成的代码

07:52.130 --> 07:54.130
小程序的原生代码

07:54.130 --> 07:56.130
而我们的那个云开发

07:56.130 --> 07:59.130
它最后所能够接收的

07:59.130 --> 08:01.130
是小程序的原生代码

08:01.130 --> 08:02.130
所以

08:02.130 --> 08:03.130
我们要变成的是

08:03.130 --> 08:04.130
mpview去连到

08:04.130 --> 08:06.130
那个所谓的云开发的话

08:06.130 --> 08:07.130
那么直连

08:07.130 --> 08:09.130
那是肯定不可能的

08:09.130 --> 08:10.130
那么我们要通过

08:10.130 --> 08:12.130
中转小程序

08:12.130 --> 08:13.130
让小程序再来连

08:13.130 --> 08:14.130
但是小程序

08:14.130 --> 08:16.130
很多的写法在mpview中

08:16.130 --> 08:17.130
是不一样的

08:17.130 --> 08:18.130
那么这里呢

08:18.130 --> 08:20.130
给大家来讲一下

08:20.130 --> 08:23.130
怎么样通过mpview的写法

08:23.130 --> 08:25.130
连到我们的微信小程序

08:25.130 --> 08:26.130
由小程序

08:26.130 --> 08:28.130
经过中间的跳板

08:28.130 --> 08:30.130
通过它的一个原生语法

08:30.130 --> 08:33.130
再去连到我们的云开发

08:33.130 --> 08:35.130
使我们云开发的数据

08:35.130 --> 08:38.130
能够拿到我的项目中来

08:38.130 --> 08:39.130
ok

08:39.130 --> 08:40.130
那我们可以来看一下

08:40.130 --> 08:41.130
整个这个写法了

08:41.130 --> 08:42.130
首先

08:42.130 --> 08:43.130
回忆一下

08:43.130 --> 08:46.130
对于小程序的云开发来讲

08:46.130 --> 08:47.130
它有些什么特点

08:47.130 --> 08:49.130
首先云开发打开以后

08:49.130 --> 08:51.130
我们还想回想一下

08:51.130 --> 08:52.130
首先它有一个

08:52.130 --> 08:54.130
这是我们之前的操作

08:54.130 --> 08:55.130
对吧

08:55.130 --> 08:57.130
云开发的申请和开通

08:57.130 --> 08:58.130
我在这儿不讲了

08:58.130 --> 08:59.130
大家的话

08:59.130 --> 09:00.130
可以根据自己

09:00.130 --> 09:02.130
之前的一些视频

09:02.130 --> 09:04.130
去看一下我们之前讲解的

09:04.130 --> 09:05.130
它有四个功能

09:05.130 --> 09:06.130
对吧

09:06.130 --> 09:08.130
我们直接到我们的

09:08.130 --> 09:10.130
设置里面来看

09:10.130 --> 09:11.130
当前

09:11.130 --> 09:13.130
我现在的环境是tester

09:13.130 --> 09:14.130
所以环境id是这个

09:14.130 --> 09:16.130
testerjj

09:16.130 --> 09:17.130
W

09:17.130 --> 09:18.130
那么我们要记住

09:18.130 --> 09:19.130
这个以后

09:19.130 --> 09:20.130
我们后期的连接

09:20.130 --> 09:22.130
往这个环境id进行连接

09:22.130 --> 09:25.130
然后里边的所有的数据库

09:25.130 --> 09:27.130
基本上我们也称之为集合的话

09:27.130 --> 09:28.130
channel list

09:28.130 --> 09:29.130
里面

09:29.130 --> 09:31.130
会有我们的

09:31.130 --> 09:32.130
数据

09:32.130 --> 09:34.130
那么这个数据的话呢

09:34.130 --> 09:35.130
我们要拿之前

09:35.130 --> 09:37.130
把权限看一下

09:37.130 --> 09:39.130
我这边选择是所有用户可读

09:39.130 --> 09:41.130
一般我们大家默认

09:41.130 --> 09:42.130
创建时候还记得吗

09:42.130 --> 09:43.130
我们讲的是

09:43.130 --> 09:45.130
创建者用户可读

09:45.130 --> 09:46.130
对吧

09:46.130 --> 09:47.130
好

09:47.130 --> 09:48.130
可以拿到这四个数据

09:48.130 --> 09:50.130
那么我们怎么样来记住

09:50.130 --> 09:52.130
刚才的这个

09:52.130 --> 09:53.130
第一步

09:53.130 --> 09:55.130
你需要在我们的小程序里面

09:55.130 --> 09:57.130
回忆一下之前的原生

09:57.130 --> 09:59.130
你需要在小程序里面

09:59.130 --> 10:01.130
我们当初建的时候

10:01.130 --> 10:03.130
我们当初在建小程序后

10:03.130 --> 10:05.130
这边就有云开发

10:05.130 --> 10:06.130
对吧

10:06.130 --> 10:07.130
和不使用

10:07.130 --> 10:08.130
我们当初强调过

10:08.130 --> 10:10.130
如果你用小程序云开发的话

10:10.130 --> 10:13.130
其实你不需要选择它

10:13.130 --> 10:15.130
我们可以自行

10:15.130 --> 10:18.130
来配置一个云服务出来

10:18.130 --> 10:19.130
你用小程序云开发

10:19.130 --> 10:21.130
其实它是给你里面

10:21.130 --> 10:22.130
做好了一些案例

10:22.130 --> 10:23.130
你这些案例不要用

10:23.130 --> 10:24.130
你还得删

10:24.130 --> 10:26.130
我们自行配置云开发

10:26.130 --> 10:27.130
其实很简单的

10:27.130 --> 10:28.130
第一件事情

10:28.130 --> 10:29.130
你回想一下

10:29.130 --> 10:31.130
我们把这事给料一下

10:31.130 --> 10:34.130
我们首先需要初始化云

10:34.130 --> 10:35.130
我们需要初始化云

10:35.130 --> 10:37.130
那么初始化云的代码

10:37.130 --> 10:40.130
我们本来是放在哪儿呢

10:40.130 --> 10:42.130
这个是我们的

10:42.130 --> 10:44.130
那个叫什么

10:45.130 --> 10:46.130
npv所过来的

10:46.130 --> 10:47.130
我们说一下

10:47.130 --> 10:49.130
原来我们是放在一个叫做

10:49.130 --> 10:51.130
app.js下面

10:52.130 --> 10:53.130
我们这边

10:55.130 --> 10:56.130
拿一个word的文档

10:56.130 --> 10:57.130
拿个word的文档

10:57.130 --> 10:58.130
给大家

10:58.130 --> 11:08.510
word的

11:09.510 --> 11:11.510
简单的我们做一下

11:11.510 --> 11:12.510
给大家看一下

11:12.510 --> 11:13.510
原生的比较

11:14.510 --> 11:15.510
那只有比较成功了

11:15.510 --> 11:16.510
你才能够

11:16.510 --> 11:17.510
想象得到

11:17.510 --> 11:18.510
我们这边还有

11:19.510 --> 11:20.510
我是不是第一次用了

11:21.510 --> 11:23.510
一切变得更好

11:23.510 --> 11:25.510
是发现问题

11:25.510 --> 11:26.510
我们说算了

11:26.510 --> 11:27.510
不爆了

11:27.510 --> 11:29.880
完成

11:29.880 --> 11:30.880
然后空白文档

11:35.820 --> 11:36.820
然后说一下的是

11:36.820 --> 11:38.820
我们原来的做法上面

11:38.820 --> 11:40.820
我们是放在哪儿

11:40.820 --> 11:41.820
首先app

11:41.820 --> 11:50.250
内容被锁定

11:50.250 --> 11:51.250
现在是

11:51.250 --> 11:56.290
我们从桌面拿一个

11:57.290 --> 11:58.290
我们这边

11:58.290 --> 11:59.290
应该是有

11:59.290 --> 12:00.290
对吧

12:00.290 --> 12:04.720
这个

12:04.720 --> 12:05.720
我们只要拿一个过来

12:05.720 --> 12:08.720
我们原来是在app.js

12:08.720 --> 12:09.720
里面

12:09.720 --> 12:10.720
这是一个全局文件

12:10.720 --> 12:12.720
在它的哪个里面呢

12:12.720 --> 12:17.030
我们当初原来是在它的onlunch

12:17.030 --> 12:22.960
这是它的一个初始化

12:22.960 --> 12:23.960
对吧

12:23.960 --> 12:24.960
在它里面

12:24.960 --> 12:25.960
我们去做什么

12:25.960 --> 12:26.960
init操作

12:26.960 --> 12:28.960
这是我们当初说的第一步

12:29.960 --> 12:30.960
第二步呢

12:30.960 --> 12:31.960
我们需要去创建一个

12:31.960 --> 12:32.960
你还记得吗

12:32.960 --> 12:34.960
cloader function的一个目录

12:35.960 --> 12:38.960
我们要去在配置文件中

12:38.960 --> 12:39.960
这个配置文件

12:39.960 --> 12:41.960
是我们的项目配置文件

12:42.960 --> 12:43.960
projector

12:43.960 --> 12:45.960
configure

12:45.960 --> 12:46.960
点json里面

12:46.960 --> 12:48.960
我们要去配置一个叫做

12:48.960 --> 12:49.960
wink

12:50.960 --> 12:51.960
cloader

12:51.960 --> 12:52.960
function

12:53.960 --> 12:54.960
这样的一个目录

12:54.960 --> 12:55.960
第三步呢

12:55.960 --> 12:57.960
我们需要去

12:57.960 --> 13:00.960
调取wink的一个数据的链接

13:00.960 --> 13:01.960
那么这个链接

13:01.960 --> 13:06.960
我们当初写的是微信.cloader.database

13:06.960 --> 13:08.960
以这样的接口

13:08.960 --> 13:10.960
包括是后面你去写上

13:10.960 --> 13:12.960
你现在env

13:12.960 --> 13:15.960
你写上我们现在的一个名称

13:15.960 --> 13:17.960
就是我们的环境ID

13:17.960 --> 13:18.960
那最后的话

13:18.960 --> 13:20.960
你去完成你现在调用

13:20.960 --> 13:22.960
这个是原来在原生上面的

13:22.960 --> 13:24.960
如果你还记得同学的话

13:24.960 --> 13:26.960
你应该在这个时候

13:26.960 --> 13:29.960
你应该会有一定的印象

13:29.960 --> 13:31.960
如果你完全没有印象同学的话

13:31.960 --> 13:32.960
你可以先看一下

13:32.960 --> 13:36.960
原生的就是与那个云开发

13:36.960 --> 13:37.960
好

13:37.960 --> 13:38.960
回过头来

13:38.960 --> 13:39.960
我们现在来讲解

13:39.960 --> 13:41.960
因为现在我们在mpview中

13:41.960 --> 13:43.960
mpview首先第一点

13:43.960 --> 13:45.960
这个文件是没有的

13:45.960 --> 13:46.960
对吧

13:46.960 --> 13:47.960
第二点

13:47.960 --> 13:48.960
这个文件的话

13:48.960 --> 13:51.960
在mpview的整个框架体系内容

13:51.960 --> 13:52.960
我们去看一下

13:52.960 --> 13:55.960
是否可以和我们的微信通用

13:55.960 --> 13:56.960
第三

13:56.960 --> 13:58.960
那么这部分内容

13:58.960 --> 14:00.960
它需要写在哪

14:00.960 --> 14:01.960
原来的时候

14:01.960 --> 14:03.960
我们是把它直接写在了

14:03.960 --> 14:04.960
我们的页面中

14:04.960 --> 14:05.960
那我们现在的话

14:05.960 --> 14:07.960
因为原来是在配置上面对吧

14:07.960 --> 14:08.960
我们有一个

14:08.960 --> 14:10.960
最早最早的我们原生里面

14:10.960 --> 14:12.960
是有一个配置对象对吧

14:12.960 --> 14:15.960
配置对象里面去写很多的东西

14:15.960 --> 14:16.960
那么我们把它写在配置上面

14:16.960 --> 14:17.960
但是现在如果说

14:17.960 --> 14:19.960
我们没有我们所谓的配置对象

14:19.960 --> 14:21.960
或者说我们在mpview中

14:21.960 --> 14:22.960
没法直接定义

14:22.960 --> 14:23.960
或这样书写的话

14:23.960 --> 14:25.960
那又该怎么做呢

14:25.960 --> 14:27.960
我们来看一下

14:27.960 --> 14:30.960
打开

14:30.960 --> 14:32.960
我们要去用到原生

14:32.960 --> 14:33.960
那么这样的话

14:33.960 --> 14:34.960
导致我们把

14:34.960 --> 14:36.960
刚才那几件事情一起写一下

14:36.960 --> 14:37.960
首先

14:37.960 --> 14:38.960
我们做第一件事情

14:38.960 --> 14:39.960
开始看

14:39.960 --> 14:41.960
第一件原生的操作

14:41.960 --> 14:42.960
第一件小程序的

14:42.960 --> 14:45.960
连接云开发操作是初始化

14:45.960 --> 14:46.960
所以这个初始化

14:46.960 --> 14:48.960
我们得找到app.json

14:48.960 --> 14:51.960
app.json对于我们的mpview来讲

14:51.960 --> 14:53.960
它对应的那个页面

14:53.960 --> 14:55.960
其实叫做app.view

14:55.960 --> 14:56.960
对吧

14:56.960 --> 14:58.960
它对应的是这个app.view

14:58.960 --> 14:59.960
我们讲过

14:59.960 --> 15:01.960
它里面两部分内容

15:01.960 --> 15:02.960
一部分是style

15:02.960 --> 15:05.960
它对应到的是我们的一个叫做

15:05.960 --> 15:07.960
app.wxss

15:07.960 --> 15:08.960
对吧

15:08.960 --> 15:09.960
全局的样式

15:09.960 --> 15:11.960
还有一个是script

15:11.960 --> 15:13.960
script对应的是我们的app.js

15:13.960 --> 15:15.960
那我们就在这里面写

15:15.960 --> 15:17.960
原先在这里面

15:17.960 --> 15:19.960
我们大家可以去这么做

15:19.960 --> 15:21.960
unloader

15:21.960 --> 15:23.960
你这样的定义方式

15:23.960 --> 15:25.960
或者我们定unlunch

15:25.960 --> 15:26.960
我们当初是定的是

15:26.960 --> 15:32.710
我们当初是这么定义的

15:32.710 --> 15:34.710
就是一个当页面

15:34.710 --> 15:36.710
当开始加载的时候用它

15:36.710 --> 15:38.710
我们在这里边写

15:38.710 --> 15:39.710
那现在我们讲

15:39.710 --> 15:40.710
由于mpview有了以后的话

15:40.710 --> 15:42.710
我们直接可以在这个crate

15:42.710 --> 15:44.710
crate也是它的一个生命周期

15:44.710 --> 15:45.710
是mpview

15:45.710 --> 15:46.710
是view的对吧

15:46.710 --> 15:47.710
我们来说

15:47.710 --> 15:49.710
它在创建之后马上有

15:49.710 --> 15:50.710
所以呢

15:50.710 --> 15:54.790
我们把这里面的注释先删掉

15:54.790 --> 15:56.790
我们这边开始写就是

15:57.790 --> 16:05.420
微信云的初始化操作

16:05.420 --> 16:07.420
微信云的初始化操作

16:09.420 --> 16:10.420
然后来

16:10.420 --> 16:18.420
微信点云的init初始化操作

16:19.420 --> 16:22.730
它有一个参数

16:22.730 --> 16:28.990
trace use

16:28.990 --> 16:33.580
我们给它一个true

16:33.580 --> 16:34.580
这样的话

16:34.580 --> 16:35.580
我们就做到了

16:35.580 --> 16:38.580
我们首先打开微信以后

16:38.580 --> 16:40.580
对云的一个初始化的连接

16:40.580 --> 16:41.580
并且告诉它

16:41.580 --> 16:43.580
跟踪的一个用户数据

16:43.580 --> 16:45.580
并不需要让我们

16:46.580 --> 16:47.580
用户这边

16:47.580 --> 16:48.580
可以洋洋洒洒的

16:48.580 --> 16:49.580
看到非常多

16:49.580 --> 16:51.580
但是有一个部分数据

16:51.580 --> 16:52.580
也就是你现在

16:52.580 --> 16:54.580
所谓的那个启动

16:54.580 --> 16:55.580
就是构造韩数

16:55.580 --> 16:56.580
生命周期

16:56.580 --> 16:57.580
这些启动的

16:57.580 --> 16:58.580
你可以显示

16:58.580 --> 17:01.580
这边是做这样的一个简单的配置

17:01.580 --> 17:02.580
注意哦

17:02.580 --> 17:03.580
原来不是没有crate的

17:03.580 --> 17:05.580
现在我们是放在crate里面

17:05.580 --> 17:06.580
第二步

17:06.580 --> 17:08.580
我们需要去完成

17:08.580 --> 17:11.580
一个cloud function的文件的创建

17:11.580 --> 17:12.580
那么此时呢

17:12.580 --> 17:14.580
我们大家来看一下

17:14.580 --> 17:16.580
此时你整个结构里面

17:16.580 --> 17:17.580
我们应该需要找到

17:17.580 --> 17:19.580
project.config.json

17:19.580 --> 17:20.580
这个结构的

17:20.580 --> 17:21.580
你找一下

17:21.580 --> 17:22.580
有没有

17:22.580 --> 17:23.580
project.json

17:23.580 --> 17:24.580
project

17:24.580 --> 17:25.580
这是packager

17:25.580 --> 17:26.580
packager

17:26.580 --> 17:27.580
project不是

17:27.580 --> 17:28.580
project.config.json

17:28.580 --> 17:29.580
在这儿

17:30.580 --> 17:31.580
打开以后

17:31.580 --> 17:32.580
你看这个文件

17:32.580 --> 17:34.580
这个文件是我们

17:34.580 --> 17:36.580
在微信中本身也能看到的

17:36.580 --> 17:38.580
它也是微信的一个配置文件

17:38.580 --> 17:40.580
那么它里面的很多东西呢

17:40.580 --> 17:42.580
和我们现在的

17:42.580 --> 17:44.580
就是正常的微信的

17:44.580 --> 17:45.580
原生写法差不多

17:45.580 --> 17:47.580
所以我们正常就在这儿

17:47.580 --> 17:48.580
注意哦

17:48.580 --> 17:49.580
我们这边不能打注释

17:49.580 --> 17:52.580
我们在这边去写上

17:52.580 --> 17:53.580
你的一个

17:53.580 --> 17:55.580
我们的微信的

17:55.580 --> 17:57.580
配置名目录的内容

17:57.580 --> 17:58.580
做一个

17:58.580 --> 18:00.580
cloud

18:00.580 --> 18:01.580
clouder

18:02.580 --> 18:03.580
function

18:03.580 --> 18:06.600
root

18:07.600 --> 18:08.600
帽号

18:08.600 --> 18:09.600
跟上

18:09.600 --> 18:11.600
你现在希望所有的云操作

18:11.600 --> 18:13.600
cloud

18:13.600 --> 18:14.600
clouder

18:14.600 --> 18:15.600
function

18:16.600 --> 18:17.600
s

18:18.600 --> 18:19.600
都放在

18:19.600 --> 18:20.600
clouderfunction

18:20.600 --> 18:21.600
s里面

18:21.600 --> 18:22.600
逗号

18:23.600 --> 18:24.600
contrast保存

18:25.600 --> 18:26.600
在你这边的书写

18:26.600 --> 18:28.600
其实它不会影响

18:28.600 --> 18:29.600
mpview的结构

18:29.600 --> 18:30.600
因为

18:30.600 --> 18:31.600
这种文件

18:31.600 --> 18:32.600
它只有小程序

18:32.600 --> 18:33.600
才会被识别

18:34.600 --> 18:35.600
现在你看一下小程序

18:36.600 --> 18:37.600
小程序也刷新了

18:37.600 --> 18:38.600
对吧

18:38.600 --> 18:39.600
有抱错吗

18:39.600 --> 18:42.610
没有

18:42.610 --> 18:44.610
代表至少这两个

18:44.610 --> 18:46.610
没有错误的写法

18:46.610 --> 18:47.610
再来

18:47.610 --> 18:49.610
我们两步做好以后

18:49.610 --> 18:50.610
回到第三步

18:50.610 --> 18:51.610
得回到页面中来

18:51.610 --> 18:52.610
我们页面中

18:52.610 --> 18:54.610
需要去完成

18:54.610 --> 18:56.610
对于哪一个数据库的引用

18:56.610 --> 18:57.610
那么

18:57.610 --> 18:58.610
注意哦

18:58.610 --> 19:00.610
我们原称程序在pader上面

19:00.610 --> 19:01.610
那么我们现在

19:01.610 --> 19:03.610
只要写在页面的script里面

19:03.610 --> 19:04.610
就可以了

19:04.610 --> 19:06.610
我们来写一下

19:06.610 --> 19:07.610
conster

19:07.610 --> 19:08.610
db

19:08.610 --> 19:09.610
等于

19:09.610 --> 19:10.610
微信点

19:12.610 --> 19:13.610
注意哦

19:13.610 --> 19:14.610
clouder

19:14.610 --> 19:15.610
点

19:15.610 --> 19:16.610
database

19:16.610 --> 19:24.340
云的数据库

19:24.340 --> 19:25.340
连接哪个

19:25.340 --> 19:27.840
env

19:27.840 --> 19:29.840
是你现在的属性名

19:29.840 --> 19:30.840
告诉你

19:30.840 --> 19:31.840
环境ID是哪一个

19:32.840 --> 19:33.840
还记得吗

19:34.840 --> 19:35.840
我们是tester

19:35.840 --> 19:36.840
杠数字挤

19:36.840 --> 19:38.840
去到云开发里面看一下

19:38.840 --> 19:44.420
对吧

19:44.420 --> 19:46.420
我们是写的是

19:46.420 --> 19:48.420
这个jj55w

19:48.420 --> 19:52.560
jj

19:52.560 --> 19:54.560
55w

19:54.560 --> 19:59.160
这是一个初始化的

19:59.160 --> 20:00.160
对应到我们

20:00.160 --> 20:03.160
db连接到哪一个数据库的动作

20:04.160 --> 20:05.160
再来一个

20:05.160 --> 20:08.850
我们去得到你现在的

20:08.850 --> 20:10.850
channellister

20:10.850 --> 20:11.850
obj

20:11.850 --> 20:13.850
整个里面的内容

20:13.850 --> 20:14.850
db点

20:14.850 --> 20:15.850
获取

20:15.850 --> 20:19.420
我们把它获取下来

20:19.420 --> 20:24.720
col1c to collection

20:26.720 --> 20:28.720
得到里面的集合

20:28.720 --> 20:29.720
我们名称就是

20:29.720 --> 20:30.720
我们现在里面

20:30.720 --> 20:32.720
做大家看到的

20:32.720 --> 20:34.720
在数据名称里面的那个

20:35.720 --> 20:36.720
就这个

20:37.720 --> 20:38.720
channellist

20:38.720 --> 20:48.320
channellist

20:50.320 --> 20:51.320
conster

20:51.320 --> 20:52.320
我们当然

20:52.320 --> 20:54.320
再写一个commander

20:54.320 --> 20:55.320
因为之后我们也可能

20:55.320 --> 20:57.320
会用到我们的命令

20:57.320 --> 20:58.320
那么这是属于一个

20:58.320 --> 21:00.320
基础语法结构

21:01.320 --> 21:02.320
好

21:02.320 --> 21:04.320
你把这三个写好

21:04.320 --> 21:06.320
初始化

21:06.320 --> 21:07.320
并且这个是可以获取

21:07.320 --> 21:08.320
直接数据

21:08.320 --> 21:10.320
我们db的collection

21:10.320 --> 21:12.320
是可以把数据

21:12.320 --> 21:14.320
tion

21:14.320 --> 21:15.320
可以把数据

21:15.320 --> 21:16.320
直接从我们的

21:16.320 --> 21:18.320
数据集合中

21:18.320 --> 21:19.320
提取出来

21:19.320 --> 21:20.320
当然我们也可以

21:20.320 --> 21:21.320
设定一个commander

21:21.320 --> 21:22.320
那么这样的话

21:22.320 --> 21:23.320
我们可以直接

21:23.320 --> 21:24.320
把这个数据

21:24.320 --> 21:26.320
通过我们现在的

21:26.320 --> 21:28.320
一个commander进行

21:28.320 --> 21:29.320
上传

21:29.320 --> 21:30.320
好了

21:30.320 --> 21:31.320
那我们现在

21:31.320 --> 21:32.320
我们做一个

21:32.320 --> 21:33.320
非常简单的事情

21:33.320 --> 21:34.320
我们跑到

21:34.320 --> 21:35.320
我们现在的

21:35.320 --> 21:36.320
这个onload里面来

21:36.320 --> 21:37.320
我们写一个

21:37.320 --> 21:39.320
我们来看一下

21:39.320 --> 21:40.320
我们现在是不是

21:40.320 --> 21:41.320
可以去取得数据

21:41.320 --> 21:43.320
我们利用它这个

21:43.320 --> 21:44.320
这是我们的

21:44.320 --> 21:45.320
那个objector

21:45.320 --> 21:47.320
获取数据的方式

21:47.320 --> 21:49.320
onload

21:49.320 --> 21:54.240
我来做一步

21:54.240 --> 21:55.240
页面加载时

21:55.240 --> 21:57.240
获取

21:57.240 --> 21:58.240
云端

21:58.240 --> 21:59.240
数据

21:59.240 --> 22:02.320
我们写的是

22:02.320 --> 22:03.320
首先

22:03.320 --> 22:04.320
把这个对象名

22:04.320 --> 22:05.320
称拿下来

22:05.320 --> 22:07.320
它可以去直接操作

22:07.320 --> 22:09.320
Channel List里面的东西

22:09.320 --> 22:10.320
第二呢

22:10.320 --> 22:11.320
我们做的是

22:11.320 --> 22:13.320
它做get

22:14.320 --> 22:15.320
还记得吗

22:15.320 --> 22:17.320
我们用get

22:17.320 --> 22:18.320
可以获取里面

22:18.320 --> 22:19.320
所有的一些

22:19.320 --> 22:20.320
数据

22:20.320 --> 22:21.320
然后我们首先

22:21.320 --> 22:23.950
then

22:23.950 --> 22:24.950
res

22:24.950 --> 22:29.220
thenres

22:29.220 --> 22:32.300
consider

22:33.300 --> 22:34.300
我们可以看一下

22:36.300 --> 22:39.190
同样

22:39.190 --> 22:40.190
我们把它放在

22:40.190 --> 22:41.190
一行后面

22:41.190 --> 22:46.000
它没什么东西

22:46.000 --> 22:47.000
这样就放下了

22:47.000 --> 22:48.000
对吧

22:49.000 --> 22:50.000
同样

22:50.000 --> 22:51.000
我们在这边

22:51.000 --> 22:53.690
catch

22:53.690 --> 22:54.690
里边啥都没有

22:54.690 --> 22:55.690
它也不要参

22:55.690 --> 22:56.690
也没有

22:56.690 --> 22:58.690
它只要做一个

22:58.690 --> 23:00.690
有错就报出来

23:00.690 --> 23:03.070
ok

23:03.070 --> 23:05.070
那么这样完成以后的话

23:05.070 --> 23:06.070
我们大家来看一下

23:06.070 --> 23:08.070
我页面运行

23:08.070 --> 23:11.070
是不是我现在能拿到数据

23:11.070 --> 23:13.070
是不是我现在能拿到数据

23:13.070 --> 23:14.070
能拿到数据的话

23:14.070 --> 23:15.070
应该console点log里面

23:15.070 --> 23:16.070
会呈现出来

23:16.070 --> 23:17.070
保存

23:17.070 --> 23:18.070
然后呢

23:18.070 --> 23:19.070
我们看到

23:19.070 --> 23:21.070
它有一个小报错

23:21.070 --> 23:23.070
这个对吧

23:24.070 --> 23:25.070
保存

23:25.070 --> 23:26.070
看

23:26.070 --> 23:27.070
conply

23:27.070 --> 23:28.070
success

23:28.070 --> 23:29.070
thereforin

23:29.070 --> 23:30.070
多少时间

23:30.070 --> 23:31.070
代表

23:31.070 --> 23:32.070
编译没问题

23:32.070 --> 23:33.070
至少对mpview的语法

23:33.070 --> 23:34.070
是没问题的

23:34.070 --> 23:36.070
回到我们的小程序段

23:36.070 --> 23:38.070
我们对它进行刷新

23:38.070 --> 23:43.940
咱们看这边

23:43.940 --> 23:45.940
它返回了一个data

23:45.940 --> 23:47.940
这里边有一个array4

23:47.940 --> 23:48.940
什么

23:48.940 --> 23:49.940
四个

23:49.940 --> 23:50.940
数组四个内容

23:50.940 --> 23:51.940
打开看一下

23:51.940 --> 23:53.940
是不是这四个

23:53.940 --> 23:55.940
是不是我们刚才

23:55.940 --> 23:56.940
在云端看到的

23:56.940 --> 23:58.940
这四个文件

23:58.940 --> 23:59.940
代表着

23:59.940 --> 24:01.940
现在我在这个onloader

24:01.940 --> 24:02.940
的这个环节

24:02.940 --> 24:05.940
我已经取得了云端的数据

24:05.940 --> 24:06.940
对吧

24:06.940 --> 24:07.940
好

24:07.940 --> 24:08.940
那么这样就完成了

24:08.940 --> 24:10.940
我们云端的在mpview的配置

24:10.940 --> 24:12.940
并且通过我们的写法

24:12.940 --> 24:15.940
可以从云端把数据获取下来

24:15.940 --> 24:16.940
我们再回看一下

24:16.940 --> 24:18.940
刚才我们写了一些什么

24:18.940 --> 24:19.940
首先第一步

24:19.940 --> 24:22.940
你要到它的app.view中

24:22.940 --> 24:25.940
完成云端的初始化的操作

24:25.940 --> 24:26.940
初始化操作

24:26.940 --> 24:29.940
然后就是微信.cloud.init

24:29.940 --> 24:31.940
然后里边这个写语不写

24:31.940 --> 24:32.940
其实问题不大

24:32.940 --> 24:34.940
我们只是为了让大家在下面

24:34.940 --> 24:35.940
更好的看见

24:35.940 --> 24:37.940
云端的初始化操作

24:37.940 --> 24:38.940
第二步

24:38.940 --> 24:40.940
你要去到当前的一个叫做

24:40.940 --> 24:43.940
project.configure.json里面

24:43.940 --> 24:44.940
去定义一下

24:44.940 --> 24:47.940
现在云端的一个目录结构

24:47.940 --> 24:49.940
那么这个要注意一下

24:49.940 --> 24:50.940
这个目录结构

24:50.940 --> 24:53.940
在原始的我们的微信小程序中

24:53.940 --> 24:55.940
会去建立一个叫做

24:55.940 --> 24:58.940
那个cloud function的一个文件夹

24:58.940 --> 25:00.940
它去建立这样一个文件夹

25:00.940 --> 25:03.940
但是你现在反过来看我现在

25:03.940 --> 25:05.940
虽然它也能取得数据了

25:05.940 --> 25:06.940
但是你发现没有

25:06.940 --> 25:08.940
在我当前的生成的原生上面

25:08.940 --> 25:10.940
它是没有那个叫做

25:10.940 --> 25:12.940
那个cloud function文件夹的

25:12.940 --> 25:14.940
所以这部分的内容

25:14.940 --> 25:16.940
我们要额外说一下

25:16.940 --> 25:18.940
就是如果你通过我们的npview

25:18.940 --> 25:21.940
来向微信小程序的云开发数

25:21.940 --> 25:23.940
去进行请求和操作的时候

25:23.940 --> 25:25.940
你获取数据没有问题

25:25.940 --> 25:27.940
我们以这样的配置文件可以操作

25:27.940 --> 25:30.940
但是你如果要在我们的小程序端

25:30.940 --> 25:33.940
直接去书写云端的那个函数的话

25:33.940 --> 25:35.940
那么你需要手动的

25:35.940 --> 25:37.940
在我们的小程序端去创建

25:37.940 --> 25:39.940
因为对npview来讲的话

25:39.940 --> 25:42.940
它是不会通过它的编译

25:42.940 --> 25:45.940
来完成小程序这个的创建的

25:45.940 --> 25:47.940
这部分的内容你要知道

25:47.940 --> 25:50.940
它不会在这边进行创建的

25:50.940 --> 25:52.940
所以这个是我们这边

25:52.940 --> 25:54.940
需要给大家强调的一点

25:54.940 --> 25:56.940
请接着我们继续往下

25:56.940 --> 26:00.510
这个配置以后

26:00.510 --> 26:02.510
你就可以去到页面中

26:02.510 --> 26:04.510
页面中有两步

26:04.510 --> 26:06.510
第一步你需要连到哪一个数据库

26:06.510 --> 26:08.510
那么它的写法是

26:08.510 --> 26:10.510
微信.cloud.database

26:10.510 --> 26:12.510
然后后面env

26:12.510 --> 26:14.510
就是environment

26:14.510 --> 26:16.510
环境

26:16.510 --> 26:18.510
然后写上我们现在你要连接的

26:18.510 --> 26:21.510
云端那个环境的环境id

26:21.510 --> 26:23.510
然后写完以后的话

26:23.510 --> 26:25.510
利用这个环境id

26:25.510 --> 26:27.510
意味着你就连到了这样的一个数据库

26:27.510 --> 26:29.510
然后这个数据库里

26:29.510 --> 26:31.510
去找集合collection

26:31.510 --> 26:33.510
在云端我们讲解的

26:33.510 --> 26:35.510
我们可以讲解

26:35.510 --> 26:37.510
所有的都是叫做集合

26:37.510 --> 26:39.510
那我们有时候和coco

26:39.510 --> 26:41.510
coco的话混淆

26:41.510 --> 26:42.510
可以一起讲

26:42.510 --> 26:43.510
大家听得懂

26:43.510 --> 26:45.510
这个我也可以把理解为

26:45.510 --> 26:47.510
这是数据库

26:47.510 --> 26:49.510
里面存储的都是数据

26:49.510 --> 26:51.510
那么我们现在

26:51.510 --> 26:53.510
通过db的collection选择到

26:53.510 --> 26:55.510
我们当前的叫做channel list

26:55.510 --> 26:57.510
这样一个数据库

26:57.510 --> 26:59.510
或者甚至为集合

26:59.510 --> 27:01.510
把这个集合拿出来

27:01.510 --> 27:03.510
并且我们后面也设定一下

27:03.510 --> 27:05.510
我们以后的命令可以用我们的db

27:05.510 --> 27:07.510
commander来执行

27:07.510 --> 27:09.510
现在我们先把它放在这

27:09.510 --> 27:11.510
这样我们就完成了整个小程序

27:11.510 --> 27:13.510
云端开发

27:13.510 --> 27:15.510
怎么样和我们的npview的关联

27:15.510 --> 27:17.510
然后一旦你要使用的时候

27:17.510 --> 27:19.510
用当前的collection的对象

27:19.510 --> 27:21.510
也就是channel listr obj

27:21.510 --> 27:23.510
去调用一下

27:23.510 --> 27:25.510
那么小程序云端开发呢

27:25.510 --> 27:27.510
我们大家可以简单复习一下

27:27.510 --> 27:29.510
我们打开一下

27:29.510 --> 27:35.380
你可以在我们把小程序打开一下

27:35.380 --> 27:37.380
看一下它除了get

27:37.380 --> 27:39.380
以外

27:39.380 --> 27:41.380
还有什么

27:41.380 --> 27:45.330
微信小程序

27:45.330 --> 27:47.330
官网

27:47.330 --> 27:49.330
然后开发文档

27:49.330 --> 27:51.330
我们到云开发

27:51.330 --> 27:53.330
云开发里面开发指引

27:53.330 --> 27:55.330
我们数据库上手

27:55.330 --> 27:56.330
我们不要上手了

27:56.330 --> 27:57.330
我们已经有了

27:57.330 --> 27:59.330
我们点X

