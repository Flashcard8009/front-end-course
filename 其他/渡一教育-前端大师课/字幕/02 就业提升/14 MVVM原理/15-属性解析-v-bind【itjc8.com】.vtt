WEBVTT

00:01.580 --> 00:07.180
哈喽 大家好 上一集咱们说了这个VGUN FULL

00:07.180 --> 00:09.580
我们修改粒子的了之后 让它渲染

00:09.580 --> 00:13.180
这一集我们来说一个新的VGUN BAND

00:13.180 --> 00:18.520
绑定VBAND

00:18.520 --> 00:27.520
绑定一个 然后咱们来导出一个Export

00:28.520 --> 00:29.520
方式

00:37.830 --> 00:39.830
然后我们在哪块使用这个呢

00:39.830 --> 00:41.830
那肯定是在解析的时候 是吧

00:41.830 --> 00:44.830
咱们之前在这个Mount 在挂点节点

00:44.830 --> 00:46.830
生成这个虚拟动物数的时候

00:46.830 --> 00:49.830
我们之前解析过一个属性 是吧

00:49.830 --> 00:52.830
解析过这些v4 vmodel之类的 是吧

00:52.830 --> 00:54.830
我们在这里面再添加一个

00:54.830 --> 00:56.830
我们在这里再添加一个

00:56.830 --> 01:00.830
添加一个相当于是VBAND吧

01:00.830 --> 01:02.830
我看看啊

01:02.830 --> 01:04.830
我们在哪来添加

01:04.830 --> 01:06.830
VBAND

01:06.830 --> 01:09.830
VBAND我们在哪来添加

01:09.830 --> 01:11.830
一般都是怎么写的

01:11.830 --> 01:13.830
我们先把HTML来写下

01:13.830 --> 01:19.360
写一个img

01:19.360 --> 01:20.360
对吧

01:20.360 --> 01:22.360
然后src

01:22.360 --> 01:26.360
正常的是src 后面直接就跟着就是路径 是吧

01:26.360 --> 01:29.360
然后我们不是直接这样写

01:29.360 --> 01:31.360
我转张图片过来

01:31.360 --> 01:33.360
说有个a.png

01:38.720 --> 01:41.720
然后我在我这个对象里面写一个url

01:43.720 --> 01:46.720
img src

01:46.720 --> 01:48.720
等于2号

01:49.720 --> 01:51.720
a.png

01:52.720 --> 01:53.720
是吧

01:53.720 --> 01:55.720
这就是一个它的地址 是吧

01:55.720 --> 01:56.720
这是它的一个地址

01:56.720 --> 01:59.720
然后我希望我在这个url里

01:59.720 --> 02:01.720
src 我要怎么写

02:01.720 --> 02:03.720
vband

02:03.720 --> 02:07.160
帽号

02:07.160 --> 02:09.160
vband src

02:09.160 --> 02:11.160
然后我就可以添我的 是吧

02:11.160 --> 02:13.160
我就添假如img src

02:13.160 --> 02:14.160
是吧

02:14.160 --> 02:15.160
我就添成这个

02:15.160 --> 02:17.160
然后我来看一下

02:17.160 --> 02:19.160
怎么办 怎么来写

02:19.160 --> 02:22.160
怎么样来 我能把这个属性给它替换了

02:25.160 --> 02:27.160
看看 不在这写了

02:31.650 --> 02:32.650
我找一下

02:32.650 --> 02:33.650
这个位置

02:33.650 --> 02:36.650
这个位置我们上面出来了vnode 是吧

02:36.650 --> 02:37.650
上面出来了vnode

02:37.650 --> 02:40.650
因为我们前体必须得先有vnode才行

02:40.650 --> 02:42.650
必须得先有vnode才行

02:42.650 --> 02:43.650
那我们在这吧

02:43.650 --> 02:45.650
在这会儿调用一下checkband

02:46.650 --> 02:48.650
checkvband

02:48.650 --> 02:50.650
然后它引注的这些东西不大点儿GS

02:50.650 --> 02:51.650
我给它补上

02:53.650 --> 02:54.650
checkvband

02:55.650 --> 02:57.650
传入一个vm 传入一个vnode

02:58.650 --> 02:59.650
就传入这两个就行

03:00.650 --> 03:02.650
然后我们来看这个vband的这里面怎么写

03:02.650 --> 03:04.650
我们要想要解析它 是吧

03:04.650 --> 03:07.650
首先它得是一个vnode

03:07.650 --> 03:09.650
它必须得是一个什么呢

03:09.650 --> 03:11.650
它必须得是一个标签 是吧

03:11.650 --> 03:12.650
它是个文本节点

03:12.650 --> 03:13.650
我们是不用解析的 是吧

03:13.650 --> 03:14.650
所以if

03:17.650 --> 03:19.650
vnode.nodeType

03:19.650 --> 03:21.650
等于不等于1

03:21.650 --> 03:23.650
不等于1的时候就代表啥

03:23.650 --> 03:24.650
它不是标签 是吧

03:24.650 --> 03:25.650
我就直接return

03:25.650 --> 03:27.650
我给它问是return回去

03:27.650 --> 03:29.650
然后如果它等于1呢

03:29.650 --> 03:31.650
我要找到这个属性 是吧

03:31.650 --> 03:33.650
attrNames

03:33.650 --> 03:35.650
等于vnode.element

03:38.960 --> 03:39.960
它这个元素

03:39.960 --> 03:40.960
geist

03:41.960 --> 03:42.960
attributeNames

03:46.270 --> 03:49.270
把它所有的属性的名字给它拿到

03:49.270 --> 03:51.270
然后我们在这里面找

03:52.270 --> 03:54.270
light一个i等于0

03:55.270 --> 03:56.270
i

03:56.270 --> 03:58.270
小于attrNames

04:01.270 --> 04:03.270
i

04:04.270 --> 04:06.270
如果

04:06.270 --> 04:10.670
看这里面这个东西是吧

04:10.670 --> 04:12.670
如果呢 这个

04:13.670 --> 04:14.670
再看看

04:14.670 --> 04:16.670
gattributeNames

04:17.670 --> 04:21.370
我们实际上不用便利是吧

04:22.370 --> 04:23.370
没事就便利吧

04:23.370 --> 04:25.370
attrNames

04:25.370 --> 04:26.370
i

04:26.370 --> 04:27.370
每一个

04:27.370 --> 04:28.370
点

04:28.370 --> 04:29.370
index of

04:29.370 --> 04:30.370
我们来看

04:30.370 --> 04:32.370
这个vgamband

04:34.370 --> 04:35.370
帽号

04:35.370 --> 04:36.370
它的位置

04:36.370 --> 04:37.370
是不是这样

04:38.370 --> 04:39.370
是零是啥意思

04:39.370 --> 04:41.370
以这个为起点的 是吧

04:42.370 --> 04:43.370
或者是

04:44.370 --> 04:45.370
哇 它复制过来

04:45.370 --> 04:47.370
vgamband是不是还有个缩写

04:47.370 --> 04:48.370
是吧

04:48.370 --> 04:50.370
还有个缩写 就是帽号 是吧

04:51.370 --> 04:53.370
它这等于0

04:54.370 --> 04:56.370
这两种情况下代表啥

04:56.370 --> 04:58.370
你这个属性是以vgamband开头的 是吧

04:58.370 --> 05:01.370
代表着这个属性是以vgamband开头的

05:01.370 --> 05:03.370
然后我们写个方式

05:03.370 --> 05:04.370
vgamband

05:04.370 --> 05:06.370
传入一个vm

05:06.370 --> 05:07.370
vnode

05:07.370 --> 05:08.370
name

05:08.370 --> 05:09.370
value

05:09.370 --> 05:11.370
属性名和属性的value

05:11.370 --> 05:13.370
我们给它传进这里的

05:13.370 --> 05:14.370
vgamband

05:14.370 --> 05:20.560
v

05:20.560 --> 05:21.560
vm这些传

05:21.560 --> 05:23.560
vnode这些传

05:23.560 --> 05:24.560
name

05:24.560 --> 05:25.560
name是啥

05:25.560 --> 05:28.580
name

05:28.580 --> 05:30.580
name就是attr

05:30.580 --> 05:32.580
names的

05:32.580 --> 05:34.580
我们直接传个这个

05:34.580 --> 05:35.580
然后value呢

05:35.580 --> 05:37.580
value就是它这个值 是吧

05:39.580 --> 05:41.580
vnode

05:42.580 --> 05:44.580
get attribute

05:44.580 --> 05:46.580
传入这个attr

05:46.580 --> 05:47.580
names

05:50.910 --> 05:51.910
是吧

05:51.910 --> 05:52.910
这就是那个key

05:52.910 --> 05:53.910
那个属性名

05:53.910 --> 05:55.910
这就是那个属性值 是吧

05:55.910 --> 05:57.910
我们传到这个band里来了

05:57.910 --> 05:58.910
传到这个band里来了

05:58.910 --> 06:00.910
首先我们这是vgamband的帽号 是吧

06:00.910 --> 06:02.910
我们肯定得用这个帽号来

06:02.910 --> 06:03.910
拆分一下

06:07.380 --> 06:08.380
split

06:10.380 --> 06:11.380
帽号

06:11.380 --> 06:12.380
e

06:13.380 --> 06:14.380
e是啥

06:14.380 --> 06:15.380
vgamband

06:17.380 --> 06:18.380
e就是vgamband

06:18.380 --> 06:19.380
后面绑定的属性

06:19.380 --> 06:20.380
是吧

06:20.380 --> 06:21.380
这个属性名 是吧

06:21.380 --> 06:23.380
然后这个属性名我们怎么办

06:23.380 --> 06:25.380
我们直接来去取这个值 是吧

06:25.380 --> 06:27.380
有的同学说

06:27.380 --> 06:29.380
这个情况不一样

06:29.380 --> 06:31.380
这块有可能是直接这种值

06:31.380 --> 06:32.380
是吧

06:32.380 --> 06:33.380
有可能是这种值

06:33.380 --> 06:34.380
还有可能

06:34.380 --> 06:35.380
这有这种情况 是吧

06:36.380 --> 06:38.380
vgamband

06:39.380 --> 06:40.380
class

06:42.380 --> 06:44.380
然后这里边传的就是一些表达式

06:44.380 --> 06:45.380
对吧

06:45.380 --> 06:47.380
我们先不考虑这一种

06:47.380 --> 06:48.380
这一种特殊的这一种

06:48.380 --> 06:49.380
咱们下一集来说

06:49.380 --> 06:51.380
咱们这一集就考虑这种

06:51.380 --> 06:52.380
先考虑个简单的

06:52.380 --> 06:54.380
这一集先把简单给写出来

06:55.380 --> 06:56.380
就先只说这一种

06:57.380 --> 06:59.380
那就是这个key之后

06:59.380 --> 07:01.380
我们要把这个值给拿出来了 是吧

07:01.380 --> 07:02.380
light一个v

07:03.380 --> 07:04.380
等于

07:04.380 --> 07:05.380
guideValue

07:08.750 --> 07:09.750
vgamband

07:09.750 --> 07:11.750
我也不用你点关了 是吧

07:12.750 --> 07:13.750
guideValue

07:14.750 --> 07:15.750
我要把这个填个点进来

07:17.750 --> 07:19.750
首先哪个对线来获取

07:19.750 --> 07:21.750
vm.data

07:22.750 --> 07:23.750
是吧

07:23.750 --> 07:24.750
然后呢

07:24.750 --> 07:25.750
Value

07:26.750 --> 07:28.750
Value就是我们传进来的这个值 是吧

07:28.750 --> 07:29.750
我们用这种方式

07:29.750 --> 07:30.750
把这个值给获取出来

07:30.750 --> 07:31.750
然后

07:32.750 --> 07:33.750
vnode

07:34.750 --> 07:37.750
am.siteTribute

07:38.750 --> 07:39.750
设置这个值

07:39.750 --> 07:40.750
一个key

07:41.750 --> 07:42.750
一个v

07:43.750 --> 07:44.750
然后给它设置进去

07:46.750 --> 07:47.750
完事

07:47.750 --> 07:48.750
是吧

07:48.750 --> 07:49.750
这个看起来还是很简单的 是吧

07:49.750 --> 07:51.750
这个步骤还是很好理解的 是吧

07:51.750 --> 07:52.750
这个Value

07:52.750 --> 07:54.750
这一块我们就直接去取值

07:54.750 --> 07:55.750
取了值了之后

07:55.750 --> 07:56.750
这个key

07:56.750 --> 07:57.750
比如说我是vgamband

07:57.750 --> 07:58.750
我刚才是啥来着

07:59.750 --> 08:00.750
vgamband

08:00.750 --> 08:01.750
src 是吧

08:01.750 --> 08:03.750
那它这个用帽号拆分的之后

08:03.750 --> 08:04.750
右边就是src

08:04.750 --> 08:05.750
对吧

08:05.750 --> 08:06.750
用帽号拆分的之后

08:06.750 --> 08:08.750
0号位是左门的vgamband

08:08.750 --> 08:10.750
1号位就是src 是吧

08:10.750 --> 08:11.750
这样的方式

08:11.750 --> 08:12.750
我们就能实现

08:12.750 --> 08:13.750
绑定了一个属性

08:13.750 --> 08:14.750
来看一下

08:14.750 --> 08:15.750
对吧

08:15.750 --> 08:16.750
暂无图片

08:16.750 --> 08:17.750
是吧

08:17.750 --> 08:19.750
给这张图片就显示出来了

08:20.750 --> 08:22.750
这就是一个简单的

08:22.750 --> 08:23.750
一个band的实现

08:23.750 --> 08:24.750
当然band

08:24.750 --> 08:26.750
还有一些复杂的情况 是吧

08:26.750 --> 08:27.750
比如说我刚才说的这种

08:27.750 --> 08:29.750
我如果是vgamband

08:29.750 --> 08:30.750
class

08:30.750 --> 08:31.750
decorehard的这种

08:31.750 --> 08:32.750
该怎么办

08:32.750 --> 08:33.750
这种情况下

08:33.750 --> 08:35.750
就需要有一些

08:35.750 --> 08:36.750
与法的分析了

08:36.750 --> 08:37.750
那我们下一节课

08:37.750 --> 08:38.750
来说

08:38.750 --> 08:40.750
这种带有与法分析的

08:40.750 --> 08:41.750
这种情况的处理

