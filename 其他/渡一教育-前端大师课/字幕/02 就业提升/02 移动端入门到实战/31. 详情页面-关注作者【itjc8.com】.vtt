WEBVTT

00:00.620 --> 00:08.620
各位同学 大家好 这节课呢 我们来实现一下文章详情里面的关注作者以及文章关注的这样一个操作

00:08.620 --> 00:11.620
我们可以来看一下这个已经完成的案例里面

00:11.620 --> 00:16.620
当我点击上面这个关注的时候 这个时候呢 它会有一个状态的改变

00:16.620 --> 00:22.620
也就是说UI文本显示这块 会有一个关注过当天作者的这样一个操作

00:22.620 --> 00:28.620
然后呢 我这里面点击取消关注 取消关注之后啊 这个时候它又回到了除史化的这样一个状态

00:28.620 --> 00:34.620
那这个呢 就是上面的一个操作 然后呢 如果说我们进行了这个作者的关注之后

00:34.620 --> 00:40.620
其实呢 在这个数据库里面啊 我们这个时候给用户的一个标识里面是有一个更改的

00:40.620 --> 00:44.620
我们可以来看一下 哪一个更改呢 就是这个

00:44.620 --> 00:49.620
AlsoLac IDS 在我们的优点表里面会有一个字段

00:49.620 --> 00:55.620
这个字段里面呢 存储了我们当前发布这个文章作者的一个相关的ID值

00:55.620 --> 01:01.620
那我们可以判断一下 如果说你在这个表里面有这个ID值的话

01:01.620 --> 01:04.620
那OK 那我这时候就是已经关注你了

01:04.620 --> 01:09.620
如果说没有这个ID值的时候 那这时候呢 就是还没有关注 对不对

01:09.620 --> 01:12.620
假如说你已经关注了 那这块显示什么 取消关注

01:12.620 --> 01:18.620
如果说没有关注的话 那这时候是不是这里面就开始点击关注 是不是就OK了 对吧

01:18.620 --> 01:23.620
这个呢 就是它的一个操作 还有接下来就是什么呢 对这个文章的一个收藏

01:23.620 --> 01:29.620
其实文章这个收藏这一块 我们在出手话的时候 也就是说在首页面的时候

01:29.620 --> 01:32.620
我们是定义了一个文章收藏的这样一个组件

01:32.620 --> 01:35.620
其实呢 我们只要把这个组件拿过来使用就OK了

01:35.620 --> 01:38.620
这个呢 处理起来是相对比较简单的

01:38.620 --> 01:41.620
所以说呢 接下来呢 我们就通过代码的形式

01:41.620 --> 01:44.620
一步一步的来吧 这两个功能啊 都给实现一下

01:44.620 --> 01:48.620
我们首先打开编辑器 找到编辑器之后

01:48.620 --> 01:51.620
那第一个呢 我们先来做这个关注的问题

01:51.620 --> 01:54.620
首先来说 咱们说这个UI的处理

01:54.620 --> 02:00.620
其实这个取消关注和这个关注呢 我们文本显示是需要一个状态值来判断的

02:00.620 --> 02:05.620
那这个状态值是什么呢 我们可以通过一个计算属性来实现啊

02:05.620 --> 02:09.620
比如说在这个里面 我也不是说 出手话的时候就取消关注 对不对

02:09.620 --> 02:14.620
有可能是关注的 对吧 那这里面呢 我可能使用一个follow

02:14.620 --> 02:17.620
然后呢 这个叫 also

02:17.620 --> 02:20.620
意思follow also 然后呢 我判断它成立嘛

02:20.620 --> 02:25.620
如果说它要是成立的话 那这个里面就是取消关注 对吧

02:25.620 --> 02:29.620
给同学们学一下 取消关注

02:29.620 --> 02:33.620
否则呢 那它就是 如果说是不成立 不成立就是没有关注吧

02:33.620 --> 02:38.620
那我这时候就给它展示出来什么 让它开始关注作者就OK了

02:38.620 --> 02:42.620
那这个eadfollow also呢 我们可以通过一个计算属性

02:42.620 --> 02:45.620
来给它实现一下 到哪个里面呢

02:45.620 --> 02:47.620
找到我们的compute it

02:47.620 --> 02:51.620
然后在这个里面 继续写一下 这个叫是否关注作者

02:53.620 --> 02:56.620
是否关注作者 OK

02:56.620 --> 03:00.620
eadfollow also 然后呢 我们在这个里面

03:00.620 --> 03:03.620
直接retain就行 它条件是什么呢

03:03.620 --> 03:06.620
首先啊 你是否关注作者 第一个条件

03:06.620 --> 03:10.620
就是我们这一次点 user 音方 有没有值

03:10.620 --> 03:12.620
也就是说 如果说你这一次 user 音方没有值

03:12.620 --> 03:16.620
你还没有登入状态 那根本它就不知道谁在关注在这个作者 对不对

03:16.620 --> 03:18.620
它肯定是没关注的状态

03:18.620 --> 03:21.620
所以说 这一次点 user 音方有值

03:21.620 --> 03:25.620
这是第一个条件 并且这一次点 user 音方

03:25.620 --> 03:30.620
然后它里面的 刚才咱们看到的 also like

03:30.620 --> 03:33.620
also 一个 like ids

03:33.620 --> 03:37.620
然后也就是说 这个数组里面 是否包含

03:38.620 --> 03:43.620
inclose 然后看它包含谁 包含这一次点 article

03:43.620 --> 03:46.620
我们这里面 是不是有一个 article data 对吧

03:46.620 --> 03:49.620
在这个上面 这一块 article data 对吧

03:49.620 --> 03:52.620
那这个 article data 里面有什么呢

03:52.620 --> 03:55.620
有一个作者的 also.id

03:55.620 --> 03:59.620
那这一次点 article data

03:59.620 --> 04:02.620
然后下面的一个什么 also.id

04:02.620 --> 04:04.620
我们可以来看一下

04:05.620 --> 04:08.620
好的 那刷新一下界面 我们的这一块

04:08.620 --> 04:12.620
这里面显示是未关注 未关注原因是什么

04:12.620 --> 04:14.620
是因为它没有这个值 对吧

04:14.620 --> 04:17.620
然后我们看一下 这个里面是不是有这个值

04:17.620 --> 04:21.620
打开 view 到这个里面 我们点击这里

04:21.620 --> 04:24.620
然后这里面有一个 article detail

04:24.620 --> 04:26.620
article detail 现在有一个 article data

04:26.620 --> 04:27.620
这里面有一个 also

04:27.620 --> 04:29.620
also 下面有一个 id

04:29.620 --> 04:33.620
然后我们判断谁 就是判断我们的 user info

04:33.620 --> 04:35.620
那这个 user info 里面

04:35.620 --> 04:38.620
我们判断他 article like ids 里面

04:38.620 --> 04:41.620
是否包含我们当前的 also

04:41.620 --> 04:44.620
sorry 应该是 also like ids 里面

04:44.620 --> 04:48.620
是否包含我们的这个文章的 id

04:48.620 --> 04:49.620
如果说你要包含呢

04:49.620 --> 04:51.620
那我这里面就显示关注

04:51.620 --> 04:52.620
如果说不包含呢

04:52.620 --> 04:54.620
OK 那对不起 就 say goodbye了 对不对

04:54.620 --> 04:56.620
就是这么一个过程 这是第一步

04:56.620 --> 05:00.620
我们先把 UI 给做了一个处理

05:00.620 --> 05:01.620
那么接下来是做什么呢

05:01.620 --> 05:04.620
接下来我们就对这个事件进行绑定了

05:04.620 --> 05:07.620
也就是说对这个按钮做一个事件处理

05:07.620 --> 05:08.620
按钮在哪里

05:08.620 --> 05:12.620
我们找到上面直接的还是刚才这个位置

05:12.620 --> 05:13.620
找到它之后呢

05:13.620 --> 05:16.620
我们给它来进行一个什么事件的绑定

05:16.620 --> 05:18.620
这里面绑定一个什么事件

05:18.620 --> 05:19.620
at click

05:19.620 --> 05:25.620
我们给它一个事件名叫 follow also

05:25.620 --> 05:26.620
OK 那这个呢

05:26.620 --> 05:28.620
其实就要我们做这个

05:28.620 --> 05:30.620
原来处的一个请求了

05:30.620 --> 05:31.620
因为什么呢

05:31.620 --> 05:32.620
我们要改变它的状态

05:32.620 --> 05:34.620
如果说你是关注的时候

05:34.620 --> 05:35.620
那我给你取消关注

05:35.620 --> 05:36.620
如果说你没有关注的

05:36.620 --> 05:38.620
那我给你添加一个关注就OK了

05:38.620 --> 05:40.620
这个就是我们的一个处理

05:40.620 --> 05:41.620
到这个里面

05:41.620 --> 05:44.620
我们找到买色的

05:44.620 --> 05:48.620
下面在这个里面买色的

05:48.620 --> 05:49.620
OK 在这里面

05:49.620 --> 05:50.620
这里面写一下

05:50.620 --> 05:51.620
就是说

05:51.620 --> 05:54.620
改变

05:54.620 --> 05:57.620
用户关注

05:57.620 --> 06:00.620
或者的一个状态

06:00.620 --> 06:01.620
OK

06:01.620 --> 06:04.620
由于是异部请求

06:04.620 --> 06:05.620
肯定用 promise

06:05.620 --> 06:07.620
所以说这里面加一个

06:07.620 --> 06:10.620
sync follow also

06:10.620 --> 06:12.620
然后直接在这里面

06:12.620 --> 06:18.510
cancel.es等于一个 wait

06:18.510 --> 06:19.510
去发一个请求

06:19.510 --> 06:21.510
那这个发的一个请求

06:21.510 --> 06:22.510
那这时候

06:22.510 --> 06:24.510
首先你直接就发吗

06:24.510 --> 06:25.510
其实不行

06:25.510 --> 06:26.510
因为这个时候

06:26.510 --> 06:27.510
如果说你想关注做这个

06:27.510 --> 06:28.510
那你低一点

06:28.510 --> 06:29.510
对判断一下

06:29.510 --> 06:30.510
判断什么呢

06:30.510 --> 06:31.510
你这个用户是否登录

06:31.510 --> 06:33.510
所以说我在这个前面

06:33.510 --> 06:34.510
应该加一个什么

06:34.510 --> 06:35.510
wait

06:35.510 --> 06:37.510
this.check的

06:37.510 --> 06:38.510
我们这里面

06:38.510 --> 06:39.510
先检查一下的

06:39.510 --> 06:41.510
它的一个登录状态

06:41.510 --> 06:42.510
check的

06:42.510 --> 06:43.510
ease Logan

06:43.510 --> 06:44.510
如果说你没登录

06:44.510 --> 06:45.510
那底下压根就不知情了

06:45.510 --> 06:46.510
对不对

06:46.510 --> 06:47.510
然后直接我在发起

06:47.510 --> 06:48.510
这个请求

06:48.510 --> 06:49.510
this.dollar

06:49.510 --> 06:51.510
http

06:51.510 --> 06:53.510
当然我们这个方法还没写

06:53.510 --> 06:54.510
一会给完成一下

06:54.510 --> 06:55.510
update

06:55.510 --> 06:56.510
然后这里面写一个

06:56.510 --> 06:57.510
follow

06:57.510 --> 06:58.510
follow also

06:58.510 --> 07:00.950
update

07:00.950 --> 07:01.950
follow also

07:01.950 --> 07:02.950
这里面

07:02.950 --> 07:04.950
我们就开始来进行一个

07:04.950 --> 07:05.950
传直

07:05.950 --> 07:06.950
那传直都传什么

07:06.950 --> 07:07.950
首先

07:07.950 --> 07:08.950
哪个作者

07:08.950 --> 07:09.950
你得告诉人家

07:09.950 --> 07:10.950
对不对

07:10.950 --> 07:11.950
第二个是什么呢

07:11.950 --> 07:12.950
哪篇文章

07:12.950 --> 07:13.950
所以说我这里面

07:13.950 --> 07:14.950
also id

07:14.950 --> 07:16.950
这个是一定要传递的

07:16.950 --> 07:17.950
然后直接的

07:17.950 --> 07:18.950
那这个怎么写呢

07:18.950 --> 07:19.950
其实就是把这个

07:19.950 --> 07:21.950
刚才咱们在底下

07:21.950 --> 07:22.950
定义的这个

07:22.950 --> 07:25.950
this.articleDate.alsoID

07:25.950 --> 07:27.950
把它可以传递过去

07:27.950 --> 07:28.950
就可以啊

07:28.950 --> 07:29.950
这是第一个纸

07:29.950 --> 07:30.950
那第一个纸

07:30.950 --> 07:31.950
我们有了

07:31.950 --> 07:32.950
第二个就是什么呢

07:32.950 --> 07:33.950
就是我们的这个

07:33.950 --> 07:34.950
userID

07:35.950 --> 07:36.950
userID

07:36.950 --> 07:37.950
使用谁呢

07:37.950 --> 07:38.950
就是我们这次

07:39.950 --> 07:40.950
点

07:40.950 --> 07:42.950
userinfo

07:42.950 --> 07:43.950
点一个什么

07:43.950 --> 07:44.950
下火线

07:44.950 --> 07:45.950
id纸

07:45.950 --> 07:46.950
是不是就可以了

07:46.950 --> 07:47.950
那这个也就是说

07:47.950 --> 07:49.950
我让这个用户里面

07:49.950 --> 07:51.950
对你这个文章的ID

07:51.950 --> 07:52.950
进行一个删除

07:52.950 --> 07:53.950
或者是追加操作

07:53.950 --> 07:54.950
是不是就可以了

07:54.950 --> 07:55.950
然后如果说

07:55.950 --> 07:56.950
你做完了之后

07:56.950 --> 07:57.950
这里面

07:57.950 --> 07:58.950
我们要做几件事

07:58.950 --> 07:59.950
首先第一是什么呢

07:59.950 --> 08:01.950
我们显示一个什么

08:01.950 --> 08:02.950
弹窗

08:02.950 --> 08:03.950
那显示弹窗

08:03.950 --> 08:04.950
其实我这个里面

08:04.950 --> 08:06.950
就让它返回一个什么

08:06.950 --> 08:07.950
MSG就可以了

08:07.950 --> 08:08.950
这个我们注意一下

08:08.950 --> 08:09.950
就可以了

08:09.950 --> 08:10.950
如果说你成功了

08:10.950 --> 08:11.950
那我直接在这里面

08:11.950 --> 08:12.950
有你点

08:12.950 --> 08:13.950
so

08:13.950 --> 08:14.950
toast

08:14.950 --> 08:16.950
让它显示一个弹窗

08:16.950 --> 08:17.950
开头呢就是我们的这个

08:17.950 --> 08:18.950
MSG

08:18.950 --> 08:20.950
你记关注成功

08:20.950 --> 08:21.950
和不成功

08:21.950 --> 08:22.950
和取消关注

08:22.950 --> 08:24.950
你都给我提示一下

08:24.950 --> 08:25.950
就可以了

08:25.950 --> 08:26.950
所以我们在这里面

08:26.950 --> 08:27.950
是什么呢

08:27.950 --> 08:29.950
当你后台修改之后

08:29.950 --> 08:30.950
那我前端也要处理一下

08:30.950 --> 08:31.950
对不对

08:31.950 --> 08:33.950
我这里面就是

08:33.950 --> 08:34.950
改变一个什么呢

08:34.950 --> 08:39.840
改变这个我们的这个死盗

08:39.840 --> 08:41.840
死盗里面的一个

08:41.840 --> 08:44.840
用户存储的一个状态

08:44.840 --> 08:45.840
也就是说

08:45.840 --> 08:46.840
把这个死盗里面

08:46.840 --> 08:48.840
数据给它进行一个修改

08:48.840 --> 08:49.840
是不是得了

08:49.840 --> 08:51.840
然后这个死盗数据修改了的话

08:51.840 --> 08:52.840
那这个里面

08:52.840 --> 08:53.840
其实我们的这个

08:53.840 --> 08:54.840
本地存储

08:54.840 --> 08:55.840
是不是也会修改

08:55.840 --> 08:57.840
同样修改

08:57.840 --> 08:59.840
这个呢是我们一会儿

08:59.840 --> 09:00.840
要做的

09:00.840 --> 09:01.840
那我们呢这样

09:01.840 --> 09:02.840
先完成一下什么呢

09:02.840 --> 09:03.840
我们的这个云寒数

09:03.840 --> 09:04.840
updata

09:04.840 --> 09:05.840
follow out

09:05.840 --> 09:06.840
然后呢

09:06.840 --> 09:07.840
我们再来得到值之后

09:07.840 --> 09:08.840
再来进行

09:08.840 --> 09:10.840
本地状态的一个修改

09:10.840 --> 09:11.840
那这样整个过程

09:11.840 --> 09:12.840
就OK了

09:12.840 --> 09:13.840
好的我们先

09:13.840 --> 09:14.840
一步一步实现

09:14.840 --> 09:15.840
首先到我们的

09:15.840 --> 09:16.840
阿迦克斯

09:16.840 --> 09:17.840
interface

09:17.840 --> 09:18.840
因为这个属于

09:18.840 --> 09:19.840
用户操作

09:19.840 --> 09:20.840
我在这里面来写一下

09:20.840 --> 09:21.840
这个叫什么

09:21.840 --> 09:23.840
修改保存粉

09:23.840 --> 09:25.840
让作者状态修改

09:25.840 --> 09:30.840
保存文章作者状态

09:30.840 --> 09:32.840
好的那这里面写一下

09:32.840 --> 09:34.840
export const

09:34.840 --> 09:35.840
然后把刚才这个

09:35.840 --> 09:37.840
粘贴的updata

09:37.840 --> 09:40.840
follow also等于data

09:40.840 --> 09:41.840
然后这里面

09:41.840 --> 09:42.840
是我们的这个

09:42.840 --> 09:43.840
阿迦克斯

09:43.840 --> 09:47.600
阿迦克斯里面

09:47.600 --> 09:49.600
我们就开始写内容

09:49.600 --> 09:52.600
第一个叫updata follow also

09:52.600 --> 09:53.600
然后第二个

09:53.600 --> 09:54.600
就是我们的data

09:54.600 --> 09:55.600
好了

09:55.600 --> 09:56.600
全部都写完成之后

09:56.600 --> 09:57.600
那我们就把这个

09:57.600 --> 09:58.600
UNIQLO

09:58.600 --> 09:59.600
给订一下就可以了

09:59.600 --> 10:01.600
我们找到UNIQLO的

10:01.600 --> 10:03.600
function打开之后

10:03.600 --> 10:04.600
在这个里面

10:04.600 --> 10:05.600
新建UNIQLO

10:05.600 --> 10:08.600
叫updata follow also

10:08.600 --> 10:10.600
OK点击创建一个

10:10.600 --> 10:11.600
那创建一个之后

10:11.600 --> 10:12.600
这个里面都干什么呢

10:12.600 --> 10:14.600
我们一次来完成一下

10:14.600 --> 10:15.600
首先获取一个什么

10:15.600 --> 10:17.600
数据库的一个

10:17.600 --> 10:19.600
引用db等于

10:19.600 --> 10:21.600
UNIQLO的

10:21.600 --> 10:23.600
点data base

10:23.600 --> 10:24.600
这是第一步

10:24.600 --> 10:25.600
获取数据库

10:25.600 --> 10:26.600
引用

10:26.600 --> 10:27.600
第二个呢

10:27.600 --> 10:28.600
我指定一个

10:28.600 --> 10:29.600
操作服辨量

10:29.600 --> 10:30.600
dbcmd

10:30.600 --> 10:32.600
等于我们的UNIQLO

10:32.600 --> 10:33.600
db.cmd

10:33.600 --> 10:34.600
sorry

10:34.600 --> 10:36.600
db.command

10:36.600 --> 10:38.600
db.command

10:38.600 --> 10:39.600
OK

10:39.600 --> 10:40.600
拿到一个操作服之后

10:40.600 --> 10:41.600
这个里面

10:41.600 --> 10:42.600
我来做第一件事

10:42.600 --> 10:43.600
就是什么

10:43.600 --> 10:44.600
把前台传的这个

10:44.600 --> 10:46.600
值给进行一个接收

10:46.600 --> 10:47.600
那前台都传什么了

10:47.600 --> 10:49.600
一个是U字ID

10:49.600 --> 10:50.600
对不对

10:50.600 --> 10:51.600
还有一个是

10:51.600 --> 10:52.600
alsoID

10:52.600 --> 10:54.600
等于我们的

10:54.600 --> 10:57.040
event

10:57.040 --> 10:58.040
好了

10:58.040 --> 10:59.040
把这两个值获取一下之后

10:59.040 --> 11:00.040
那我们现在

11:00.040 --> 11:01.040
在这个里面

11:01.040 --> 11:02.040
做第一件事什么的

11:02.040 --> 11:04.040
获取这个用户的这个表

11:04.040 --> 11:05.040
然后找到

11:05.040 --> 11:07.040
它的like ids的数组

11:07.040 --> 11:08.040
couns的U字

11:08.040 --> 11:10.040
等于一个

11:10.040 --> 11:11.040
我们这里面就写一下

11:11.040 --> 11:12.040
avait

11:12.040 --> 11:13.040
avait一个什么

11:13.040 --> 11:15.040
db.collection

11:15.040 --> 11:17.040
然后这里面传一个U字

11:17.040 --> 11:18.040
找到这个U字之后

11:18.040 --> 11:20.040
点doc

11:20.040 --> 11:21.040
然后我们通过什么

11:21.040 --> 11:22.040
id查找

11:22.040 --> 11:23.040
那就是我们的

11:23.040 --> 11:24.040
一个U字ID

11:24.040 --> 11:25.040
然后呢

11:25.040 --> 11:26.040
找到它之后

11:26.040 --> 11:27.040
那使用这个guide方法

11:27.040 --> 11:29.040
获取这个集合

11:29.040 --> 11:30.040
当然它是一个数组

11:30.040 --> 11:32.040
我从这个集合数组里面

11:32.040 --> 11:35.040
找到一个also like ids自断

11:35.040 --> 11:36.040
那我这里面

11:36.040 --> 11:37.040
就可以写一下

11:37.040 --> 11:41.350
couns的also like

11:41.350 --> 11:42.350
这里面

11:42.350 --> 11:44.350
like ids

11:44.350 --> 11:45.350
等于我们的什么呢

11:45.350 --> 11:47.350
等于我们U字

11:47.350 --> 11:48.350
因为是一个数组

11:48.350 --> 11:49.350
对吧

11:49.350 --> 11:50.350
data下面的

11:50.350 --> 11:52.350
取地零向

11:52.350 --> 11:53.350
然后呢

11:53.350 --> 11:56.350
点 also

11:56.350 --> 12:01.350
这个应该是like ids

12:01.350 --> 12:02.350
对吧

12:02.350 --> 12:03.350
把它给获取一下

12:03.350 --> 12:04.350
然后获取到

12:04.350 --> 12:05.350
它的这个表之后

12:05.350 --> 12:06.350
那我们这里面

12:06.350 --> 12:07.350
由于一会还要

12:07.350 --> 12:08.350
返回指示对吧

12:08.350 --> 12:09.350
就是这个

12:09.350 --> 12:10.350
比如说你取要关注

12:10.350 --> 12:11.350
或者说关注成功

12:11.350 --> 12:12.350
那所以说

12:12.350 --> 12:13.350
我在这个里面

12:13.350 --> 12:14.350
like一个什么呢

12:14.350 --> 12:15.350
msg

12:15.350 --> 12:16.350
就是返回的

12:16.350 --> 12:18.350
return一个msg

12:18.350 --> 12:20.350
我根据情况不同

12:20.350 --> 12:21.350
给它来做一个

12:21.350 --> 12:23.350
重新的复制调整

12:23.350 --> 12:24.350
就可以了

12:24.350 --> 12:25.350
比如说你关注成功

12:25.350 --> 12:26.350
那我这里面

12:26.350 --> 12:27.350
就显示什么关注成功

12:27.350 --> 12:28.350
对不对

12:28.350 --> 12:29.350
那就是这么一个操作

12:29.350 --> 12:30.350
然后呢

12:30.350 --> 12:31.350
这里面

12:31.350 --> 12:32.350
我为了对这个

12:32.350 --> 12:34.350
数组做调整的时候

12:34.350 --> 12:35.350
有一个临时收集

12:35.350 --> 12:36.350
那这里面

12:36.350 --> 12:37.350
我再写一个什么呢

12:37.350 --> 12:40.790
also

12:40.790 --> 12:42.790
写一个临时的变量

12:42.790 --> 12:43.790
also ids

12:43.790 --> 12:45.790
等于我们的一个

12:45.790 --> 12:46.790
not

12:46.790 --> 12:47.790
说实话的时候

12:47.790 --> 12:48.790
给它一个变量

12:48.790 --> 12:49.790
然后这里面

12:49.790 --> 12:50.790
就来判断了

12:50.790 --> 12:51.790
我们判断一下

12:51.790 --> 12:52.790
我们的这个

12:52.790 --> 12:53.790
also like ids

12:53.790 --> 12:54.790
也就是说

12:54.790 --> 12:55.790
这个里面

12:55.790 --> 12:57.790
它要是包含

12:57.790 --> 12:58.790
我们传进来的

12:58.790 --> 12:59.790
对不对

12:59.790 --> 13:00.790
点

13:00.790 --> 13:01.790
ink lose

13:01.790 --> 13:04.230
如果说

13:04.230 --> 13:05.230
它要是包含

13:05.230 --> 13:06.230
我们的这个

13:06.230 --> 13:07.230
also id

13:07.230 --> 13:08.230
那这个时候

13:08.230 --> 13:09.230
是不是已经是

13:09.230 --> 13:10.230
有这个值了

13:10.230 --> 13:11.230
对不对

13:11.230 --> 13:12.230
那这个时候呢

13:12.230 --> 13:13.230
我们其实这里面

13:13.230 --> 13:14.230
要做什么事呢

13:14.230 --> 13:15.230
我们是不是

13:15.230 --> 13:17.230
开始就要取消关注了

13:17.230 --> 13:18.230
对不对

13:18.230 --> 13:19.230
那取消关注

13:19.230 --> 13:20.230
首先我们把这个

13:20.230 --> 13:21.230
return

13:21.230 --> 13:22.230
msg

13:22.230 --> 13:23.230
我们这里面

13:23.230 --> 13:24.230
处理一下

13:24.230 --> 13:25.230
return msg

13:25.230 --> 13:26.230
我就重新给它复制一下

13:26.230 --> 13:27.230
就可以了

13:27.230 --> 13:28.230
我这里面写一个什么

13:28.230 --> 13:29.230
取消关注

13:29.230 --> 13:30.230
ok

13:30.230 --> 13:32.230
这是我们这个处理的

13:32.230 --> 13:33.230
否则

13:33.230 --> 13:34.230
那我们这个

13:34.230 --> 13:35.230
return ms

13:35.230 --> 13:36.230
我们要给它一个什么

13:36.230 --> 13:37.230
这里面叫

13:37.230 --> 13:38.230
关注

13:38.230 --> 13:39.230
作者

13:39.230 --> 13:40.230
成功

13:40.230 --> 13:41.230
那

13:41.230 --> 13:42.230
除了这个文字的

13:42.230 --> 13:43.230
处理之外

13:43.230 --> 13:44.230
我们这里面

13:44.230 --> 13:45.230
还需要做什么

13:45.230 --> 13:46.230
其实如果说

13:46.230 --> 13:47.230
你要是取消关注

13:47.230 --> 13:48.230
那我们啊

13:48.230 --> 13:49.230
对这个

13:49.230 --> 13:50.230
also ids

13:50.230 --> 13:51.230
这个里面

13:51.230 --> 13:53.230
我们就使用这种操作符

13:53.230 --> 13:55.230
dbcmd

13:55.230 --> 13:56.230
点一个什么呢

13:56.230 --> 13:57.230
铺的形式啊

13:57.230 --> 13:58.230
给它做一个删除

13:58.230 --> 13:59.230
铺的形式

13:59.230 --> 14:00.230
我们删除的时候

14:00.230 --> 14:02.230
就是把我们当前的这个

14:02.230 --> 14:04.230
also id

14:04.230 --> 14:05.230
给它干掉

14:05.230 --> 14:06.230
是不是就可以了

14:06.230 --> 14:07.230
也就是说

14:07.230 --> 14:08.230
这个啊

14:08.230 --> 14:09.230
好的

14:09.230 --> 14:10.230
把它干掉

14:10.230 --> 14:11.230
那这是

14:11.230 --> 14:12.230
我们做这个

14:12.230 --> 14:13.230
取消关注的时候

14:13.230 --> 14:14.230
如果说

14:14.230 --> 14:15.230
你要是想新增关注

14:15.230 --> 14:16.230
那我们这个

14:16.230 --> 14:17.230
dbcmd

14:18.230 --> 14:20.230
这种形式

14:20.230 --> 14:21.230
来给他做一下处理

14:21.230 --> 14:22.230
是不是就可以了

14:22.230 --> 14:23.230
也就是说

14:23.230 --> 14:24.230
给他追加进去

14:24.230 --> 14:25.230
追加哪个

14:25.230 --> 14:26.230
追加我们当前

14:26.230 --> 14:27.230
传过来的这个

14:27.230 --> 14:28.230
also id

14:28.230 --> 14:29.230
是不是就可以了

14:29.230 --> 14:30.230
对吧

14:30.230 --> 14:31.230
当你这两个都做完之后

14:31.230 --> 14:32.230
那我直接的

14:32.230 --> 14:33.230
更新一下什么呢

14:33.230 --> 14:35.230
我们的这个用户表

14:35.230 --> 14:36.230
那就是

14:36.230 --> 14:37.230
更新就是

14:37.230 --> 14:38.230
db.collection

14:38.230 --> 14:39.230
然后再找到

14:39.230 --> 14:40.230
我们的这个U字

14:40.230 --> 14:41.230
之后呢

14:41.230 --> 14:42.230
我们点

14:42.230 --> 14:43.230
doc

14:43.230 --> 14:44.230
找到指定的那一个

14:44.230 --> 14:46.230
那就是我们的这个U字

14:47.230 --> 14:48.230
然后呢

14:49.230 --> 14:50.230
使用update的方法

14:50.230 --> 14:52.230
来做一个更新

14:52.230 --> 14:54.230
我们更新哪一个

14:54.230 --> 14:55.230
就是我们的这个

14:58.230 --> 14:59.230
更新它

14:59.230 --> 15:00.230
它的这个值呢

15:00.230 --> 15:02.230
就是我们临时存储的这个

15:02.230 --> 15:03.230
辨量值

15:03.230 --> 15:04.230
Also ids

15:04.230 --> 15:05.230
此时Also ids

15:05.230 --> 15:06.230
是不是

15:06.230 --> 15:07.230
它就是一个数组啊

15:07.230 --> 15:08.230
对吧

15:08.230 --> 15:09.230
那我直接把这个数组

15:09.230 --> 15:10.230
更新完成之后的数组

15:10.230 --> 15:11.230
给它放到这里面

15:11.230 --> 15:12.230
然后让它做一个更新

15:12.230 --> 15:13.230
就可以了

15:13.230 --> 15:14.230
之后呢

15:14.230 --> 15:15.230
我这里面

15:15.230 --> 15:16.230
分别是code

15:16.230 --> 15:17.230
给它返回一个

15:17.230 --> 15:18.230
状态码对不对

15:18.230 --> 15:19.230
那我这里面

15:19.230 --> 15:20.230
给它一个什么

15:20.230 --> 15:21.230
code的一个0

15:21.230 --> 15:23.230
给它一个code0之后

15:23.230 --> 15:24.230
那我这里面

15:24.230 --> 15:25.230
再给它一个data

15:25.230 --> 15:26.230
data呢

15:26.230 --> 15:27.230
就是我们往前端

15:27.230 --> 15:28.230
返回的值

15:28.230 --> 15:29.230
msg

15:29.230 --> 15:30.230
那我这里面写一个

15:30.230 --> 15:31.230
return一个什么

15:31.230 --> 15:32.230
msg

15:32.230 --> 15:33.230
ok

15:33.230 --> 15:34.230
这个呢

15:34.230 --> 15:35.230
给它做一个

15:35.230 --> 15:36.230
返回输出

15:36.230 --> 15:37.230
就可以了

15:37.230 --> 15:38.230
我们可以通过

15:38.230 --> 15:39.230
前端来对它

15:39.230 --> 15:41.230
进行一个调用

15:41.230 --> 15:42.230
这个里面

15:42.230 --> 15:43.230
我们来看一下

15:43.230 --> 15:44.230
Logohost的8080

15:44.230 --> 15:45.230
此时我点击关注

15:45.230 --> 15:47.230
如果说没有错的话

15:47.230 --> 15:48.230
直接ok

15:48.230 --> 15:49.230
关注作者成功

15:49.230 --> 15:50.230
关注作者成功

15:50.230 --> 15:51.230
其实在前端

15:51.230 --> 15:52.230
我们看不出来什么

15:52.230 --> 15:53.230
但是当我们回到

15:53.230 --> 15:54.230
云输区库里面

15:54.230 --> 15:56.230
刷新一下这个界面

15:56.230 --> 15:57.230
那此时这个里面

15:57.230 --> 15:59.230
未出权或登陆过期

15:59.230 --> 16:01.230
那这样我登录一下

16:01.230 --> 16:02.230
登录一下

16:02.230 --> 16:03.230
咱们看一下

16:03.230 --> 16:04.230
Ugo29U

16:04.230 --> 16:07.230
Ugo29U

16:07.230 --> 16:09.800
ok

16:09.800 --> 16:10.800
好的

16:10.800 --> 16:11.800
来试一下

16:11.800 --> 16:12.800
登录一下

16:12.800 --> 16:13.800
再回到

16:13.800 --> 16:15.800
我们的这个project死盗

16:15.800 --> 16:16.800
project死盗里面

16:16.800 --> 16:18.800
找到you的这个表

16:18.800 --> 16:19.800
现在不用刷新了

16:19.800 --> 16:20.800
因为它直接

16:20.800 --> 16:21.800
是不是就应该是有了

16:21.800 --> 16:22.800
Also Like IDS

16:22.800 --> 16:23.800
现在就是

16:23.800 --> 16:24.800
已经有了

16:24.800 --> 16:25.800
有了之后怎么办呢

16:25.800 --> 16:26.800
我这里面

16:26.800 --> 16:28.800
再做一个什么取消关注

16:28.800 --> 16:29.800
ok取消关注

16:29.800 --> 16:30.800
是不是也可以了

16:30.800 --> 16:31.800
这是第一步

16:31.800 --> 16:32.800
那现在我们

16:32.800 --> 16:33.800
这个第一步

16:33.800 --> 16:34.800
数据库里面

16:34.800 --> 16:35.800
这个应该是

16:35.800 --> 16:37.800
现在就应该是没有了

16:37.800 --> 16:38.800
刷新一下

16:38.800 --> 16:39.800
没有了

16:39.800 --> 16:40.800
ok没问题

16:40.800 --> 16:41.800
那我们接下来处理什么呢

16:41.800 --> 16:42.800
就是我们的这个UI显示

16:42.800 --> 16:43.800
UI显示这一块

16:43.800 --> 16:44.800
它处理呢

16:44.800 --> 16:45.800
其实UI显示这一块

16:45.800 --> 16:46.800
我们是不是接下来

16:46.800 --> 16:48.800
只要是调整一下什么呢

16:48.800 --> 16:49.800
调整一下

16:49.800 --> 16:50.800
我们的这个用户的

16:50.800 --> 16:51.800
这个死盗状态

16:51.800 --> 16:52.800
是不是就可以了

16:52.800 --> 16:53.800
那这里面

16:53.800 --> 16:55.800
我们首先要获取一下

16:55.800 --> 16:57.800
当前我们这个用户里面

16:57.800 --> 16:59.800
保存的这个like IDS的数组

16:59.800 --> 17:00.800
然后呢

17:00.800 --> 17:01.800
我根据这个数组里面判断

17:01.800 --> 17:02.800
是否包含

17:02.800 --> 17:03.800
不包含呢

17:03.800 --> 17:04.800
我们直接的

17:04.800 --> 17:05.800
就给它追加

17:05.800 --> 17:06.800
如果说包含呢

17:06.800 --> 17:07.800
我们直接的

17:07.800 --> 17:08.800
就给它删除

17:08.800 --> 17:09.800
是不是就可以了

17:09.800 --> 17:10.800
那也就是说这里面

17:10.800 --> 17:11.800
先定一个变量

17:11.800 --> 17:12.800
like IDS

17:12.800 --> 17:14.800
等于一个什么呢

17:14.800 --> 17:18.800
follow IDFOLW

17:18.800 --> 17:21.800
follow IDS

17:21.800 --> 17:22.800
等于一个

17:22.800 --> 17:23.800
我们把这个里面

17:23.800 --> 17:24.800
给的作为一个展开

17:24.800 --> 17:25.800
这一次点

17:25.800 --> 17:26.800
you there

17:26.800 --> 17:27.800
info

17:27.800 --> 17:28.800
点一个什么呢

17:28.800 --> 17:30.800
点 also

17:30.800 --> 17:33.800
然后它的like IDS

17:33.800 --> 17:34.800
我们获取到

17:34.800 --> 17:35.800
这样一个新的数组

17:35.800 --> 17:37.800
然后我们判断一下

17:37.800 --> 17:38.800
如果说

17:38.800 --> 17:40.800
我们的follow IDS

17:40.800 --> 17:41.800
然后点

17:41.800 --> 17:42.800
inclose

17:42.800 --> 17:44.800
我们是不是包含啊

17:44.800 --> 17:45.800
如果说

17:45.800 --> 17:46.800
我们看一下

17:46.800 --> 17:47.800
包含什么呢

17:47.800 --> 17:48.800
点 inclose

17:48.800 --> 17:49.800
这一次点

17:49.800 --> 17:50.800
article

17:50.800 --> 17:51.800
data

17:51.800 --> 17:53.800
点 also

17:53.800 --> 17:54.800
点 also

17:54.800 --> 17:55.800
然后直接的

17:55.800 --> 17:56.800
它的点

17:56.800 --> 17:57.800
id

17:57.800 --> 17:58.800
如果说

17:58.800 --> 17:59.800
我们要包含这个了

17:59.800 --> 18:00.800
那我们做一件事

18:00.800 --> 18:01.800
否则不包含

18:01.800 --> 18:02.800
那我们再做一件事

18:02.800 --> 18:03.800
包含我们做什么事呢

18:03.800 --> 18:04.800
包含

18:04.800 --> 18:05.800
其实我们是不是

18:05.800 --> 18:06.800
就是给它删除

18:06.800 --> 18:07.800
是不是就可以了

18:07.800 --> 18:08.800
那我就是

18:08.800 --> 18:09.800
给它做一个

18:09.800 --> 18:10.800
重新复制

18:10.800 --> 18:11.800
follow IDS

18:11.800 --> 18:12.800
这样比较方便

18:12.800 --> 18:14.800
等于我们的follow IDS

18:14.800 --> 18:15.800
点一个什么

18:15.800 --> 18:16.800
给它过滤一下

18:16.800 --> 18:17.800
是不是就可以了

18:17.800 --> 18:18.800
filter

18:18.800 --> 18:19.800
这里面是item

18:19.800 --> 18:20.800
把

18:20.800 --> 18:21.800
包含的这一项

18:21.800 --> 18:22.800
也就是说它相等的

18:22.800 --> 18:23.800
那我们给它干掉

18:23.800 --> 18:24.800
是不是就可以了

18:24.800 --> 18:25.800
item

18:25.800 --> 18:26.800
点一个什么呢

18:26.800 --> 18:27.800
item不等于啊

18:27.800 --> 18:28.800
比如说这里面

18:28.800 --> 18:29.800
写一个不等于什么呢

18:29.800 --> 18:31.800
我们这一次点

18:31.800 --> 18:32.800
article

18:32.800 --> 18:33.800
data

18:33.800 --> 18:34.800
also

18:34.800 --> 18:36.800
点一个id

18:36.800 --> 18:37.800
那这样就是

18:37.800 --> 18:38.800
把当前包含的

18:38.800 --> 18:39.800
那一下是不是给过滤掉了

18:39.800 --> 18:40.800
过滤掉之后

18:40.800 --> 18:42.800
我们重新给follow IDS

18:42.800 --> 18:43.800
来进行一个复制

18:43.800 --> 18:44.800
就OK了

18:44.800 --> 18:46.800
如果说那你要是这个

18:46.800 --> 18:48.800
就是现在是包含状态

18:48.800 --> 18:49.800
那假如说你要不包含呢

18:49.800 --> 18:51.800
我们直接的follow IDS

18:51.800 --> 18:52.800
我们这里面

18:52.800 --> 18:54.800
点铺是一个操作

18:54.800 --> 18:55.800
那铺是谁呢

18:55.800 --> 18:56.800
这一次点article

18:56.800 --> 18:57.800
data

18:57.800 --> 18:58.800
然后点

18:58.800 --> 19:00.800
我们的这个also id

19:01.800 --> 19:02.800
OK

19:02.800 --> 19:03.800
把它这个id

19:03.800 --> 19:04.800
给追加进去

19:04.800 --> 19:05.800
是不是就可以了

19:05.800 --> 19:06.800
那你这个

19:06.800 --> 19:07.800
经过这样的操作完成之后

19:07.800 --> 19:08.800
那此时这时候

19:08.800 --> 19:09.800
你是不是得到一个什么

19:09.800 --> 19:11.800
得到一个新的数组

19:11.800 --> 19:12.800
follow ids

19:12.800 --> 19:13.800
我们来可以看一下

19:13.800 --> 19:14.800
如果说的包含

19:14.800 --> 19:16.800
那直接的他这个里面

19:16.800 --> 19:17.800
就给我们

19:17.800 --> 19:19.800
追加一个不包含的

19:19.800 --> 19:20.800
如果说的包含

19:20.800 --> 19:21.800
删除一个不包含的

19:21.800 --> 19:22.800
就给我们追加一个

19:22.800 --> 19:23.800
我们来看一下效果

19:23.800 --> 19:24.800
是否可行啊

19:24.800 --> 19:25.800
到console

19:25.800 --> 19:26.800
看我们这个值

19:26.800 --> 19:27.800
现在咱们知道

19:27.800 --> 19:28.800
是没有关注的状态

19:28.800 --> 19:29.800
我点击一下

19:30.800 --> 19:31.800
关注做的成功

19:31.800 --> 19:32.800
对不对

19:32.800 --> 19:34.800
我再点击取消关注成功

19:34.800 --> 19:35.800
那取消关注成功

19:35.800 --> 19:36.800
这个里面

19:36.800 --> 19:37.800
现在你说的没改

19:37.800 --> 19:38.800
没改的原因是啥

19:38.800 --> 19:39.800
因为我们判断的是

19:39.800 --> 19:41.800
这次点article date

19:41.800 --> 19:42.800
点 also

19:42.800 --> 19:43.800
对不对

19:43.800 --> 19:44.800
然后直接的

19:44.800 --> 19:45.800
我们这个follow

19:45.800 --> 19:46.800
是从哪获取的

19:46.800 --> 19:47.800
这次点youder info

19:47.800 --> 19:48.800
点 like ids

19:48.800 --> 19:49.800
那其实呢

19:49.800 --> 19:50.800
我们是没有更改

19:50.800 --> 19:51.800
这次的youder info

19:51.800 --> 19:53.800
点 also like ids

19:53.800 --> 19:54.800
的

19:54.800 --> 19:55.800
所以说

19:55.800 --> 19:56.800
我们处理完这个之后

19:56.800 --> 19:57.800
每一次处理完

19:57.800 --> 19:58.800
我们都需要

19:58.800 --> 20:00.800
调用他的update

20:00.800 --> 20:01.800
咱们是不是有一个update

20:01.800 --> 20:03.800
youder info的方法

20:03.800 --> 20:04.800
对不对

20:04.800 --> 20:05.800
update youder info

20:05.800 --> 20:06.800
这个就是专门修改

20:06.800 --> 20:07.800
我们的这个什么

20:07.800 --> 20:08.800
直接的这个

20:08.800 --> 20:09.800
youder info的

20:09.800 --> 20:10.800
状态值的

20:10.800 --> 20:11.800
那我在这里面

20:11.800 --> 20:12.800
就来写一下

20:13.800 --> 20:14.800
这个里面呢

20:14.800 --> 20:15.800
给他做一个展开操作

20:15.800 --> 20:17.800
把原来的这次点

20:17.800 --> 20:19.800
youder info

20:19.800 --> 20:20.800
给他放在这里面

20:20.800 --> 20:21.800
后面呢

20:21.800 --> 20:22.800
我再展开一个对象

20:22.800 --> 20:23.800
那这个对象里面

20:23.800 --> 20:24.800
我就写一个什么呢

20:25.800 --> 20:27.800
also like ids

20:27.800 --> 20:29.800
把它给放进去

20:29.800 --> 20:30.800
然后放进去

20:30.800 --> 20:32.800
also like ids

20:32.800 --> 20:34.800
我们直接的在这个里面

20:34.800 --> 20:35.800
给他定一个什么值呢

20:35.800 --> 20:37.800
叫follow ids

20:37.800 --> 20:38.800
对吧

20:38.800 --> 20:39.800
把我们生成的

20:39.800 --> 20:40.800
这个新数组

20:40.800 --> 20:41.800
给他放在这里面

20:41.800 --> 20:42.800
或者说我直接

20:42.800 --> 20:43.800
就放在这吧

20:43.800 --> 20:44.800
反正是

20:44.800 --> 20:46.800
他肯定也会覆盖掉什么

20:46.800 --> 20:47.800
前面的这个

20:47.800 --> 20:48.800
also like ids

20:48.800 --> 20:49.800
这样呢

20:49.800 --> 20:50.800
就实现了一个什么

20:50.800 --> 20:52.800
我们youder info里面的

20:52.800 --> 20:54.800
also like ids的一个更改

20:54.800 --> 20:55.800
我们可以看一下

20:55.800 --> 20:57.800
到vchar里面

20:57.800 --> 20:58.800
我们直接看一下

20:58.800 --> 20:59.800
这个状态值

20:59.800 --> 21:01.800
youder info

21:01.800 --> 21:03.800
看一下also like ids

21:03.800 --> 21:04.800
这个里面

21:04.800 --> 21:05.800
现在是没有值

21:05.800 --> 21:06.800
没有值

21:06.800 --> 21:07.800
我们刷新一下

21:07.800 --> 21:08.800
刷新一下这个结果

21:08.800 --> 21:10.800
然后到这个youder info里面

21:10.800 --> 21:13.800
如果说我现在点击关注了

21:13.800 --> 21:14.800
有一个抱错

21:14.800 --> 21:15.800
有一个抱错

21:15.800 --> 21:16.800
我们看一下

21:16.800 --> 21:17.800
this.updata.youderinfo

21:17.800 --> 21:20.800
说我们这个方法没有

21:20.800 --> 21:21.800
updata

21:21.800 --> 21:23.800
那我们就来丑验

21:23.800 --> 21:25.800
youderinfo

21:25.800 --> 21:26.800
这个方法

21:26.800 --> 21:28.800
我记着我们是定义了

21:28.800 --> 21:30.800
咱们到这个哪个里面

21:30.800 --> 21:31.800
到我们的common里面

21:31.800 --> 21:32.800
common.me新

21:32.800 --> 21:34.800
这里面有一个什么

21:34.800 --> 21:36.800
updata.youderinfo

21:36.800 --> 21:38.800
难道说我们写错了吗

21:38.800 --> 21:39.800
写错了

21:39.800 --> 21:41.800
updata.youderinfo

21:41.800 --> 21:42.800
好的

21:42.800 --> 21:43.800
重新再来一遍

21:43.800 --> 21:44.800
刚才不算

21:44.800 --> 21:46.800
然后咱们再试一下

21:46.800 --> 21:47.800
再试一下的话

21:47.800 --> 21:49.800
如果说我点击关注

21:49.800 --> 21:50.800
你会发现

21:50.800 --> 21:51.800
这里面已经改了

21:51.800 --> 21:52.800
对吧

21:52.800 --> 21:53.800
已经改了

21:53.800 --> 21:54.800
说明我们这个youderinfo里面的

21:54.800 --> 21:55.800
这个值

21:55.800 --> 21:56.800
肯定是会发生更改的

21:56.800 --> 21:57.800
我们看一下

21:57.800 --> 21:59.800
他这个also like ids

21:59.800 --> 22:00.800
里面有一项值

22:00.800 --> 22:03.800
并且他会做一个持久存储

22:03.800 --> 22:04.800
为啥呢

22:04.800 --> 22:05.800
由于他改了

22:05.800 --> 22:06.800
我们这个死刀里面

22:06.800 --> 22:07.800
这个数据

22:07.800 --> 22:08.800
应该是也会有一个调整

22:08.800 --> 22:09.800
对吧

22:09.800 --> 22:10.800
那此时

22:10.800 --> 22:11.800
如果说刷新界面

22:11.800 --> 22:13.800
他会有一个当前的保存状态

22:13.800 --> 22:14.800
那这样

22:14.800 --> 22:16.800
他们实现一个多链动了

22:16.800 --> 22:17.800
如果说你前台UI

22:17.800 --> 22:19.800
这里面会有值的话

22:19.800 --> 22:20.800
那我这时候刷新

22:20.800 --> 22:22.800
also like ids

22:22.800 --> 22:23.800
此时它是没有值的

22:23.800 --> 22:24.800
我们看一眼

22:24.800 --> 22:26.800
在这里面取消关注

22:26.800 --> 22:27.800
关注作者成功

22:27.800 --> 22:28.800
那这个里面

22:28.800 --> 22:29.800
是有问题的

22:29.800 --> 22:31.800
原来我们保存这个值的时候

22:31.800 --> 22:32.800
刚才有一次爆错

22:32.800 --> 22:33.800
有一次爆错

22:33.800 --> 22:35.800
导致数据库更改了

22:35.800 --> 22:36.800
这个时候能更改

22:36.800 --> 22:37.800
那我们这个怎么办

22:37.800 --> 22:38.800
干掉他

22:38.800 --> 22:40.800
把这个youderinfo干掉

22:40.800 --> 22:41.800
youderinfo干掉

22:41.800 --> 22:43.800
我们重新同步一下

22:43.800 --> 22:44.800
当我点击关注

22:44.800 --> 22:45.800
这个时候呢

22:45.800 --> 22:47.800
就会给我跳转到登录界面

22:47.800 --> 22:49.800
我们重新登录一下

22:49.800 --> 22:50.800
elen9558

22:50.800 --> 22:52.800
然后这里面是123QWE

22:52.800 --> 22:54.800
点击立即登录

22:54.800 --> 22:55.800
这样呢

22:55.800 --> 22:57.800
他就能跟后台的这个数据

22:57.800 --> 22:58.800
保持一个一致

22:58.800 --> 23:00.800
然后我们到这个里面

23:00.800 --> 23:01.800
youderinfo

23:01.800 --> 23:02.800
咱们看这个

23:02.800 --> 23:03.800
youderinfo此时

23:03.800 --> 23:05.800
它应该是also like ids

23:05.800 --> 23:06.800
是有值的

23:06.800 --> 23:07.800
对不对

23:07.800 --> 23:08.800
因为我们后台这个时候

23:08.800 --> 23:09.800
也是有值的

23:09.800 --> 23:10.800
我们刷新一下

23:10.800 --> 23:11.800
刚才已经添加了一个

23:11.800 --> 23:12.800
对不对

23:12.800 --> 23:13.800
那此时呢

23:13.800 --> 23:14.800
我再去取消关注

23:14.800 --> 23:15.800
取消关注之后

23:15.800 --> 23:16.800
你会发现这个时候

23:16.800 --> 23:17.800
我们这里面

23:17.800 --> 23:18.800
是不是没有了

23:18.800 --> 23:19.800
对吧

23:19.800 --> 23:20.800
然后呢

23:20.800 --> 23:21.800
我们后台数据里面

23:21.800 --> 23:22.800
也没有了

23:22.800 --> 23:23.800
应该是我们刷新

23:23.800 --> 23:24.800
刷新没有了之后

23:24.800 --> 23:25.800
那这时候

23:25.800 --> 23:26.800
它是不是保持了

23:26.800 --> 23:27.800
一个同步操作

23:27.800 --> 23:28.800
对吧

23:28.800 --> 23:29.800
这个呢就是我们关注的

23:29.800 --> 23:30.800
一个处理

23:30.800 --> 23:31.800
那接下来呢

23:31.800 --> 23:32.800
我们再说一下什么呢

23:32.800 --> 23:33.800
就是我们这个

23:33.800 --> 23:35.800
收藏文章的这么一个处理

23:35.800 --> 23:36.800
收藏文章是打一个

23:36.800 --> 23:37.800
是底下这一块

23:37.800 --> 23:38.800
因为咱们之前也说了

23:38.800 --> 23:39.800
就是底下

23:39.800 --> 23:40.800
这个收藏文章

23:40.800 --> 23:43.800
其实跟我们文章列表里面

23:43.800 --> 23:44.800
这个收藏

23:44.800 --> 23:45.800
它是非常像的

23:45.800 --> 23:46.800
所以说呢

23:46.800 --> 23:47.800
我们给它做一个负用

23:47.800 --> 23:48.800
就可以了

23:48.800 --> 23:50.800
如何来实现负用呢

23:50.800 --> 23:51.800
首先呢

23:51.800 --> 23:53.800
我们要找到这个组件

23:53.800 --> 23:54.800
我们全给的盒上

23:54.800 --> 23:55.800
折叠所有

23:55.800 --> 23:56.800
然后到这里面

23:56.800 --> 23:57.800
我们依依测打开

23:57.800 --> 23:58.800
Components

23:58.800 --> 23:59.800
Components下面

23:59.800 --> 24:00.800
我记得当时有一个

24:00.800 --> 24:02.800
C5 Like IDS

24:02.800 --> 24:03.800
然后呢

24:03.800 --> 24:04.800
我们其实要做的事

24:04.800 --> 24:06.800
就是只要把这个

24:06.800 --> 24:07.800
给它做一个引入

24:07.800 --> 24:08.800
是不是就可以了

24:08.800 --> 24:09.800
也就是说这个

24:09.800 --> 24:10.800
C5 Like IDS

24:10.800 --> 24:11.800
从哪里引入

24:11.800 --> 24:13.800
咱们这里面有这个

24:13.800 --> 24:15.800
应该是这个吧

24:15.800 --> 24:16.800
第二个是

24:16.800 --> 24:17.800
应该是那个关注

24:17.800 --> 24:18.800
我们看一下

24:18.800 --> 24:19.800
一二

24:19.800 --> 24:20.800
第二个就是

24:20.800 --> 24:21.800
我们收藏的文章

24:21.800 --> 24:22.800
收藏文章

24:22.800 --> 24:24.800
那就是这个

24:24.800 --> 24:25.800
我们这个

24:25.800 --> 24:26.800
把它给注调

24:26.800 --> 24:27.800
咱们注调

24:27.800 --> 24:28.800
他看一下

24:28.800 --> 24:29.800
是否正确

24:29.800 --> 24:30.800
ok 没问题

24:30.800 --> 24:31.800
那个

24:31.800 --> 24:32.800
收藏那个按钮

24:32.800 --> 24:33.800
是不是没了

24:33.800 --> 24:34.800
那我们直接的

24:34.800 --> 24:35.800
把它给

24:35.800 --> 24:36.800
做一个T换

24:36.800 --> 24:37.800
是不是就可以了

24:37.800 --> 24:38.800
把它T换成谁呢

24:38.800 --> 24:39.800
T换成我们这个组件

24:39.800 --> 24:40.800
这个组件叫什么

24:40.800 --> 24:42.800
叫C5 Like IDS

24:42.800 --> 24:43.800
那我们就写一下

24:43.800 --> 24:45.800
C5 Like IDS

24:45.800 --> 24:46.800
这个里面

24:46.800 --> 24:47.800
得需要传指

24:47.800 --> 24:48.800
传一个什么指

24:48.800 --> 24:49.800
就是传我们

24:49.800 --> 24:50.800
当前的这个

24:50.800 --> 24:51.800
现代

24:51.800 --> 24:52.800
你要收藏的这篇文章

24:52.800 --> 24:53.800
那指定一个信息

24:53.800 --> 24:54.800
那其实

24:54.800 --> 24:55.800
这个我们好传

24:55.800 --> 24:56.800
给它一个item

24:56.800 --> 24:57.800
item等于一个什么呢

24:57.800 --> 24:59.800
等于我们的一个

24:59.800 --> 25:00.800
article data

25:00.800 --> 25:01.800
是不是就可以了

25:01.800 --> 25:02.800
也就是说

25:02.800 --> 25:04.800
我们把这个article data

25:04.800 --> 25:06.800
没变了吗

25:06.800 --> 25:07.800
article data

25:07.800 --> 25:08.800
给它传过去

25:08.800 --> 25:09.800
那这个呢

25:09.800 --> 25:10.800
就作为item

25:10.800 --> 25:11.800
它就能正常一个

25:11.800 --> 25:12.800
显示了

25:12.800 --> 25:13.800
我们看一下

25:13.800 --> 25:14.800
为了这个

25:14.800 --> 25:15.800
样式

25:15.800 --> 25:16.800
不错位

25:16.800 --> 25:17.800
那我们这个里面

25:17.800 --> 25:18.800
给它一个class

25:18.800 --> 25:19.800
class就叫

25:19.800 --> 25:21.800
detail bottom icon box

25:21.800 --> 25:22.800
是不是就可以

25:22.800 --> 25:23.800
把这个给它放上去

25:23.800 --> 25:24.800
ok

25:24.800 --> 25:25.800
那这个呢

25:25.800 --> 25:26.800
我们就

25:26.800 --> 25:27.800
先留着吧

25:27.800 --> 25:28.800
留着一会儿再说

25:28.800 --> 25:30.800
然后直接咱们看一眼

25:30.800 --> 25:31.800
这个呢

25:31.800 --> 25:32.800
就是我们已经

25:32.800 --> 25:33.800
导入进来了

25:33.800 --> 25:34.800
导入进来之后

25:34.800 --> 25:35.800
发现有点小

25:35.800 --> 25:36.800
是吧

25:36.800 --> 25:37.800
有点小的原因

25:37.800 --> 25:38.800
咱们这个size 22

25:38.800 --> 25:39.800
这个里面size

25:39.800 --> 25:40.800
给的是20

25:40.800 --> 25:41.800
那这个

25:41.800 --> 25:42.800
就尴尬了

25:42.800 --> 25:43.800
比较小

25:43.800 --> 25:44.800
怎么办呢

25:44.800 --> 25:45.800
因为它是个组架

25:45.800 --> 25:46.800
组架功能

25:46.800 --> 25:47.800
尽量多一些

25:47.800 --> 25:48.800
也就是说

25:48.800 --> 25:49.800
我们可以扩展

25:49.800 --> 25:50.800
一些相关属性

25:50.800 --> 25:51.800
那我这里面

25:51.800 --> 25:52.800
tap

25:52.800 --> 25:53.800
咱们传的

25:53.800 --> 25:54.800
应该是一个sdream

25:54.800 --> 25:55.800
对吧

25:55.800 --> 25:56.800
那我们就给它一个什么

25:56.800 --> 25:57.800
sdream

25:57.800 --> 25:58.800
然后呢

25:58.800 --> 25:59.800
给它一个default

25:59.800 --> 26:00.800
default的默认值

26:00.800 --> 26:01.800
我们就给它一个什么

26:01.800 --> 26:02.800
给它一个20

26:02.800 --> 26:03.800
如果说你不传

26:03.800 --> 26:04.800
那你就显示20

26:04.800 --> 26:05.800
假如说你传了

26:05.800 --> 26:07.800
那就按22显示

26:07.800 --> 26:08.800
对不对

26:08.800 --> 26:09.800
或者是按其他的

26:09.800 --> 26:10.800
你传的这个值

26:10.800 --> 26:11.800
来进行一个展示

26:11.800 --> 26:12.800
就可以了

26:12.800 --> 26:14.800
那我把这个size

26:14.800 --> 26:15.800
给处理一下

26:15.800 --> 26:16.800
size

26:16.800 --> 26:17.800
等于size

26:17.800 --> 26:18.800
default的是20

26:18.800 --> 26:19.800
好的

26:19.800 --> 26:20.800
那既然你传了

26:20.800 --> 26:21.800
这个里面

26:21.800 --> 26:22.800
我们就做一个处理

26:22.800 --> 26:23.800
给它一个什么

26:23.800 --> 26:25.800
给它一个size属性

26:25.800 --> 26:27.800
这里面我写一下

26:27.800 --> 26:29.800
这个时候就是一个

26:29.800 --> 26:30.800
给固定值就可以了

26:30.800 --> 26:32.800
size等于一个22

26:32.800 --> 26:33.800
OK

26:33.800 --> 26:34.800
那这样呢

26:34.800 --> 26:36.800
它就应该会变大一些

26:36.800 --> 26:37.800
然后我把这个

26:37.800 --> 26:38.800
就给它删掉了

26:38.800 --> 26:39.800
没有用了

26:39.800 --> 26:40.800
好了

26:40.800 --> 26:41.800
把它

26:41.800 --> 26:44.110
删多了

26:44.110 --> 26:45.110
好

26:45.110 --> 26:46.110
干掉一个

26:46.110 --> 26:47.110
干掉一个之后

26:47.110 --> 26:48.110
我们来看一下

26:48.110 --> 26:49.110
它这个显示结果

26:49.110 --> 26:50.110
打开我们

26:50.110 --> 26:51.110
article

26:52.110 --> 26:53.110
OK

26:53.110 --> 26:54.110
没有问题

26:54.110 --> 26:55.110
回到这里面

26:55.110 --> 26:56.110
现在感觉是不是

26:56.110 --> 26:57.110
大了一些

26:57.110 --> 26:58.110
然后我们可以看一下

26:58.110 --> 26:59.110
它这个尺寸

26:59.110 --> 27:00.110
尺寸目前

27:00.110 --> 27:01.110
Fontesize 22

27:01.110 --> 27:02.110
没问题

27:02.110 --> 27:03.110
是不是

27:03.110 --> 27:04.110
因为我传过来的

27:04.110 --> 27:05.110
传过来

27:05.110 --> 27:06.110
它就按22处理了

27:06.110 --> 27:07.110
然后这个

27:07.110 --> 27:08.110
其实如果说

27:08.110 --> 27:09.110
我现在

27:09.110 --> 27:10.110
基本上就已经实现了

27:10.110 --> 27:11.110
为啥说这么说呢

27:11.110 --> 27:12.110
其实你看

27:12.110 --> 27:13.110
我们的这个里面

27:13.110 --> 27:14.110
咱们可以看一下

27:14.110 --> 27:16.110
到这个siulax里面

27:16.110 --> 27:17.110
它这个组件

27:17.110 --> 27:18.110
其实是不是这里面

27:18.110 --> 27:19.110
有这个什么

27:19.110 --> 27:20.110
判断用户登录

27:20.110 --> 27:21.110
然后呢

27:21.110 --> 27:22.110
改变用户的

27:22.110 --> 27:23.110
update of siulax

27:23.110 --> 27:24.110
方法

27:24.110 --> 27:25.110
这里面User ID

27:25.110 --> 27:26.110
相关的一些处理

27:26.110 --> 27:27.110
它是不是都已经做了

27:27.110 --> 27:29.110
也就是说UI的操作

27:29.110 --> 27:30.110
什么的

27:30.110 --> 27:31.110
它也做了处理了

27:31.110 --> 27:32.110
那我们只需要

27:32.110 --> 27:33.110
给它做一个展示

27:33.110 --> 27:34.110
咱们看一下

27:34.110 --> 27:35.110
就可以了

27:35.110 --> 27:36.110
对吧

27:36.110 --> 27:37.110
我刷新一下界面

27:37.110 --> 27:38.110
这里面点击

27:38.110 --> 27:39.110
这个里面

27:39.110 --> 27:40.110
添加收藏成功

27:40.110 --> 27:41.110
添加收藏成功

27:41.110 --> 27:42.110
这个里面

27:42.110 --> 27:43.110
应该说明一个什么问题

27:43.110 --> 27:44.110
我们直接的

27:44.110 --> 27:46.110
咱们看这个application

27:46.110 --> 27:47.110
application

27:47.110 --> 27:48.110
这样比较方便直观

27:48.110 --> 27:49.110
然后我们打开

27:49.110 --> 27:50.110
这个User

27:50.110 --> 27:51.110
User里面

27:51.110 --> 27:52.110
应该有一个

27:52.110 --> 27:53.110
article-like-ids

27:53.110 --> 27:54.110
它现在是

27:54.110 --> 27:55.110
不是收藏了

27:55.110 --> 27:56.110
两个字

27:56.110 --> 27:57.110
一个是

27:57.110 --> 27:58.110
其他文章的

27:58.110 --> 27:59.110
还有一个是这个文章的

27:59.110 --> 28:01.110
然后你再刷新界面的时候

28:01.110 --> 28:02.110
它这个里面

28:02.110 --> 28:03.110
就会有一个保存状态

28:03.110 --> 28:04.110
并且呢

28:04.110 --> 28:05.110
它会跟前面

28:05.110 --> 28:06.110
是做一个同步的

28:06.110 --> 28:07.110
假如这里面取消了

28:07.110 --> 28:08.110
取消了之后

28:08.110 --> 28:09.110
你会发现

28:09.110 --> 28:10.110
这个时候

28:10.110 --> 28:11.110
我们这个

28:11.110 --> 28:12.110
是不是更改了

28:12.110 --> 28:13.110
更改了之后

28:13.110 --> 28:14.110
这个里面

28:14.110 --> 28:15.110
是不是也没有了

28:15.110 --> 28:16.110
对吧

28:16.110 --> 28:17.110
但是然后

28:17.110 --> 28:18.110
我们看一眼

28:18.110 --> 28:19.110
应该是跟它

28:19.110 --> 28:20.110
也是相同的

28:20.110 --> 28:21.110
article-like-ids

28:21.110 --> 28:22.110
一条值

28:22.110 --> 28:23.110
反正一条值

28:23.110 --> 28:24.110
不是这个文章

28:24.110 --> 28:25.110
对吧

28:25.110 --> 28:26.110
这个我们要免却一下

28:26.110 --> 28:27.110
但是这个里面

28:27.110 --> 28:28.110
有一个问题

28:28.110 --> 28:29.110
不知道同学们

28:29.110 --> 28:30.110
看没看到

28:30.110 --> 28:31.110
我们可以来做一下

28:31.110 --> 28:32.110
然后给它复献一下

28:32.110 --> 28:34.110
这个里面是啥问题呢

28:34.110 --> 28:35.110
比如说

28:35.110 --> 28:36.110
现在我点击

28:36.110 --> 28:37.110
收藏

28:37.110 --> 28:38.110
你会发现

28:38.110 --> 28:39.110
我们直接的

28:39.110 --> 28:40.110
这个收藏文章

28:40.110 --> 28:41.110
接口调用了

28:41.110 --> 28:42.110
这里面又调用了

28:42.110 --> 28:43.110
一个什么

28:43.110 --> 28:44.110
guide-article-list

28:44.110 --> 28:45.110
这个事就尴尬了

28:45.110 --> 28:46.110
其实我们是

28:46.110 --> 28:47.110
没有必要让它

28:47.110 --> 28:48.110
guide-article-list

28:48.110 --> 28:49.110
并且

28:49.110 --> 28:50.110
我们在这里面

28:50.110 --> 28:51.110
跳进去之后

28:51.110 --> 28:52.110
这个里面

28:52.110 --> 28:53.110
我们假如说

28:53.110 --> 28:54.110
要给它取消收藏的话

28:54.110 --> 28:55.110
guide-article-list

28:55.110 --> 28:56.110
又调用了

28:56.110 --> 28:57.110
这是因为什么

28:57.110 --> 28:58.110
其实

28:58.110 --> 28:59.110
这个原因

28:59.110 --> 29:00.110
主要在哪呢

29:00.110 --> 29:01.110
这个

29:01.110 --> 29:02.110
就是一个

29:02.110 --> 29:03.110
历史遗留问题了

29:03.110 --> 29:04.110
我们可以找一下

29:04.110 --> 29:05.110
我们找一个什么

29:05.110 --> 29:06.110
我们找我们

29:06.110 --> 29:08.110
当时的label-list

29:08.110 --> 29:09.110
在哪个里面

29:09.110 --> 29:11.110
我们找到我们的

29:11.110 --> 29:12.110
components

29:12.110 --> 29:13.110
ok

29:13.110 --> 29:14.110
article-list

29:14.110 --> 29:15.110
article-list

29:15.110 --> 29:16.110
里面

29:16.110 --> 29:18.110
warch-label-list

29:18.110 --> 29:19.110
这个label-list

29:19.110 --> 29:20.110
label-list

29:20.110 --> 29:21.110
是谁传过来的

29:21.110 --> 29:23.110
是我们的index

29:23.110 --> 29:24.110
配置

29:24.110 --> 29:26.110
下面有一个index.view

29:26.110 --> 29:28.110
index.view

29:28.110 --> 29:29.110
这里面有一个

29:29.110 --> 29:30.110
label-list的计算

29:30.110 --> 29:31.110
这个label-list的计算

29:31.110 --> 29:32.110
它依赖谁呢

29:32.110 --> 29:34.110
依赖UdeNINFO

29:34.110 --> 29:35.110
其实

29:35.110 --> 29:36.110
我们不管做任何操作

29:36.110 --> 29:37.110
我们只要修改

29:37.110 --> 29:39.110
使到里面

29:39.110 --> 29:40.110
UdeNINFO

29:40.110 --> 29:41.110
它就会处罚

29:41.110 --> 29:42.110
label-list的重新计算

29:42.110 --> 29:43.110
label-list的重新计算

29:43.110 --> 29:44.110
咱不管

29:44.110 --> 29:45.110
这个值是如何

29:45.110 --> 29:47.270
你看我在这个article list的里面

29:47.270 --> 29:49.670
只要你类包list的发生更改了

29:49.670 --> 29:52.710
那我这个里面就会给你做一个重新的执行

29:52.710 --> 29:54.070
我们可以来印证一下

29:54.070 --> 29:55.750
比如说这个new value

29:55.750 --> 29:59.190
然后这里面又有一个什么old value

29:59.190 --> 30:00.710
OK 把这个值改一下

30:00.710 --> 30:02.630
这个不应该是大型

30:02.630 --> 30:03.430
old value

30:03.430 --> 30:04.950
那我们可以打印一下

30:04.950 --> 30:05.990
其实你会发现

30:05.990 --> 30:09.110
只要是你修改了这个任何一个操作

30:09.110 --> 30:12.310
文章比如说我们这个收藏文章的这种操作

30:12.310 --> 30:14.310
那它这个里面就会有一个打印

30:14.390 --> 30:16.870
打印的时候就会处罚它的一个执行

30:16.870 --> 30:18.870
你会发现是不是打印了对吧

30:18.870 --> 30:20.230
那这时候就尴尬了

30:20.230 --> 30:21.670
其实我们的这个类包

30:21.670 --> 30:23.510
它是没有发生更改的对吧

30:23.510 --> 30:25.110
因为咱们当时做这个判断

30:25.110 --> 30:25.830
主要看什么呢

30:25.830 --> 30:26.950
用户是否登录

30:26.950 --> 30:28.390
如果说你没登录的时候

30:28.390 --> 30:30.470
那我直接的给你做一个调整

30:30.470 --> 30:31.670
那当你登录之后

30:31.670 --> 30:34.390
我再做一个文章类包list的一个处理

30:34.390 --> 30:36.310
并且我从前进数据获取

30:36.310 --> 30:37.350
那你此时

30:37.350 --> 30:40.390
其实你这个收藏跟这个从前数据获取

30:40.390 --> 30:41.430
是没有任何意义的

30:41.510 --> 30:42.230
因为啥

30:42.230 --> 30:43.990
我前台已经把这个

30:43.990 --> 30:46.790
你收藏与否的这个状态存到死盗里面了

30:46.790 --> 30:47.830
所以说这个怎么办呢

30:48.790 --> 30:50.390
这里面我们就需要处理一下

30:50.390 --> 30:51.670
我判断一下什么呢

30:51.670 --> 30:54.630
这个新的这个外料和老的外料是否相当

30:54.630 --> 30:56.630
那这个如何来实现判断

30:56.630 --> 30:58.310
最简单的方式是啥呢

30:58.310 --> 31:01.590
因为它也没有这些相关的这个

31:01.590 --> 31:03.030
比如说这里面有函数

31:03.030 --> 31:04.630
所以说我们判断两个数组

31:04.630 --> 31:06.310
最快速的相当怎么办

31:06.310 --> 31:07.910
我们就可以使用这种形式啊

31:07.910 --> 31:08.710
使用什么呢

31:08.710 --> 31:10.470
使用Jason的形式

31:10.470 --> 31:14.470
如果说json.streamfile

31:14.470 --> 31:14.950
对不对

31:14.950 --> 31:16.150
我把它换成什么

31:16.150 --> 31:17.910
json一个字符创

31:17.910 --> 31:18.630
你有外料

31:18.630 --> 31:19.190
然后呢

31:19.190 --> 31:23.830
如果说等于等于我们json.streamfile

31:25.350 --> 31:26.150
我们使用这种

31:26.950 --> 31:28.070
使用这种形式啊

31:28.070 --> 31:29.270
来进行判断

31:29.270 --> 31:29.830
否则啊

31:29.830 --> 31:31.510
如果说你直接的使用

31:31.510 --> 31:33.430
比如说其他的形式来判断

31:33.430 --> 31:34.150
那么一系啊

31:34.150 --> 31:35.270
因为什么两个

31:36.950 --> 31:39.190
数组之间的这个比较

31:39.190 --> 31:39.990
那如果说

31:40.150 --> 31:42.710
我们使用这种数组直接比较的形式

31:42.710 --> 31:43.910
那肯定是不是没系的

31:43.910 --> 31:44.390
所以说呢

31:44.390 --> 31:45.510
我们就比较什么

31:45.510 --> 31:47.030
json.streamfile

31:47.030 --> 31:47.430
然后呢

31:47.430 --> 31:49.430
我们把它都转换成字符创

31:49.430 --> 31:51.430
我们判断两个字符创

31:51.430 --> 31:52.950
是否相等啊

31:52.950 --> 31:56.070
这个里面应该是json.streamfile

31:56.070 --> 31:57.910
把它也给做一个调整

31:57.910 --> 31:58.550
ok

31:58.550 --> 32:00.070
json.streamfile

32:00.070 --> 32:01.030
看new外料

32:01.030 --> 32:02.230
等不等于old外料

32:02.230 --> 32:03.350
如果说它俩相当的话

32:03.350 --> 32:04.710
那我直接给它干掉

32:04.710 --> 32:06.470
我们可以看一下这个new外料

32:06.470 --> 32:08.310
和old外料的一个值啊

32:08.310 --> 32:09.030
到这个里面

32:09.110 --> 32:10.470
我们刷新一下

32:10.470 --> 32:10.870
ok

32:10.870 --> 32:12.070
来判断一下

32:12.070 --> 32:12.390
啊

32:12.390 --> 32:13.670
这里面有爆错啊

32:13.670 --> 32:14.390
这个里面

32:14.390 --> 32:16.230
efo json.streamfile

32:16.230 --> 32:17.350
new外料

32:17.350 --> 32:20.550
然后是json.streamfile

32:22.230 --> 32:23.750
给它回退一下

32:23.750 --> 32:24.790
我们到warch里面

32:24.790 --> 32:25.990
console.log

32:25.990 --> 32:28.630
这里面应该是少了一个括号啊

32:28.630 --> 32:28.950
好的

32:28.950 --> 32:30.550
那这样就应该是可以了啊

32:31.910 --> 32:32.870
来我们判断一下

32:32.870 --> 32:33.990
比如说在这个里面

32:33.990 --> 32:35.190
电机ok取消

32:35.830 --> 32:36.550
你会发现

32:36.550 --> 32:38.470
这是不是两个字符创来做比较了

32:38.470 --> 32:40.150
这是第一个字符创

32:40.150 --> 32:41.110
等于一个什么

32:41.110 --> 32:42.470
内幕等于等于全部

32:42.470 --> 32:43.430
这是第一个

32:43.430 --> 32:45.510
然后第二个是这个字符创啊

32:45.510 --> 32:46.310
因为什么

32:46.310 --> 32:47.670
你这个调整收藏

32:47.670 --> 32:49.750
它其实肯定不会是什么

32:49.750 --> 32:51.030
我们重新进行围装

32:51.030 --> 32:53.030
文章渲染的这么一个过程对吧

32:53.030 --> 32:53.590
所以说呢

32:53.590 --> 32:54.870
但它不会发生个改

32:54.870 --> 32:55.990
我们可以来看一下

32:55.990 --> 32:57.190
比如说收藏第二个

32:57.190 --> 32:58.870
只需要修改updata

32:58.870 --> 32:59.590
sealax

32:59.590 --> 33:00.470
是不是就可以了

33:00.470 --> 33:01.990
至于其他的我们就不修改了

33:01.990 --> 33:03.350
比如说我在进入

33:03.350 --> 33:04.070
进入之后呢

33:04.070 --> 33:06.390
我把这个状态给做一个取消

33:06.390 --> 33:07.430
来咱们试一下

33:07.510 --> 33:08.870
这里面点击取消

33:08.870 --> 33:09.270
ok

33:09.270 --> 33:09.990
同样的

33:09.990 --> 33:11.910
它也没发生任何的相关更改

33:11.910 --> 33:12.390
对吧

33:12.390 --> 33:14.550
然后我们再进行一个作者的关注

33:14.550 --> 33:15.110
ok

33:15.110 --> 33:15.750
那这个呢

33:15.750 --> 33:17.510
就是我们本节课的内容啊

33:17.510 --> 33:18.950
我们实现了一个什么

33:18.950 --> 33:21.670
关注当前这个文章的一个作者

33:21.670 --> 33:22.150
以及呢

33:22.150 --> 33:24.630
我们收藏文章的这样一个处理

33:24.630 --> 33:26.150
并且呢收藏文章这一块

33:26.150 --> 33:27.670
我们还调整了一个

33:27.670 --> 33:29.910
之前遗留的一个bug

33:29.910 --> 33:30.310
好的

33:30.310 --> 33:31.830
那本节课先到这里

