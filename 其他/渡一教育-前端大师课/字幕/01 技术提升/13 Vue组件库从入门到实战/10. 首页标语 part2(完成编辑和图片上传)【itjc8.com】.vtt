WEBVTT

00:01.070 --> 00:07.210
然后上一节课的话 我们已经把这个首页标语把这个数据

00:07.470 --> 00:09.010
我们是不是已经渲染出来了

00:09.510 --> 00:12.850
而这一节课的话 我们就来做什么呢 我们就来做这个编辑的这个功能

00:13.110 --> 00:16.430
就这边 这边点击这个编辑的话 我们先来看成品

00:16.690 --> 00:17.450
成品这边

00:17.710 --> 00:19.750
点击编辑 比如我这边点击编辑

00:20.010 --> 00:23.590
点击编辑的话 这边是不是是有一个弹出框

00:24.110 --> 00:24.870
对不对

00:25.130 --> 00:30.770
这个整个这个的话是一个弹出框 弹出框里面 而且这边有标语描述

00:30.970 --> 00:37.170
以及这个中途大途 OK 好了 这样我们就来做呗 回到我们的这个代码

00:38.190 --> 00:41.270
把这展开 然后来到我们的

00:41.770 --> 00:45.370
view 下面的 banner 是吧 来到这边

00:46.650 --> 00:51.770
这边的话有一个错误 看这个措施 这里这个没用 是吧 没用 你就把它删掉就可以了

00:52.030 --> 00:55.090
免得他看到那爆红 看着不舒服

00:55.350 --> 00:56.110
删掉

00:57.130 --> 01:00.470
删掉就可以了 OK 接下来我们这边这个操作

01:00.670 --> 01:05.290
操作的话 我们就是 就这个按钮 是吧 刚好就这个按钮 这个按钮我们是不是就要给他

01:05.550 --> 01:11.430
绑定一个点击事件 对不对 点击事件 然后点击事件之后干嘛呢 是不是打开一个

01:11.950 --> 01:13.230
这个弹出框

01:13.730 --> 01:14.750
好 那这样我们这边

01:15.010 --> 01:15.790
tool click

01:17.070 --> 01:17.570
等于

01:20.820 --> 01:23.880
这里的话就是 edit banner

01:24.900 --> 01:27.460
绑定一个这个事件 比如 edit banner handle

01:28.240 --> 01:32.840
OK 绑定了这个事件之后 然后接下来你在下面 你是不是叫写这个事件

01:33.160 --> 01:34.680
说接下来这边对应啊

01:35.960 --> 01:36.240
这边

01:37.240 --> 01:42.480
好的 接下来这边 这边老规矩 我们先看一下这个事件 有没有绑成功 保存一下

01:43.320 --> 01:46.720
保存了之后 然后接下来的话 回到我们这边

01:48.000 --> 01:49.920
这边的话我点击一下 我把这个先清空

01:50.680 --> 01:53.120
点击一下 是不是事件是绑定成功了的

01:53.880 --> 02:01.240
对吧 事件绑定成功之后 然后接下来我需要知道什么信息呢 我需要知道就是用户 究竟是编辑的哪一个

02:01.860 --> 02:07.140
那我这边怎么办呢 我这边可以这个样子 你看我这边 我这边是不是绑定了一个点击事件

02:08.220 --> 02:14.700
哎哎 到哪里去了啊 这里点击事件 然后接下来的话 我这边的话可以把什么呢 可以把那个scorp

02:15.420 --> 02:16.540
啊 把它传递过去

02:17.500 --> 02:19.620
啊 这边的话 把这个scorp 把它加上

02:22.010 --> 02:26.810
把这个scorp 把它加上 不然一会儿他拿不到 这边的就是snot

02:27.250 --> 02:28.090
然后scorp

02:28.790 --> 02:34.750
然后等于一个这个scorp 把这个作用于插槽 把加上 加上之后 然后接下来的话 这边scorp

02:36.350 --> 02:38.150
然后什么呢 叠肉

02:39.190 --> 02:41.310
看到没有 好了 接下来我这边 我保存一下

02:42.550 --> 02:44.350
保存了之后 咱们这边我们来看一下啊

02:48.800 --> 02:52.720
哎 这边怎么这个样子 把我这边让我看一下啊 看一下这边怎么回事

02:53.960 --> 02:56.440
啊 这里的话 这个加错了啊 这个不是加在这上面

02:57.160 --> 03:00.760
就是加在这个template上面 你看上面 上面是不是都是在template上面

03:01.400 --> 03:03.400
把这个加到template上面啊 保存

03:05.160 --> 03:10.120
好 大家回到这边 回到这边 大家你看这里 我点击 点击这个

03:12.690 --> 03:13.170
我看一下

03:14.850 --> 03:15.610
这边点击这个

03:18.090 --> 03:20.690
这边的话 哦 在这边下面是不是没有接收啊

03:21.330 --> 03:28.010
是吧 你下面的话 然后你接受一下这个参数 你把这个参数的话接受一下 让我这边那就是banner infer

03:29.450 --> 03:32.090
banner infer 让我这边打印一下这个banner infer

03:34.290 --> 03:40.460
好 打印之后 然后这样我们这边我们来看一下 好 大家这边走

03:41.340 --> 03:44.260
你看 是不是就拿到我当前要编辑的这个对象

03:45.180 --> 03:48.140
对不对 好 那这样我这边的话 我点这个 用点这个

03:48.820 --> 03:51.500
点这个的话 然后这边是不是就拿到了 你看一下这边

03:52.300 --> 03:55.380
呃 抬头 说火影忍者 这就拿到了

03:55.860 --> 03:59.900
好了 现在的话我们就做到做到什么呢 就你点击对应的按钮

04:00.460 --> 04:04.940
点击对应的按钮 拿到当前这一行的

04:06.060 --> 04:06.460
信息

04:07.460 --> 04:14.980
是吧 那拿到当前这一行的信息 然后接下来我们要做什么呢 接下来我们是不是就是应该是打开这个弹出框 比如我这边点击

04:15.380 --> 04:17.020
是不是应该是把这个弹出框

04:18.060 --> 04:25.620
把这个弹出框是不是把它打开 打开并且把你拿到的这一行的信息是不是回填到这个表单里面

04:26.540 --> 04:31.340
是不是应该这样子 那么我们现在的话这个弹出框是不是还没有 所以我们这边的话我们回来

04:32.320 --> 04:39.160
回到这个 首先看这个主键 主键的话你找到弹出框 这个弹出框对应的就是什么呢 对应的就是这个

04:39.960 --> 04:40.840
这个dialogue

04:41.720 --> 04:46.920
dialogue 我们这边我们来看一下 你看 这个是不是个弹出框 对不对 然后接下来他这边的话 之

04:47.560 --> 04:47.960
关闭

04:49.280 --> 04:52.400
这边他支持什么呢 支持这个自定义内容

04:53.640 --> 04:58.840
看到没有 dialogue主键的内容可以是任意的 啊 比如我们这边打开这个嵌套

04:59.420 --> 05:01.660
表单的 哎 是不是我们就要的是不就是这个

05:02.860 --> 05:07.300
我们是不是要的就是里面 嵌套这个表单 对不对 让我们这边的话我们来

05:07.860 --> 05:13.100
那就要这个东西 那么这个打开 打开的话就应该是从这儿到这儿

05:14.020 --> 05:16.060
你是不是快速的把他拿过来 counter c

05:16.740 --> 05:19.260
那接下来放在哪呢 放在你的这个

05:20.420 --> 05:21.020
表格下面

05:21.980 --> 05:27.540
这个是你的表格 是吧 我这边的话我把它格式画一下 格式画一下之后 然后这样我把它折起来

05:27.960 --> 05:33.040
这是不是你的表格啊 我把注释写一下 这个的话是这个数据表格

05:35.040 --> 05:40.920
数据表格 好的 大家在下面 下面是什么呢 下面就是这个编辑

05:42.560 --> 05:44.720
编辑首页标语

05:46.600 --> 05:49.240
好 那这样我们这边把这个dialogue 我把它拿过来

05:50.480 --> 05:53.920
好 拿过来之后 然后接下来我们来进行这个改造 首先这边这个title

05:54.420 --> 05:59.900
title的话 这个他是收获地址那些 这里的话我们就是请编辑信息

06:01.660 --> 06:07.020
请编辑信息 好到现在这边 这边的话有一个这个visible sync

06:07.420 --> 06:12.660
然后dialogue form variable 这个是什么呢 这个的话你可以回他的文档 你看一下

06:14.300 --> 06:15.820
在在这个位置

06:16.660 --> 06:22.780
看到没有visible 是否显示这个dialogue 啊 支持点sync修饰服

06:23.360 --> 06:27.240
然后布林啊 类型是布林 默认值是什么呢 默认值是force

06:27.880 --> 06:35.040
那你回到他这边 这边的话我们刚才复制的是这一块是吧 这一块的话他这边的话对应的值是什么呢对应的值是这个

06:35.600 --> 06:40.360
dialogue form variable 那在他的数据里面是不是就是会有这么一个东西

06:41.000 --> 06:46.840
dialogue table visible 是默认是force啊 说这一块的话你要把这个数据拿过来 不然他一会找不到

06:47.560 --> 06:49.320
那接下来在我们的这个位置

06:50.300 --> 06:55.020
这个位置 对吧 这个是什么呢 这个就是你的这个编辑对话框是否显示

06:56.460 --> 06:59.740
编辑对话框是否

07:01.740 --> 07:07.220
是否显示啊 那接下来这边force force 是不是就不显示啊 对吧 我们这样怎么办啊 改成处吗

07:07.860 --> 07:13.380
先改成处 因为一会我们要看这个他的这个效果啊 先改成处 改成处之后然后接下来下面

07:13.840 --> 07:20.880
下面的话他这边有一个这个eal form form 然后接下来这边对应的是这个form 那接下来也就说在我们的这下面

07:21.280 --> 07:23.160
是不是就应该是有一个这个form

07:24.360 --> 07:26.480
对吧 这样我们下面就应该有个这个form

07:28.160 --> 07:34.000
有一个form 那这个form对应的是什么呢 这个form的话对应的就是应该是你拿到的

07:34.600 --> 07:37.200
内行这个对象 就是刚才我们这边啊

07:38.080 --> 07:38.720
还记不记得各位

07:39.300 --> 07:45.340
所以我们这边是不拿到了一个这个对象 那这个对象里面是不是就是有这些字逼个image 然后接下来的话 这边

07:46.220 --> 07:54.300
description 然后title 这些拿到这些东西 拿到这些东西的话 然后然后我们就把它存到form里面 回头方便我们是不是回填到那个表达里面

07:55.020 --> 07:59.100
对不对 那我们这边的话我们就啊来写一下 这边就是有一个这个id

08:01.560 --> 08:05.600
有一个啊 默认有个这个id这个字 然后接下来有一个这个me的image

08:07.520 --> 08:09.040
然后有一个b个image

08:11.200 --> 08:12.000
啊 比个image

08:15.600 --> 08:16.680
然后title

08:17.920 --> 08:21.200
然后还有个什么 还有这个description 是吧 description

08:23.080 --> 08:31.080
description ok 那接下来这边的话 你的这个对话框啊 这边这个model就和那个数据里面的那个form是不绑在一起了

08:31.560 --> 08:36.440
好 绑在一起之后 然后下这边这边是不是他每一项 那这样你就按这来改变

08:37.000 --> 08:40.920
首先我们第一个 第一个的话是什么呢 我们来看一下 这边第一个

08:41.900 --> 08:47.900
第一个是应该是标题 是吧 这边应该是标题啊 这边的话就是应该是标题

08:50.890 --> 08:53.770
标题啊 后面 后面的话有一个这个

08:54.010 --> 08:59.930
nable wise 我们来看一下这个nable wise是什么 你回到这个element 这边这个文档

09:00.530 --> 09:03.170
要随时把这个打开啊 你看我这个东西我就没关过

09:03.970 --> 09:10.330
看到没有 包括这个接口文档我就没关过 一直打开的 要随时在这边看 这边让他这个label wise

09:10.670 --> 09:14.430
nable wise 我看他这个是哪上面的

09:15.390 --> 09:20.830
是啊 这个他是 他这个应该算是那个了 是form那个组件了 他不是这个dialogue的

09:21.070 --> 09:26.070
他是那个form form item上面的属性 对吧 你如果要去看的话 你就去看那个form item

09:26.670 --> 09:27.790
就是在这个位置

09:29.190 --> 09:29.830
form form

09:31.390 --> 09:32.630
form的话 你找下面

09:33.630 --> 09:40.190
下面然后这边是form item 然后既然这边是不是有个nable wise啊 对不对 他这个的话就是什么呢 就是你的这个

09:40.350 --> 09:44.670
文字的这个宽度啊 那我们这边的话 我看他这里

09:45.470 --> 09:47.310
我回到刚才那个 回到dialogue

09:48.110 --> 09:50.390
dialogue他刚他这边的话是

09:51.470 --> 09:57.710
设置的这个label wise 等于什么呢 等于这个form label wise form label wise在他这应该是绝对是设置了的

09:58.270 --> 10:03.710
看到没有 他这边是不是设置了的 是默认是这个120 那你这边你就把这个拿过来呗

10:05.230 --> 10:07.190
拿到这边啊 放到form外面啊

10:08.170 --> 10:10.770
form label wise120

10:11.890 --> 10:16.450
好 然后接下来这边这边的话对应了就应该是什么 是不是就是应该是form的

10:16.690 --> 10:16.970
title

10:18.730 --> 10:22.250
对吧 大家自动完成啊 这个就不要了 这我们把关掉了

10:23.690 --> 10:28.530
ok 那这个是不是就搞定了 搞定了之后 然后接下来的话 我们这边下面

10:29.570 --> 10:34.330
标题标题完了是什么 标题完了是不是应该是你的那个描述

10:36.570 --> 10:45.120
描述 啊 这边描述 嗯 这个这个他是标题

10:46.000 --> 10:46.880
我把它隔开一点

10:47.960 --> 10:57.040
标题 ok 好 那接下来的话我们这边 嗯 下面 下面的话 这边这边是修改这个dialogue的这个可见

10:57.760 --> 11:05.240
然后其他的话 我们先这样 我们先看一下啊 这边保存 看有没有错过啊 没有错过 没有错过的话 让下我们这边我们来过来漏一眼

11:07.450 --> 11:08.450
好 这边他是不是报错了

11:09.310 --> 11:15.350
我们看一下报的什么错 报的是这个dialogue formal visible is not defined

11:16.230 --> 11:18.350
这边dialogue visible

11:19.350 --> 11:24.630
我看一下啊 dialogue formal visible 至于他呀

11:25.470 --> 11:26.830
他的话我们是定义了的呀

11:28.110 --> 11:32.590
dialogue 哦 这边写错了 这边不是table 这边是form

11:33.750 --> 11:34.550
ok 保存

11:35.290 --> 11:42.170
保存之后 大家这边再来看 啊 是不是出来了 看一下 各位 这就出来了 这边这个编辑信息

11:42.770 --> 11:47.570
对不对 编辑信息的话 他这边的话 这个table有点 感觉有点太长了 哈 我们来看一下

11:48.170 --> 11:54.370
我们这边的话 是这个 是这个样子的标题 然后接下来 下面是不是这个input说话

11:54.850 --> 12:00.650
这边的话 是在一行啊 这个的话 你调一下就可以了 你把那个调哪个位置

12:00.710 --> 12:06.390
调哪个位置 是不是就是应该是调这边 对不对 调这边 我们把这边的话 我们把它调一下

12:07.590 --> 12:12.070
嗯 这边的话 是这个样子 这边的话 我们这边刚才是不是给了个宽度 这个宽度因为太宽了

12:12.510 --> 12:17.350
啊 你这边让你现在保存一下 保存一下 之后让你回到这边 这个标题是不是就ok了

12:17.790 --> 12:21.790
对吧 好了 接下来我们这边的话就把这个这个给他去掉吧 这个就不要了

12:22.470 --> 12:23.990
好 这边这边是描述啊

12:24.870 --> 12:30.470
这边是描述 然后把下面那个也就不要了 这个formal label wise 这个也就不要了

12:30.870 --> 12:35.350
啊 不给他宽度 好 保存一下 保存完了之后 然后回到我们这边

12:36.430 --> 12:44.070
那现在标题描述是不是就有了 有了之后 然后接下来我们还需要做一个步骤 什么呢 我们是不是需要把数据回填过去

12:44.990 --> 12:48.670
对不 那回填过去的 接下怎么回填的 我们这边的话就可以这样子

12:49.430 --> 12:53.870
嗯 这边点击的时候 我们是不是应该是在点击的时候打开那个

12:54.690 --> 12:57.930
dialogue 对不对 我们这边理下这个逻辑

12:58.650 --> 13:03.890
第一步 第一步干嘛呢 首先的话 将数据 将这个banner

13:04.730 --> 13:09.410
infer的数据给谁呢 给是不是那个form

13:10.730 --> 13:12.810
对不对 给form 为什么呢 你这个form

13:13.610 --> 13:16.650
这边form form和这个dialogue

13:17.630 --> 13:18.390
是不是关联者的

13:19.190 --> 13:24.830
啊 所以接下来的话 我们这边的话就是应该是给form 那这是第一步 第二步是什么呢 第二步是不是就打开

13:26.070 --> 13:27.750
打开这个dialogue

13:28.870 --> 13:31.550
对吧 那这边的话就很简单 这边让我们就是z

13:33.070 --> 13:36.990
form 等于一个什么呢 你注意啊 我这边那是点点点

13:38.030 --> 13:40.230
banner form 这句话什么意思

13:40.530 --> 13:46.770
这句话什么意思 我这边的话不是说直接把这个banner form 给这个

13:47.570 --> 13:51.370
这个banner infer 不是说直接把这个banner infer给这个form

13:52.130 --> 13:55.010
而是什么呢 我这边的话是不是新创建了一个这个对象

13:55.890 --> 13:59.930
对不对 新创建了个对象之后 然后加这边的话点点点啊 扩展运算幅

14:00.410 --> 14:04.010
然后新创建了一个对象给这个form 那回头的话这两个

14:04.410 --> 14:08.370
这个这个form和这个banner info 他们两个是不是不是同一个对象

14:09.070 --> 14:13.430
是吧 okay 好的 现在这边的话 第二步 第二步的话 你就是把这个

14:14.390 --> 14:20.790
z 点这个dialogue这个form visible 你让他等于一个这个q

14:21.950 --> 14:25.870
对吧 我们把刚才那个q 我们就把它取消掉 我们这边是这个force

14:26.630 --> 14:27.270
ok 保存

14:29.350 --> 14:33.470
好 保存之后 大家回到我们这边 我们来看一下啊 那现在呢 我点击这个编辑

14:34.450 --> 14:40.570
是不是这个回天过来了 是吧 诶 描 描述怎么没回天过来 描述是不是哪儿写错了

14:41.970 --> 14:48.740
啊 这里这里 这里的话就是应该是description 这里应该是description

14:50.060 --> 14:51.940
啊 把这改一下啊 保存

14:53.340 --> 14:58.700
保存了之后 大家这边我们来看一下 走 这回天过来了 大家看这个

14:59.680 --> 15:05.480
这回天过来了 对吧 就都回天过来了 那回天过来之后 大家还差什么呀

15:06.320 --> 15:08.960
还差什么 还差是不是就是这个图片

15:10.040 --> 15:14.920
对不对 那有东西说 这图片简单吗 这图片的话 你就直接刚才不是做过了吗 year image

15:15.400 --> 15:18.200
把它渲染出来就好了呗 你注意 这里没那么简单

15:18.840 --> 15:23.760
啊 这里没那么简单 这里是什么呀 这里不仅仅是把这个图片渲染出来

15:24.280 --> 15:27.880
这里的话 它是一个上传组件 比如说我这边让我可以改的

15:28.760 --> 15:30.040
那比如说我这边让我点击一下

15:31.600 --> 15:34.280
点击了之后 大家我这边我随便啊 点击这个打开

15:35.480 --> 15:40.360
看到没有 我这边的话我是可以修改这个图片的 修改了之后的点击确定

15:40.920 --> 15:43.120
你看 这边的话这个图片是不是就修改了

15:44.040 --> 15:51.200
也就是说我这边的话实际上是一个什么 实际上是一个上传图片的组件

15:52.200 --> 15:57.600
明白没有 是一个上传图片的组件 那这个上传图片的组件让我们现在要做它

15:57.900 --> 16:03.220
要做它的话 但是你这边你仔细观察一下 就是这个上传图片的组件其实我们用的是很多的

16:03.980 --> 16:06.700
比如说这里啊 比如说这边添加项目

16:08.300 --> 16:10.780
添加项目的话 你看这边是不是也会用得到

16:12.020 --> 16:17.660
对吧 上传这个图片 然后接下来的话 还有哪些地方呢 还有比如说这个文章

16:18.540 --> 16:22.020
添加这个文章 添加这个文章这边是不是也有

16:22.240 --> 16:25.000
上传这个文章的这个

16:25.920 --> 16:28.400
头图 也就是说上传图片的这个组件

16:29.360 --> 16:36.960
所以这个用的很多呀 那用的很多的话 让我这边的话我就考虑干嘛呢 我这边的话我就考虑我单独把这个东西

16:37.440 --> 16:41.080
封装成一个组件 好 那接下来我们这边我们来看一下

16:42.840 --> 16:47.960
好 我们这边的话 我们就来封装这个图片的这个组件啊 上传图片的组件

16:48.420 --> 16:56.100
回到我们的这个代码里面 我们这边的话 先把这个位置找到哈 来到src下面 他这边是不是有个component

16:56.940 --> 17:02.300
对吧 他这边的话 就是有一些他这个自己封装好的这个组件 让我们这边的话 我们就来

17:02.620 --> 17:06.060
封装 我们这边新建一个 新建一个叫做这个upload

17:08.180 --> 17:11.660
upload.vue

17:12.160 --> 17:20.920
ok 好 然后加这边这边的话vue base 先把这个结构生成 结构生成之后 然后既然我们来看一下我们这个

17:22.000 --> 17:27.200
上传图片的这个组件 需要一些什么东西啊 我们这边的话 我们过来看一下

17:28.080 --> 17:32.000
你看这里啊 比如说这边 我们后面 后面的话 我们是不是会有个这个添加文章

17:32.920 --> 17:34.920
添加文章的话 然后接下来这一块

17:35.880 --> 17:38.360
这一块 这一块是不是这个上传

17:39.060 --> 17:45.620
这个图片的这个组件 那这个组件的话 就是应该有两个部分组成 哪两个部分呢 一个是这个

17:46.260 --> 17:47.460
就是你的这个标题

17:48.140 --> 17:55.540
一个是什么呢 一个是就是你的这个上传的这个空间 上传的这个空间这倒是有啊 我们这边我带着大家来看一下

17:56.180 --> 17:58.820
在图片上传

18:00.980 --> 18:02.260
图片上传我找一下哈

18:03.700 --> 18:05.860
嗯 这哪个位置来着

18:06.520 --> 18:10.240
进度调标签 这里这里upload

18:11.360 --> 18:13.520
看到没有 我们要用的是什么呢 我们要用的是这个

18:14.720 --> 18:18.080
我们要用的是这个啊 也就是我们这边的话 一会直接把这一块代码

18:18.640 --> 18:26.360
把他拿过去 但是呢 我们上面是不是会有个这个标题啊 这个标题的话啊 我们希望是什么呢 希望是使用这个组件的地方

18:26.640 --> 18:30.040
跟我传递过来的啊 说说我们这边的话 我们这边来

18:31.020 --> 18:36.220
回到我们的代码里面 好 我们这边的话 嗯 这里的话 我们就写一个这个props

18:38.670 --> 18:45.990
props 然后对应的是一个数组 数组的话 我到时候希望跟我传两个东西过来 一个是什么呢 一个是

18:46.630 --> 18:47.630
就是你的这个title

18:48.590 --> 18:50.110
upload title

18:52.110 --> 18:57.830
一个是什么呢 一个是就是你的这个图片 有没有那个地那个图片的地址

18:58.570 --> 19:03.050
如果有地址的话 我是不是就是默认应该是把这个图片显示出来 就好比是这边

19:03.930 --> 19:06.970
就好比这里啊 我看成品吗 成品这边

19:08.370 --> 19:11.410
成品这边啊 比如我点击编辑的时候啊 你知道这一块

19:12.010 --> 19:13.290
这一块是不是是一个这个

19:14.130 --> 19:19.650
这一块是不是是一个这个上传的上传图片的这个组件 对不对 但是他默认是不是有这个图片地址的

19:19.930 --> 19:22.130
所以我就需要把这个图片是不是显示出来

19:22.910 --> 19:28.070
对吧 但你如果的话是这种 比如说添加文章 如果是这边 这边的话是不是

19:28.750 --> 19:31.350
没有那个图片地址啊 那这边的话就是不显示

19:31.990 --> 19:37.070
啊 所说我这边的话接受的是两个东西 一个是upload title 一个是什么呢 一个是这个

19:37.750 --> 19:38.070
value

19:39.630 --> 19:48.110
接受这两个东西 接受这两个东西之后 然后接下来在上面 上面的话就应该有两个部分组成 一个是这个上传组件的标题

19:50.110 --> 19:50.630
上传

19:54.630 --> 19:55.470
上传

19:56.750 --> 19:57.230
组件

19:57.910 --> 19:58.310
标题

19:59.710 --> 20:03.110
好 大家这边的话一个是什么呢 一个是上传空间

20:04.190 --> 20:07.950
对吧 这两个部分 好了 接下来这边 这边的话我就给了一个这个div

20:09.430 --> 20:12.630
div里面的这边就是应该是什么呢 这边就是应该是你这边

20:13.510 --> 20:14.470
upload title

20:16.510 --> 20:18.910
是吧 那既然我这边的话我给了一个这个

20:19.730 --> 20:23.690
给了一个这个class class 等于一个这个block

20:24.250 --> 20:27.770
啊 大家这边的话把这个样式设置一下 这边的话就是

20:28.730 --> 20:29.650
我给了一个这个

20:30.810 --> 20:31.050
点

20:32.890 --> 20:36.610
点block 然后接下来我这边我给了他一个这个margin

20:38.800 --> 20:44.280
margin 上下是15p差 然后加这边的话一个0 然后加设置了一下这个

20:45.260 --> 20:46.020
phone to wait

20:47.300 --> 20:54.300
是100 ok 这个是上传组件的这个标题 然后接下来的话还有就是上传这个空间

20:54.700 --> 20:57.620
上传这个空间的话我们就直接使用什么呢 直接使用这个

20:58.180 --> 20:59.740
直接使用这个这边

21:00.780 --> 21:05.260
这个element ui里面是不是有一个这个上传空间 那你就直接把这一块把它拿过来

21:05.820 --> 21:06.260
contrc

21:07.140 --> 21:08.300
好 大家这边contrv

21:08.860 --> 21:11.780
大家格式换一下 把整个这块是不是把它拿过来

21:12.240 --> 21:19.120
拿过来之后你不要忘了哈 就是他这边的话还有这个对应的样式 你把这个对应的样式你也要把它拿过来

21:19.520 --> 21:20.400
说这边contrc

21:21.160 --> 21:23.080
然后接下来这边 把它拿过来

21:24.480 --> 21:30.160
ok 好 拿过来之后 然后接下来我们这边有些地方的话 我们要把它稍微做一下修改

21:30.560 --> 21:34.080
我们这边我们首先来观察一下 他这边的话 这里走先这个class

21:34.640 --> 21:35.360
这个是不是不用改

21:36.140 --> 21:41.740
对吧 然后接下来这边这个action action是你的上传地址 我们一会再来说啊 这个的话我们先不管他

21:42.180 --> 21:47.260
好了 接下来这边这边的话这个修file list啊 force 这个是什么呢 我们来看一下

21:47.940 --> 21:49.140
修file list

21:51.530 --> 21:56.530
修file list是否显示以上传文件列表啊 他这边是这个

21:57.610 --> 22:03.450
默认值 默认值是true 但是这边的话 你把这儿粘过来的时候 他这边是不是用的是这个force

22:04.330 --> 22:05.450
在哪个位置 在这个

22:06.430 --> 22:12.910
在这边 这边他是不是用了force 那这个我们不管他啊 好那下这边 这边是on six sense

22:13.310 --> 22:17.190
上传成功后的回调 然后以及这边 这边的话是这个就是

22:18.230 --> 22:22.750
上传之前的回调啊 然后接下来的话 这边有一个这个image

22:23.670 --> 22:31.870
vgif 就如果有这个image url 那接下来的话 这边的话就是src 就是这个image url

22:32.290 --> 22:37.770
好的 这边这边是一个这个icon 这个是什么呢 这个是那个十字符号 就是这里

22:39.210 --> 22:43.850
这里这里是不是有个这个十字的这个图标 对吧 好了 接下来我们这边有些地方要

22:44.250 --> 22:48.530
改动一下 这边他是看这个如果有这个image url

22:48.890 --> 22:53.530
然后接下来的话 这边他的src就是这个image url 那我们的这个图片的链接

22:54.130 --> 22:59.290
是不是使用这个这个组件的地方这么传过来的 是什么呀 是不是这个value啊

22:59.510 --> 23:02.470
说这边的话 你要改成什么呢 改成这个value

23:03.350 --> 23:05.550
看到没有 这个地方你要改成这个value

23:08.280 --> 23:14.760
好 然后完事之后 完事之后 然后接下来我们这边这个组件先就这个样子 然后保存一下

23:15.280 --> 23:22.280
保存了之后 然后接下来回到我们这边 回到我们这边 这边的话我们就把什么呢 反正我们刚才封装了这个组件

23:22.780 --> 23:25.460
把他引入进来 这边的话 引入

23:27.920 --> 23:32.760
引入 封装好的上传图片

23:33.680 --> 23:37.160
组件 那这里的话就是应该是import

23:38.200 --> 23:39.600
一个这个upload

23:42.100 --> 23:44.260
upload 然后接下来的话 from

23:45.980 --> 23:52.380
这边的话就是应该是圈 下面的components 下面的upload

23:53.200 --> 23:54.120
点vue

23:54.880 --> 23:59.840
是吧 引入啊 引入了之后 然后接下来你不要忘了要这个注册一下 说在下面

24:00.880 --> 24:04.160
下面的话 你这边的话就得写一个什么呢 写一个这个components

24:04.720 --> 24:08.080
你要注册了才能用啊 components 然后接下来这边

24:09.640 --> 24:11.520
这边的话就直接是upload

24:12.880 --> 24:16.440
对吧 这边注册就完了 完了之后 然后接下来回到上面

24:17.420 --> 24:24.420
回到这上面 上面的话 我们这边刚才那个中图和大图是不没写 那接下来我们这边我们来写一下 这边呢一个是

24:25.340 --> 24:25.700
中图

24:27.780 --> 24:28.860
一个是中图

24:32.650 --> 24:35.290
中图 然后一个是什么呢 一个是这个大图

24:37.810 --> 24:44.370
OK 好了 接下来我们这边先来写这个中图 那中图的话这边就直接怎么写的 这边的话是不是就是直接使用那个

24:44.970 --> 24:49.970
上传文件的那个 上传图片的那个组件 就我们这边引入的这个组件

24:50.430 --> 24:51.990
对不对 我们这边直接用这个组件

24:53.830 --> 24:54.830
好 我们这边 我们来看一下

24:58.990 --> 25:02.270
直接使用这个组件 好大家这边的话 下面其实也是一样的

25:05.130 --> 25:10.210
下面也是一样 使用这个组件 那这个组件的话你可以把什么呢 你可以把那个地址给它传递过去

25:11.210 --> 25:15.770
wagon model 然后接下来等于一个什么呢 等于一个这个form

25:17.530 --> 25:22.170
form.middle image 下面那个是bigger image

25:22.670 --> 25:28.190
我们先写啊 写了之后让我们一点一点的优化 这边的话是这个bigger

25:29.310 --> 25:32.550
bigger image 好 写完之后让我们这边我们先去看一下

25:33.950 --> 25:37.910
先去看一下 看一下它现在长什么样子 是吧 那回到我们这边

25:39.310 --> 25:46.310
我们这边来看一下 点开 你可以看到的话 现在的话这个上传的这个图片的这个框框是不是有的 我们点一下

25:47.290 --> 25:52.010
点一下 你看这边是不是打开了 对不对 但是的话它现在和我们这边

25:53.210 --> 25:54.130
和我们这边

25:55.090 --> 26:01.530
就是我们要的这个效果 相差还稍微有点大 那首先的话就是我们这边要的这边的话是不是会有一个

26:01.930 --> 26:09.930
首涂首页中途首页大途 对不对 那接下来这边怎么写呢 回到我们这边 我们这边的话可以这个样子

26:10.910 --> 26:18.830
我们这边的话 我们刚才发现中途和大途它是在一行的 所以我们这边可以用一个什么呢 可以用一个这个一一二

26:19.150 --> 26:19.990
钢这个zo

26:21.110 --> 26:26.670
啊 这个是什么 这边我给大家看一下 这个的话是在element UI里面 它的这个布局里面

26:27.750 --> 26:34.750
在这个layout布局里面啊 这个的话是这个三个布局 这个的话你们之前学了个boardstrap应该是学过的

26:35.310 --> 26:37.830
啊 然后其他的组件库基本都是差不多的

26:38.290 --> 26:45.730
就目前为止我用过的那么多组件库 基本上都是差不多的 看到没有 这边让他就是多少行啊 多少列 是不是24列

26:46.290 --> 26:54.490
24列你这边就可以分啊 这边1212就是哪个 是不是就是这个 对不对 那加这个这个就应该是什么 这是不是就是应该是8

26:55.090 --> 27:00.370
然后8 8 对吧 然后加这个这个分成四分 四分的话就应该是6

27:00.930 --> 27:01.770
4 6 24

27:02.510 --> 27:08.670
对不对啊 所以我们这边的话我们可以把它分一下 这边我们用一个这个1212 然后接下来122

27:09.470 --> 27:09.670
core

27:11.030 --> 27:14.310
啊 然后一列两列 然后接下来然后每一列

27:15.790 --> 27:19.230
每一列等于多少呢 每一列等于一个这个12

27:21.500 --> 27:28.980
每一列等于12 也就是说分成是不是两列 然后分成两列之后 然后接下来每一列里面装一个什么呢 装一个一一二

27:29.700 --> 27:30.820
form item

27:31.640 --> 27:39.080
看了没有 好 大家这边把我们的这个upload这个这个主键 我们把它放进去

27:39.600 --> 27:43.000
就放到这里面 好 大家接下来这里的话 给一个这个nable

27:44.800 --> 27:48.320
nable nable等于什么呢 等于一个首页中途

27:50.040 --> 27:53.640
首页中途啊 那下面的话就是一样的 我这边复制一份

27:56.170 --> 27:58.290
复制一份 然后接下来把这个把它拿过来

27:59.150 --> 28:03.150
这个对应的这边啊 格式化一下

28:04.350 --> 28:09.630
啊 格式化之后 那这个中途中途的话应该是对应的是这个位置啊 格式化一下

28:10.950 --> 28:16.230
OK 好 大家这边保存 保存了之后呢 现在我们再过去看啊 看有没有好一点

28:16.950 --> 28:17.830
回到这边

28:18.910 --> 28:23.070
然后我们这边点击编辑 好 你可以看到现在的话这个中途和

28:23.790 --> 28:27.950
呃 这应该是大土一会儿把它改了 你看现在的话 它这个对齐是不是就OK了

28:28.830 --> 28:33.870
是吧 对齐就ok了 对齐ok的话 然后接下来这个框框有点太偏下了

28:34.390 --> 28:38.750
这这个距离有点太高了 这个去哪里看 这个的话是不是就是应该是dialogue

28:39.710 --> 28:41.550
是吧 那你去这个dialogue去看

28:42.310 --> 28:47.030
dialogue dialogue在在在dialogue 这里

28:48.150 --> 28:51.510
这里他的 他是有那么一个属性的哈 这个你配置下就可以了 这边

28:52.230 --> 28:56.310
看到没有 是不是有个这个top值啊 默认是多少 是不是15vh

28:56.730 --> 29:01.730
那你这边让你把它配置一下 回到这个dialogue 这边他有一个这个top值

29:03.210 --> 29:05.730
top值 然后接下来的话你这边让他等于一个

29:07.810 --> 29:12.130
等于一个多少呢 他默认是15vh 那你这边让他是比如说5vh

29:13.090 --> 29:15.970
啊 这边让我看一下这边 这边的话

29:17.050 --> 29:20.210
呃 直接这样子好 大家这边保存

29:22.170 --> 29:23.890
保存之后大家这边过来看一下

29:25.010 --> 29:25.890
哎 是不是稍微好点了

29:26.730 --> 29:30.210
对吧 稍微好点之后 然后接下来下一步 下一步就是这个十字了

29:30.610 --> 29:38.210
这十字为什么没显示出来呢 好 我们这边我们回头看一下 这个的话就应该去看什么呢 是不是去看这个upload我们封装的这个组件了

29:38.890 --> 29:40.530
对吧 让我们这边我们过来看一下

29:41.890 --> 29:49.330
好 这边是这个样子的 你看一下 我们这边的话 你看这个eal upload里面 你看我这边是不是一个efl else

29:50.270 --> 29:56.630
对不对 efl是什么呢  efl是如果你传了这个图片的链接给我 我是不是渲染这张图片呀

29:57.470 --> 30:03.470
看到没有 如果没有图片 那我这边干嘛呢 我是不是进这个l是l是要加把这个加号

30:04.310 --> 30:08.270
这把它渲染出来 对吧 那我们现在我们再使用这个 你看这边

30:09.150 --> 30:14.670
回到这里 我们这边再使用这个upload这个组件的时候 我们这边是不是给他传了这个值过去

30:15.250 --> 30:18.610
传了值过去的话 然后接下来在这个地方 他这个value

30:19.570 --> 30:24.210
是会接收到 接收到的话他进哪个 他是不是进的是这个vgif

30:24.890 --> 30:29.330
啊 说说我们这边的话 之所以看不到那个十字箭头 就是这个原因

30:30.050 --> 30:37.010
那有的东西说 那你这个箭头看不到 那图片总该看得到呀 没错 图片应该看得到 但是我们现在这个图片的话 他这个

30:37.570 --> 30:41.530
稍微有一点问题 有什么问题呢 我们这边 我们回到这边 我们来看一下

30:42.510 --> 30:49.270
我们这边的话给他传的是什么 是不form.midl image form.big image

30:49.870 --> 30:56.270
对不对啊 有细心的同学的话 你应该能够记得 这一块的话 他是不是只是哪一块

30:57.390 --> 30:59.190
只是哪一块 他是不是只是这一块啊

31:00.150 --> 31:01.030
是不是只是这一块

31:02.110 --> 31:09.910
对不对 那回头的话 这一块的话 你要往里面 要往他的前面添加什么 是不是添加我们的那个服务器

31:10.270 --> 31:10.750
地址

31:11.670 --> 31:16.230
对不对 说接下来这一块的话 我们要做一个这个处理啊 来到我们这边

31:17.230 --> 31:21.110
来到这边 这边的话 我就写一个什么呢 我写一个这个computing的

31:23.700 --> 31:25.540
写一个computing的计算属性

31:28.120 --> 31:37.190
computing的对应的是一个对象 好 然后接下来在这个位置 这个位置的话 然后接下来我这边的话 我就统一

31:37.790 --> 31:38.510
image

31:39.210 --> 31:41.730
image ur

31:42.970 --> 31:48.690
啊 然后接下来的话 这边 写了这么一个这个计算属性 好 然后if

31:50.770 --> 31:55.930
z点value 如果有这个value值 好 那接下来我这边return

31:56.890 --> 32:01.610
return什么呢 是不是就是应该是前面那块服务器那个地址 加上这个

32:02.290 --> 32:04.610
加上这个z点value

32:05.410 --> 32:08.450
是不是应该是这个样子的 好 那接下来你把那个

32:09.410 --> 32:14.090
把那个我们之前写到那个写到那个服务器的那个

32:15.290 --> 32:19.610
那个那个config文件就这一块啊 你把它引入 这边那就是应该是import

32:20.290 --> 32:31.930
然后这边 这个叫什么名字来着啊 叫做server ur air是吧 好 大家这边server ur air然后from

32:32.910 --> 32:38.310
圈下面的这个 ur airconfig

32:39.590 --> 32:44.830
config.js ok 好了 接下来这边 这边的话是不是应该是这个

32:45.750 --> 32:53.060
于这个server ur air对吧 server ur air 然后加上z点value

32:53.540 --> 33:01.460
那回头在你的上面 上面的话就应该是什么了 上面就不应该是这个value了 而是应该是什么 是不是这个image ur air

33:02.440 --> 33:03.440
回到

33:04.360 --> 33:11.950
哎 我们这边位置是不是写错了 我看一下啊 这边位置写错了啊 这边呢 不是在这

33:12.390 --> 33:18.710
不在这啊 这边的话应该是在这个upload里面upload里面 然后我们这边来写

33:19.950 --> 33:24.590
这边 然后把那个引入也把它写过来 这里

33:25.550 --> 33:25.950
把这个

33:27.350 --> 33:29.550
这个引入那接下把它拿到这边来

33:30.250 --> 33:35.850
ok 好了 接下来的话你这边 这边的话这边就不应该是这个

33:38.140 --> 33:42.660
呃 这个的话我看一下啊

33:43.900 --> 33:51.060
哦 这里我刚才好像已经提前把这儿写上了是吧 啊 image ur air啊 总之这里的话是不是应该是对应你这个计算属性的这个字

33:52.020 --> 33:55.460
对不对啊 我这边再说一遍啊 就是这边我们再来看一遍

33:56.440 --> 34:03.160
你这边的话再使用这个upload这个上传图片的这个组件的时候 你这边是个vigamode

34:04.080 --> 34:05.760
vigamode然后把这个就是

34:06.640 --> 34:13.600
呃 图片的这个地址是吧 把它传过去 传过去之后 然后接下来在你upload这个组件里面 这边这个view

34:14.560 --> 34:19.040
是不是接受到 接受到之后 但是这个view的话拿到的是什么值呢 拿到的是这个值

34:19.420 --> 34:27.820
看了没有 这个值的话它是显示不出来图片的 说说我们这边的话需要做一件事情什么事情呢 其实就和我们之前是一样的

34:28.260 --> 34:34.580
首先的话 把那个服务器的那个地址先把它引入 引入之后然后将我们这边创建了一个计算属性

34:35.260 --> 34:39.660
看到没有 计算属性image ur air 然后把前面的那个server ur air

34:40.180 --> 34:46.540
就是那个服务器的地址把它拼接上 拼接上之后然后加这边image 这边src是不是就是应该是image ur air

34:47.000 --> 34:49.920
对不对 只不过这个我刚才在敲的时候好像直接就敲了

34:51.200 --> 34:55.400
啊 直接就敲了啊 等一下这个好像不是我刚才敲的吧 我看一下

34:56.520 --> 34:57.600
这个好像是刚才

34:58.720 --> 35:05.240
嗯 刚才我们拿那个上传的时候 他好像直接就写的就是image ur air

35:06.800 --> 35:08.240
在在在上传在哪里

35:10.040 --> 35:14.680
在这个位置 然后加这边展开啊对对对 他写的就是image ur air啊

35:15.380 --> 35:21.700
ok 我就说我就记得好 这边的话 你看我们这个image ur air我们这边是不是就是写了个这个计算属性

35:22.420 --> 35:29.020
对不对 写个计算属性之后 然后加这边 把这个前面的这个服务器地址把它拼接上 拼接上之后 然后加这边

35:30.020 --> 35:34.380
拿到你正确的图片地址 好 那我们这边的话 我们全部保存一下 我们来看一下

35:35.140 --> 35:36.660
看一下两张图片有没有显示出来

35:38.300 --> 35:40.220
ok 那接下来来到这边

35:41.020 --> 35:43.580
你看 两张图片是不是成功的显示出来了

35:44.480 --> 35:49.560
看到没有 啊 图片的话就成功显示出来了 好 那到目前为止的话 我们才做了一半

35:50.120 --> 35:55.920
啊 才做了一半 因为我这边呢 只是把图片显示出来了 让我这个东西的话我要干嘛呀 当我点击之后

35:57.080 --> 36:01.280
点击之后 然后接下来我这边我选择这个图片 不要选择这个 我点击打开之后

36:02.720 --> 36:06.440
他这边呢 是不是要重新的 是不是向服务器上传图片

36:07.120 --> 36:09.880
对不对 好 那我们来看一下这个上传图片该怎么做

36:10.180 --> 36:16.100
首先的话 我们这边的话 我们来看一下这个上传的这个接口 你看这边 这边是不是有一个

36:16.500 --> 36:21.460
同一上传接口 为了把他打开 打开之后 然后接下来这里

36:22.180 --> 36:27.540
上传这个图片 那你看这个上传这个图片 上传这个图片这边是不是api upload的

36:28.340 --> 36:32.420
对吧啊 说说这边的话是有这个接口的 好 我把这个接口复制一下

36:32.900 --> 36:38.420
复制一下之后回到我们的代码 让我们这边的话这个action 这一块是不是就要进行修改了

36:39.320 --> 36:46.000
对吧 要进行修改 改成什么呢 改成我们这边上传图片的这个接口 把这个进行一个修改

36:46.520 --> 36:48.720
修改之后 然后接下来的话 下一步

36:50.120 --> 36:51.240
下一步 你看一下这边

36:52.320 --> 36:56.480
你看这边 这边我们在上传的时候 你看他这边写的有什么

36:57.280 --> 37:00.280
写的有什么 是不是需要授权啊 同学们

37:00.840 --> 37:07.120
他是不是需要授权 那你现在的话 这边这个上传的话 这边action api upload的

37:07.500 --> 37:11.660
我这边的话不是 这边的话不是通过那个action发送的这个请求

37:12.100 --> 37:16.460
说说他不会写在什么呢 不会写在我们的这个token 那这个怎么办呢

37:17.060 --> 37:19.980
啊 这个的话有办法 我们回头的话 我们来看一下他的这个

37:20.940 --> 37:25.140
upload这个组件 upload的组件里面 你看他这边有一个属性

37:26.180 --> 37:27.940
叫做什么呢 叫做haters

37:28.940 --> 37:34.220
看到没有 也就是你在这个upload的这个组件里面 你可以设置你的这个haters

37:34.600 --> 37:40.320
那我们这边的话 我们来设置一下 回到我们的代码 你在这边的话就是我们来设置这个haters

37:42.580 --> 37:50.220
haters 等于什么呢 等于一个这个haters 那既然你在下面是不是就应该有那么一个haters啊

37:50.780 --> 37:52.660
好 来到你的这边computing的里面

37:54.300 --> 37:55.260
这边haters

37:56.420 --> 37:59.140
好 这边haters我们就干嘛呢 我们这边就return

38:00.260 --> 38:01.580
return一个对象

38:02.360 --> 38:04.080
对象里面 然后接下来就是这个

38:05.200 --> 38:06.280
authorization

38:10.780 --> 38:11.220
what's the right

38:11.700 --> 38:16.060
这个对了 然后接下来这边 这边是这个beery

38:18.220 --> 38:18.620
beery

38:20.020 --> 38:20.820
re

38:20.820 --> 38:26.780
beery 然后接下来这边加上一个什么 加上一个这个local storage点get item

38:27.380 --> 38:30.420
然后接下来的话 这边and the mean token

38:32.020 --> 38:35.020
啊 把这个加上 把这个加上的话 他就是从本地

38:36.000 --> 38:37.800
从本地获取这个token

38:39.040 --> 38:43.600
从本地获取token 然后添加到

38:44.680 --> 38:46.840
添加到这个header里面

38:48.680 --> 38:53.480
看到没有 我再说一遍 为什么要做这个步骤啊 就是因为我们这边上传的话 我们这边

38:55.200 --> 39:00.960
我们这边上传的话 这边这个接口 api upload 他是需要什么呢 需要就是你看这边

39:02.360 --> 39:04.120
他是需要什么 是不是需要授权的

39:04.700 --> 39:13.540
也就是你是需要携带这个token过去的 他验证那个token 但是呢 由于我们这边的话 是这个上传逐渐 不是走的actuals

39:14.460 --> 39:19.980
对不对 不是走的actuals 所以他这边的话 就是我们那个actuals 是不是设置了那个请求拦截

39:20.620 --> 39:28.260
请求拦截的话 会自动把在那个请求头里面添加那个token 但是这个的话 他不是走的actuals 那怎么办呢

39:28.480 --> 39:30.360
所以我们这边设置一个这个header

39:31.120 --> 39:36.480
看到没有 制定一个header 然后接下来再制定一个header里面 把这个token 把它带过去

39:37.440 --> 39:42.080
带过去 带过去之后 然后接下来这边上传的话就可以了 我们这边保存一下

39:42.800 --> 39:44.440
保存一下 我们这边我们来看一下 好不好使

39:46.400 --> 39:53.280
这边 刷新一下 这边走 然后接下来这边 我重新选一个

39:54.160 --> 39:56.160
选一个 比如这个

39:57.000 --> 39:57.320
打开

39:58.300 --> 40:05.700
这边是不是报错了 我看一下 啊 这边报错了啊 报错了 我看一下报的什么错

40:08.300 --> 40:10.300
嗯 这边呢 报了错 我们看一下

40:11.420 --> 40:17.820
这边报 哦 这边报的是那个 报的是这个handle 这个sixsense 方法和这个方法 这个两个方法没有定义

40:18.140 --> 40:21.300
我们来看一下这边 这边呢 他是不是就是成功之后有一个方法

40:22.220 --> 40:27.380
对不对 成功之后有个方法叫做handle这个awaiter sixsense 这个是成功之后的回调

40:27.820 --> 40:28.580
我写下注射

40:29.400 --> 40:30.720
我这边还没办法写注射

40:31.360 --> 40:35.800
就是这个啊 这个是成功之后的回调 这个是什么呢 这个是上传之前的回调

40:36.320 --> 40:42.040
那你这边的话你就根据情况 比如这个上传之前一般我们做些什么呢 做一些就是你的这个图片

40:42.480 --> 40:44.160
大小的检查呀之类的

40:44.720 --> 40:48.760
看会不会过大之类的 我们这边呢 这个就先不要 那我们这边呢这个

40:49.600 --> 40:55.160
handleawaiter sixsense 我们这边写一下 这个是上传成功之后的回调

40:56.000 --> 40:57.960
这个的话你要写在这个message里面

40:59.560 --> 40:59.880
对吧

41:00.560 --> 41:02.560
message 大家这里

41:04.600 --> 41:07.560
啊 这个是成功 上传成功之后的回调

41:09.560 --> 41:10.960
console.log

41:11.840 --> 41:12.640
上传成功

41:14.080 --> 41:17.240
上传成功的回调

41:18.840 --> 41:19.720
回调函数

41:21.000 --> 41:23.240
啊 好了 这样我们这边我们来看一下 保存

41:25.120 --> 41:26.680
保存了之后 然后回到这边来看一下

41:30.050 --> 41:33.570
好 大家这边编辑 编辑 大家这边走

41:35.650 --> 41:37.290
然后我这边的话我随便选一张

41:38.330 --> 41:39.210
大家这边打开

41:40.410 --> 41:42.290
啊 你可以看到这边的话是不是成功了

41:43.130 --> 41:48.370
看到没有 成功了 有的东西说你图片没变啊 啊 图片没变是因为你没有做下一步操作

41:49.090 --> 41:52.370
你没有做下一步操作 但是我们这边的话很明显这边是不是上传

41:53.010 --> 41:57.090
这个成功了 那上传成功之后大家我们要做什么事情呢 我们来看一下

41:58.070 --> 41:59.350
我们首先来到这边

42:00.190 --> 42:04.750
这边的话 你看一下他这个上传成功的这个函数啊 这个回调函数

42:05.990 --> 42:06.110
在

42:08.270 --> 42:11.510
成功后的这里 这里啊 这个是文件

42:12.190 --> 42:16.590
上传成功时的这个钩子 你看一下这里 这里的话 是不是有两个 有三个

42:17.030 --> 42:18.270
对面有三个这个参数

42:18.830 --> 42:21.150
Race Bounds File和这个File List

42:21.630 --> 42:26.150
也就是我们这边的话 可以拿到这个 他给我们的这个响应 那我们这边我们来看一下

42:26.610 --> 42:32.410
回到这边 我们这边的就RES 我们来拿到这个响应 让我们把这个响应 我们把它打印出来 我们看一下

42:33.530 --> 42:36.970
好 这个我们不删 然后接下来这边RES 好 保存

42:38.410 --> 42:40.370
保存之后 然后回到我们这边 我们来看一下

42:41.570 --> 42:47.420
重新刷新 好 然后接下来这边 比如说我这边点一下

42:49.300 --> 42:51.660
然后我这边随便找一张这个图片

42:52.640 --> 42:59.080
就这张吗 打开 你看这边是不是上传成功 成功之后 你看服务器给我们返回了什么

43:00.440 --> 43:05.960
所以返回了这个地址呀 对不对 各位 给我们返回了这个地址 我们来看一下这个接口文档 是不是这样子的

43:07.160 --> 43:10.680
你看 上传成功之后 是不是就会给我们返回

43:11.320 --> 43:18.800
这张图片在服务器存储的这个地址啊 对吧 那接下来我们就要把这个地址干嘛呀 我们就要把这个地址

43:19.260 --> 43:20.140
把他返回

43:21.380 --> 43:26.260
回到这边 好 那接下来我们这边要怎么做呢 好 看这里 这里的话我们就是EF

43:27.580 --> 43:32.780
EF什么呢 非RES点扣的 因为他这个RES扣的是什么

43:33.340 --> 43:38.580
RES扣的是不是0 对不对 所以我这边那就是取反 然后并且

43:39.700 --> 43:41.660
并且RES点data

43:43.500 --> 43:45.700
说明什么呢 说明上传成功

43:49.280 --> 43:49.640
成功

43:50.600 --> 43:51.200
服务器

43:52.120 --> 43:52.840
给我们

43:54.360 --> 43:56.760
返回了图片

43:58.760 --> 43:59.280
上传

44:00.640 --> 44:02.560
后的服务器

44:03.480 --> 44:03.760
地址

44:04.720 --> 44:08.760
对不对 好 那我这边我干嘛呢 我这边就是RES点downer

44:10.400 --> 44:11.960
RES点downer

44:12.800 --> 44:13.200
Emit

44:13.960 --> 44:23.180
好 大家这边 input 触发这个 input 然后接下来这边 把什么呢 把这个RES data 给他传回去

44:23.940 --> 44:29.500
啊 给他传回去 传回去之后 然后接下来的话 这个代码就会来到哪里呢 他就会来到这边

44:30.980 --> 44:32.380
来到这边 我们来看一下

44:33.420 --> 44:35.220
这边的话 你这个微杠model

44:35.940 --> 44:42.260
啊微杠model 是不是通过这个微杠model来传的 你通过这个微杠model来传的话 让我这边的话

44:42.780 --> 44:47.180
我这边的话 去触发这个input事件 我是不是把新的那个地址

44:47.580 --> 44:50.780
给你了 给你了的话 然后接下来这边的话 是不是自然而然

44:51.160 --> 44:56.840
这就会发生变化 对不对 包括这边自然而然就会发生变化 那我们这边我们来看一下嘛

44:58.880 --> 45:02.120
啊 全部保存 保存之后大家这边我们来看一下

45:03.520 --> 45:11.680
啊 重新刷新 好了 接下来这边啊 编辑 编辑 然后这边点一下

45:12.760 --> 45:21.560
点一下之后 然后接下来我这边 找这张图片 当我点击打开 你脑子里过一下啊 当我点击打开的时候 他就这张图片就会上传到

45:21.860 --> 45:28.300
服务器 上传到服务器之后 服务器会把那个地址给你返回 返回之后 然后将我们这边是不是通过那个emit

45:28.620 --> 45:34.820
去触发了input事件 对不对 那这个我们在我们的那个组件里面 我们是通过这个微杠model

45:35.300 --> 45:41.380
传给这个指主键的 而那指主键现在触发那个input的事件 input的事件 然后接下来就把我们那个微杠model

45:41.780 --> 45:44.740
关联了那个地址 他自动就改了 所以我们这边打开

45:45.860 --> 45:47.180
你看 这里是不是自动

45:47.840 --> 45:55.200
就变化了 看到没有 自动就变化了 这张图片也自动的就干嘛呢 就传入到那个服务器了

45:55.840 --> 45:59.840
就已经传到服务器了 已经传到服务器了 好了 接下来还没完

46:00.560 --> 46:06.960
你现在的话 我这边的话 是不是 图片已经上转到服务器了 那比如说我这边的话 我要改一下 比如说我这边随便改一点

46:08.160 --> 46:12.440
那接下来我这边点击这个确定的时候 我是不是要把整个这一块信息

46:13.420 --> 46:20.340
我是不是要提交给服务器 对不对 提交给服务器 你看这边是有这么一个接口这个接口地址的 我们来找一下

46:21.860 --> 46:28.260
在这个首页标语这里 你看这里是不是有一个这个设置标语 看到没有 这边是有这么一个这个

46:28.980 --> 46:37.020
这个API的 让我们这边的话 我们就来写一下 那这里的话就应该是什么呢 这里就应该是点击确定事件的时候

46:37.440 --> 46:43.440
是不是来做这个事情 对不对 让我们这边先这样子 我们先把那个API这边先把它玩上了

46:44.000 --> 46:54.360
API这边来到你的这个 banner 来到 banner 这边让我们只写了一个获取首页标语 那这样我们这边设置首页标语

46:56.920 --> 47:00.240
设置首页标语

47:01.240 --> 47:07.640
设置标 这个首页标语这边啊 这边的话就是应该是export 然后function

47:08.740 --> 47:10.740
然后我们这边就set a banner

47:12.600 --> 47:19.620
那这边的话应该是有一个数据给我们传过来的 对不对 数据传过来 传过来之后让大家这边啊 我复制一下

47:22.010 --> 47:25.450
这边就应该是什么呢 这边我看一下他的这个接口地址

47:26.410 --> 47:30.730
接口地址啊 仍然是这个API banner 这个不变 但是这个变成什么 这个是不是变成

47:31.390 --> 47:31.870
post

47:32.950 --> 47:42.430
对吧 然后接下来的话 这边的话需要这个有这个data 传递过去 啊 先把这个API 先把它封装好 封装好之后 然后接下来回到我们的这个组件

47:43.670 --> 47:47.790
回到我们的这个组件 我们这个组件的话就是应该是什么呀 这就是应该是在

47:48.990 --> 47:49.190
嗯

47:50.790 --> 47:56.630
在这个位置 就这边啊 这个确定 点击这个按钮的时候是吧 确定修改

47:57.710 --> 48:00.470
对不对 那我们这边就给他绑定一个这个事件

48:00.950 --> 48:06.990
可立刻 我们这边的话就是不要他这个了 他这个就是单纯的把那个弹出框是不是把他关闭掉

48:07.510 --> 48:10.910
那我们这边绑定一个事件 这个的话叫做比如说edit

48:12.070 --> 48:18.310
banner 然后confirm 你不要怕这个名字长啊 不要怕这个名字长 我们这边取名字的话

48:18.990 --> 48:21.790
最理想的就是我看这个名字我就知道他在做什么事情

48:22.390 --> 48:23.790
啊 这边的edit

48:24.790 --> 48:28.310
bannerconfirm我是不是确认这个编辑 好 那接下来回到下面

48:29.290 --> 48:31.690
回到下面 下面的话 这边就是

48:33.250 --> 48:38.210
edit banner confirm 好 在这里 这里的话 然后我们要做什么事情呢

48:39.570 --> 48:45.090
我们要做什么事情 在这里的话 我们是不是就是从那个表单里面拿到用户

48:46.250 --> 48:48.930
编辑的新的数据是发送给服务器

48:50.250 --> 48:52.890
对吧 我们这边呢 就是应该是从那个表单里面

48:53.470 --> 48:59.430
从表单里面拿到用户

49:00.390 --> 49:01.270
修改的数据

49:03.190 --> 49:07.670
修改的数据 然后发送给服务器

49:08.230 --> 49:12.550
好啦 发送给服务器那个API刚才我们已经封装好了 就直接调了一个方法就可以了

49:13.070 --> 49:15.830
啊 那我们这边呢 我们先把这个先打印出来 我们先看一下

49:16.590 --> 49:16.990
log

49:18.190 --> 49:20.750
log 什么呢 z4.4

49:21.490 --> 49:28.230
好 我们这边的话 全部保存一下 保存一下 然后我们这边 我们来看一下啊

49:29.230 --> 49:31.670
回到回到这里 我们来看一下

49:32.910 --> 49:40.270
好 点击编辑啊 灌篮高手 比如说二 然后加二 然后加这边 这边的话 然后我们这边 新上传一张图片

49:41.870 --> 49:43.470
啊 比如就这张 走

49:44.550 --> 49:47.470
啊 这边什么变了 变了之后 让我点击确定 老子里过一下

49:48.190 --> 49:51.710
确定的话我要干嘛呀 我这边是不是打印整个这个form

49:52.290 --> 49:54.490
他的这个内容 对不对 我点击这个确定

49:55.410 --> 49:58.210
好 大家这边拿到 那你接下来你这边来看一下

50:00.010 --> 50:01.450
嗯 middle image

50:02.850 --> 50:06.570
middle image 然后接下来这个b个image 然后接下来这边

50:07.370 --> 50:07.930
数据拿到了

50:09.010 --> 50:10.210
对吧 这里就拿到了

50:11.290 --> 50:16.490
拿到的话 但是你这边要注意 注意什么呢 你去看他的这个API文档 你看这边

50:16.970 --> 50:20.450
这边的话 你发送的话 他要求你什么呀 你看这里

50:21.230 --> 50:28.950
他要求你发送的话是什么呀 是不是整个三个新的数据都得发送 对不对 哪怕我只编了一个

50:29.710 --> 50:40.590
哪怕我只改变了一个 比如我们刚才的话我们只改了哪一个 我们刚才是不是只改了就是呃最上面那个 但是这边他要求你在发送请求的时候必须什么呢 必须三个一起发送

50:41.350 --> 50:45.030
你看他这边接收的是一个什么 是不是接收的是一个数据啊

50:45.810 --> 50:51.610
对不对 说我们这边我们还要做一下处理 那回到我们这边啊 我们这边还不能直接把这个race.form

50:52.170 --> 50:58.290
把他发送过去 我们这边还要做处理 我这边说一下啊 就是因为API文档

50:59.650 --> 51:01.730
因为API文档

51:03.250 --> 51:06.050
要求这个什么呢 就是三个

51:07.250 --> 51:08.650
三个这个首页

51:09.490 --> 51:15.120
标语都要发送过去 哪怕

51:15.340 --> 51:17.260
只改了一个

51:18.140 --> 51:23.420
只改了其中一个 对吧 那我们这边怎么做呢 那我们这边他首先

51:23.940 --> 51:25.260
类扯一个啊

51:26.620 --> 51:29.340
等于一个 这边我是不可以点点点

51:30.140 --> 51:31.540
race.data

51:32.700 --> 51:37.180
对不对 这个data是什么这个data是不是就是我们上节课这边是不是拿过来的

51:37.820 --> 51:42.180
拿过来的这个首页标语的这个数据 对不对 刚好就是一个数组

51:43.160 --> 51:48.640
好 先拿到 拿到之后 然后接下来的话 这边我们使用这个复讯环 我们来改一下

51:49.600 --> 51:49.800
4

51:52.160 --> 51:57.560
哇一个i 等于0 然后接下来i小于ar2点认识

51:58.160 --> 52:03.040
然后i加加便利这三个 便利这三个 然后加这边找e4

52:04.320 --> 52:05.200
ar i

52:06.240 --> 52:10.640
点id 如果他等于什么呢 等于race.form

52:11.260 --> 52:14.300
点id 说明是不是找到要编辑的那个了

52:14.980 --> 52:17.820
对不对 找到要编辑的那个 这样我们这边就ar i

52:18.940 --> 52:22.060
等于什么呢 等于race.form

52:23.580 --> 52:29.380
对吧 那我们就把那个成功的就是把那个要修改的那个对象 我们就把它替换掉了

52:29.980 --> 52:33.380
替换掉之后 然后接下来下面 下面是不是就是发请求

52:34.220 --> 52:37.580
啊 所以这边的话你就引入一下 在这上面

52:38.200 --> 52:42.040
上面刚才这边是get banner 那接下来这边你引入set

52:43.200 --> 52:48.160
banner 把这个引入 引入之后 然后加这边的话 调这个方法来发这个请求

52:49.840 --> 52:50.440
啊 在这里

52:52.400 --> 52:57.200
发这个请求 发这个请求之后 他真的反会就是一个什么呢 反会就是一个这个promise

52:57.960 --> 53:03.240
那我们这边他就是认 哦 你注意你要把这个数组带过去 这边的话啊啊 带过去

53:03.700 --> 53:06.700
好了 接下来这边认 认 然后接下来这边res

53:07.940 --> 53:13.100
好 回到这边 这边的话 然后接下来他就会发请求 发请求他就会进行一个这个修改

53:13.460 --> 53:17.260
修改完了之后 然后这样我们就把这个对话框 我们是不是就应该把它关闭掉

53:17.820 --> 53:23.700
说我们这边呢 就是这一次点什么呢 点这个dialogue form visible

53:24.420 --> 53:27.620
这边是把它关闭掉

53:28.460 --> 53:32.540
对不对 这个是关闭 关闭掉这个对话框

53:34.220 --> 53:40.380
同时的话 你是不是应该是给人家一个提示呀 啊 就是编辑成功 说一下这边这一次点

53:41.500 --> 53:44.300
downer message 这个message我们用过很多次了哈

53:45.180 --> 53:51.930
downer message 啊 这个message在这个位置 这个这个我们是用过很多次了

53:53.530 --> 53:55.530
在message

53:57.450 --> 53:58.290
message在

53:59.610 --> 54:04.130
这里消息提示 是这个成功这个 对不对 你直接把这个拿过来

54:05.570 --> 54:06.890
在这里

54:07.610 --> 54:08.650
那这点message

54:09.730 --> 54:12.730
你把它复制 复制了 然后加这边拿过来

54:14.130 --> 54:18.530
啊success不改 这个不改 然后加这边 这边是不是就是修改成功

54:20.530 --> 54:26.250
修改成功 然后完事之后 然后加这边要干嘛呢 是不是重新获取一下数据

54:26.850 --> 54:30.170
这边的话就是race.fetch data

54:32.300 --> 54:35.620
是不是重新获取数据 对不对 你要这个宣展最新的数据吗

54:36.140 --> 54:39.060
好 那现在我们这边保存 保存了 然后我们来看一下好不好使

54:40.540 --> 54:41.620
好 回到我们这边

54:42.620 --> 54:45.900
回到我们这边 他现在呢 重新这个刷新一下

54:46.980 --> 54:47.260
ok

54:48.900 --> 54:56.660
好 大家这边我们来修改哈 编辑 这边呢 灌篮搞手222 然后现在这边描述222 好把这张图片改了

54:57.900 --> 55:01.260
点击 然后接下来这边啊 就用这张图片 然后打开

55:02.860 --> 55:04.620
打开之后 大家这边点击这个确定

55:05.480 --> 55:10.800
确定 你看 是不是修改成功 修改成功之后

55:12.640 --> 55:15.640
诶 是这张图片吗 刚刚点了是这张图片吗

55:17.000 --> 55:23.200
还是的 是吧 我在这呢 我就就是这张 就是这张啊 一下子看云的啊 333

55:24.400 --> 55:29.200
333 好 大家这边点击 然后我们这边重新上传一张吗

55:30.800 --> 55:32.240
重新上传一张 比如这张

55:33.100 --> 55:38.900
啊 这张刚念的这张 好 大家这边点击确定啊 是不是 ok 了 对不对

55:39.140 --> 55:43.420
那有的同学说 这个排序怎么跳过去 跳过来的 这个的话是那个服务器那边

55:43.980 --> 55:50.020
你就是要看那个服务器那边 他是怎么排序的 服务器的话是那个袁老师 他提前写好了的

55:50.460 --> 55:51.940
啊 就要看他那边是怎么排序的

55:52.700 --> 56:00.540
对吧 因为你传过去的是整个数组 整个数组 他在他那边 他改了之后 他又重新按其他的东西可能排了个序之类的

56:01.000 --> 56:05.680
啊 可能看图片大小啊 之类的 重新排了个序 但我们这边啊 这个修改

56:06.640 --> 56:12.440
是不是就成功了 对不对 整个这个修改功能就做完了 好了 目前为止的话 我们整个这个

56:13.000 --> 56:18.920
首页标语也就做完了 首页标语这个其实很简单 一个是把那个数据

56:20.160 --> 56:26.840
就是上节课啊 这个上节课 上节课我们是把这个数据渲染出来 对不对 然后这一节课我们主要就是什么呢 主要就是这个编辑

56:27.820 --> 56:32.380
啊 主要就是这个编辑 编辑的话 这里主要主要就是涉及到一个什么呢 涉及到一个这个

56:33.180 --> 56:40.900
图片上传的这个空间啊 你下来的话 我建议你啊 把这个upload这个 你再把它仔细看一下

56:42.020 --> 56:47.260
把这个图片上传的这个空间 你再把它看一看 好吧 特别是这里啊 这里我为什么要加黑点是

56:48.020 --> 56:51.300
这里你听懂没有 对不对 我这边为什么要加黑点是

56:51.920 --> 57:00.880
啊 没听懂的话 你把那个视频倒过去 你再看一看 好吧 这节课的话就到这里啊 下来的话 把这个整个这个首页标语这个模块

57:01.440 --> 57:03.080
把它结束啊 把它做完

