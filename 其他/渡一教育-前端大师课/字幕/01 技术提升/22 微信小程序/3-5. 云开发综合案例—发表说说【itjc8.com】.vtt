WEBVTT

00:00.000 --> 00:05.640
OK 上节课的话 我们把那个云含树 云含树的调用讲了

00:05.880 --> 00:09.720
那么截止到目前的话 咱们就把它整个这个云开发

00:09.980 --> 00:12.800
它这边的话这三块 一个是数据库

00:13.060 --> 00:18.680
一个是存储 一个是云含树 还有云调用对吧 云调用其实就是调用这个云含树

00:18.940 --> 00:23.800
OK 把整个这个它的这个云开发能力这三大块

00:24.060 --> 00:25.340
带着大家过了一遍

00:25.800 --> 00:30.720
好 那在这一张结束之前啊 我们还是来写一个综合的这个案例

00:30.980 --> 00:33.020
OK 把整个这个把它串起来

00:34.820 --> 00:38.140
好 我这边的话 我准备了一个就是

00:38.400 --> 00:39.420
说说的案例

00:39.680 --> 00:45.060
回头的话 这边你看 这边这个标签 下面的这个标签 贴博男已经写好了

00:45.320 --> 00:50.180
这边的话是说说 说说的话 这边到时候就会显示一条一条的这个说说

00:50.440 --> 00:52.720
就有点类似于那个朋友圈那种

00:52.920 --> 00:59.060
这边显示说说 那这边的话是发表 发表的话就是你可以发布这个新的这个说说

00:59.320 --> 01:03.680
OK 那我们这个说说的话 到时候他会设计到一些什么样的功能呢

01:04.200 --> 01:08.540
首先的话 说说肯定就是有文本嘛 对吧 然后还有就是什么呢 还有就是图片

01:09.060 --> 01:13.920
回头的话 你这边这个 你上传的这个图片会被上传到云端

01:14.180 --> 01:20.320
啊 上传到云端 好 那既然你每发表一条说说 那这一条说说会被存储到哪里呢

01:20.580 --> 01:22.620
会被存储到这个数据库里面

01:23.100 --> 01:27.380
啊 然后回头的话 你在这边啊 在这边就可以看到你的这个说说

01:28.020 --> 01:32.500
OK 大致就是这么一样的一个案例啊 就类似于这个朋友圈的

01:34.020 --> 01:40.300
好 然后既然这边的话 还是把那个组建库已经装好了啊 就是那个忘词 然后把那个忘筒把它打开

01:42.580 --> 01:43.460
把那个忘词

01:44.820 --> 01:45.580
忘签

01:46.660 --> 01:47.820
然后这个组建库

01:49.100 --> 01:52.740
呃 是哪个来着 是这个吧 好像是这个

01:53.720 --> 02:00.000
啊 对 就这个啊 把这个组建库打开啊 我回头会用到它 OK 这个已经安装好了啊 我们直接用就可以了

02:00.760 --> 02:02.080
好 来吧 就开始写

02:03.080 --> 02:10.840
好 这边的话 咱们先写什么呢 先写发表 发表的话是在这个public这边 那就两个这个的话是index 这个是public

02:11.120 --> 02:13.280
你看整个这个配置室里面就两个页面

02:14.240 --> 02:21.200
对吧 就两个页面啊 我们这边让我们来写这个public先写这个发表 那回头的话这个index index其实就是把

02:21.660 --> 02:25.620
所有的这个说说 说把他这个宣言出来就OK了 对吧

02:26.900 --> 02:34.540
好 那这边的话 有些样式我已经写了啊 这个样式也不多啊 这边btncontainer 然后title 然后container 样式也不多

02:34.620 --> 02:39.140
然后就直接已经放进去了啊 就样式的话不会再带着写了 OK

02:39.900 --> 02:43.420
好 来吧 开始吧 好 首先的话是这个public这边

02:43.940 --> 02:50.340
public这边的话 然后我们首先呃 该用的组建已经引入了 在这里

02:51.700 --> 02:56.860
在这里啊 这个的话就是want里面的这个组建有什么field啊radio啊radio group啊这些

02:57.260 --> 03:01.980
回头我们要用的我都引到这里了啊 所以说我这边了也就直接开始用啊

03:03.260 --> 03:07.540
好 这边这边呢 首先这个want 然后sale group

03:10.210 --> 03:11.130
sale group

03:12.450 --> 03:21.840
啊 这里这里面的话 然后一个这个want field field field field 里面

03:22.500 --> 03:27.620
field 里面这边的话 我们做一个双向绑定啊 所说我们这边 我们分个屏吧

03:29.140 --> 03:36.340
这边是对应的ges 啊 现在ges也非常干净 对吧 好 这边这边的话 我们写一个什么的 写一个content

03:38.020 --> 03:45.500
content对应的是空啊 这个就是什么了 这个就是用户输入的新的说说内容

03:47.420 --> 03:51.460
对吧 好 然后接下来在这边 这边的话就做一个双向绑定

03:53.780 --> 03:57.900
啊 model 然后value 等于一个

03:59.300 --> 03:59.700
content

04:01.300 --> 04:03.580
ok 好 然后接下来的话 这边这个type

04:05.460 --> 04:08.740
type 等于个什么呢 type 等于个text area

04:09.500 --> 04:14.220
啊 你注意在这个want这个组建库里面 他这边的话用的都是这个field

04:15.180 --> 04:22.780
在我看一下在哪里 在这里看没有 输入框啊 用的是这个field field 然后下这边的话 你可以给那个给不同的这个

04:23.580 --> 04:31.980
给不同的这个这个type 他默认的话就是单行 单行输入框就像这样子的吧 对吧 我们要用的是哪个 我们要用的是

04:33.420 --> 04:36.780
多行 多行的话我用的是我看用的是哪个来着

04:38.020 --> 04:40.580
好像是最后一个啊 好像是最后一个

04:41.580 --> 04:44.580
然后他这边有些属性啊 这边比如说这个type

04:46.540 --> 04:49.780
type 这里啊 我们设置他是这个text area 对吧

04:50.680 --> 04:55.240
好 然后还有一些 还有一些比如说这边 我们把这个直接拿过来

04:57.160 --> 05:04.040
啊place holder 这边呢 是啊 这一颗的想法 这一颗的想法

05:05.880 --> 05:09.000
ok 好 然后加这边呢 这个out of size

05:11.080 --> 05:11.920
然后border

05:13.640 --> 05:15.840
border 他好像默认就有啊 我们保存一下 我们看一下

05:16.820 --> 05:21.500
啊 这边 这边有对吧 有之后然后像我这边呢 我设置了一下他的这个高

05:22.980 --> 05:25.620
设置了他的这个高 这边呢 用的是custom

05:26.260 --> 05:32.300
custom style 这些属性你都应该在哪里查 是不是 都是应该是在他的文档里面

05:32.980 --> 05:38.300
对不对啊 这些我用的任何属性 如果你有疑问的话 你都应该是在他的

05:39.420 --> 05:45.500
文档里面 是不是能够查得到的 对不对 custom style 制定一样式啊 他是一个制服串

05:46.100 --> 05:54.740
ok 啊 说后面的话 有些这个属性我就直接写啊 写我大叔给你提一下 但你如果有有疑问的话 你应该是干嘛 是不是去看他的文档

05:55.660 --> 06:00.500
明白没有啊 然后接下来这边这个hit 这边设置了一个高度

06:01.700 --> 06:11.140
250啊250是 ok 这一颗的想法好 这个就出来了 出来了这个的话是上面 上面就是写这个文字的

06:11.580 --> 06:15.340
然后下面还有个什么 下面是不是还会有一个这个上传图片的

06:16.140 --> 06:22.080
对吧 这个是上面文字 上方这个文字

06:23.320 --> 06:26.680
好 然后加这个这个是下方上传图片

06:28.520 --> 06:34.600
啊 上传图片我们还是用他的啊 还是用他的啊 这边的view view 点container

06:36.000 --> 06:40.200
啊 然后加这边呢 还挂了一个 还挂了一个叫做upload

06:41.520 --> 06:44.160
uploadcontainer ok

06:44.900 --> 06:49.780
别等一下 我看一下uploadcontainer好像当时写了之后好像没有用啊 我看一下

06:51.300 --> 06:56.500
啊 这边的话 这里 这里确实没有啊 我们先把先把这个取出掉吧 这个先不要

06:57.500 --> 07:02.420
ok 好 然后接下来后面 后面的话是这个上传图片 我们这边来看一下

07:03.020 --> 07:11.300
上传在这里 这个我们之前用过的 是不是啊 whenuploader whenuploader 然后对应的我这边已经引入了

07:12.040 --> 07:19.320
在这里 已经引入了啊 引入了 然后加上这边他咱们就直接用啊 这边呢 就是

07:21.120 --> 07:22.960
uploader 直接把把这个拿过来

07:25.040 --> 07:26.040
直接把他这个拿过来

07:28.320 --> 07:33.440
好 然后把他放过来 稍微把这个格式调一下

07:33.740 --> 07:41.380
ok 好 人家这边这边的话有一个这个file list file list 的话 它是存储什么

07:41.820 --> 07:45.420
它是存储就是你上传的图片啊 所以我们这边的话

07:46.580 --> 07:48.180
这边再来data里面

07:49.140 --> 07:56.060
file list 一开始是一个什么呢 一开始是一个空速组啊 这边呢是说说

07:57.060 --> 07:58.100
对应的

07:59.080 --> 07:59.400
图片

08:01.000 --> 08:09.440
ok 好 然后接下来的话 这边有一个after read 绑定了一个after read的时间啊 然后对应的时间 处理函数是after read

08:09.840 --> 08:12.240
好 那我们在这边 把它写过来

08:14.510 --> 08:24.230
这个我们之前讲那个云存储的时候 是不是讲过这儿的 对不对 这个是什么 这边的话 这个函数是负责干嘛 这负责读取用户选择的图片

08:25.170 --> 08:33.170
对吧 读取用户选择的图片 那读取完了之后 然后干嘛 是不是回填到

08:34.610 --> 08:40.810
回填到这个file list 里面 对不对 从而

08:42.370 --> 08:50.770
从而让用户选择的图片能够显示出来

08:51.550 --> 08:55.070
ok 保存一下 啊 这边出来了啊 这边出来了

08:57.190 --> 08:58.230
好 重新编译一下

08:59.990 --> 09:02.790
哦 编译 我们先把那个吧 先把那个那个页面放在上面

09:03.790 --> 09:09.270
把这个public放上面 免得每次编译完了 它就跳到那个index去了

09:10.470 --> 09:12.950
ok 保存 啊 重新编译

09:13.490 --> 09:21.730
ok 好 然后接下来的话 这边这边的话 你就可以来选择你的图片 啊 比我们这边选择图片

09:23.410 --> 09:31.130
啊 图片比我们选择一张 ok 选择一张的话 你看现在是没有任何效果的 我们这边需要干嘛 我们这边需要从这个

09:32.290 --> 09:38.770
事件对象里面啊 首先的话拿到 拿到之后然后接下来的话 把它填到哪里去 说填到file list里面

09:39.510 --> 09:47.070
对不对啊 说我们这边的话 even 拿到时间对象啊 拿到时间对象之后首先const一个new

09:48.150 --> 09:48.830
file list

09:50.550 --> 09:56.110
等于一个什么呢 点点点z点data点file list

09:57.790 --> 10:04.070
是不是先复制一份之前的 对不对啊 复制一份之前之后 然后接下来的话 这边const

10:05.230 --> 10:06.910
const一个file

10:07.810 --> 10:13.290
等于一个从哪里拿呢 从这个event点这个detail

10:14.530 --> 10:17.530
从这边可以拿到啊 来我们这边 我们打印看一下

10:18.890 --> 10:23.050
这个应该是之前讲过的内容 对不对啊 重新编印一下

10:24.330 --> 10:27.730
他这个工具其实有些时候还是觉得不好用

10:31.410 --> 10:31.650
打开

10:32.630 --> 10:41.110
是不是拿到了 对不对 拿到类似于像这样子的啊 这边有size有type有ur air啊 这边这个ur air实际上就是什么

10:41.550 --> 10:45.710
就是你这个图片啊 能够显示出来的这个ur air ok

10:46.670 --> 10:50.110
好 把它拿到 拿到之后然后接下来的话 这边

10:51.110 --> 10:55.790
嗯 这边的话我们是可以设置它是多选的啊 这边你可以设置它多选

10:56.790 --> 10:59.630
这边你可以给它加一个在这里

11:00.930 --> 11:04.770
这个之前之前我没有加 啊 我后来我看了一下文档 它文档这边有

11:05.810 --> 11:12.570
就我之前是不是老师没办法多选 对吧 啊 后来我看一下它这边有 可不可以啊 叫做这个multiple

11:13.690 --> 11:22.290
它这边是是否开启图片多选啊 摸就是部分安卓机型不支持啊 摸的是force 所以你把这个的话你给它打开就可以了

11:24.290 --> 11:25.370
multiple ok

11:25.890 --> 11:28.370
好 人家这边的这个max count

11:30.690 --> 11:34.930
最大的数量 最大的数量比如说是9张 ok 9张

11:35.690 --> 11:39.770
好 然后我这边再设计一下 在这边有这个image

11:40.490 --> 11:44.170
fate 就图片的这个格式啊 这边呢 设置成那个

11:45.130 --> 11:48.530
我看它这边应该是有的 image

11:49.890 --> 11:54.490
这里啊 看到没有 这个它就等同于这个image啊 小程序的这个主键

11:54.870 --> 11:59.950
它默认是这个skill to fail 啊skill to fail的话 它会有一些这个变形

12:00.670 --> 12:07.310
这个这样子吧 一会我们这个 一会我们这个就图片出来了 我们再来说 这样子我先把它先把它删掉

12:08.750 --> 12:14.030
然后这边的话 然后再来一个什么的 先就这样子 先就这样子 这边这几个

12:14.510 --> 12:21.510
file list对应的是这个file list 对吧 after read对应的是这边 那家这边允许多选啊 最大的话是9张

12:22.450 --> 12:30.370
好 然后将我这边我们来看一下 如果我多选的话 打印出来是什么 如果我设置了这个multiple之后 它这边是什么

12:32.250 --> 12:40.250
好 现在现在的话我就可以多选了啊 你看这边拿到的是一个什么 拿到的是个数组啊 对不对 即便你只选择一张

12:41.210 --> 12:46.490
即便你只选择一张 他拿到的也是什么 这也是数组 就和之前不一样了

12:47.470 --> 12:55.510
之前的话就是一个对象 现在是个数组数组里面 是不是每是每一个对象对象里面就和刚才是一样的 对吧 ok

12:56.150 --> 13:02.550
好 那接下来的话 我们知道这个是一个数组 是个数组的话 咱们这边就干嘛呢 咱们就去便利它

13:03.590 --> 13:05.750
对吧 好 这边的话就护循环

13:09.010 --> 13:11.890
net i等于0 i小于一个

13:12.530 --> 13:12.770
file

13:14.410 --> 13:15.090
点认是

13:16.030 --> 13:17.350
然后i加加

13:18.750 --> 13:21.550
ok 去便利 便利之后然后往这个new

13:22.910 --> 13:26.510
file list 往这里面啊 这里面的话去push

13:28.110 --> 13:28.710
我看一下

13:30.670 --> 13:39.230
啊 对了 push 啊 你的这个new file list 它是等于一个这个z是data file list 啊 这个一开始是不是个空数组

13:40.210 --> 13:45.290
对吧 好 然后将我们这边往里面push一个对象 这个对象的话它就只有一项

13:46.410 --> 13:49.650
url 啊 url对应的是什么 对应的是你这个file

13:51.330 --> 13:53.050
然后i然后点

13:54.010 --> 14:02.010
url 你就说什么叫它呀 对不对 回头你整个这个new file list 存放的是这个new file list 它是个数组

14:02.250 --> 14:07.530
数组里面然后是一个一个对象 每个对象然后有一个url属性对应的是不是就它呀

14:08.350 --> 14:14.830
对不对就它啊好 这边通过这个 for 循环啊 push 进去好 push 进去之后然后接下来

14:14.830 --> 14:16.910
好 这边整个for 循环结束之后

14:17.590 --> 14:24.000
z 点set data 啊 重新设置file list

14:25.120 --> 14:27.480
设置为什么设置为new file list

14:28.880 --> 14:32.200
ok 好 那我们这边我们来看一下 重新编译一下

14:33.960 --> 14:35.560
好 这边的话我们来上传图片

14:37.080 --> 14:38.480
好 两张 走

14:39.880 --> 14:45.280
怎么ok 了 对不对 这边就ok了啊ok了 然后这样你看这个图片它是有那个的

14:45.840 --> 14:52.600
就是有压缩的啊 就这边的话这个比例啊 比例被压成这个样子了啊 所以这边让你可以设置

14:54.280 --> 14:57.280
设置刚才所说的那个img fit

15:00.990 --> 15:09.940
img fit啊 我这边的话设置为的是 uh a set fill

15:09.940 --> 15:12.240
are set

15:13.760 --> 15:16.300
啊啊 这个是呃sip

15:17.420 --> 15:21.800
这个应该怎么认啊 backed啊 ands backed ands expected

15:22.440 --> 15:26.300
expect fill okay 好 然后就把这边保存

15:27.440 --> 15:28.840
保存之后我们重新来看一下

15:29.820 --> 15:32.360
哎 一已经好了 对不对 刚才他已经变了

15:33.760 --> 15:34.480
这边打开

15:35.680 --> 15:39.920
这边已经ok了 对吧啊 那这边呢一共是什么呢 一共是

15:39.920 --> 15:41.920
同时可以上传9张

15:41.920 --> 15:43.920
这边我可以继续追加

15:43.920 --> 15:45.920
继续追加这后面的

15:45.920 --> 15:47.920
追加这些

15:47.920 --> 15:49.920
打开

15:49.920 --> 15:51.920
对吧,那可以继续

15:51.920 --> 15:53.920
还可以添加两张

15:53.920 --> 15:55.920
然后接下来这边的话

15:55.920 --> 15:59.300
比如说再添加两张

15:59.300 --> 16:01.300
这就ok了

16:01.300 --> 16:03.300
对吧

16:03.300 --> 16:05.300
好,然后完事之后

16:05.300 --> 16:07.300
然后这里下面的话

16:07.300 --> 16:09.300
是一个按钮

16:09.300 --> 16:11.300
因为我记得这边怎么是y的

16:11.300 --> 16:13.300
这边你们自己调整一下

16:13.300 --> 16:15.300
把整个这个的话

16:15.300 --> 16:17.300
你看怎么把它调整到这个中间

16:17.300 --> 16:19.300
记得我之前是调过的

16:19.300 --> 16:21.300
这会看上去又是y的

16:21.300 --> 16:23.300
然后加这边这个upload

16:23.300 --> 16:25.300
upload完了之后

16:25.300 --> 16:27.300
然后下面的话是这个

16:27.300 --> 16:29.300
一个按钮

16:29.300 --> 16:31.300
就发表新的说说

16:31.300 --> 16:35.300
发表新的说说

16:35.300 --> 16:37.300
按钮

16:37.300 --> 16:39.300
好,这边是view

16:39.300 --> 16:41.300
view.btn

16:41.300 --> 16:45.380
container

16:45.380 --> 16:47.380
好,然后里面里面的话是这个

16:47.380 --> 16:49.380
barter

16:49.380 --> 16:51.380
用的是这个主键

16:51.380 --> 16:53.380
barter,这边是发表

16:53.380 --> 16:56.820
发表

16:56.820 --> 16:58.820
好,然后接下来这边

16:58.820 --> 17:00.820
这边这个type

17:00.820 --> 17:02.820
type等于一个

17:02.820 --> 17:04.820
primary

17:04.820 --> 17:06.820
然后这边

17:06.820 --> 17:08.820
给了一个custom

17:08.820 --> 17:10.820
custom style

17:10.820 --> 17:12.820
这边稍微设置了一下

17:12.820 --> 17:14.820
它的这个宽度

17:14.820 --> 17:16.820
把设置成80%

17:16.820 --> 17:18.820
然后绑了一个点击事件

17:18.820 --> 17:20.820
绑的type

17:20.820 --> 17:22.820
等于一个publish

17:22.820 --> 17:24.820
publish handle

17:24.820 --> 17:26.820
就发表

17:26.820 --> 17:28.820
写到这下面

17:28.820 --> 17:32.640
这个的话就是什么呢

17:32.640 --> 17:34.640
发表说说

17:34.640 --> 17:36.640
发表说说

17:36.640 --> 17:38.640
对吧,我们这边保存一下

17:38.640 --> 17:40.640
这边出来了

17:40.640 --> 17:42.640
这个按钮

17:42.640 --> 17:44.640
好,让人家这边比如说选择两张

17:44.640 --> 17:46.640
打开

17:46.640 --> 17:48.640
对吧,这边的话还有一个

17:48.640 --> 17:50.640
还有一个这个三处

17:50.640 --> 17:52.640
比如说我这张的话我不想要了

17:52.640 --> 17:54.640
我想把它删除

17:54.640 --> 17:56.640
这个的话之前是不是带着做过的

17:56.640 --> 17:58.640
对吧,这边你给它绑定一个事件

17:58.640 --> 18:00.640
然后这边用这个catch吧

18:00.640 --> 18:02.640
让它不冒泡

18:02.640 --> 18:04.640
catch,然后delete

18:04.640 --> 18:06.640
等于一个

18:06.640 --> 18:08.640
delete handle

18:10.640 --> 18:12.640
好,然后接下来的话写到这吧

18:14.640 --> 18:16.640
然后这边的话是

18:16.640 --> 18:18.640
删除

18:18.640 --> 18:20.640
删除当前的

18:20.640 --> 18:22.640
图片

18:22.640 --> 18:24.640
这边是delete handle

18:24.640 --> 18:29.170
好,这边delete handle

18:29.170 --> 18:31.170
delete handle这边怎么做

18:31.170 --> 18:33.170
你要删除当前的图片

18:33.170 --> 18:35.170
无外乎就是什么

18:35.170 --> 18:37.170
从这个file list里面

18:37.170 --> 18:39.170
怎么把它删除啊

18:39.170 --> 18:41.170
好,我们这边首先通过这个event

18:41.170 --> 18:43.170
我们先来拿什么呢

18:43.170 --> 18:45.170
我这边要知道你点击的是第几张

18:45.170 --> 18:47.170
我们这边通过这个event

18:47.170 --> 18:49.170
点detail

18:49.170 --> 18:51.170
然后点index

18:51.170 --> 18:53.170
拿到什么呢,拿到下标

18:53.170 --> 18:55.170
我们这边const一个index

18:55.170 --> 18:57.170
等于,我们这边来看一下

18:57.170 --> 18:59.170
console.nog

18:59.170 --> 19:01.170
index

19:01.170 --> 19:03.170
保存

19:03.170 --> 19:05.170
保存之后重新编一下

19:05.170 --> 19:07.170
好,这边

19:07.170 --> 19:09.170
这两张

19:09.170 --> 19:13.060
好,我这边我点击

19:13.060 --> 19:15.060
我可以拿到,对不对,01

19:15.060 --> 19:17.060
我可以拿到,拿到之后就好办了

19:17.060 --> 19:19.060
是不是,拿到之后就好办了

19:19.060 --> 19:21.060
拿到之后的话

19:21.060 --> 19:23.060
你这边就是const

19:23.060 --> 19:25.060
const这个new

19:25.060 --> 19:28.750
file list

19:28.750 --> 19:30.750
等于一个什么,点点点

19:30.750 --> 19:32.750
z是点data

19:32.750 --> 19:34.750
点file list

19:34.750 --> 19:36.750
首先复制一份

19:36.750 --> 19:38.750
复制一份之后,然后接下来干嘛

19:38.750 --> 19:40.750
什么,删除

19:40.750 --> 19:42.750
点splice

19:42.750 --> 19:44.750
删除,从哪个位置

19:44.750 --> 19:46.750
从index这个位置

19:46.750 --> 19:48.750
删除几张,删除一张

19:48.750 --> 19:50.750
对吧,好,然后就在这边

19:50.750 --> 19:52.750
z是点setdata

19:52.750 --> 19:54.750
好,这边

19:54.750 --> 19:56.750
file list

19:56.750 --> 19:58.750
对应的是newfile list

19:58.750 --> 20:00.750
好,来,我们这边来看一下

20:00.750 --> 20:02.750
好,我们这边

20:02.750 --> 20:04.750
多来几张吧

20:04.750 --> 20:06.750
这边,打开

20:06.750 --> 20:08.750
然后这边,再来

20:08.750 --> 20:10.750
再来,然后

20:10.750 --> 20:12.750
表接两张

20:12.750 --> 20:14.750
四张,四张之后

20:14.750 --> 20:16.750
比如说我要把这张删除

20:16.750 --> 20:18.750
删除,是不是OK了

20:18.750 --> 20:20.750
对,把第一张删除,是不是OK了

20:20.750 --> 20:22.750
OK,但你这边还可以

20:22.750 --> 20:24.750
就是加提示之类的

20:24.750 --> 20:26.750
其实倒也不用,你看平时那个

20:26.750 --> 20:28.750
发朋友圈的时候

20:28.750 --> 20:30.750
是不是删除直接就删了,对吧

20:30.750 --> 20:32.750
也不需要什么提示,OK

20:32.750 --> 20:34.750
这边就搞定了,搞定了之后

20:34.750 --> 20:36.750
然后接下来就是这里了

20:36.750 --> 20:38.750
就这里,这里的话

20:38.750 --> 20:40.750
让我们这边随便写点,比如说

20:40.750 --> 20:42.750
Hello

20:42.750 --> 20:44.750
OK,然后下来这边点击发表

20:44.750 --> 20:46.750
点击发表的话,对应的就是

20:46.750 --> 20:48.750
他了,对不对

20:48.750 --> 20:50.750
对应的就是他,好,来,我们来

20:50.750 --> 20:52.750
盘一下这里的逻辑

20:52.750 --> 20:54.750
来盘一下这个逻辑

20:54.750 --> 20:56.750
首先第一步

20:56.750 --> 20:58.750
第一步是什么呢,第一步的话

20:58.750 --> 21:00.750
既然点击了发布

21:00.750 --> 21:02.750
那说明你的图片也确定了

21:02.750 --> 21:04.750
对吧,既然点击发布

21:04.750 --> 21:06.750
既然已经

21:06.750 --> 21:08.750
点击了

21:08.750 --> 21:10.750
发布按钮

21:10.750 --> 21:12.750
发布按钮

21:12.750 --> 21:16.320
那说明什么

21:16.320 --> 21:18.320
说明要

21:18.320 --> 21:20.320
上传什么图片

21:20.320 --> 21:22.320
已经确定了

21:22.320 --> 21:24.320
对不对,但我这边

21:24.320 --> 21:26.320
我没有做那些判断

21:26.320 --> 21:28.320
你这边的话,如果你真正要做的话

21:28.320 --> 21:30.320
你还需要做一下判断

21:30.320 --> 21:32.320
这边不能围空

21:32.320 --> 21:34.320
对不对,图片的话倒是可选

21:34.320 --> 21:36.320
对吧,然后加图片的话

21:36.320 --> 21:38.320
你要判断一下,是否有图片

21:38.320 --> 21:40.320
如果有图片,咱们就要

21:40.320 --> 21:42.320
做后面的事情,如果没有图片

21:42.320 --> 21:44.320
咱们这边是不是就直接

21:44.320 --> 21:46.320
就只是发表这个文本

21:46.320 --> 21:48.320
对不对,然后有没有图片

21:48.320 --> 21:50.320
怎么判断,就根据这个file list来判断

21:50.320 --> 21:52.320
对吧,这些

21:52.320 --> 21:54.320
细节的话你下去自己玩善一下

21:54.320 --> 21:56.320
好,这边我们就假设

21:56.320 --> 21:58.320
假设就是他文本也填了

21:58.320 --> 22:00.320
假设这种情况

22:00.320 --> 22:02.320
好了,说明这个图片

22:02.320 --> 22:04.320
已经确定了,确定了之后

22:04.320 --> 22:06.320
然后接下来咱们要做什么

22:06.320 --> 22:08.320
接下来要做什么

22:08.320 --> 22:10.320
接下来的话,是不是先把图片

22:10.320 --> 22:12.320
上传到云服务器

22:12.320 --> 22:14.320
对不对,先把图片

22:14.320 --> 22:16.320
上传到云端

22:16.320 --> 22:18.320
服务器

22:18.320 --> 22:20.320
对不对

22:20.320 --> 22:22.320
就说我们这边呢,首先

22:22.320 --> 22:24.320
微信

22:24.320 --> 22:26.320
点这个修

22:26.320 --> 22:28.320
修loading

22:28.320 --> 22:31.760
这边是发表中

22:31.760 --> 22:35.780
发表中

22:35.780 --> 22:37.780
首先把这个loading

22:37.780 --> 22:39.780
显示出来,显示出来之后

22:39.780 --> 22:41.780
然后加这边 for 循环

22:41.780 --> 22:43.780
net 一个 i 等于一个 0

22:43.780 --> 22:45.780
i 小于什么呢

22:45.780 --> 22:47.780
小于 z 是点 data 点

22:47.780 --> 22:49.780
file list 点

22:49.780 --> 22:51.780
nose i 加加

22:51.780 --> 22:53.780
去便利这个

22:53.780 --> 22:55.780
file list

22:55.780 --> 22:57.780
file list 里面是什么

22:57.780 --> 22:59.780
是不是一个一个的对象

22:59.780 --> 23:01.780
对象然后就只有一个

23:01.780 --> 23:03.780
所以 url 对应的是

23:03.780 --> 23:05.780
刚才那个就打印出来那个 url

23:05.780 --> 23:07.780
然后便利它

23:07.780 --> 23:09.780
便利它之后,然后拿到那个 url

23:09.780 --> 23:11.780
这边

23:11.780 --> 23:13.780
const

23:13.780 --> 23:15.780
const url 等于什么呢

23:15.780 --> 23:17.780
等于一个 z 是

23:17.780 --> 23:19.780
点 data 点

23:19.780 --> 23:21.780
file list i

23:21.780 --> 23:23.780
拿到当前的这个对象

23:23.780 --> 23:25.780
点 url

23:25.780 --> 23:27.780
首先第一步

23:27.780 --> 23:29.780
拿到

23:29.780 --> 23:31.780
url

23:31.780 --> 23:33.780
对吧

23:33.780 --> 23:35.780
拿到 url 之后,然后

23:35.780 --> 23:37.780
接下来这边,什么这边

23:37.780 --> 23:39.780
name

23:39.780 --> 23:41.780
name 等于什么呢,等于一个 mess

23:41.780 --> 23:43.780
mess 点

23:43.780 --> 23:45.780
random 一个随机数

23:45.780 --> 23:47.780
乘一个比如说一万

23:47.780 --> 23:49.780
ok

23:49.780 --> 23:51.780
然后接下来

23:51.780 --> 23:53.780
然后这边 const

23:53.780 --> 23:55.780
const你的云端路径

23:55.780 --> 23:57.780
cloud

23:57.780 --> 23:59.780
cloud pass

23:59.780 --> 24:01.780
等于什么呢,等于一个

24:01.780 --> 24:05.780
name 加上一个这个 url

24:05.780 --> 24:07.780
点 match

24:07.780 --> 24:09.780
这个我们之前的话是写过的

24:09.780 --> 24:11.780
对不对,它这个名字的话

24:11.780 --> 24:13.780
它是有一定的这个规定的

24:13.780 --> 24:15.780
所以当时呢我们用这个 match

24:15.780 --> 24:17.780
用那个振则去匹配了一下

24:17.780 --> 24:19.780
对吧,这个振则我直接拿过来

24:19.780 --> 24:21.780
振则直接拿过来

24:21.780 --> 24:23.780
直接拿过来

24:23.780 --> 24:25.780
把它放到这里

24:25.780 --> 24:27.780
ok,这个是云端的名字

24:27.780 --> 24:29.780
存储到

24:29.780 --> 24:31.780
云端的文件名

24:31.780 --> 24:33.780
对吧

24:33.780 --> 24:35.780
好,好了之后到下一步

24:35.780 --> 24:37.780
下一步是不是就是开始上传

24:37.780 --> 24:39.780
对不对,开始上传到

24:39.780 --> 24:41.780
云端

24:41.780 --> 24:43.780
上传到云端

24:43.780 --> 24:45.780
你这边你要注意你首先的话

24:45.780 --> 24:47.780
需要这边出实话,出实话的话

24:47.780 --> 24:49.780
我这边是做了的

24:49.780 --> 24:51.780
ok

24:51.780 --> 24:53.780
好,你注意你那边你要做

24:53.780 --> 24:55.780
要把那个出实话

24:55.780 --> 24:57.780
出实话完了之后,然后接下来

24:57.780 --> 24:59.780
这边就是微信

24:59.780 --> 25:01.780
点cloud

25:01.780 --> 25:03.780
然后

25:03.780 --> 25:05.780
点什么,upload

25:05.780 --> 25:07.780
file

25:07.780 --> 25:09.780
这不调这个方法,对不对,调这个方法的话

25:09.780 --> 25:11.780
它这边要接受一个对象

25:11.780 --> 25:13.780
这个对象的话,首先是我们的cloud pass

25:13.780 --> 25:15.780
然后接下来是我们的这个

25:15.780 --> 25:17.780
file pass

25:17.780 --> 25:19.780
file pass对应的是什么呢,对应的是

25:19.780 --> 25:21.780
url

25:21.780 --> 25:23.780
整个这个的话返回的是一个

25:23.780 --> 25:25.780
promise,但你也可以用回调的形式

25:25.780 --> 25:27.780
对吧,让我这边

25:27.780 --> 25:29.780
让我通过这个await

25:29.780 --> 25:31.780
那这边的话await的话

25:31.780 --> 25:33.780
你就要把这个改成什么

25:33.780 --> 25:35.780
改成sync

25:35.780 --> 25:37.780
对吧,是一个异步的方法

25:37.780 --> 25:39.780
好,然后接下来我们这边拿到

25:39.780 --> 25:41.780
const

25:41.780 --> 25:43.780
一个upload

25:43.780 --> 25:45.780
result

25:45.780 --> 25:47.780
等于

25:47.780 --> 25:49.780
拿到,拿到之后

25:49.780 --> 25:51.780
然后接下来我们来看一下

25:51.780 --> 25:53.780
const.log

25:53.780 --> 25:55.780
upload

25:55.780 --> 25:57.780
result

25:57.780 --> 25:59.780
一步一步来走

25:59.780 --> 26:03.540
这边编译

26:03.540 --> 26:05.540
这边上传这两张

26:05.540 --> 26:07.540
我现在这边是空的

26:09.540 --> 26:11.540
我现在这边是空的,这边纯属

26:11.540 --> 26:13.540
刷新一下

26:13.540 --> 26:15.540
刷新一下,什么都没有

26:15.540 --> 26:17.540
空的

26:17.540 --> 26:19.540
然后在这边点击发表

26:19.540 --> 26:21.540
发表中

26:21.540 --> 26:23.540
OK,这边是不是回来了

26:23.540 --> 26:25.540
对吧,回来了

26:25.540 --> 26:27.540
这边的话就是有你的

26:29.540 --> 26:31.540
这个message这个是ok

26:31.540 --> 26:33.540
这边有个file id

26:33.540 --> 26:35.540
对吧,有个file id,file id的话是

26:35.540 --> 26:37.540
长这个样子的,返回的是一个对象

26:37.540 --> 26:39.540
OK,好,那接下来咱们继续

26:39.540 --> 26:41.540
继续

26:41.540 --> 26:43.540
下一步,下一步的话

26:43.540 --> 26:45.540
这边的话我

26:45.540 --> 26:47.540
订一个数组

26:47.540 --> 26:49.540
在这上面吧

26:49.540 --> 26:51.540
const.pica

26:51.540 --> 26:53.540
等于一个数组

26:53.540 --> 26:55.540
这个数组拿来干嘛呢

26:55.540 --> 26:57.540
它拿来存储

26:57.540 --> 26:59.540
云端返回的

26:59.540 --> 27:01.540
云端路径

27:01.540 --> 27:03.540
你这边云端不是给你返回了这个吗

27:03.540 --> 27:05.540
对吧

27:05.540 --> 27:07.540
然后下这个数组

27:07.540 --> 27:09.540
专门就是用来存储云端路径的

27:09.540 --> 27:11.540
OK

27:11.540 --> 27:13.540
然后说说我们在这边

27:13.540 --> 27:15.540
这边的话我们就

27:15.540 --> 27:17.540
这个数组点什么呢

27:17.540 --> 27:19.540
点push

27:19.540 --> 27:21.540
把谁push进去呢

27:21.540 --> 27:23.540
就是upload result

27:23.540 --> 27:25.540
然后加这个file

27:25.540 --> 27:27.540
点

27:27.540 --> 27:29.540
file id

27:29.540 --> 27:31.540
把它push进去

27:31.540 --> 27:33.540
好,push进去之后,然后接下来

27:33.540 --> 27:35.540
这边做一个判断,e符什么呢

27:35.540 --> 27:37.540
e符这个i

27:37.540 --> 27:39.540
全等于一个z

27:39.540 --> 27:41.540
z是点data

27:41.540 --> 27:43.540
点file list

27:43.540 --> 27:45.540
然后点认识

27:45.540 --> 27:47.540
简衣

27:47.540 --> 27:49.540
如果你的这个i

27:49.540 --> 27:51.540
这个i哪儿来的

27:51.540 --> 27:53.540
这儿i哪儿来的

27:53.540 --> 27:55.540
是不是你这边for循环

27:55.540 --> 27:57.540
对不对,如果等于这个认识简衣

27:57.540 --> 27:59.540
说明什么,说明已经在上传

27:59.540 --> 28:01.540
最后一张图片了

28:01.540 --> 28:03.540
对不对,说明已经

28:03.540 --> 28:05.540
说明已经

28:05.540 --> 28:07.540
上传完

28:07.540 --> 28:11.540
最后一张图片了

28:11.540 --> 28:14.910
最后一张图片已经上传完了

28:14.910 --> 28:16.910
好,上传完了之后

28:16.910 --> 28:18.910
然后接下来我们就要干嘛

28:18.910 --> 28:20.910
我们是不是就是应该是组装这条说说数据

28:20.910 --> 28:22.910
组装

28:22.910 --> 28:24.910
这一条

28:24.910 --> 28:26.910
这个说说

28:26.910 --> 28:28.910
数据

28:28.910 --> 28:30.910
对不对,然后准备

28:30.910 --> 28:32.910
准备存储到

28:32.910 --> 28:34.910
存储到

28:34.910 --> 28:36.910
这个云

28:36.910 --> 28:38.910
数据库

28:38.910 --> 28:40.910
是不是像这样子

28:40.910 --> 28:42.910
对吧,说说我们这边的话

28:42.910 --> 28:44.910
Const一个data

28:44.910 --> 28:46.910
等于

28:46.910 --> 28:48.910
好,这个数据有什么呢

28:48.910 --> 28:50.910
首先有你的content

28:50.910 --> 28:52.910
就是你这条说说的内容

28:52.910 --> 28:54.910
就是写在这里的

28:54.910 --> 28:56.910
这边那就是什么

28:56.910 --> 28:58.910
z.data.content

28:58.910 --> 29:00.910
对不对,这是说说的内容

29:00.910 --> 29:02.910
好,然后在这边

29:02.910 --> 29:04.910
PIC

29:04.910 --> 29:06.910
对应的就是我这个数组

29:06.910 --> 29:08.910
AR

29:08.910 --> 29:10.910
对吧,就是我这个AR

29:10.910 --> 29:12.910
就是这个数组

29:12.910 --> 29:14.910
这个数组是不是存储了你所有图片的云端路径

29:14.910 --> 29:16.910
对不对

29:16.910 --> 29:20.220
这条说说

29:20.220 --> 29:22.220
这条

29:22.220 --> 29:24.220
这条说说

29:24.220 --> 29:26.220
所有图片的

29:26.220 --> 29:28.220
这个路径

29:28.220 --> 29:30.220
云端

29:30.220 --> 29:32.220
云端路径

29:32.220 --> 29:34.220
这个的话是这条

29:34.220 --> 29:36.220
说说的内容

29:36.220 --> 29:38.220
对吧,然后接下来这边还有一个

29:38.220 --> 29:40.220
你说说的话,一般还会有个什么

29:40.220 --> 29:42.220
还会有个时间啊

29:42.220 --> 29:44.220
对吧,说这边

29:44.220 --> 29:46.220
publish.dat

29:46.220 --> 29:48.220
这边对应的是new.dat

29:48.220 --> 29:50.220
然后点gettime

29:50.220 --> 29:53.660
gettime

29:53.660 --> 29:55.660
然后点

29:55.660 --> 29:57.660
toolstream

29:57.660 --> 29:59.660
OK,那整个

29:59.660 --> 30:01.660
这条数据就组装好了

30:01.660 --> 30:03.660
好,组装好了之后

30:03.660 --> 30:05.660
然后接下来这边存储的

30:05.660 --> 30:07.660
云数据库

30:07.660 --> 30:09.660
云数据库

30:09.660 --> 30:14.380
OK,这边就是

30:14.380 --> 30:16.380
你得获取

30:16.380 --> 30:18.380
对不对,你得获取

30:18.380 --> 30:20.380
来,我这边让我这个数据库的话已经建好了

30:20.380 --> 30:22.380
在这里

30:22.380 --> 30:24.380
就是哪个呢,就是这个

30:24.380 --> 30:26.380
message是

30:26.380 --> 30:28.380
只不过现在是空的

30:28.380 --> 30:30.380
所以回到我们这边

30:30.380 --> 30:32.380
回到这边

30:32.380 --> 30:34.380
这边让咱们来获取一下

30:34.380 --> 30:36.380
couns的一个db

30:36.380 --> 30:38.380
等于一个微信点

30:38.380 --> 30:40.380
cloud

30:40.380 --> 30:42.380
微信点cloud

30:42.380 --> 30:44.380
点database

30:44.380 --> 30:48.380
啊,这个是获取数据库的这个实例

30:48.380 --> 30:50.380
好,让在这边couns的一个

30:50.380 --> 30:52.380
messages

30:52.380 --> 30:54.380
等于一个db.collection

30:54.380 --> 30:56.380
然后

30:56.380 --> 30:58.380
获取哪个,什么message

30:58.380 --> 31:01.890
对不对,获取它

31:01.890 --> 31:03.890
好,获取它之后

31:03.890 --> 31:05.890
然后接下来在这下面

31:05.890 --> 31:07.890
这边下面

31:07.890 --> 31:09.890
这下面的话就应该是什么

31:09.890 --> 31:11.890
这下面是不是应该是message.end

31:11.890 --> 31:13.890
对不对

31:13.890 --> 31:15.890
点end,然后接下来

31:15.890 --> 31:17.890
这边存储什么呢,存储这个

31:17.890 --> 31:19.890
data

31:19.890 --> 31:21.890
存储这个data

31:21.890 --> 31:23.890
存储这个data,然后加它是这个

31:23.890 --> 31:25.890
异步的,所以我们这边等待

31:25.890 --> 31:27.890
等待它存,存完之后

31:27.890 --> 31:31.840
然后接下来我们这边清空文本

31:31.840 --> 31:35.980
清空文本

31:35.980 --> 31:37.980
清空文本,这边就是

31:37.980 --> 31:39.980
z.cdata

31:39.980 --> 31:43.870
好,然后接下来

31:43.870 --> 31:45.870
这边这个content

31:45.870 --> 31:47.870
把这个内容清空

31:47.870 --> 31:49.870
还有什么,还有file list

31:49.870 --> 31:51.870
清空

31:51.870 --> 31:53.870
对不对,清空完了之后

31:53.870 --> 31:55.870
然后这样我们把那个隐藏了

31:55.870 --> 31:57.870
微信点

31:57.870 --> 31:59.870
hide

31:59.870 --> 32:01.870
hide loading

32:01.870 --> 32:03.870
把这个东西

32:03.870 --> 32:05.870
把它隐藏了,隐藏了之后

32:05.870 --> 32:07.870
让我们给一个这个提示

32:07.870 --> 32:09.870
就是

32:09.870 --> 32:11.870
已经成功发表

32:11.870 --> 32:13.870
微信点

32:13.870 --> 32:15.870
show toast

32:15.870 --> 32:19.700
就发表成功

32:19.700 --> 32:23.650
发表

32:23.650 --> 32:25.650
成功

32:25.650 --> 32:27.650
它这边好像有个icon是吧

32:27.650 --> 32:29.650
icon我们这边就用这个sixth

32:29.650 --> 32:31.650
就用这个

32:31.650 --> 32:33.650
OK,保存

32:33.650 --> 32:35.650
好,重新编一下

32:35.650 --> 32:37.650
编一下之后

32:37.650 --> 32:39.650
这样我们这边先把那个

32:39.650 --> 32:41.650
先把之前的

32:41.650 --> 32:43.650
之前的也不用删

32:43.650 --> 32:45.650
也不用删

32:45.650 --> 32:47.650
之前不是有两张图片吗

32:47.650 --> 32:49.650
删了吧,怎么重新开始

32:49.650 --> 32:51.650
删除

32:51.650 --> 32:53.650
OK,现在这边这个

32:53.650 --> 32:55.650
云端存储

32:55.650 --> 32:57.650
这边是空的

32:57.650 --> 32:59.650
数据库这边也是空的

32:59.650 --> 33:01.650
好,来,我们这边来,开始

33:01.650 --> 33:03.650
这边Hello

33:03.650 --> 33:05.650
这边选两张图片

33:05.650 --> 33:07.650
打开

33:07.650 --> 33:09.650
打开之后

33:09.650 --> 33:11.650
然后发表

33:11.650 --> 33:15.730
发表成功

33:15.730 --> 33:17.730
发表成功之后,这边清空了

33:17.730 --> 33:19.730
清空了之后,然后接下来的话在这边

33:19.730 --> 33:21.730
回到我们到这边来

33:21.730 --> 33:23.730
来看一下

33:23.730 --> 33:25.730
刷新

33:25.730 --> 33:27.730
你看,这边是不是一条数据就存进来了

33:27.730 --> 33:29.730
这边有Hello,那有什么

33:29.730 --> 33:31.730
是不是有你的这个路径

33:31.730 --> 33:33.730
对不对,你看它是一个数组

33:33.730 --> 33:35.730
它是个数组路径

33:35.730 --> 33:37.730
它不理解发表的这个时间

33:37.730 --> 33:39.730
好,然后接下来的话

33:39.730 --> 33:41.730
这边,这个路径对应的是什么

33:41.730 --> 33:43.730
对应的是不是就是存储这边

33:43.730 --> 33:45.730
是不是两张图片

33:45.730 --> 33:47.730
对吧,存储这边

33:47.730 --> 33:49.730
两张图片

33:49.730 --> 33:51.730
OK

33:51.730 --> 33:53.730
好,然后这边的话咱们这个发表

33:53.730 --> 33:55.730
实际上就已经做完了

33:55.730 --> 33:57.730
好,做完之后,然后接下来咱们来

33:57.730 --> 33:59.730
做这个首页

33:59.730 --> 34:01.730
来做这个首页

34:01.730 --> 34:03.730
这边的话咱们

34:03.730 --> 34:05.730
是要就是显示一条一条的这个说说

34:05.730 --> 34:07.730
这说说的话

34:07.730 --> 34:09.730
大字长什么样子呢

34:09.730 --> 34:11.730
我给它画个图

34:11.730 --> 34:13.730
大字是这个样子的

34:13.730 --> 34:15.730
就首先左边是一个日期

34:15.730 --> 34:17.730
日期

34:17.730 --> 34:19.730
就和那个朋友圈很像啊

34:19.730 --> 34:21.730
就说今天是2月7号,这边就是期

34:21.730 --> 34:23.730
然后叫这边2月

34:23.730 --> 34:25.730
对吧,这边2月,写个字

34:25.730 --> 34:27.730
我不写了

34:27.730 --> 34:29.730
好,然后在这边,这边是你的文本内容

34:29.730 --> 34:31.730
对不对,好,然后下面

34:31.730 --> 34:33.730
是你的图片

34:33.730 --> 34:35.730
展示你的这个图片

34:35.730 --> 34:37.730
比较这边的话有这么多张图片

34:37.730 --> 34:39.730
比如说有五张图片吗

34:39.730 --> 34:43.040
OK,这个就是一条说说

34:43.040 --> 34:45.040
OK,然后接下来的话

34:45.040 --> 34:47.040
下面就是第二条说说

34:47.040 --> 34:49.040
首先这边还是这个日期

34:49.040 --> 34:51.040
这边是对你的日期

34:51.040 --> 34:53.040
比较二

34:53.040 --> 34:55.040
这边是这个内容

34:55.040 --> 34:57.040
那下面是什么呢,下面是你的这个图片

34:57.040 --> 34:59.040
大字的话

34:59.040 --> 35:01.040
这边首页的话就是这个样子

35:01.040 --> 35:03.040
好,是这个样子的话

35:03.040 --> 35:05.040
那接下来你思考一下

35:05.040 --> 35:07.040
那这个的话我是不可以把它封装

35:07.040 --> 35:09.040
成一个自定义的组件

35:09.040 --> 35:11.040
想一想,可不可以

35:11.040 --> 35:13.040
可以吧,对不对

35:13.040 --> 35:15.040
咱们直接把这个

35:15.040 --> 35:17.040
上一张那个那个自定义组件

35:17.040 --> 35:19.040
咱们把它串起来

35:19.040 --> 35:21.040
我这边的话,你看整个这个

35:21.040 --> 35:23.040
是不是就可以封装成一个组件

35:23.040 --> 35:25.040
这个你看每个是不是相同的

35:25.040 --> 35:27.040
对不对,说实话我们在这边

35:27.040 --> 35:29.040
在这边的话咱们

35:29.040 --> 35:31.040
新建一个

35:33.040 --> 35:35.040
咱们在整个根木炉下面

35:35.040 --> 35:37.040
新建文件加

35:37.040 --> 35:39.040
叫做什么呢,叫做components

35:39.040 --> 35:42.420
好,components

35:42.420 --> 35:44.420
新建一个文件加,叫做这个

35:44.420 --> 35:46.420
item

35:46.420 --> 35:48.420
或者叫做message

35:48.420 --> 35:50.420
ok

35:50.420 --> 35:52.420
message,然后加这边的话是一个

35:54.420 --> 35:56.420
新建component

35:56.420 --> 35:58.420
这边的话就是

35:58.420 --> 36:00.420
message

36:00.420 --> 36:02.420
ok

36:02.420 --> 36:04.420
这个就是我们的自定义

36:04.420 --> 36:06.420
自定义组件,然后把这个自定义

36:06.420 --> 36:08.420
组件,然后加这边首先

36:08.420 --> 36:10.420
先写个view,然后message

36:10.420 --> 36:12.420
对吧,先简单写一下

36:12.420 --> 36:14.420
写完之后,然后

36:14.420 --> 36:16.420
接下来的话在

36:16.420 --> 36:18.420
这边index这边

36:18.420 --> 36:20.420
这边的话是不是你就要得

36:20.420 --> 36:22.420
引入这个组件,对吧

36:22.420 --> 36:24.420
这边我们就是message

36:24.420 --> 36:28.880
message,对应的是什么

36:28.880 --> 36:30.880
components

36:30.880 --> 36:32.880
下面的message

36:32.880 --> 36:34.880
下面的message

36:36.880 --> 36:38.880
对吧,好,来,我们这边来用一下

36:38.880 --> 36:40.880
这边是index,index

36:40.880 --> 36:42.880
然后加这边

36:42.880 --> 36:44.880
message

36:44.880 --> 36:46.880
ok,那叫这边

36:46.880 --> 36:48.880
编译

36:48.880 --> 36:50.880
把那个调一下

36:50.880 --> 36:52.880
把那个顺序

36:52.880 --> 36:54.880
重新调回去,我们publix

36:54.880 --> 37:00.300
已经写完了

37:00.300 --> 37:02.300
好,这边重新编一下

37:02.300 --> 37:04.300
就出来了

37:04.300 --> 37:06.300
对不对

37:06.300 --> 37:08.300
然后这边

37:08.300 --> 37:10.300
这个

37:10.300 --> 37:12.300
这个先消除了

37:12.300 --> 37:14.300
好,然后接下来的话

37:14.300 --> 37:16.300
我们这边我们的重点就是什么

37:16.300 --> 37:18.300
重点的话是不是就是把这个message

37:18.300 --> 37:20.300
就把它搞定,对不对

37:20.300 --> 37:22.300
message有多少个取决于什么

37:22.300 --> 37:24.300
是不是取决于你的这个

37:24.300 --> 37:26.300
说说有多少条啊

37:26.300 --> 37:28.300
对不对,取决于你说说有多少条

37:28.300 --> 37:30.300
说我们这边在index这边

37:30.300 --> 37:32.300
这边是index

37:32.300 --> 37:34.300
然后把其他的关了吧

37:34.300 --> 37:36.300
关闭

37:36.300 --> 37:38.300
其他,然后把这边

37:38.300 --> 37:40.300
这边关闭

37:40.300 --> 37:42.300
以保存,重新回到这边

37:42.300 --> 37:44.300
这个index,现在是在

37:44.300 --> 37:46.300
配级

37:46.300 --> 37:48.300
下面的这个index,就这个

37:48.300 --> 37:50.300
这个页面里面的这个解释文件里面

37:50.300 --> 37:52.300
好,在这里,这里的话

37:52.300 --> 37:54.300
我首先有个什么呢,首先有个list

37:54.300 --> 37:56.300
啊,有个list

37:56.300 --> 37:58.300
他是怎么呢,他是存储说说列表

37:58.300 --> 38:00.300
存储说说

38:00.300 --> 38:02.300
列表

38:02.300 --> 38:04.300
OK

38:04.300 --> 38:06.300
好,然后接下来我在这边

38:06.300 --> 38:08.300
我在这个on show的时候

38:08.300 --> 38:10.300
显示

38:10.300 --> 38:12.300
这个页面的时候

38:12.300 --> 38:14.300
那我这边呢,是不是就干干嘛

38:14.300 --> 38:16.300
是不是从云端

38:16.300 --> 38:18.300
拉取说说

38:18.300 --> 38:20.300
对不对,这边显示

38:20.300 --> 38:22.300
显示

38:22.300 --> 38:24.300
显示,首页的时候

38:24.300 --> 38:26.300
从

38:26.300 --> 38:28.300
云端

38:28.300 --> 38:30.300
数据库

38:30.300 --> 38:32.300
拉取

38:32.300 --> 38:37.020
说说

38:37.020 --> 38:39.020
好,那这边那仍然是

38:39.020 --> 38:41.020
把刚才那个

38:41.020 --> 38:43.020
publish

38:43.020 --> 38:45.020
把这边,这两个拿过来

38:47.020 --> 38:49.020
首先拿到这个云端

38:49.020 --> 38:51.020
数据库的这个集合

38:51.020 --> 38:53.020
对吧,拿到之后

38:53.020 --> 38:55.020
接下来这边await

38:55.020 --> 38:57.020
这边呢,你改成sync

38:57.020 --> 38:59.020
改成一步的sync

38:59.020 --> 39:01.020
这边await

39:01.020 --> 39:03.020
这个message

39:03.020 --> 39:05.020
OK,好,message

39:05.020 --> 39:07.020
然后接下来,它是这个集合

39:07.020 --> 39:09.020
集合的话,如何获取呢

39:09.020 --> 39:11.020
这个的话,就要考验你查取这个文档的能力了

39:11.020 --> 39:13.020
OK,我们之前

39:13.020 --> 39:15.020
我们在演示这个数据库的时候

39:15.020 --> 39:17.020
我们只演示了什么

39:17.020 --> 39:19.020
只演示了这个增加,对不对

39:19.020 --> 39:21.020
好,那你这边你就看呗,点过来

39:21.020 --> 39:23.020
数据库

39:23.020 --> 39:25.020
这边数据库

39:27.020 --> 39:29.020
它这边,这边实际上就是什么

39:29.020 --> 39:31.020
实际上就是get方法

39:31.020 --> 39:33.020
看不看,你这边可以就是

39:33.020 --> 39:35.020
到数据库指引

39:35.020 --> 39:37.020
然后加这边,读取数据

39:37.020 --> 39:39.020
读取数据,然后加这边

39:39.020 --> 39:41.020
你看一下

39:41.020 --> 39:43.020
就是什么,这边它是获取到那个集合

39:43.020 --> 39:45.020
获取到集合

39:45.020 --> 39:47.020
这个是获取到集合

39:47.020 --> 39:49.020
获取到集合

39:49.020 --> 39:51.020
这个是对应的某一条文档

39:51.020 --> 39:53.020
某一条文档在这边get

39:53.020 --> 39:55.020
那我们这边的话

39:55.020 --> 39:57.020
应该就是直接调什么

39:57.020 --> 40:01.360
直接调get方法

40:01.360 --> 40:03.360
对吧,直接调get方法

40:03.360 --> 40:05.360
就可以拉取所有的说说

40:05.360 --> 40:07.360
但这边的话,设计到什么呢

40:07.360 --> 40:09.360
设计到你比如说说比较多

40:09.360 --> 40:11.360
比如已经有100多条说说了

40:11.360 --> 40:13.360
那我一次性拉取完的话,可能不太现实

40:13.360 --> 40:15.360
那我这边就是

40:15.360 --> 40:18.860
可以给它写个什么呢

40:18.860 --> 40:20.860
可以给它写个limit

40:20.860 --> 40:22.860
限制它的这个数量

40:22.860 --> 40:24.860
你看这边有

40:24.860 --> 40:26.860
下面是一个云数据库端

40:26.860 --> 40:28.860
获取一个集合所有记录的例子

40:28.860 --> 40:30.860
因为有最多

40:30.860 --> 40:32.860
它默认就是有100条

40:32.860 --> 40:34.860
100条的这个限制

40:34.860 --> 40:36.860
默认就有100条的这个限制

40:36.860 --> 40:38.860
但你这边还可以手动的这个

40:38.860 --> 40:40.860
手动的去限制它

40:40.860 --> 40:42.860
我看这个在哪里

40:42.860 --> 40:44.860
脸表查询

40:44.860 --> 40:46.860
稍等,我找一下

40:46.860 --> 40:48.860
反正就是在文档里面

40:48.860 --> 40:50.860
你这边去看它的这个文档

40:50.860 --> 40:52.860
这边有的

40:52.860 --> 40:54.860
查询

40:54.860 --> 40:56.860
然后查询指令

40:56.860 --> 40:58.860
是不是查询指令里面

40:58.860 --> 41:00.860
查询指令

41:00.860 --> 41:02.860
这个是ware

41:02.860 --> 41:04.860
然后这边看到没有

41:04.860 --> 41:06.860
这边就有一些指令

41:06.860 --> 41:08.860
等于不等于,小于小于等于

41:08.860 --> 41:10.860
大于和大于等于

41:10.860 --> 41:12.860
这些

41:12.860 --> 41:14.860
然后这边这个是and or

41:14.860 --> 41:16.860
实际上你如果学过那个mangoDB的话

41:16.860 --> 41:18.860
这个其实就和mangoDB非常相似

41:18.860 --> 41:20.860
对吧

41:20.860 --> 41:22.860
为什么说技术之间是同的

41:22.860 --> 41:24.860
就是这个原因

41:24.860 --> 41:26.860
它那个

41:26.860 --> 41:28.860
在哪里呢,是这个吗

41:28.860 --> 41:30.860
command

41:30.860 --> 41:32.860
or eq

41:32.860 --> 41:34.860
它的那个

41:36.860 --> 41:38.860
我记得有那个list

41:38.860 --> 41:40.860
算数

41:40.860 --> 41:44.880
我找一下

41:44.880 --> 41:50.560
list,这边是

41:50.560 --> 41:52.560
我找不到了

41:52.560 --> 41:54.560
回头找一下

41:54.560 --> 41:56.560
回头找一下,它这边是有的

41:56.560 --> 41:58.560
我这边的话我之前是看到的

41:58.560 --> 42:00.560
但是我忘记这边是在哪里了

42:02.560 --> 42:04.560
这边and

42:04.560 --> 42:06.560
这个是条件

42:06.560 --> 42:08.560
然后

42:08.560 --> 42:10.560
找不到了

42:10.560 --> 42:12.560
回头的话找一下

42:12.560 --> 42:14.560
再仔细看一下

42:14.560 --> 42:16.560
我这边就

42:16.560 --> 42:18.560
这边我就直接写了

42:18.560 --> 42:20.560
我在这边就不耽误时间了

42:20.560 --> 42:22.560
直接写,这边你在这个git

42:22.560 --> 42:24.560
git这边的话你就是可以

42:24.560 --> 42:26.560
传一个这个对象

42:26.560 --> 42:28.560
对象这边的话你可以写一个

42:28.560 --> 42:30.560
limit

42:30.560 --> 42:32.560
限字,这边5条

42:32.560 --> 42:34.560
好,然后接下来我们这边

42:34.560 --> 42:36.560
const

42:36.560 --> 42:38.560
一个这个data

42:38.560 --> 42:40.560
结构

42:40.560 --> 42:42.560
这个data

42:42.560 --> 42:44.560
人家我们这边我们来打印一下

42:44.560 --> 42:46.560
console.log

42:46.560 --> 42:48.560
data

42:48.560 --> 42:52.130
对面来看一下

42:52.130 --> 42:54.130
出来没有

42:54.130 --> 42:56.130
拿到了吧,对不对,你看这边

42:56.130 --> 42:58.130
content,然后接下来这边

42:58.130 --> 43:00.130
so就拿到了,对吧

43:00.130 --> 43:02.130
拿到了之后那下后来

43:02.130 --> 43:04.130
后面就好办了

43:04.130 --> 43:06.130
后面的话我们这边就

43:06.130 --> 43:08.130
z.setdata

43:10.130 --> 43:12.130
把这个数据给谁

43:12.130 --> 43:14.130
给list

43:14.130 --> 43:16.130
对不对,给list

43:16.130 --> 43:18.130
给了list之后,然后接下来的话

43:18.130 --> 43:20.130
你这边

43:20.130 --> 43:22.130
这边

43:22.130 --> 43:24.130
这边在使用这个message的时候

43:24.130 --> 43:26.130
这些都不要

43:26.130 --> 43:28.130
我们这边就是渲染message

43:28.130 --> 43:30.130
那message这个组件渲染多少个

43:30.130 --> 43:32.130
渲染多少个取决于什么

43:32.130 --> 43:34.130
是不是取决于

43:34.130 --> 43:36.130
你的这个list

43:36.130 --> 43:38.130
是不是循环多少次

43:38.130 --> 43:40.130
对不对

43:40.130 --> 43:42.130
然后就在这边把这个key

43:42.130 --> 43:44.130
给上

43:44.130 --> 43:46.130
key

43:46.130 --> 43:48.130
这边this

43:48.130 --> 43:50.130
大家这边再把这个

43:50.130 --> 43:52.130
这边再传称item

43:52.130 --> 43:54.130
等于一个

43:54.130 --> 43:56.130
这边你在否循环的时候

43:56.130 --> 43:58.130
他默认就是什么,item

43:58.130 --> 44:00.130
item传过去的是什么

44:00.130 --> 44:02.130
传过去的是不是就是这个内容

44:02.130 --> 44:04.130
对不对,就这个内容

44:04.130 --> 44:06.130
好,那接下来的话

44:06.130 --> 44:08.130
我们的开发重点就来到了

44:08.130 --> 44:10.130
这边

44:10.130 --> 44:12.130
就来到这边

44:12.130 --> 44:14.130
我看一下我这边好像有些css

44:14.130 --> 44:16.130
css我就直接拿过来了

44:16.130 --> 44:18.130
css就不花时间带着写了

44:18.130 --> 44:20.130
我就直接把这个css

44:20.130 --> 44:22.130
这把拿过来

44:22.130 --> 44:24.130
放到这,都是一些很简单的css

44:26.130 --> 44:28.130
好,那回到这边

44:28.130 --> 44:30.130
回到这个wxmail这边

44:30.130 --> 44:32.130
这边我们就来写一下

44:32.130 --> 44:34.130
首先的话这边

44:34.130 --> 44:36.130
view.moment

44:38.130 --> 44:40.130
momentcontainer

44:40.130 --> 44:42.130
ok

44:42.130 --> 44:44.130
然后分为一个一左一右

44:44.130 --> 44:46.130
view.neft

44:46.130 --> 44:50.130
然后还有这个view.right

44:50.130 --> 44:52.130
左边那就是

44:52.130 --> 44:55.570
放这个时间

44:55.570 --> 44:57.570
这个那就是放时间

44:57.570 --> 44:59.570
就我们刚才画的,就这边

44:59.570 --> 45:01.570
对吧,放这个时间

45:01.570 --> 45:03.570
右边的话就是说说内容

45:03.570 --> 45:05.570
ok

45:05.570 --> 45:07.570
说说内容,然后接下来这边的话又分为什么

45:07.570 --> 45:09.570
说分为上面和下面

45:09.570 --> 45:11.570
这边这个view

45:11.570 --> 45:13.570
view.content

45:13.570 --> 45:15.570
这个是说说的内容

45:15.570 --> 45:17.570
这个是文字内容

45:17.570 --> 45:21.580
文字内容

45:21.580 --> 45:23.580
下面,下面的话是这个图片

45:23.580 --> 45:25.580
这边这个view

45:25.580 --> 45:27.580
图片我们这边一会还要做处理

45:27.580 --> 45:29.580
我先把这个容器先写在这里

45:31.580 --> 45:33.580
这边class等于一个

45:33.580 --> 45:35.580
piccontainer

45:35.580 --> 45:37.580
ok

45:37.580 --> 45:39.580
大字的结构是这个样子的

45:39.580 --> 45:41.580
好,这里面

45:41.580 --> 45:43.580
这里面的话就是view

45:43.580 --> 45:45.580
点

45:45.580 --> 45:47.580
这个是

45:47.580 --> 45:49.580
那个哪一天

45:49.580 --> 45:51.580
然后接下来这边的话有一个month

45:51.580 --> 45:53.580
OK

45:53.580 --> 45:55.580
好,然后这边的话说说的这个内容

45:55.580 --> 45:57.580
说说的内容的话对应的就是

45:57.580 --> 45:59.580
应该是什么

45:59.580 --> 46:01.580
是不是你这边传递过来的

46:01.580 --> 46:03.580
item.content

46:03.580 --> 46:05.580
是不是就这边

46:05.580 --> 46:07.580
这边我们有这么三项

46:07.580 --> 46:09.580
这个图放在这里

46:09.580 --> 46:11.580
这个图放在这里

46:11.580 --> 46:15.150
我们有这么几项

46:15.150 --> 46:17.150
好,这边这个content

46:17.150 --> 46:19.150
OK,好,来我们这边

46:19.150 --> 46:21.150
放在哪里呢

46:21.150 --> 46:23.150
放在哪里何时呢

46:23.150 --> 46:25.150
放在这吧

46:25.150 --> 46:27.150
放在这好不好

46:27.150 --> 46:29.150
主要它会挡住那个编译

46:29.150 --> 46:31.150
放这吧

46:31.150 --> 46:33.150
放这

46:33.150 --> 46:36.530
好,让它加我们这边编译一下

46:36.530 --> 46:38.530
OK,现在什么都没出来是吧

46:38.530 --> 46:40.530
什么都没出来的话你这边到那边

46:40.530 --> 46:42.530
到那个js那边

46:42.530 --> 46:46.100
js这边

46:46.100 --> 46:48.100
这边的话有些东西你要写

46:48.100 --> 46:50.100
把这些多余的写把它干掉

46:50.100 --> 46:52.100
然后data

46:52.100 --> 46:54.100
data留着吧

46:54.100 --> 46:56.100
把这些注释上了吧

46:56.100 --> 46:58.100
OK,好,首先的话是这个poperties

46:58.100 --> 47:00.100
poperties

47:00.100 --> 47:02.100
然后下这边就接受一个什么

47:02.100 --> 47:04.100
接受一个item

47:04.100 --> 47:06.100
对应的是一个object

47:06.100 --> 47:08.100
刚才的话没显示出来,应该就这个原因

47:08.100 --> 47:10.100
OK

47:10.100 --> 47:13.470
哎,出来了吗

47:13.470 --> 47:15.470
这边是不是出来了对不对

47:15.470 --> 47:17.470
Hello,那这边就是什么

47:17.470 --> 47:19.470
这下就是时间和图片

47:19.470 --> 47:21.470
咱们一个一个来搞定

47:21.470 --> 47:23.470
一个一个来搞定

47:23.470 --> 47:25.470
首先的话是什么呢

47:25.470 --> 47:27.470
首先的话是这个时间

47:27.470 --> 47:29.470
时间的话你这边是一个什么

47:29.470 --> 47:31.470
这边是不是一个那个时间戳呀

47:31.470 --> 47:33.470
对不对

47:33.470 --> 47:35.470
是个时间戳

47:35.470 --> 47:37.470
这个时间戳的话这边涉及到一个什么呢

47:37.470 --> 47:39.470
转换的问题

47:39.470 --> 47:41.470
涉及到一个转换的问题

47:41.470 --> 47:43.470
说我们这边的话,我们在这个utl下面

47:43.470 --> 47:45.470
这边

47:45.470 --> 47:47.470
这边的话他不是默认会有一个

47:47.470 --> 47:49.470
转换吗

47:49.470 --> 47:51.470
不是默认有个转换,这个是我之前写的

47:51.470 --> 47:53.470
我之前写的

47:53.470 --> 47:55.470
这个已经写好了

47:55.470 --> 47:57.470
这已经写好了

47:57.470 --> 47:59.470
这边接受一个什么呢

47:59.470 --> 48:01.470
接受一个时间戳

48:01.470 --> 48:03.470
对吧,接受一个时间戳之后

48:03.470 --> 48:05.470
然后加这边给你返回

48:05.470 --> 48:07.470
那还就是年月日这些

48:07.470 --> 48:09.470
给你返回

48:09.470 --> 48:11.470
最终的话返回这么一个对象

48:11.470 --> 48:13.470
那加这边把它导出

48:13.470 --> 48:15.470
这个就不讲了

48:15.470 --> 48:17.470
这个是js基础了

48:17.470 --> 48:19.470
对吧,这个就不说了

48:19.470 --> 48:21.470
你有了这么一个转换之后可以把时间戳

48:21.470 --> 48:23.470
转换成这个年月日

48:23.470 --> 48:25.470
那接下来来到我们这个js这边

48:25.470 --> 48:27.470
回到这边

48:27.470 --> 48:29.470
这边的话我们把那个工具函数

48:29.470 --> 48:33.550
把它引入一下

48:33.550 --> 48:35.550
引入工具

48:35.550 --> 48:37.550
函数,这边const

48:37.550 --> 48:39.550
这边解构

48:39.550 --> 48:41.550
这边是format.

48:41.550 --> 48:43.550
等于一个

48:43.550 --> 48:47.060
require

48:47.060 --> 48:49.060
这个的话是

48:49.060 --> 48:51.060
上一集

48:51.060 --> 48:53.060
的这个utils

48:53.060 --> 48:55.060
下面的utils.js

48:55.060 --> 48:59.260
好,把它引入进来

48:59.260 --> 49:01.260
好,引入进来之后

49:01.260 --> 49:03.260
然后接下来的话我们这边

49:03.260 --> 49:07.730
这边的话咱们需要

49:07.730 --> 49:09.730
把这个拿到的这个item

49:09.730 --> 49:11.730
里面的这个public data

49:11.730 --> 49:13.730
是把它转换一下

49:13.730 --> 49:15.730
对不对,那这边转换的话咱们

49:15.730 --> 49:17.730
这边就在这个生命周期

49:17.730 --> 49:19.730
生命周期这里面

49:19.730 --> 49:21.730
这边有一个lifetimes

49:21.730 --> 49:23.730
lifetimes是这里

49:23.730 --> 49:25.730
这里的话我们这边就是attached

49:25.730 --> 49:27.730
还记得吧,之前介绍的这个生命周期

49:27.730 --> 49:29.730
勾字还能说

49:29.730 --> 49:31.730
对吧,好在这边的话我们就可以拿到

49:31.730 --> 49:33.730
我们这边我们来打印一下

49:33.730 --> 49:35.730
console.log

49:35.730 --> 49:37.730
z.properties

49:37.730 --> 49:39.730
点item

49:39.730 --> 49:41.730
OK,好,我们这边

49:41.730 --> 49:43.730
来看一下

49:43.730 --> 49:45.730
这边是不可以拿到

49:45.730 --> 49:47.730
对不对,可以拿到,我把这个重新挤个图

49:47.730 --> 49:49.730
重新挤个图

49:49.730 --> 49:51.730
放到这里

49:51.730 --> 49:57.920
OK,好,这边是不可以拿到

49:57.920 --> 49:59.920
对不对,能拿到的话就好办了

49:59.920 --> 50:01.920
对吧,好,那接下来

50:01.920 --> 50:03.920
我们这边的话

50:03.920 --> 50:05.920
const一个item

50:05.920 --> 50:07.920
等于

50:07.920 --> 50:09.920
你这边传过来的这个item

50:09.920 --> 50:11.920
这个item长什么样子,这个item长这个样子

50:11.920 --> 50:13.920
对不对,它是一个对象

50:13.920 --> 50:15.920
好,是个对象,然后

50:15.920 --> 50:17.920
接下来我们这边重新设置时间

50:17.920 --> 50:22.060
重新

50:22.060 --> 50:24.060
设置时间

50:24.060 --> 50:26.060
将时间

50:26.060 --> 50:28.060
将时间戳

50:28.060 --> 50:30.060
时间戳

50:30.060 --> 50:32.060
转为

50:32.060 --> 50:35.440
可显示格式

50:35.440 --> 50:37.440
可显示格式

50:37.440 --> 50:39.440
OK,好,那接下来

50:39.440 --> 50:41.440
我们在这边,这边的话

50:41.440 --> 50:43.440
在data里面,我们还定义一个

50:43.440 --> 50:45.440
叫做dat

50:45.440 --> 50:47.440
info

50:47.440 --> 50:49.440
默认的话是什么呢,是这个now

50:49.440 --> 50:51.440
这个是存储

50:51.440 --> 50:53.440
处理后的时间

50:53.440 --> 50:55.440
处理后的

50:55.440 --> 50:57.440
时间,OK

50:57.440 --> 50:59.440
然后将我要处理时间,时间是不是在item

50:59.440 --> 51:01.440
点

51:01.440 --> 51:03.440
publish

51:03.440 --> 51:05.440
publish

51:05.440 --> 51:07.440
dat

51:07.440 --> 51:09.440
对不对,在这里

51:09.440 --> 51:11.440
publish.dat,它是一个这个时间戳

51:11.440 --> 51:13.440
好,交给谁来处理

51:13.440 --> 51:15.440
交给他来处理

51:15.440 --> 51:17.440
对不对,format.dat

51:17.440 --> 51:19.440
交给他来处理

51:19.440 --> 51:21.440
好,处理完了之后,他会返回一个什么,你看一下

51:21.440 --> 51:23.440
他会返回一个

51:23.440 --> 51:25.440
对象

51:25.440 --> 51:27.440
对吧,会返回一个对象,对象里面就包含了

51:27.440 --> 51:29.440
所有的这个时间

51:29.440 --> 51:31.440
好,那返回一个对象的话,那接下来我就把这个

51:31.440 --> 51:33.440
负责给什么呢,负责给

51:33.440 --> 51:35.440
dat info,所以我们在这边的话

51:35.440 --> 51:37.440
我们就直接

51:37.440 --> 51:39.440
点set data

51:39.440 --> 51:43.140
dat info

51:43.140 --> 51:45.140
对应的是

51:45.140 --> 51:47.140
这一块

51:47.140 --> 51:49.140
好,然后回头的话,在你这边

51:49.140 --> 51:51.140
在这边

51:51.140 --> 51:53.140
这边这个de

51:53.140 --> 51:55.140
de的话对应的就是什么呢,是不是就是你的

51:55.140 --> 51:57.140
dat info

51:57.140 --> 51:59.140
点这个de

51:59.140 --> 52:01.140
因为我这边呢,返回到这个对象

52:01.140 --> 52:03.140
对象里面就有这些,对吧,有de,有这些

52:03.140 --> 52:05.140
好,所以这边呢,就是

52:05.140 --> 52:07.140
dat info,de

52:07.140 --> 52:09.140
这边的话就是

52:09.140 --> 52:11.140
dat info

52:11.140 --> 52:13.140
点mouse

52:13.140 --> 52:15.140
好,我们这边重新编一下

52:15.140 --> 52:18.580
看一下

52:18.580 --> 52:20.580
这个时间怎么没出来

52:20.580 --> 52:22.580
这边照理说,应该是出来了

52:22.580 --> 52:24.580
这边还有个月

52:24.580 --> 52:26.580
哦,出来了

52:26.580 --> 52:28.580
出来了,重新重新哪一次呢

52:28.580 --> 52:30.580
出来了

52:30.580 --> 52:32.580
OK

52:32.580 --> 52:34.580
这边的话

52:34.580 --> 52:36.580
de是

52:36.580 --> 52:38.580
de是7号,这边的mouse

52:38.580 --> 52:40.580
mouse

52:40.580 --> 52:42.580
咱们出来了

52:42.580 --> 52:44.580
哦,这边写错了,这边是dat

52:44.580 --> 52:46.580
好,OK

52:46.580 --> 52:48.580
所以2月7号,对不对

52:48.580 --> 52:50.580
大家这个是我文本的内容

52:50.580 --> 52:52.580
好,这个的话咱们就搞定了

52:52.580 --> 52:54.580
好,搞定之后,然后

52:54.580 --> 52:58.080
接下来继续

52:58.080 --> 53:00.080
好,然后接下来的话

53:00.080 --> 53:02.080
接下来要处理的是什么呢

53:02.080 --> 53:06.220
接下来要处理的是图片了

53:06.220 --> 53:08.220
接下来要

53:08.220 --> 53:10.220
处理的是

53:10.220 --> 53:12.220
图片了

53:12.220 --> 53:14.220
图片的话,现在我们拿到了是什么

53:14.220 --> 53:16.220
拿到了是云端的路径

53:16.220 --> 53:18.220
对吧

53:18.220 --> 53:20.220
图片,我们现在

53:20.220 --> 53:22.220
拿到的是

53:22.220 --> 53:24.220
云端的路径

53:24.220 --> 53:26.220
路径

53:26.220 --> 53:28.220
好,我们这边我们需要做什么呢

53:28.220 --> 53:30.220
我们需要就是

53:30.220 --> 53:32.220
通过云端的路径

53:32.220 --> 53:34.220
然后接下来下载这张图片

53:34.220 --> 53:36.220
我们需要

53:36.220 --> 53:38.220
我们需要

53:38.220 --> 53:40.220
通过云端

53:40.220 --> 53:42.220
路径下载

53:42.220 --> 53:44.220
下载这个图片

53:44.220 --> 53:46.220
下载完了之后

53:46.220 --> 53:48.220
然后接下来的话,这边再把它

53:48.220 --> 53:50.220
显示出来

53:50.220 --> 53:52.220
对不对,我们要做这个事情

53:52.220 --> 53:54.220
好,我在这边

53:54.220 --> 53:56.220
这边的话我定一个,叫做Image

53:56.220 --> 53:58.220
AR2,它对应的是什么呢

53:58.220 --> 54:00.220
对应的是一个空数组

54:00.220 --> 54:02.220
这个它是拿来存储什么呢

54:02.220 --> 54:04.220
它就是拿来存储,就是所有的

54:04.220 --> 54:06.220
这个可以显示的图片

54:06.220 --> 54:08.220
用来存储

54:08.220 --> 54:10.220
就是下载后的图片

54:10.220 --> 54:12.220
下载后的图片

54:12.220 --> 54:14.220
下载后的图片

54:14.220 --> 54:16.220
OK,好,在这边

54:16.220 --> 54:18.220
回到这里,这里的话咱们

54:18.220 --> 54:20.220
这边来一个

54:20.220 --> 54:22.220
复循环

54:22.220 --> 54:24.220
Net i等于0

54:24.220 --> 54:26.220
i小于什么呢

54:26.220 --> 54:28.220
i小于

54:28.220 --> 54:30.220
这边的话应该是item

54:30.220 --> 54:32.220
item是这个对象嘛,对不对

54:32.220 --> 54:34.220
对不对,这个对象里面有个什么

54:34.220 --> 54:36.220
是不是有个PIC

54:36.220 --> 54:38.220
pass啊,对不对,它是个数组

54:38.220 --> 54:40.220
小于它的认识

54:40.220 --> 54:42.220
按一下下

54:42.220 --> 54:44.220
OK,好,然后

54:44.220 --> 54:46.220
接下来我们这边调用什么呢

54:46.220 --> 54:48.220
调用微信点

54:48.220 --> 54:51.660
cloud

54:51.660 --> 54:53.660
点什么呢,这边你看一下它这个下载

54:53.660 --> 54:55.660
把这个关了

54:57.660 --> 54:59.660
你看一下它的下载

54:59.660 --> 55:03.170
在这边

55:03.170 --> 55:06.480
OK,这个是上传

55:06.480 --> 55:08.480
这是我们之前讲过的

55:08.480 --> 55:10.480
下载在这里

55:10.480 --> 55:12.480
在这里

55:12.480 --> 55:14.480
是通过什么,把这个删除了

55:14.480 --> 55:16.480
这边,通过download

55:16.480 --> 55:18.480
file

55:18.480 --> 55:20.480
然后下你要给这个file id

55:20.480 --> 55:22.480
人家成功之后这边可以

55:22.480 --> 55:24.480
拿到它的这个路径

55:24.480 --> 55:26.480
好,那回到我们这边

55:26.480 --> 55:28.480
这边那就是

55:28.480 --> 55:30.480
微信点cloud

55:30.480 --> 55:32.480
然后点这个

55:32.480 --> 55:37.390
download

55:37.390 --> 55:39.390
downloadfile

55:39.390 --> 55:41.390
好,传入一个对象

55:41.390 --> 55:43.390
对象这边就是file id

55:43.390 --> 55:47.540
file id对应了就是什么呢,对应了就是这边

55:47.540 --> 55:49.540
这个pass,然后接下来这个

55:49.540 --> 55:51.540
i

55:51.540 --> 55:53.540
OK,对应了是这个

55:53.540 --> 55:55.540
好,对应了是这个,然后加上我们这边

55:55.540 --> 55:57.540
await

55:57.540 --> 55:59.540
等待它下载

55:59.540 --> 56:01.540
然后就在这边const.res

56:01.540 --> 56:03.540
我们这边看一下能不能下载到

56:03.540 --> 56:05.540
console.log

56:05.540 --> 56:07.540
res

56:07.540 --> 56:09.540
所以这边让你用了await

56:09.540 --> 56:11.540
同样这边要把它改成

56:11.540 --> 56:13.540
sync

56:13.540 --> 56:15.540
对吧,好,来我们这边编一下

56:15.540 --> 56:20.510
这边报错了

56:20.510 --> 56:22.510
报的什么错呀

56:22.510 --> 56:24.510
tm is not defend

56:24.510 --> 56:26.510
哪来的什么tm

56:28.510 --> 56:30.510
重新重新再编一下呢

56:32.510 --> 56:34.510
这边报的是有一个

56:34.510 --> 56:36.510
is not defend

56:36.510 --> 56:38.510
这里,这里,这里,这里是item

56:38.510 --> 56:40.510
对吧,OK

56:40.510 --> 56:44.720
重新来,拿到了

56:44.720 --> 56:46.720
对不对,这边拿到了

56:46.720 --> 56:48.720
这是第一张图片,这是第二张图片

56:48.720 --> 56:50.720
每张图片有个什么

56:50.720 --> 56:52.720
是不是有个tmfile pass

56:52.720 --> 56:54.720
这边是不是对应的是一个路径

56:54.720 --> 56:56.720
对不对,我们要的就是它

56:56.720 --> 56:58.720
通过它才能

56:58.720 --> 57:00.720
才能干嘛呢,才能把这个图片

57:00.720 --> 57:02.720
显示出来

57:02.720 --> 57:04.720
好,我们拿到了res

57:04.720 --> 57:06.720
拿到了之后,然后接下来的话

57:06.720 --> 57:08.720
我们这边,我们

57:08.720 --> 57:10.720
这边来一个数组

57:10.720 --> 57:12.720
来个数组

57:12.720 --> 57:14.720
const

57:14.720 --> 57:16.720
它等于什么呢,等于一个点点点

57:16.720 --> 57:18.720
res.data

57:18.720 --> 57:20.720
.image

57:20.720 --> 57:22.720
这个是什么

57:22.720 --> 57:24.720
这个是不是就一开始的这个空数爪

57:24.720 --> 57:26.720
它这个空数爪拿来存什么呢,它就是拿来存它的

57:28.720 --> 57:30.720
知道吧,就是拿来存这个

57:30.720 --> 57:32.720
tmfile pass的

57:32.720 --> 57:34.720
我们这边把它展开,展开了之后

57:34.720 --> 57:36.720
然后接下来的话,这边ar

57:36.720 --> 57:38.720
ar.push

57:38.720 --> 57:40.720
然后res.tmfile pass

57:46.720 --> 57:48.720
把它push进去

57:48.720 --> 57:50.720
push进去之后,然后接下来,我们等到是

57:50.720 --> 57:52.720
最后一张的时候

57:52.720 --> 57:54.720
等

57:54.720 --> 57:56.720
下载

57:56.720 --> 57:58.720
到最后一张的时候

58:00.720 --> 58:02.720
最后

58:02.720 --> 58:04.720
再干嘛呢,再统一

58:06.720 --> 58:08.720
统一这个

58:08.720 --> 58:10.720
更新

58:10.720 --> 58:12.720
再统一更新这个image

58:14.720 --> 58:16.720
好,我们这边就做一个判断

58:16.720 --> 58:18.720
if

58:18.720 --> 58:20.720
if你的这个i

58:20.720 --> 58:22.720
全等于一个这个

58:22.720 --> 58:24.720
item

58:24.720 --> 58:26.720
item.piscpass

58:26.720 --> 58:28.720
点认识

58:28.720 --> 58:30.720
-1

58:30.720 --> 58:32.720
那说明什么,说明是不是最后一张了

58:32.720 --> 58:34.720
对不对,下载最后一张了

58:34.720 --> 58:36.720
下载最后一张了之后,然后接下来我们这边再干嘛

58:36.720 --> 58:38.720
res.setdata

58:40.720 --> 58:42.720
那更新这个image

58:44.720 --> 58:46.720
对应的是什么呢,对应的是

58:46.720 --> 58:48.720
对吧,好,来我们这边看一下

58:50.720 --> 58:54.030
能不能出来

58:54.030 --> 58:56.030
好,这边没有出来

58:56.030 --> 58:58.030
没有出来是什么原因呢,我们看一下

58:58.030 --> 59:00.030
没有出来好像是这边没写

59:00.030 --> 59:02.030
这边一个人还没写是吧

59:02.030 --> 59:04.030
当然不会出来

59:04.030 --> 59:06.030
好,这边呢,这边呢,咱们就用这个image

59:08.030 --> 59:10.030
就用image

59:10.030 --> 59:12.030
image

59:12.030 --> 59:14.030
用个单标签

59:14.030 --> 59:16.030
image的话,这边的话

59:16.030 --> 59:18.030
微信,冒号这个for

59:18.030 --> 59:25.890
它就应该去便利是吗

59:25.890 --> 59:27.890
它是不是就是应该是去便利

59:27.890 --> 59:29.890
这个imgr

59:31.890 --> 59:33.890
对不对,因为你回头的话

59:33.890 --> 59:35.890
所有的图片是不是都存到这个数组里面呢

59:35.890 --> 59:37.890
对不对,你这边有多少张图片

59:37.890 --> 59:39.890
回头的话我这边就有多少个这个image这个组件

59:39.890 --> 59:41.890
所以这边的话

59:41.890 --> 59:43.890
应该是去便利

59:43.890 --> 59:45.890
image

59:45.890 --> 59:47.890
对吧,然后微信

59:49.890 --> 59:51.890
对应this

59:51.890 --> 59:53.890
好,然后接下来的话,这边src

59:53.890 --> 59:55.890
src的话

59:55.890 --> 59:57.890
就应该是什么

59:57.890 --> 59:59.890
是不是就是应该是这个

59:59.890 --> 01:00:01.890
它默认是什么,是吧item

01:00:01.890 --> 01:00:03.890
对不对,默认就应该是这个

01:00:03.890 --> 01:00:05.890
item,因为你这边存的是什么

01:00:05.890 --> 01:00:07.890
你这边的话

01:00:07.890 --> 01:00:09.890
回头你这边

01:00:09.890 --> 01:00:11.890
存的是不是就是那个url

01:00:11.890 --> 01:00:13.890
还记得吧,对不对

01:00:13.890 --> 01:00:15.890
它就是那个url组成的这个数组

01:00:15.890 --> 01:00:17.890
也就是回头你这个imgr

01:00:17.890 --> 01:00:19.890
这个数组里面,每一项其实就是一个

01:00:19.890 --> 01:00:21.890
这个url的支付串

01:00:21.890 --> 01:00:23.890
对吧,说我这边就是这个item

01:00:25.890 --> 01:00:27.890
然后这边呢,把这个模式这些

01:00:27.890 --> 01:00:29.890
把它设置一下,这边用

01:00:29.890 --> 01:00:31.890
仍然用的是这个aspect

01:00:31.890 --> 01:00:33.890
fill

01:00:33.890 --> 01:00:35.890
OK

01:00:35.890 --> 01:00:37.890
好,让它在这边让我们保存一下

01:00:37.890 --> 01:00:42.420
怎么没出来呢

01:00:42.420 --> 01:00:44.420
看一下,再编一下

01:00:44.420 --> 01:00:46.420
这边理论上来讲的话,应该

01:00:46.420 --> 01:00:48.420
出来了,是不是出来了

01:00:48.420 --> 01:00:50.420
对不对,那你看这边

01:00:50.420 --> 01:00:52.420
这条说说,是不是就已经

01:00:52.420 --> 01:00:54.420
就显示出来了

01:00:54.420 --> 01:00:56.420
看了没有

01:00:56.420 --> 01:00:58.420
这边让我还可以做那个放大

01:00:58.420 --> 01:01:00.420
比如我点击之后,把这个图片

01:01:00.420 --> 01:01:02.420
比如说全屏显示

01:01:02.420 --> 01:01:04.420
这个怎么做呢,这个的话

01:01:04.420 --> 01:01:06.420
你得用到它里面的一个API

01:01:06.420 --> 01:01:08.420
就是回到这个

01:01:08.420 --> 01:01:10.420
官方文档这边

01:01:10.420 --> 01:01:12.420
这边你得用到一个API

01:01:12.420 --> 01:01:14.420
API,然后

01:01:14.420 --> 01:01:16.420
这边API,API它有一个叫做

01:01:16.420 --> 01:01:18.420
preview

01:01:18.420 --> 01:01:20.420
image

01:01:20.420 --> 01:01:22.420
微信点preview

01:01:22.420 --> 01:01:24.420
像这些的话,我们就是

01:01:24.420 --> 01:01:26.420
后面用到一个给大家介绍一个

01:01:26.420 --> 01:01:28.420
知道吧

01:01:28.420 --> 01:01:30.420
在这边,微信preview

01:01:30.420 --> 01:01:32.420
image

01:01:32.420 --> 01:01:34.420
它这边就是什么呢,在新页面中

01:01:34.420 --> 01:01:36.420
全屏预览这个图片

01:01:36.420 --> 01:01:38.420
它这边接受这么几个参数

01:01:38.420 --> 01:01:40.420
首先是一个URLS

01:01:40.420 --> 01:01:42.420
它是一个需要预览的图片的

01:01:42.420 --> 01:01:44.420
这个链接列表

01:01:44.420 --> 01:01:46.420
OK

01:01:46.420 --> 01:01:48.420
还有什么呢,还有就是这个修menu

01:01:48.420 --> 01:01:50.420
是否显示长按拆单

01:01:50.420 --> 01:01:52.420
current,当前显示的这个图片

01:01:52.420 --> 01:01:54.420
来,我们这边可以这样子

01:01:54.420 --> 01:01:56.420
回到这边

01:01:56.420 --> 01:01:58.420
好,回到这边之后,然后

01:01:58.420 --> 01:02:00.420
接下来,我们这边,我们来写一下

01:02:00.420 --> 01:02:02.420
这边,我们首先给这个

01:02:02.420 --> 01:02:04.420
image,我们给它绑一个世界

01:02:04.420 --> 01:02:06.420
bound type

01:02:06.420 --> 01:02:08.420
等于一个什么呢,等于一个

01:02:08.420 --> 01:02:10.420
preview

01:02:10.420 --> 01:02:13.730
handle

01:02:13.730 --> 01:02:15.730
好,然后接下来在这边

01:02:15.730 --> 01:02:17.730
preview

01:02:17.730 --> 01:02:19.730
handle

01:02:19.730 --> 01:02:21.730
这边是预览图片

01:02:21.730 --> 01:02:25.360
对吧,预览图片这里

01:02:25.360 --> 01:02:27.360
这里的话,然后我们就

01:02:27.360 --> 01:02:29.360
调用

01:02:29.360 --> 01:02:33.760
调用微信

01:02:33.760 --> 01:02:35.760
微信点这个preview

01:02:35.760 --> 01:02:39.520
preview image

01:02:39.520 --> 01:02:41.520
好,它这边接受一个URLS

01:02:41.520 --> 01:02:43.520
那URLS就是应该是什么

01:02:43.520 --> 01:02:45.520
这是点data

01:02:45.520 --> 01:02:47.520
点image

01:02:47.520 --> 01:02:49.520
对吧,好,我们这边来看一下

01:02:49.520 --> 01:02:54.620
重新来

01:02:54.620 --> 01:02:56.620
这个图片出来了

01:02:56.620 --> 01:02:58.620
好,然后接下来,这边我们点一下

01:02:58.620 --> 01:03:00.620
点一下

01:03:00.620 --> 01:03:02.620
诶

01:03:02.620 --> 01:03:04.620
这边怎么没出来呢

01:03:04.620 --> 01:03:06.620
重新再编一下

01:03:06.620 --> 01:03:11.920
出来了

01:03:11.920 --> 01:03:13.920
OK,编一两次

01:03:13.920 --> 01:03:15.920
这边,是不是就出来了

01:03:15.920 --> 01:03:17.920
这边,这边是第一章,第二章

01:03:17.920 --> 01:03:19.920
但你这个的话,现在有一个小的

01:03:19.920 --> 01:03:21.920
这个小的瑕疵,就比如说用过

01:03:21.920 --> 01:03:23.920
点第二章,点第二章,还是

01:03:23.920 --> 01:03:25.920
从第一章开始的,因为你这边

01:03:25.920 --> 01:03:27.920
只是给了个什么,是不是整体这个

01:03:27.920 --> 01:03:29.920
这个塑作,对不对

01:03:29.920 --> 01:03:31.920
这个问题怎么解决

01:03:31.920 --> 01:03:33.920
这个问题怎么解决,这个问题也简单

01:03:33.920 --> 01:03:35.920
它这边不是给你有一个参数吗

01:03:35.920 --> 01:03:37.920
叫做什么,是不是current

01:03:37.920 --> 01:03:39.920
所以当前显示图片的这个链接

01:03:39.920 --> 01:03:41.920
你如果没有提供它默认就什么

01:03:41.920 --> 01:03:43.920
默认就是从第一章开始走

01:03:43.920 --> 01:03:45.920
对吧,好,那接下来,知道这个之后

01:03:45.920 --> 01:03:47.920
那我们这边就简单了

01:03:47.920 --> 01:03:49.920
我们这边的话就

01:03:49.920 --> 01:03:51.920
这里的话,我们就给个链接

01:03:51.920 --> 01:03:53.920
对吧,我们这边就data

01:03:53.920 --> 01:03:55.920
data-src

01:03:55.920 --> 01:03:57.920
等于一个

01:03:57.920 --> 01:04:01.810
item

01:04:01.810 --> 01:04:03.810
OK,这边自定属性

01:04:03.810 --> 01:04:05.810
首先挂一个src上去

01:04:05.810 --> 01:04:07.810
挂上去之后,然后接下来

01:04:07.810 --> 01:04:09.810
这边

01:04:09.810 --> 01:04:11.810
这边的话,咱们获取一下

01:04:11.810 --> 01:04:13.810
啊,这边

01:04:13.810 --> 01:04:15.810
const一个src

01:04:15.810 --> 01:04:17.810
等于一个ev

01:04:17.810 --> 01:04:19.810
点target

01:04:19.810 --> 01:04:21.810
点data-sit

01:04:21.810 --> 01:04:23.810
点src

01:04:23.810 --> 01:04:25.810
获取,啊,获取了之后

01:04:25.810 --> 01:04:27.810
然后接下这边,设置一下,对吧

01:04:27.810 --> 01:04:29.810
current,对应src

01:04:29.810 --> 01:04:31.810
是不是就OK了,对吧

01:04:31.810 --> 01:04:33.810
好,我们这边保存一下

01:04:33.810 --> 01:04:37.890
好,保存了之后,然后

01:04:37.890 --> 01:04:39.890
这边来看一下,这边我点第二章

01:04:39.890 --> 01:04:41.890
是不是就是第二章

01:04:41.890 --> 01:04:43.890
对不对,就出来了

01:04:43.890 --> 01:04:45.890
好,那我们整个这个

01:04:45.890 --> 01:04:47.890
综合的这个案例

01:04:47.890 --> 01:04:49.890
也就写完了

01:04:49.890 --> 01:04:51.890
OK,大家可以看一下,这边这个说说

01:04:51.890 --> 01:04:53.890
渲染出说说,还有就是什么呢

01:04:53.890 --> 01:04:55.890
还有就是这边发表说说,对吧

01:04:55.890 --> 01:04:57.890
OK,好,大家下去的话

01:04:57.890 --> 01:04:59.890
可以把这个综合案例自己写一下

01:04:59.890 --> 01:05:01.890
好吧,OK

01:05:01.890 --> 01:05:03.890
这节课就到这里

01:05:03.890 --> 01:05:05.890
再见

