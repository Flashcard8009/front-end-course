WEBVTT

00:01.260 --> 00:03.260
大家好 我是谢老师

00:03.260 --> 00:05.260
这就可能我们来看一下

00:05.260 --> 00:08.260
如何阻止这个事件默认行为

00:08.260 --> 00:10.260
这里的话这道面试题

00:10.260 --> 00:14.260
它其实就是为你如何阻止这个事件的这个默认行为

00:14.260 --> 00:16.260
那首先第一个你要搞清楚是什么呢

00:16.260 --> 00:19.260
就是什么是默认行为

00:19.260 --> 00:21.260
那这个什么是默认行为呢

00:21.260 --> 00:23.260
就是我们的有一些HTML元素

00:23.260 --> 00:25.260
它是自带行为的

00:25.260 --> 00:27.260
比如说你看我这边举了个例子

00:27.260 --> 00:29.260
比如你的一个A元素

00:29.260 --> 00:32.260
你这样子写把这个Hurray for一家

00:32.260 --> 00:34.260
它的默认行为就是什么

00:34.260 --> 00:35.260
什么就是跳转

00:35.260 --> 00:37.260
对不对你点击这个A标签之后

00:37.260 --> 00:39.260
它就会跳转到这个

00:39.260 --> 00:41.260
这边写的这个百度

00:41.260 --> 00:43.260
再比如说表单

00:43.260 --> 00:46.260
表单是不是会有一个这个action属性

00:46.260 --> 00:47.260
对不对

00:47.260 --> 00:49.260
有这么一个action属性的话

00:49.260 --> 00:51.260
然后接下来你往这里面写了字

00:51.260 --> 00:54.260
当你一点击提交按钮的时候

00:54.260 --> 00:58.260
它就会进行一个这个提交跳转的这个操作

00:58.260 --> 00:59.260
那这些的话就是什么呢

00:59.260 --> 01:04.260
这些就是我们的这个HTML元素中的默认行为

01:04.260 --> 01:07.260
那有些时候这些默认行为我们是要阻止的

01:07.260 --> 01:08.260
比如什么呢

01:08.260 --> 01:11.260
比如说用的最多的就是这个表单

01:11.260 --> 01:14.260
表单比如说用户在填完这个表单

01:14.260 --> 01:16.260
然后接下来点击提交之后

01:16.260 --> 01:19.260
然后我们这边想要使用这个阿甲克斯

01:19.260 --> 01:23.260
那一步的把这个用户填写的信息发送到服务器

01:23.260 --> 01:26.260
而不要就是做这个提交跳转这个行为

01:26.260 --> 01:27.260
那我们就会干嘛呢

01:27.260 --> 01:28.260
我们就会把这个form

01:28.260 --> 01:31.260
它这个默认的这个提交跳转的行为

01:31.260 --> 01:33.260
我们会给它阻止掉

01:33.260 --> 01:36.260
所以说这就是默认行为

01:36.260 --> 01:39.260
以及我们为什么要阻止这个默认行为

01:39.260 --> 01:42.260
那阻止默认行为的这个方式有很多

01:42.260 --> 01:45.260
我们这边我们简单来做一个这个总结

01:45.260 --> 01:46.260
首先第一个

01:46.260 --> 01:49.260
第一个叫做这个cancelable

01:49.260 --> 01:50.260
它是个属性

01:50.260 --> 01:52.260
这个属性来源于什么呢

01:52.260 --> 01:54.260
来源于这个event对象

01:54.260 --> 01:55.260
表示什么呢

01:55.260 --> 01:59.260
表示这个事件是否可以取消

01:59.260 --> 02:00.260
是否可以取消

02:00.260 --> 02:02.260
它是一个指读属性

02:02.260 --> 02:04.260
返回处表示可以取消

02:04.260 --> 02:05.260
否则表示什么呢

02:05.260 --> 02:07.260
表示这个不可取消

02:07.260 --> 02:09.260
那我们这边我们来做这么一个操作

02:09.260 --> 02:11.260
我们来试一试

02:11.260 --> 02:13.260
Ctrl C

02:13.260 --> 02:15.260
把这个粘过来

02:15.260 --> 02:18.260
现在的话是不是有一个A标签跳转到这个百度

02:18.260 --> 02:21.260
我们这边我们来把这个拿到

02:21.260 --> 02:26.260
Test等于一个document.getElementByD

02:26.260 --> 02:28.260
那叫这边把这个A标签拿到

02:28.260 --> 02:29.260
拿到之后

02:29.260 --> 02:32.260
然后接下来我们这边就直接

02:32.260 --> 02:33.260
log一下

02:33.260 --> 02:35.260
log一下

02:35.260 --> 02:36.260
我看我看

02:36.260 --> 02:38.260
它是通过事件对象拿到了是吧

02:38.260 --> 02:40.260
那我们这边给Test

02:40.260 --> 02:43.260
绑定一个点击事件

02:43.260 --> 02:44.260
function

02:44.260 --> 02:45.260
好然后接下来的话

02:45.260 --> 02:48.260
这边是event

02:48.260 --> 02:50.260
好我们这边我们就打印一下

02:50.260 --> 02:54.260
logEvent.cancel

02:54.260 --> 02:58.260
cancel

02:58.260 --> 03:00.260
cancel

03:00.260 --> 03:01.260
这样子吧

03:01.260 --> 03:03.260
看一下

03:03.260 --> 03:04.260
对了

03:04.260 --> 03:06.260
好大家我们这边我们来揣一揣

03:06.260 --> 03:10.410
把这个打开

03:10.410 --> 03:16.150
打开之后然后接下来的话

03:16.150 --> 03:19.150
这边我们来看一下

03:19.150 --> 03:20.150
这边cancel

03:20.150 --> 03:21.150
大家我们这边点击

03:21.150 --> 03:23.150
你看这边是不是错

03:23.150 --> 03:24.150
但一下子就没有了

03:24.150 --> 03:26.150
为什么因为我们跳转到百度了

03:26.150 --> 03:27.150
我们跳转到百度了

03:27.150 --> 03:29.150
但是刚才大家是不是看到了

03:29.150 --> 03:30.150
对不对

03:30.150 --> 03:31.150
我们再来看一下注意

03:31.150 --> 03:32.150
注意它跳转了

03:32.150 --> 03:33.150
它就没了

03:33.150 --> 03:34.150
注意这边

03:34.150 --> 03:36.150
点击看到没有

03:36.150 --> 03:38.150
是不是打印出了这个区

03:38.150 --> 03:39.150
说明什么

03:39.150 --> 03:44.150
说明就是你的A标签

03:44.150 --> 03:45.150
这个元素

03:45.150 --> 03:46.150
它的这个默认行为

03:46.150 --> 03:49.150
是不是可以阻止

03:49.150 --> 03:50.150
对不对

03:50.150 --> 03:51.150
它其实它的cancelable

03:51.150 --> 03:52.150
就是什么呢

03:52.150 --> 03:53.150
就是告诉你能不能阻止

03:53.150 --> 03:54.150
能返回去

03:54.150 --> 03:56.150
不能返回force

03:56.150 --> 03:57.150
就这么简单

03:57.150 --> 04:00.150
但是它并不会去阻止

04:00.150 --> 04:01.150
这是第1个

04:01.150 --> 04:02.150
好

04:02.150 --> 04:03.150
然后接下来第2个

04:03.150 --> 04:06.150
第2个的话是prevent default

04:06.150 --> 04:09.150
这其实是就是最常见的一种

04:09.150 --> 04:11.150
阻止默认行为的这个方式

04:11.150 --> 04:13.150
也是大家用的最多的

04:13.150 --> 04:14.150
它也是来源于哪里呢

04:14.150 --> 04:16.150
它也是来源于

04:16.150 --> 04:17.150
把这个阻止掉

04:17.150 --> 04:19.150
它也是来源于

04:19.150 --> 04:21.150
这个event对象

04:21.150 --> 04:22.150
就是我们的事件对象

04:22.150 --> 04:28.720
然后这边的话是prevent default

04:28.720 --> 04:29.720
看到没有

04:29.720 --> 04:30.720
好

04:30.720 --> 04:32.720
大家我们这边我们来试一下

04:32.720 --> 04:33.720
啊

04:33.720 --> 04:34.720
刷新

04:34.720 --> 04:35.720
好

04:35.720 --> 04:36.720
点击

04:36.720 --> 04:37.720
点击

04:37.720 --> 04:39.720
你看这就不会跳转了

04:39.720 --> 04:40.720
为什么

04:40.720 --> 04:41.720
因为我们这个A标签

04:41.720 --> 04:42.720
它默认行为

04:42.720 --> 04:44.720
就是这个链接跳转

04:44.720 --> 04:45.720
已经被我们

04:45.720 --> 04:48.720
已经被我们阻止掉了

04:48.720 --> 04:49.720
看到没有

04:49.720 --> 04:50.720
已经阻止掉了

04:50.720 --> 04:51.720
你现在点击的话

04:51.720 --> 04:53.720
就是无法再跳转了

04:53.720 --> 04:55.720
这就是第2种方式

04:55.720 --> 04:57.720
prevent default

04:57.720 --> 04:59.720
但这种方式也非常常见

04:59.720 --> 05:00.720
非常常见

05:00.720 --> 05:01.720
大家应该知道

05:01.720 --> 05:02.720
好

05:02.720 --> 05:03.720
第3种方式

05:03.720 --> 05:06.720
第3种方式就是用的人就比较少了

05:06.720 --> 05:08.720
知道的人也比较少

05:08.720 --> 05:10.720
这个属性最早是在

05:10.720 --> 05:12.720
IE的这个事件对象里面

05:12.720 --> 05:14.720
但是现在的话

05:14.720 --> 05:16.720
大多数浏览器也实现了

05:16.720 --> 05:17.720
它就是什么呢

05:17.720 --> 05:19.720
它是给这个event

05:19.720 --> 05:21.720
event是我们的事件对象

05:21.720 --> 05:22.720
给它它有个属性

05:22.720 --> 05:24.720
叫做return view

05:24.720 --> 05:26.720
return value

05:26.720 --> 05:27.720
return value

05:27.720 --> 05:29.720
给它设置为force

05:29.720 --> 05:30.720
我们刚才是什么

05:30.720 --> 05:32.720
刚才是在这个

05:32.720 --> 05:33.720
event事件对象上面

05:33.720 --> 05:36.720
是不是调用prevent default的方法

05:36.720 --> 05:37.720
对不对

05:37.720 --> 05:38.720
调用这个对象的这个方法

05:38.720 --> 05:39.720
这个是什么呢

05:39.720 --> 05:41.720
这个是给它的属性

05:41.720 --> 05:43.720
一个叫做return value的这个

05:43.720 --> 05:45.720
这个属性设置

05:45.720 --> 05:47.720
设置为force

05:47.720 --> 05:51.160
我们这边我们来看一下

05:51.160 --> 05:53.160
把这个注释掉

05:53.160 --> 05:54.160
这边

05:54.160 --> 05:56.160
好 拉下这边

05:56.160 --> 05:58.160
来揣一揣 刷新

05:58.160 --> 05:59.160
刷新 走

05:59.160 --> 06:00.160
你看

06:00.160 --> 06:02.160
这边也是ok的

06:02.160 --> 06:03.160
看到没有

06:03.160 --> 06:05.160
也是ok的

06:05.160 --> 06:08.160
这边就是关于这个return value

06:08.160 --> 06:10.160
好 然后下一个

06:10.160 --> 06:12.160
下一个是return force

06:12.160 --> 06:14.160
这个其实用的人也很多

06:14.160 --> 06:16.160
经常就很多人图简变

06:16.160 --> 06:18.160
就直接写一个return force

06:18.160 --> 06:19.160
它的话也可以阻止什么呢

06:19.160 --> 06:21.160
也可以阻止这个默认行为

06:21.160 --> 06:23.160
但是这里有个注意点

06:23.160 --> 06:25.160
这个注意点你一定要注意

06:25.160 --> 06:26.160
就是这条语句

06:26.160 --> 06:28.160
如果你是写在Jquery里面

06:28.160 --> 06:31.160
就大家学过一个库叫做这个Jquery

06:31.160 --> 06:32.160
是吧

06:32.160 --> 06:34.160
如果是写在Jquery里面

06:34.160 --> 06:36.160
它是同时阻止默认行为

06:36.160 --> 06:38.160
以及冒泡

06:38.160 --> 06:39.160
注意哦

06:39.160 --> 06:40.160
它会阻止两个东西

06:40.160 --> 06:42.160
它既会阻止默认行为

06:42.160 --> 06:44.160
也会阻止冒泡

06:44.160 --> 06:46.160
但是如果是原生GS

06:46.160 --> 06:48.160
我们现在写的是不是就是原生GS

06:48.160 --> 06:50.160
它只会干嘛呢

06:50.160 --> 06:52.160
只会阻止默认行为

06:52.160 --> 06:54.160
看到没有

06:54.160 --> 06:56.160
我们这边我们来试一下

06:56.160 --> 06:57.160
把这个注释掉

06:57.160 --> 07:01.160
然后下这边return force

07:01.160 --> 07:04.160
好 然后下这边刷新

07:04.160 --> 07:06.160
你看点击

07:06.160 --> 07:07.160
是不是也没有

07:07.160 --> 07:08.160
对不对

07:08.160 --> 07:09.160
也没有用

07:09.160 --> 07:10.160
但有同学说

07:10.160 --> 07:12.160
让我return to

07:12.160 --> 07:13.160
那return to吗

07:13.160 --> 07:14.160
肯定就可以了

07:14.160 --> 07:16.160
我们这边刷新点击

07:16.160 --> 07:18.160
return to肯定是不是就可以了

07:18.160 --> 07:19.160
对不对

07:19.160 --> 07:20.160
就跳过去了

07:20.160 --> 07:24.160
这是关于return force

07:24.160 --> 07:25.160
最后一个

07:25.160 --> 07:27.160
最后一个是

07:27.160 --> 07:30.160
default prevented

07:30.160 --> 07:31.160
这个的话

07:31.160 --> 07:33.160
它也不是用来阻止

07:33.160 --> 07:35.160
这个世界默认行为的

07:35.160 --> 07:36.160
而是什么

07:36.160 --> 07:38.160
而是表示这个默认行为

07:38.160 --> 07:40.160
有没有被阻止成功

07:40.160 --> 07:42.160
就你有没有被阻止到

07:42.160 --> 07:44.160
阻止 如果阻止成功了

07:44.160 --> 07:45.160
它返回

07:45.160 --> 07:47.160
如果就是没有阻止成功

07:47.160 --> 07:48.160
它返回什么呢

07:48.160 --> 07:50.160
返回force

07:50.160 --> 07:51.160
比如说我们这边

07:51.160 --> 07:52.160
我们来踹一踹

07:52.160 --> 07:54.160
比如说我们这边就用这种

07:54.160 --> 07:55.160
就用这种

07:55.160 --> 07:58.160
这边evnt.preventdefault

07:58.160 --> 07:59.160
是不是阻止

07:59.160 --> 08:00.160
阻止了之后

08:00.160 --> 08:02.160
然后就让我们这边来log一下

08:02.160 --> 08:04.160
evnt

08:04.160 --> 08:07.160
evnt.这个

08:07.160 --> 08:09.160
什么来着

08:09.160 --> 08:10.160
这个是吧

08:10.160 --> 08:11.160
default prevented

08:13.160 --> 08:15.160
它是一个属性

08:15.160 --> 08:16.160
代表什么呢

08:16.160 --> 08:17.160
代表你的默认事件

08:17.160 --> 08:18.160
是否已经阻止

08:18.160 --> 08:20.160
我们这边我们刷新一下

08:20.160 --> 08:22.160
点击

08:22.160 --> 08:23.160
看到没有

08:23.160 --> 08:25.160
这边是不是返回的是true

08:25.160 --> 08:26.160
为什么

08:26.160 --> 08:27.160
因为我上面的话

08:27.160 --> 08:29.160
是不是已经阻止了

08:29.160 --> 08:31.160
如果把这个的话

08:31.160 --> 08:33.160
在上面打印

08:33.160 --> 08:35.160
在上面打印

08:35.160 --> 08:37.160
然后就在这边刷新

08:37.160 --> 08:38.160
走

08:38.160 --> 08:39.160
是不是刚开始是false

08:39.160 --> 08:40.160
为什么

08:40.160 --> 08:41.160
因为刚开始你是不是没有阻止

08:41.160 --> 08:42.160
默认行为

08:42.160 --> 08:43.160
然后后面你阻止了

08:43.160 --> 08:44.160
阻止了之后

08:44.160 --> 08:45.160
它打印出什么

08:45.160 --> 08:46.160
是不是打印出true

08:46.160 --> 08:47.160
对不对

08:47.160 --> 08:49.160
说说这边

08:49.160 --> 08:50.160
prevent

08:50.160 --> 08:53.160
这个default prevented

08:54.160 --> 08:55.160
这边总共的话

08:55.160 --> 08:56.160
就给大家

08:56.160 --> 08:58.160
总结了这么五个

08:58.160 --> 08:59.160
所以你这边

08:59.160 --> 09:00.160
在回答的时候

09:00.160 --> 09:01.160
你就可以把

09:01.160 --> 09:03.160
这五个都打都可以

09:03.160 --> 09:04.160
但是这五个的话

09:04.160 --> 09:05.160
有两个其实不是

09:05.160 --> 09:06.160
那两个

09:06.160 --> 09:08.160
一个是这个cancelable

09:08.160 --> 09:09.160
它是不是

09:09.160 --> 09:10.160
它表示是不是

09:10.160 --> 09:11.160
默认事件

09:11.160 --> 09:13.160
是否能够阻止

09:13.160 --> 09:14.160
它并不会去阻止

09:14.160 --> 09:15.160
还有一个就是

09:15.160 --> 09:16.160
最后一个

09:16.160 --> 09:17.160
最后一个是什么

09:17.160 --> 09:19.160
是否已经阻止

09:19.160 --> 09:21.160
它是不是也不会去阻止

09:21.160 --> 09:22.160
对不对

09:22.160 --> 09:23.160
所以能够阻止的话

09:23.160 --> 09:24.160
就三个

09:24.160 --> 09:25.160
就是prevent

09:25.160 --> 09:26.160
default

09:26.160 --> 09:27.160
return

09:27.160 --> 09:28.160
value

09:28.160 --> 09:29.160
设置为force

09:29.160 --> 09:30.160
然后再这边

09:30.160 --> 09:31.160
returnforce

09:31.160 --> 09:32.160
就这三个

09:32.160 --> 09:33.160
好吧

09:33.160 --> 09:34.160
所以这边

09:34.160 --> 09:36.160
如何阻止默认事件

09:36.160 --> 09:37.160
你就把这三个

09:37.160 --> 09:39.160
你把它打出来

09:39.160 --> 09:40.160
就可以了

09:41.160 --> 09:43.160
这期课就到这里

09:43.160 --> 09:44.160
再见

