WEBVTT

00:00.110 --> 00:02.410
好 我们去讲解台式系列课程

00:02.410 --> 00:05.610
系列课程给大家讲解一下组件库中的画布组件

00:06.510 --> 00:09.810
画布组件其实相对上也比较简单一点

00:09.810 --> 00:14.410
那么它主要是可以帮助我们来识别或者说展示

00:14.410 --> 00:17.410
我们如果有一些动画简单效果

00:17.410 --> 00:21.610
可以用画布组件来微信中进行直接的制作

00:21.610 --> 00:26.610
而不是说外部去引一个所谓的一个功能或者说是空间进来

00:26.610 --> 00:29.410
那么画布组件主要的使用的是Caverse

00:29.410 --> 00:32.210
那么针对于不同的小程序端

00:32.210 --> 00:34.910
它的Caverse的相对的写法有点不一样

00:34.910 --> 00:39.710
那么我们这边主要给大家讲解的是微信小程序的一个开发方式

00:39.710 --> 00:44.510
所以我们讲一下微信小程序的Caverse在Taro里面的运用

00:44.510 --> 00:46.510
同时如果大家有兴趣的话

00:46.510 --> 00:48.710
也可以去关注百度小程序

00:48.710 --> 00:50.810
支付宝小程序和字节跳动小程序

00:50.810 --> 00:54.710
各类小程序的一个Caverse的使用方式

00:54.710 --> 00:57.210
那么但是额外想一下的是

00:57.210 --> 01:02.210
我们的Caverse功能依然在RM版本上尚未实现

01:02.210 --> 01:05.710
RM大家应该知道React Native上面

01:05.710 --> 01:12.110
好,那么现在我们给大家来看一下我们具体该怎么样去编写我们的Caverse代码

01:12.110 --> 01:13.510
打开我们的项目

01:13.510 --> 01:33.900
在项目中我们新建一个Caverse的画板

01:33.900 --> 01:36.000
新建一个画板

01:36.000 --> 01:54.900
然后把这个画板我们写到我们的Peters里面去

01:54.900 --> 02:19.180
紧接着我们以最简单的方式完成一个Taro的框架搭建

02:19.180 --> 02:31.650
我们直接用Caverse

02:31.650 --> 02:35.630
Taro Components

02:35.630 --> 02:40.640
Class

02:40.640 --> 02:47.370
我们直接写

02:47.370 --> 03:25.350
Experts Component Return

03:25.350 --> 03:28.640
Caverse

03:28.640 --> 03:31.240
以一个最简单的Caverse的结构我们来做一下

03:31.240 --> 03:33.540
首先我们订一下这块

03:33.540 --> 03:35.240
Caverse我们称之为画布

03:35.240 --> 03:38.240
订一下它的大小

03:38.240 --> 03:47.780
你可以给它订成宽度和高度订出来

03:47.780 --> 03:55.450
嗯,直接给Px吧

03:55.450 --> 04:04.730
然后同时我们订一下Caverse的ID

04:04.730 --> 04:06.730
MyCaverse

04:06.730 --> 04:07.730
OK

04:07.730 --> 04:09.730
当你现在这样写好以后的话

04:09.730 --> 04:10.730
你去看页面

04:10.730 --> 04:13.730
页面上面其实你看不见什么东西

04:13.730 --> 04:15.730
因为它就是一块画布

04:15.730 --> 04:18.730
它本身来讲没有任何的其他功能

04:18.730 --> 04:20.730
那么我们需要做的事情呢

04:20.730 --> 04:22.730
是在这块画布上面

04:22.730 --> 04:24.730
去通过代码的方式

04:24.730 --> 04:26.730
绘制一些内容

04:26.730 --> 04:27.730
是这个逻辑

04:27.730 --> 04:28.730
那我们来看一下

04:28.730 --> 04:34.170
首先我们可以在它的哪个位置进行绘制呢

04:34.170 --> 04:37.170
我们可以在它初始化的时候绘制

04:37.170 --> 04:40.170
也可以在它一个按钮事件中进行绘制

04:40.170 --> 04:41.170
这两者都可以

04:41.170 --> 04:49.660
那么我们先把初始化的Constructor写出来

04:49.660 --> 04:55.210
Super

04:55.210 --> 04:57.210
Agrimant

04:57.210 --> 04:59.710
还是一样

04:59.710 --> 05:02.710
先要去获取到由于我通过程序

05:02.710 --> 05:06.710
来控制你画布的一个上下文对象

05:06.710 --> 05:17.800
获取画布的上下文对象

05:17.800 --> 05:26.230
然后我们来

05:26.230 --> 05:27.230
This点

05:27.230 --> 05:33.740
Caverse CTX

05:33.740 --> 05:35.740
等于微信的

05:35.740 --> 05:39.440
Great

05:39.440 --> 05:40.440
Caverse

05:40.440 --> 05:44.070
Context

05:44.070 --> 05:54.270
我们把这个名称我们叫First

05:54.270 --> 05:55.270
第一个

05:55.270 --> 05:57.270
待会我们还会建第二第三个

05:57.270 --> 06:01.610
所以我们把它叫做First

06:01.610 --> 06:02.610
好

06:02.610 --> 06:05.610
先创建出了我们现在当前的一个

06:05.610 --> 06:07.610
画布的上下文对象

06:07.610 --> 06:08.610
利用这个对象

06:08.610 --> 06:10.610
我们来进行绘制

06:10.610 --> 06:11.610
是这个意思

06:11.610 --> 06:12.610
那么我们呢

06:12.610 --> 06:14.610
创建一按钮吧

06:14.610 --> 06:17.610
在画布下创建一按钮

06:17.610 --> 06:19.610
通过这个按钮的方式

06:19.610 --> 06:20.610
我们成为

06:20.610 --> 06:25.990
Draw

06:25.990 --> 06:29.840
画

06:29.840 --> 06:30.840
Draw 画

06:30.840 --> 06:31.840
我们来做

06:31.840 --> 06:38.480
我们写一个Unclick

06:38.480 --> 06:39.480
在整个这上面

06:39.480 --> 06:41.480
我们再放一个View

06:41.480 --> 07:03.970
因为做一个跟文件存在

07:03.970 --> 07:11.910
Unclick

07:11.910 --> 07:14.290
Draw

07:14.290 --> 07:15.290
Caverse

07:15.290 --> 07:34.440
用这个来点

07:34.440 --> 07:35.440
绘制

07:35.440 --> 07:39.140
我们来看一下

07:39.140 --> 07:41.140
它要绘制的时候呢

07:41.140 --> 07:42.140
首先

07:42.140 --> 07:44.140
我们直接去拿它

07:44.140 --> 07:46.140
现在这个上下文对象

07:46.140 --> 07:47.140
This点

07:47.140 --> 07:49.140
Caverse CTX

07:49.140 --> 07:50.140
这个点

07:50.140 --> 07:52.140
我们先做第一步

07:52.140 --> 07:56.340
Stock

07:56.340 --> 07:57.340
Style

07:57.340 --> 08:01.550
设置这只画笔的

08:01.550 --> 08:10.880
设置

08:10.880 --> 08:16.520
绿色

08:16.520 --> 08:18.520
设置

08:18.520 --> 08:24.010
线条的粗细

08:24.010 --> 08:29.520
设置

08:29.520 --> 08:31.520
整个的

08:31.520 --> 08:33.520
画质什么东西

08:33.520 --> 08:34.520
Reactor

08:34.520 --> 08:38.150
这是一个正方形

08:38.150 --> 08:40.150
啊 长方形啊

08:40.150 --> 08:41.150
它的圆角

08:41.150 --> 08:44.150
从我们的00左上角点开始

08:44.150 --> 08:46.150
这边给一个

08:46.150 --> 08:47.150
那个

08:47.150 --> 08:48.150
20 这边给一个20

08:48.150 --> 08:50.150
这就是长宽

08:50.150 --> 08:52.150
Retangle

08:52.150 --> 09:02.960
当前的Caverse

09:02.960 --> 09:08.190
Stock

09:08.190 --> 09:09.190
没忘了

09:09.190 --> 09:10.190
我们最后还有一个

09:10.190 --> 09:11.190
画

09:11.190 --> 09:23.490
写完了啊

09:23.490 --> 09:25.490
那么每次在写完

09:25.490 --> 09:28.490
所有的一些设置以后的话

09:28.490 --> 09:30.490
那么这是只把它画在内存里

09:30.490 --> 09:31.490
然后的话

09:31.490 --> 09:33.490
我们可以把它通交的方式

09:33.490 --> 09:35.490
把它直接呈现出来

09:35.490 --> 09:36.490
那么我们就形成了

09:36.490 --> 09:38.490
我们看到页面中打开一下

09:38.490 --> 09:39.490
看到吗

09:39.490 --> 09:40.490
再刷新一下

09:40.490 --> 09:42.490
我们这边是有一个

09:42.490 --> 09:44.490
上面是一块画板

09:44.490 --> 09:45.490
白色的

09:45.490 --> 09:47.490
然后这边有个主要点击一下

09:47.490 --> 09:49.490
它就画了一个剧形

09:49.490 --> 09:50.490
是吧

09:50.490 --> 09:51.490
它就画了一个剧形

09:51.490 --> 09:53.490
形成了这样的一个结构

09:53.490 --> 09:55.490
那么我们再画一下

09:55.490 --> 09:57.490
咱们再来看一下

09:57.490 --> 09:58.490
再改一下

09:58.490 --> 10:01.490
This.Caverse Contextor

10:01.490 --> 10:02.490
点

10:02.490 --> 10:04.490
我们的Set

10:04.490 --> 10:05.490
Stock Style

10:05.490 --> 10:07.490
我们改成红色

10:07.490 --> 10:13.460
This.Caverse Contextor

10:13.460 --> 10:17.290
嗯

10:17.290 --> 10:18.290
画笔改一下

10:18.290 --> 10:20.290
画笔改成

10:20.290 --> 10:21.290
细点

10:21.290 --> 10:24.820
我们改成

10:24.820 --> 10:25.820
二号

10:25.820 --> 10:29.860
两个像素

10:29.860 --> 10:33.740
然后再做一个

10:33.740 --> 10:39.740
Movie

10:39.740 --> 10:42.740
我们做一个移动道

10:42.740 --> 10:44.740
把画笔在前面完成以后

10:44.740 --> 10:47.740
以重新移动到160

10:47.740 --> 10:49.740
X,Y是100的位置

10:49.740 --> 10:50.740
在这个位置

10:50.740 --> 10:51.740
在这个位置

10:51.740 --> 10:53.740
我们再开始绘制一个

10:53.740 --> 10:57.340
在这个位置

10:57.340 --> 10:59.340
我们再绘制一个

10:59.340 --> 11:05.400
100

11:05.400 --> 11:07.400
160

11:07.400 --> 11:09.400
我们写上

11:09.400 --> 11:13.480
一个弧

11:13.480 --> 11:14.480
我Mass点

11:14.480 --> 11:18.780
拍

11:18.780 --> 11:19.780
再移动一下

11:19.780 --> 11:21.780
我们把这几个

11:21.780 --> 11:22.780
都写一下

11:22.780 --> 11:23.780
咱们来看一下效果

11:23.780 --> 11:26.090
你先移动

11:26.090 --> 11:28.090
移动某一个位置

11:28.090 --> 11:34.500
然后画

11:34.500 --> 11:36.500
我们修改它一下

11:36.500 --> 11:38.500
100

11:38.500 --> 11:47.280
给一个Force

11:47.280 --> 11:48.280
再来

11:48.280 --> 11:58.980
85

11:58.980 --> 12:01.540
80

12:01.540 --> 12:04.860
然后再来一个

12:04.860 --> 12:08.860
This.Caverse Contextor

12:08.860 --> 12:09.860
点

12:09.860 --> 12:16.500
我们复制一下

12:16.500 --> 12:17.500
这样快

12:17.500 --> 12:21.510
85,80

12:21.510 --> 12:22.510
下面我们这边

12:22.510 --> 12:23.510
就给它一个80

12:23.510 --> 12:25.510
然后找位置

12:25.510 --> 12:26.510
80,80

12:26.510 --> 12:28.510
然后这边咱们给一个5

12:28.510 --> 12:30.510
0

12:30.510 --> 12:31.510
两派

12:31.510 --> 12:38.110
2

12:38.110 --> 12:39.110
Movie2

12:39.110 --> 12:40.110
再来一次

12:40.110 --> 12:42.110
125

12:42.110 --> 12:47.730
到80

12:47.730 --> 12:48.730
然后

12:48.730 --> 12:50.730
从120开始

12:50.730 --> 12:52.730
到80确定位置以后

12:52.730 --> 12:54.730
长宽弧度

12:54.730 --> 12:58.620
把这行放下来

12:58.620 --> 13:00.620
表示这边再绘制一个的

13:00.620 --> 13:01.620
好

13:01.620 --> 13:02.620
我们来看一下

13:02.620 --> 13:11.110
有一个Set

13:11.110 --> 13:12.110
我们看一下

13:12.110 --> 13:14.110
我们可能拼错一个单子

13:14.110 --> 13:17.110
找一下Set

13:17.110 --> 13:19.110
多了一个E

13:20.110 --> 13:22.110
SetLineWise

13:22.110 --> 13:39.380
SetLineWise

13:39.380 --> 13:40.380
画

13:40.380 --> 13:41.380
看到了吗

13:41.380 --> 13:42.380
它就是一个弧度

13:42.380 --> 13:44.380
当你弧度达到某一个点的时候

13:44.380 --> 13:47.380
它就是半壶和半壶合在一起了

13:47.380 --> 13:48.380
好了

13:48.380 --> 13:49.380
我们看到

13:49.380 --> 13:51.380
我们已经画了这样一个图示出来

13:51.380 --> 13:52.380
那么代表的是什么呢

13:52.380 --> 13:55.380
是我们画布的概念

13:55.380 --> 13:57.380
其实是我们可以通过

13:57.380 --> 14:00.380
内部的这样的方式

14:00.380 --> 14:04.380
来完成一个简单的图形的繪纸

14:04.380 --> 14:06.380
简单的图形繪纸

14:06.380 --> 14:08.380
它并不复杂

14:08.380 --> 14:09.380
当然

14:09.380 --> 14:10.380
画布本身

14:10.380 --> 14:12.380
如果结合我们动画效果的话

14:12.380 --> 14:14.380
它还会有一些小动画效果出现

14:14.380 --> 14:17.380
但是它内部的整个画布的作用

14:17.380 --> 14:18.380
在这上面

14:18.380 --> 14:19.380
我们已经看到

14:19.380 --> 14:20.380
无论是一动

14:20.380 --> 14:21.380
还是画弧

14:21.380 --> 14:23.380
还是画狙行

14:23.380 --> 14:25.380
还是完成现在的整个这格式

14:25.380 --> 14:26.380
那么都可以

14:26.380 --> 14:27.380
理解吧

14:27.380 --> 14:28.380
这样的情况

14:28.380 --> 14:29.380
去其他的

14:29.380 --> 14:30.380
还有些动画效果的话

14:30.380 --> 14:31.380
我们到后面

14:31.380 --> 14:33.380
带给大家去做这方面实例

14:33.380 --> 14:34.380
但这边主要是给大家

14:34.380 --> 14:35.380
继续了解一下

14:35.380 --> 14:37.380
在我们的Tarot中

14:37.380 --> 14:39.380
利用我们的空间

14:39.380 --> 14:41.380
怎么样去进行绘制和操作

14:41.380 --> 14:42.380
好吧

14:42.380 --> 14:44.380
那么这就是我们说的一个

14:44.380 --> 14:46.380
画布的一个

14:46.380 --> 14:48.380
基本在Tarot中的一个空间

