WEBVTT

00:00.000 --> 00:03.000
好 我们继续讲解我们Taro系列课程

00:03.000 --> 00:10.000
这些课呢 给讲解利用Taro怎么向云端的存储 云存储结构的一些操作

00:10.000 --> 00:16.000
我们做一个案例 主要是云存储的一个个人图片的一个库

00:16.000 --> 00:21.000
首先你可以点击上传 然后呢 找到你现在里面的任何一个

00:21.000 --> 00:26.000
比如说我们选这张图片 他可以上传 上传以后呢 他直接告诉你

00:26.000 --> 00:30.000
我现在上面是有两张图片 之前一张是在这

00:30.000 --> 00:34.000
之前我上传过一张 后来我现在又做一个上传 对吧

00:34.000 --> 00:39.000
然后点击我们的相机 然后又回到我们前面了

00:39.000 --> 00:44.000
这样的一个 上传以后 预览 预览以后还可以进行我们的一个列表的显示

00:44.000 --> 00:49.000
我们做这样一个案例 利用Taro的整个这结构来写

00:49.000 --> 00:55.000
首先我们去创建我们的整个这个文件家

00:55.000 --> 00:59.000
我们称之为cloud store

00:59.000 --> 01:03.380
cloud photo 我们称之为云图片

01:03.380 --> 01:20.840
jxx 红点 css

01:20.840 --> 01:27.330
import taro

01:27.330 --> 01:38.400
compot from jas taro

01:38.400 --> 01:48.560
import view from component

01:48.560 --> 01:53.560
import 当前下面的红点 css

01:54.560 --> 02:03.050
expert default 红下面的extents

02:03.050 --> 02:06.050
components

02:06.050 --> 02:14.490
random return

02:14.490 --> 02:20.590
我们称之为clouder

02:20.590 --> 02:22.590
photo

02:22.590 --> 02:35.280
constructor

02:35.280 --> 02:36.280
properies

02:36.280 --> 02:37.280
紧接着

02:37.280 --> 02:45.660
configure state

02:45.660 --> 02:55.860
component did show

02:55.860 --> 02:58.860
我们把它几个都写出来了

02:58.860 --> 03:02.860
然后我们去到我们的jsp app里面

03:02.860 --> 03:06.860
首先把当前这个写出到第一项

03:06.860 --> 03:09.860
pages下的clouder

03:09.860 --> 03:14.700
photo 下面的红

03:14.700 --> 03:22.000
第二步呢 我们把它的标题拿过来

03:22.000 --> 03:27.870
云图库

03:27.870 --> 03:53.040
让它编一项

03:53.040 --> 03:55.040
完成以后 我们来看一下界面

03:55.040 --> 03:59.120
云图库

03:59.120 --> 04:02.430
clouderphoto出来了

04:02.430 --> 04:04.430
那么做云的话呢

04:04.430 --> 04:05.430
首先第一步

04:05.430 --> 04:11.430
我们一定要在我们的app.jxx最顶层

04:11.430 --> 04:16.430
我们去做一个云端的初始化动作

04:16.430 --> 04:17.430
也就是env

04:17.430 --> 04:18.430
我们给它告诉它

04:18.430 --> 04:20.430
我连到的是test.jj555w

04:20.430 --> 04:22.430
这是我们之前说过的

04:22.430 --> 04:24.430
这是我现在云端的一个数据库的

04:24.430 --> 04:27.430
云端的开发的一个环境id

04:27.430 --> 04:29.430
那么这个id的话呢

04:29.430 --> 04:31.430
我们需要去打开当前的云开发

04:31.430 --> 04:34.430
来观察一下

04:34.430 --> 04:36.430
它显示不出

04:36.430 --> 04:41.860
我们就要重启它一下

04:41.860 --> 04:42.860
在这边

04:42.860 --> 04:43.860
重启一下

04:43.860 --> 05:01.270
记住啊

05:01.270 --> 05:03.270
我们这时候给的一定是一个真实的

05:03.270 --> 05:04.270
一个app id

05:04.270 --> 05:05.270
不然的话

05:05.270 --> 05:07.270
你是没有办法看到云开发

05:07.270 --> 05:08.270
这个一个按钮的

05:08.270 --> 05:11.540
咱们看到吗

05:11.540 --> 05:13.540
这边有

05:13.540 --> 05:14.540
如果你现在不是的话

05:14.540 --> 05:16.540
那你可以点修改

05:16.540 --> 05:18.540
把它改成你现在真实的一个

05:18.540 --> 05:20.540
点击云

05:20.540 --> 05:22.540
这时候它就能打开了

05:22.540 --> 05:23.540
打开以后的话呢

05:23.540 --> 05:25.540
我们看到在设置里面

05:25.540 --> 05:27.540
这边有我们的一个开发环境

05:27.540 --> 05:29.540
就拿它来做操事

05:29.540 --> 05:32.540
因为我们现在用的是免费板的

05:32.540 --> 05:34.540
紧接着我们继续往下

05:34.540 --> 05:35.540
那么首先

05:35.540 --> 05:38.540
我们做一些界面的设定

05:38.540 --> 05:44.070
这边我们先写上

05:44.070 --> 05:46.070
container

05:46.070 --> 05:50.050
container

05:50.050 --> 05:52.050
然后里边非常简单

05:52.050 --> 05:54.050
我们就给一个class name

05:54.050 --> 05:57.620
patter

05:57.620 --> 06:01.140
section

06:01.140 --> 06:02.140
button

06:02.140 --> 06:03.140
给一个按钮

06:03.140 --> 06:10.360
按钮进行声明注册

06:10.360 --> 06:18.470
然后我们做一个click

06:18.470 --> 06:29.570
this.uploader

06:29.570 --> 06:34.060
type

06:34.060 --> 06:35.060
primary

06:35.060 --> 06:40.000
上传图片

06:40.000 --> 06:42.000
做这个功能

06:42.000 --> 06:44.000
然后下面有一个

06:44.000 --> 06:46.000
显示图片的操作

06:46.000 --> 06:57.980
images

06:57.980 --> 07:03.110
src

07:03.110 --> 07:04.110
images

07:04.110 --> 07:06.110
我们放到对上面声明注册一下

07:06.110 --> 07:10.730
src

07:11.730 --> 07:14.730
它是你默认图片过来的位置

07:14.730 --> 07:15.730
不那个

07:15.730 --> 07:17.730
就是那个预览图片的

07:17.730 --> 07:18.730
所以呢

07:18.730 --> 07:20.730
我们把它要写在

07:20.730 --> 07:24.730
this.stater里面

07:24.730 --> 07:26.730
images.uil

07:26.730 --> 07:33.580
同时

07:33.580 --> 07:35.580
它默认状态下

07:35.580 --> 07:36.580
应该不显示的

07:36.580 --> 07:38.580
我们可以做 hidden

07:38.580 --> 07:40.580
这个是待会我们后面来写就可以

07:40.580 --> 07:42.580
它是单标签

07:42.580 --> 07:46.500
OK

07:46.500 --> 07:48.500
基本上就是形成这样一个结构

07:48.500 --> 07:50.500
然后呢

07:50.500 --> 07:57.650
简单样式设定一下

07:57.650 --> 08:01.180
pader

08:01.180 --> 08:02.180
宽度

08:02.180 --> 08:04.180
100%

08:04.180 --> 08:05.180
高度

08:05.180 --> 08:07.180
100%

08:07.180 --> 08:09.180
给它设个背景色

08:09.180 --> 08:10.180
蓝色

08:10.180 --> 08:14.180
2D B7 F5

08:15.180 --> 08:17.180
第二个

08:17.180 --> 08:18.180
container

08:18.180 --> 08:20.940
display

08:20.940 --> 08:22.940
flex

08:22.940 --> 08:23.940
flex

08:23.940 --> 08:25.940
direction

08:25.940 --> 08:26.940
colon

08:27.940 --> 08:32.720
align

08:32.720 --> 08:33.720
我们做gesture

08:33.720 --> 08:34.720
先写gesture

08:34.720 --> 08:35.720
gesture contenter

08:35.720 --> 08:39.220
flex start

08:39.220 --> 08:43.330
align item

08:43.330 --> 08:45.830
center

08:45.830 --> 08:48.210
padding

08:49.210 --> 08:50.210
50rpx

08:50.210 --> 08:51.210
0

08:52.210 --> 08:53.210
box

08:53.210 --> 08:54.210
side

08:54.210 --> 08:56.580
board box

08:56.580 --> 09:01.300
紧接着

09:01.300 --> 09:03.300
我们再设定一下

09:04.300 --> 09:06.300
现在的后面的几项

09:06.300 --> 09:07.300
pader

09:07.300 --> 09:08.300
section

09:08.300 --> 09:17.590
display

09:17.590 --> 09:19.590
flex

09:19.590 --> 09:23.740
flex direction

09:23.740 --> 09:28.610
colon

09:28.610 --> 09:31.300
background

09:31.300 --> 09:36.340
wide

09:36.340 --> 09:38.340
board radius

09:38.340 --> 09:42.870
10rpx

09:42.870 --> 09:45.500
padding

09:45.500 --> 09:49.010
10rpx

09:49.010 --> 09:51.770
module

09:51.770 --> 10:05.290
pader section

10:05.290 --> 10:06.290
button

10:06.290 --> 10:10.050
90%

10:10.050 --> 10:12.050
pader section

10:13.050 --> 10:15.050
一面有个major

10:15.050 --> 10:21.520
宽度

10:21.520 --> 10:23.520
100%

10:23.520 --> 10:24.520
好了

10:24.520 --> 10:26.520
样式写好了

10:26.520 --> 10:27.520
看一下效果

10:27.520 --> 10:32.370
就形成这个界面

10:32.370 --> 10:33.370
这边有一张

10:33.370 --> 10:34.370
可以显示图片的

10:34.370 --> 10:35.370
我们暂时不隐藏

10:35.370 --> 10:37.370
这边有个上传按钮

10:37.370 --> 10:38.370
然后呢

10:38.370 --> 10:39.370
我们可以点击它以后

10:39.370 --> 10:40.370
进行选择图片

10:40.370 --> 10:41.370
然后呢

10:41.370 --> 10:43.370
图片可以预览在这边

10:43.370 --> 10:45.370
同时它也可以进行上传

10:45.370 --> 10:46.370
上传以后

10:46.370 --> 10:48.370
图片拿下来的预览

10:48.370 --> 10:49.370
界面搭建好了

10:49.370 --> 10:51.940
接下去

10:51.940 --> 10:54.940
我们开始做它的功能

10:54.940 --> 11:03.050
这边有个uploader

11:03.050 --> 11:05.050
uploader本身来讲的话

11:05.050 --> 11:07.050
我们这边只需要去给它

11:07.050 --> 11:10.050
进行图片上传的一个设定

11:10.050 --> 11:11.050
那么同时呢

11:11.050 --> 11:14.050
我们需要在我们的major里面

11:14.050 --> 11:16.050
设置几个值

11:16.050 --> 11:17.050
首先

11:17.050 --> 11:18.050
suremg

11:18.050 --> 11:19.050
我们也设置一下

11:19.050 --> 11:20.050
因为这个值呢

11:20.050 --> 11:24.260
之后我们会变成的是

11:24.260 --> 11:29.620
预览图片的

11:29.620 --> 11:37.980
显示或隐藏

11:37.980 --> 11:38.980
注写一下

11:38.980 --> 11:39.980
这个呢

11:39.980 --> 11:40.980
叫做

11:40.980 --> 11:49.160
上传图片

11:49.160 --> 11:51.160
先做一个z

11:51.160 --> 11:53.160
然后选择图片

11:53.160 --> 12:00.030
taro.show

12:00.030 --> 12:02.030
老鼎

12:02.030 --> 12:05.050
选图片

12:05.050 --> 12:07.050
title

12:07.050 --> 12:09.050
上传中

12:09.050 --> 12:19.660
我们可以有这样的一个提示

12:19.660 --> 12:21.660
进接着

12:21.660 --> 12:23.660
我们不要再这样写

12:23.660 --> 12:25.660
我们把它先上传以后

12:25.660 --> 12:27.660
再来做这个

12:27.660 --> 12:28.660
让它先选

12:28.660 --> 12:29.660
对吧

12:29.660 --> 12:30.660
我们先选了以后

12:30.660 --> 12:33.480
再做老鼎

12:33.480 --> 12:36.480
我们做一个choose and major

12:36.480 --> 12:37.480
对吧

12:37.480 --> 12:38.480
先选了以后再做

12:38.480 --> 12:40.480
这样会好

12:40.480 --> 12:41.480
count

12:41.480 --> 12:47.350
就选一张可以

12:47.350 --> 12:57.020
success

12:57.020 --> 12:59.530
这时候来

12:59.530 --> 13:00.530
老鼎

13:00.530 --> 13:06.660
taro.show

13:06.660 --> 13:13.640
title

13:13.640 --> 13:22.740
上传中

13:22.740 --> 13:23.740
接下去

13:23.740 --> 13:26.740
处理一下这些图片

13:26.740 --> 13:27.740
上传中

13:27.740 --> 13:29.740
一旦这些图片已经完成了

13:29.740 --> 13:30.740
它就表示

13:30.740 --> 13:32.740
拿到这些图片以后的话

13:32.740 --> 13:34.740
我们需要进行

13:34.740 --> 13:36.740
图片的处理

13:36.740 --> 13:38.740
处理方式主要是完成

13:38.740 --> 13:40.740
我们图片的命名

13:40.740 --> 13:42.740
再进行图片的上传

13:42.740 --> 13:44.740
由于我现在上传过来的

13:44.740 --> 13:45.740
res里面的内容

13:45.740 --> 13:48.740
它其实是一个速足类型

13:48.740 --> 13:50.740
所以我们需要对它进行

13:50.740 --> 13:52.740
一定的循环

13:52.740 --> 13:54.740
每一张图片单独操作

13:54.740 --> 13:56.740
当然你也可以单独形成

13:56.740 --> 13:57.740
直接拿一张

13:57.740 --> 13:59.740
因为我们要求的是

13:59.740 --> 14:00.740
首先我们来看一下

14:09.650 --> 14:10.650
点击

14:10.650 --> 14:11.650
选择放大镜

14:11.650 --> 14:12.650
看

14:12.650 --> 14:13.650
上传

14:13.650 --> 14:14.650
先不用管这个

14:14.650 --> 14:15.650
到这来看

14:15.650 --> 14:16.650
看到吗

14:16.650 --> 14:17.650
有个中国号

14:17.650 --> 14:18.650
但是我每次只取一张

14:18.650 --> 14:19.650
所以temp5parse

14:19.650 --> 14:21.650
你可以直接拿0来操作

14:22.650 --> 14:24.650
并不是我们有两张以上

14:24.650 --> 14:25.650
是吧

14:25.650 --> 14:27.650
所以我们这边的操作方式

14:27.650 --> 14:28.650
很简单

14:28.650 --> 14:29.650
我们直接可以写出

14:29.650 --> 14:31.650
我们现在的一个

14:31.650 --> 14:33.650
上传的方式

14:33.650 --> 14:34.650
上传的语句了

14:34.650 --> 14:45.770
语音存储

14:45.770 --> 14:46.770
taro.show

14:47.770 --> 14:50.770
cloud.uplotify

14:51.770 --> 14:52.770
上传

14:53.770 --> 14:55.770
它需要有些参数

14:55.770 --> 14:56.770
params

14:56.770 --> 14:57.770
我们在前面定一下

14:57.770 --> 15:03.090
params

15:03.090 --> 15:05.780
第一个

15:05.780 --> 15:09.670
cloud pass

15:09.670 --> 15:10.670
教室

15:10.670 --> 15:13.670
你现在上传的一个名称

15:13.670 --> 15:14.670
也就是说

15:14.670 --> 15:15.670
这样图片你想怎么存

15:15.670 --> 15:16.670
这个时候

15:16.670 --> 15:17.670
我们其实

15:17.670 --> 15:18.670
可以给它一个

15:18.670 --> 15:20.670
字型定义的名称

15:20.670 --> 15:21.670
major name

15:21.670 --> 15:22.670
字型定义名称

15:22.670 --> 15:23.670
我们给一个

15:24.670 --> 15:25.670
随机数吧

15:25.670 --> 15:27.670
randle

15:27.670 --> 15:28.670
给大一点

15:28.670 --> 15:31.980
1000x100

15:31.980 --> 15:32.980
加上我们的

15:32.980 --> 15:34.980
点篇G

15:34.980 --> 15:35.980
所以

15:35.980 --> 15:37.980
major我们可以这样给到

15:37.980 --> 15:38.980
没有规定一定要

15:38.980 --> 15:39.980
怎么样的数值

15:39.980 --> 15:41.980
但是我们最好是让它

15:41.980 --> 15:42.980
能够不重复

15:42.980 --> 15:43.980
对吧

15:43.980 --> 15:44.980
第二个

15:44.980 --> 15:49.380
第二个是你现在

15:49.380 --> 15:50.380
你需要上传

15:50.380 --> 15:51.380
现在的哪个路径

15:51.380 --> 15:54.380
res.temp5parse

15:54.380 --> 15:56.380
由于我们是只有一个

15:56.380 --> 15:57.380
我们可以给个0

15:57.380 --> 16:00.700
给这两个出来

16:00.700 --> 16:01.700
接下去

16:01.700 --> 16:05.610
den

16:05.610 --> 16:06.610
数据成功以后

16:06.610 --> 16:08.610
我们这边拿出内容

16:08.610 --> 16:10.610
首先第一步

16:10.610 --> 16:12.610
你已经上传成功了

16:12.610 --> 16:13.610
所以

16:13.610 --> 16:15.610
隐藏

16:15.610 --> 16:17.610
loading

16:17.610 --> 16:20.940
tarotian

16:20.940 --> 16:21.940
hater

16:21.940 --> 16:25.090
loading

16:25.090 --> 16:28.040
第二步

16:28.040 --> 16:31.930
将

16:31.930 --> 16:33.930
结果存储到

16:33.930 --> 16:39.740
stater中

16:39.740 --> 16:40.740
stater中的话

16:40.740 --> 16:41.740
我们看到

16:41.740 --> 16:43.740
我们有一个叫做

16:43.740 --> 16:44.740
这部分

16:44.740 --> 16:46.740
emmajor url

16:46.740 --> 16:47.740
对吧

16:47.740 --> 16:48.740
所以我们存进去

16:48.740 --> 16:58.200
that.setstater

16:58.200 --> 17:05.070
emmajor url

17:05.070 --> 17:08.070
我们从res里面拿

17:08.070 --> 17:09.070
注意哦

17:09.070 --> 17:10.070
这个拿什么

17:10.070 --> 17:16.580
我这边再给大家演示一下

17:16.580 --> 17:17.580
我们直接console

17:17.580 --> 17:19.580
把这个拿出来

17:19.580 --> 17:21.580
它其实拿到的

17:21.580 --> 17:22.580
应该是

17:22.580 --> 17:25.580
现在你所传输成功以后

17:25.580 --> 17:27.580
返回的那个id

17:27.580 --> 17:28.580
只不过呢

17:28.580 --> 17:48.790
它的名称应该叫fiid

17:48.790 --> 17:50.790
首先打开云

17:50.790 --> 17:51.790
我们在云存处里面

17:51.790 --> 17:53.790
看到好多图片

17:53.790 --> 17:55.790
我这边有一堆图片在

17:55.790 --> 17:56.790
就这几张

17:56.790 --> 17:57.790
那么我们待会来看

17:57.790 --> 17:59.790
这个fiid

17:59.790 --> 18:01.790
这个路径是哪一个

18:01.790 --> 18:03.790
上传

18:03.790 --> 18:04.790
拿小电视

18:04.790 --> 18:06.790
上传成功

18:06.790 --> 18:07.790
它这边

18:07.790 --> 18:10.790
我们的console那句话

18:10.790 --> 18:12.790
对吧

18:12.790 --> 18:13.790
console.log

18:13.790 --> 18:14.790
呈现这句话

18:14.790 --> 18:15.790
抱错了

18:15.790 --> 18:22.520
点击

18:22.520 --> 18:25.660
好

18:25.660 --> 18:26.660
不用关心这边

18:26.660 --> 18:27.660
看这里

18:27.660 --> 18:29.660
是不是有一个fiid的返回

18:29.660 --> 18:30.660
这fiid

18:30.660 --> 18:32.660
它传到这个

18:32.660 --> 18:33.660
环境下面

18:33.660 --> 18:35.660
然后它以这个路径

18:35.660 --> 18:37.660
它自动完成的

18:37.660 --> 18:39.660
然后给了一个30.26

18:39.660 --> 18:42.660
这个我们来看一下

18:42.660 --> 18:44.660
我们刷新一下

18:44.660 --> 18:45.660
咱们找一下

18:45.660 --> 18:53.900
30.26

18:53.900 --> 18:55.900
30.26

18:55.900 --> 19:08.070
在这

19:08.070 --> 19:09.070
咱们看到吗

19:09.070 --> 19:11.070
30.26这张

19:11.070 --> 19:13.070
就今天的时间上传的

19:13.070 --> 19:15.070
这样传完以后的话

19:15.070 --> 19:16.070
我们这样图片就有了

19:16.070 --> 19:17.070
点开看一看

19:17.070 --> 19:18.070
这边有个预览图片

19:18.070 --> 19:20.070
是不是小电视

19:20.070 --> 19:21.070
OK

19:21.070 --> 19:22.070
那就算是OK了

19:22.070 --> 19:23.070
现在我们这个图片

19:23.070 --> 19:25.070
已经正常的完成了上传

19:25.070 --> 19:26.070
然后这个路径的话

19:26.070 --> 19:28.070
我们其实是可以在

19:28.070 --> 19:30.070
imager里面给它呈现出来的

19:30.070 --> 19:32.070
所以我们先把它

19:32.070 --> 19:33.070
放置到这边来

19:33.070 --> 19:36.070
放置改变imager URL

19:36.070 --> 19:39.510
咱们称为res下面的

19:39.510 --> 19:43.780
fi id

19:43.780 --> 19:45.780
是这个吧

19:45.780 --> 19:47.780
然后同时我们这边

19:47.780 --> 19:49.780
我们还可以做的就是

19:49.780 --> 19:51.780
show a major

19:51.780 --> 19:53.780
它不是有个呈现吗

19:53.780 --> 19:55.780
有一个预览呈现吗

19:55.780 --> 19:57.780
我们给它设成force

19:57.780 --> 19:58.780
那么这样的话

19:58.780 --> 19:59.780
我们来看

19:59.780 --> 20:00.780
我们就这个内容

20:00.780 --> 20:01.780
我们上面

20:01.780 --> 20:03.780
做一个hidden隐藏

20:03.780 --> 20:04.780
它的话

20:04.780 --> 20:06.780
我们直接给它一个

20:06.780 --> 20:08.780
show a major

20:09.780 --> 20:13.290
show a major

20:13.290 --> 20:14.290
默认状态下

20:14.290 --> 20:15.290
我们来看隐藏

20:15.290 --> 20:17.290
也就是你给一个q的话

20:17.290 --> 20:19.290
那么整个这块效果就隐藏了

20:19.290 --> 20:21.290
但你给force的话

20:21.290 --> 20:22.290
那么它就会呈现

20:22.290 --> 20:23.290
所以我们看

20:23.290 --> 20:25.290
默认在stater里面

20:25.290 --> 20:26.290
我们给了一个q

20:26.290 --> 20:28.290
它是隐藏的

20:28.290 --> 20:29.290
对吧

20:29.290 --> 20:30.290
我们把这个就取消了

20:30.290 --> 20:31.290
图片的隐藏

20:31.290 --> 20:33.290
然后在这里

20:33.290 --> 20:35.290
我们已经拿到图片以后的话

20:35.290 --> 20:37.290
我们写上

20:37.290 --> 20:38.290
显示

20:38.290 --> 20:40.290
预览图片

20:40.290 --> 20:42.290
那么图片本身预览的时候

20:42.290 --> 20:44.290
通过majurl呈现

20:44.290 --> 20:45.290
是不是

20:45.290 --> 20:46.290
好

20:46.290 --> 20:49.500
我们来看一下下个效果

20:49.500 --> 20:50.500
注意

20:50.500 --> 20:51.500
这个预览

20:51.500 --> 20:52.500
它其实

20:52.500 --> 20:55.500
就是拿到的是我们在线的

20:55.500 --> 20:57.500
在线的这张图片

20:57.500 --> 20:59.500
并非是你本地的了

20:59.500 --> 21:00.500
也就是云端图片

21:00.500 --> 21:01.500
图片太大

21:01.500 --> 21:14.280
稍微小一点

21:14.280 --> 21:16.280
我们给一个

21:16.280 --> 21:18.280
100rpx

21:18.280 --> 21:24.220
高度也做100rpx

21:24.220 --> 21:25.220
就可以了

21:25.220 --> 21:26.220
稍微小一点

21:26.220 --> 21:29.940
别太大了

21:29.940 --> 21:32.950
再来一张

21:32.950 --> 21:33.950
这样就行了

21:33.950 --> 21:35.950
我们不做任何的其他的

21:35.950 --> 21:37.950
那么这样呈现出来以后的话

21:37.950 --> 21:39.950
那么我们需要做的事情是

21:39.950 --> 21:41.950
我们看到图片以后

21:41.950 --> 21:43.950
过个差不多一秒钟时间

21:43.950 --> 21:45.950
我们让它跳转到第二个页面

21:45.950 --> 21:47.950
第二个页面是我们

21:47.950 --> 21:49.950
现在能够进行所谓的

21:49.950 --> 21:51.950
预览的一个列表

21:51.950 --> 21:52.950
把你现在

21:52.950 --> 21:56.950
你所上传的所有图片都列出来

21:56.950 --> 21:58.950
那么我们要做的情况是

21:58.950 --> 22:00.950
在整个这预览图片的

22:00.950 --> 22:02.950
这个过程中

22:02.950 --> 22:04.950
我们在它完成的时候

22:04.950 --> 22:06.950
回掉函数中

22:06.950 --> 22:07.950
我们说

22:07.950 --> 22:11.900
做一个跳转

22:11.900 --> 22:13.900
但是它的跳转

22:13.900 --> 22:17.920
我们稍微延迟跳转

22:17.920 --> 22:19.920
我们写在

22:19.920 --> 22:21.920
延迟

22:21.920 --> 22:26.130
一秒

22:26.130 --> 22:28.130
所以我们这边写的是

22:28.130 --> 22:30.130
set timeout

22:30.130 --> 22:34.590
前面是个方法

22:34.590 --> 22:36.590
前面给出一秒钟时间

22:36.590 --> 22:38.590
那么这个方法里面

22:38.590 --> 22:44.210
做的事情就是跳转

22:44.210 --> 22:48.210
tarrow.navigate2

22:48.210 --> 22:52.990
咱们写上url

22:52.990 --> 22:54.990
它要跳转到第二个页面

22:54.990 --> 22:56.990
我们称之为pagers

22:56.990 --> 22:58.990
下面的当前是

22:58.990 --> 23:03.200
photo里面的list

23:03.200 --> 23:10.360
称之为photo list

23:10.360 --> 23:12.360
那我们去建立这个界面

23:12.360 --> 23:21.590
我们不用建目录

23:21.590 --> 23:26.820
jxx

23:26.820 --> 23:31.610
我们先看一下

23:31.610 --> 23:32.610
它完成以后

23:32.610 --> 23:34.610
它的跳转是否会来到

23:34.610 --> 23:37.610
photo list

23:37.610 --> 23:38.610
如果它跳转告诉你

23:38.610 --> 23:39.610
抱错没有这页面

23:39.610 --> 23:45.100
那表示正常

23:45.100 --> 23:46.100
看

23:46.100 --> 23:47.100
它爆了

23:47.100 --> 23:48.100
爆出来是没有这页面

23:48.100 --> 23:49.100
对吧

23:49.100 --> 23:50.100
it's not found

23:50.100 --> 23:51.100
那代表我们这个事情

23:51.100 --> 23:52.100
是ok的

23:52.100 --> 23:56.840
再大一点

23:56.840 --> 23:59.920
200

23:59.920 --> 24:00.920
那此时

24:00.920 --> 24:02.920
我们就开始建photo list

24:02.920 --> 24:04.920
photo list的前半部分

24:04.920 --> 24:06.920
和你现在这部分是一样

24:06.920 --> 24:08.920
所以我们复制

24:08.920 --> 24:14.860
改一改

24:14.860 --> 24:15.860
photo list

24:15.860 --> 24:34.400
expertive for the class

24:34.400 --> 24:35.400
photo list extends the

24:35.400 --> 24:38.400
experient component

24:38.400 --> 24:44.020
randow

24:44.020 --> 24:46.020
return

24:46.020 --> 24:47.020
view

24:47.020 --> 24:54.360
然后这边显示一下

24:54.360 --> 25:04.100
photo list

25:04.100 --> 25:06.100
紧接着把photo list

25:06.100 --> 25:07.100
放到

25:07.100 --> 25:09.100
app.jx image

25:09.100 --> 25:29.260
前面跟上你现在的路径

25:29.260 --> 25:30.260
好了

25:30.260 --> 25:31.260
接下来就我们开始

25:31.260 --> 25:33.260
做photo list的界面

25:33.260 --> 25:41.010
相对而言

25:41.010 --> 25:42.010
它的界面

25:42.010 --> 25:43.010
比起我们前面来讲

25:43.010 --> 25:44.010
复杂一点点

25:44.010 --> 25:47.010
因为它需要有一个排版列表

25:47.010 --> 25:49.010
在这边我们写上

25:49.010 --> 25:53.540
container

25:53.540 --> 25:54.540
接下去

25:54.540 --> 25:57.540
里面完整是一个循环结构

25:57.540 --> 25:59.540
因为它需要去拿到

25:59.540 --> 26:00.540
我们整个的

26:00.540 --> 26:01.540
所有数据

26:01.540 --> 26:02.540
你个人的

26:02.540 --> 26:03.540
那我们把它显示出来

26:03.540 --> 26:05.540
所以这边应该是一个

26:05.540 --> 26:07.540
map的循环

26:07.540 --> 26:09.540
我们把里面结构搭建一下

26:09.540 --> 26:15.880
pager section

26:15.880 --> 26:17.880
这是一个区域

26:17.880 --> 26:18.880
然后来

26:18.880 --> 26:20.880
tester

26:20.880 --> 26:26.330
这边我们写上

26:26.330 --> 26:31.110
class item

26:31.110 --> 26:35.190
首先是item name

26:35.190 --> 26:37.890
上传人

26:37.890 --> 26:41.710
叉叉叉先订位

26:41.710 --> 26:45.110
第二步

26:45.110 --> 26:51.110
这边是

26:52.110 --> 26:53.110
也是我们把item name

26:53.110 --> 26:54.110
也写在这儿

26:54.110 --> 26:55.110
上传时间

26:55.110 --> 26:57.110
item time

26:57.110 --> 27:05.100
上传时间叉叉叉

27:05.100 --> 27:06.100
订位

27:07.100 --> 27:08.100
因为叉叉叉的时候

27:08.100 --> 27:09.100
我们待会儿

27:09.100 --> 27:11.100
会把所有的

27:11.100 --> 27:14.100
改成它循环里面的item

27:14.100 --> 27:25.610
images

27:25.610 --> 27:26.610
然后这边

27:26.610 --> 27:30.370
我们写上的是img

27:30.370 --> 27:33.740
src

27:33.740 --> 27:34.740
图片

27:34.740 --> 27:35.740
这张图片应该是来自于

27:35.740 --> 27:37.740
我们也是循环过程中

27:37.740 --> 27:39.740
你所看到那张图片

27:39.740 --> 27:40.740
对吧

27:40.740 --> 27:41.740
当然我们应该

27:41.740 --> 27:43.740
在后面还有一个图片

27:43.740 --> 27:44.740
你说老师不是没了吗

27:44.740 --> 27:45.740
我们可以做一个

27:45.740 --> 27:47.740
删除按钮

27:47.740 --> 27:49.740
图片再放上去以后的话

27:49.740 --> 27:50.740
我们其实

27:50.740 --> 27:52.740
我们后去还要给大家做的是

27:52.740 --> 27:54.740
你怎么把这张图片给删了

27:54.740 --> 27:55.740
理解吧

27:55.740 --> 27:57.740
你不能说我有图片在了

27:57.740 --> 27:58.740
我不能删除

27:58.740 --> 28:03.850
我们这边写上

28:03.850 --> 28:05.850
删除

28:05.850 --> 28:07.850
那么删除的src

28:07.850 --> 28:08.850
其实是我们固定在

28:08.850 --> 28:10.850
本地的一张图片

28:10.850 --> 28:11.850
在当前的目录

28:11.850 --> 28:12.850
然后找到dister里面

28:12.850 --> 28:14.850
data status里面

28:14.850 --> 28:17.670
注意哦

28:17.670 --> 28:18.670
这里面新建的话

28:18.670 --> 28:19.670
有一点

28:19.670 --> 28:20.670
就是你的项目

28:20.670 --> 28:22.670
在重新生成重启的时候

28:22.670 --> 28:24.670
它会全部删除掉

28:24.670 --> 28:31.440
所以在这个statue里面的内容

28:31.440 --> 28:34.440
我们大家可以在这也放一份

28:34.440 --> 28:35.440
在这里

28:35.440 --> 28:39.740
我们放一份

28:39.740 --> 28:40.740
就是这个图片

28:40.740 --> 28:42.740
我们要的是delete

28:42.740 --> 28:43.740
还有这个发布

28:43.740 --> 28:44.740
这两个图片

28:44.740 --> 28:47.430
好了

28:47.430 --> 28:48.430
我们继续回来

28:48.430 --> 28:52.380
我们把这图片放这

28:52.380 --> 28:54.760
我们点点钢

28:54.760 --> 28:55.760
点点钢

28:55.760 --> 28:57.760
static

28:57.760 --> 28:58.760
images

28:58.760 --> 29:00.760
下面有一个我们的

29:00.760 --> 29:04.760
delete.png

29:04.760 --> 29:07.760
它就是我们做的删除图片

29:07.760 --> 29:09.760
每一个都应该有一个

29:09.760 --> 29:10.760
删除图片

29:10.760 --> 29:12.760
它能够让我们进行

29:12.760 --> 29:14.760
所谓的删除操作

29:14.760 --> 29:16.760
循环结束以后的话

29:16.760 --> 29:17.760
我们应该在它底部

29:17.760 --> 29:18.760
再放一个

29:18.760 --> 29:20.760
就是我们可以跳回去

29:20.760 --> 29:21.760
因为这页面

29:21.760 --> 29:22.760
其他部分没有按钮

29:22.760 --> 29:23.760
我们后面做一个

29:23.760 --> 29:25.760
就是它可以继续发布

29:25.760 --> 29:26.760
也就是跳转

29:26.760 --> 29:30.200
我们做一个src

29:30.200 --> 29:32.200
然后这边点点钢

29:32.200 --> 29:33.200
点点钢

29:33.200 --> 29:35.200
我们做一个

29:35.200 --> 29:39.980
static

29:39.980 --> 29:40.980
images

29:40.980 --> 29:43.980
发布.png

29:43.980 --> 29:50.340
class.net

29:50.340 --> 29:52.340
发布

29:52.340 --> 29:53.340
好

29:53.340 --> 29:55.340
在没有做样式情况下

29:55.340 --> 29:56.340
我们看一下

29:56.340 --> 29:57.340
介面的结构

29:57.340 --> 30:00.900
它告诉我有一个

30:00.900 --> 30:01.900
没有定义

30:01.900 --> 30:02.900
是没有保存

30:02.900 --> 30:03.900
还是路径的问题

30:03.900 --> 30:04.900
我们看一下

30:04.900 --> 30:06.900
这是photo list

30:06.900 --> 30:07.900
然后去到我们

30:07.900 --> 30:15.570
danda的app.jxx

30:15.570 --> 30:16.570
pagers

30:16.570 --> 30:22.850
OK

30:22.850 --> 30:23.850
让它编译一下

30:23.850 --> 30:31.960
然后我们再次生成

30:31.960 --> 30:41.950
生成了

30:41.950 --> 30:42.950
那么现在由于我们

30:42.950 --> 30:43.950
这边要上传再过来

30:43.950 --> 30:45.950
它前后两个关系之间

30:45.950 --> 30:47.950
是没有任何的连接的

30:47.950 --> 30:49.950
所以我们就把它做成这样吧

30:49.950 --> 30:50.950
就是我们把

30:50.950 --> 30:51.950
现在这个页面

30:51.950 --> 30:52.950
先给它呈现出来

30:52.950 --> 30:56.970
我们把它放在前面

30:56.970 --> 31:17.140
这样吧

31:17.140 --> 31:18.140
看到吗

31:18.140 --> 31:20.140
首先上传人

31:20.140 --> 31:21.140
这部分这里有图片

31:21.140 --> 31:22.140
然后就插插

31:22.140 --> 31:23.140
有一个我们的

31:23.140 --> 31:25.140
这样的一个

31:25.140 --> 31:26.140
发布的图片

31:26.140 --> 31:28.140
然后我们对它进行

31:28.140 --> 31:29.140
样式的设定一下

31:29.140 --> 31:30.140
没有样式

31:30.140 --> 31:31.140
这界面很难看

31:31.140 --> 31:33.140
样式的话也比较简单

31:34.140 --> 31:36.140
它的样式依然是continue

31:36.140 --> 31:37.140
我们把continue的那两项

31:37.140 --> 31:38.140
也放过来

31:40.140 --> 31:41.140
pagers

31:41.140 --> 31:42.140
这个就打一下

31:42.140 --> 31:43.140
很简单

31:43.140 --> 31:46.090
宽度

31:46.090 --> 31:47.090
高度

31:47.090 --> 31:49.090
100%

31:50.090 --> 31:51.090
background color

31:51.090 --> 31:52.090
背景色

31:52.090 --> 31:53.090
我们给一个

31:53.090 --> 31:54.090
和刚才一样

31:54.090 --> 31:56.090
2DB7F5

31:57.090 --> 31:59.980
然后continue

31:59.980 --> 32:00.980
Display

32:00.980 --> 32:07.770
Flex

32:07.770 --> 32:11.780
Flex Direction

32:11.780 --> 32:17.140
Align Item

32:17.140 --> 32:18.140
Center

32:19.140 --> 32:21.140
Just Item

32:21.140 --> 32:24.290
Center

32:25.290 --> 32:26.290
Just Content

32:26.290 --> 32:31.780
Just Content

32:31.780 --> 32:32.780
Padding

32:32.780 --> 32:38.460
512px0

32:39.460 --> 32:41.460
Box Thigh-In

32:41.460 --> 32:43.460
Bold Box

32:47.620 --> 32:48.620
接下去是

32:48.620 --> 32:49.620
我们去看一下

32:49.620 --> 32:50.620
我们现在在

32:50.620 --> 32:51.620
这个页面中

32:51.620 --> 32:52.620
我们从

32:52.620 --> 32:53.620
peter section

32:53.620 --> 32:54.620
下面继续开始

32:54.620 --> 32:56.620
它主要是这几个就没了

32:56.620 --> 33:00.790
peter section

33:01.790 --> 33:09.350
宽度

33:09.350 --> 33:11.790
90%

33:12.790 --> 33:15.170
Display

33:15.170 --> 33:16.170
Flex

33:17.170 --> 33:19.170
Flex Direction

33:19.170 --> 33:21.540
Color

33:21.540 --> 33:23.920
Background

33:24.920 --> 33:25.920
Color

33:26.920 --> 33:27.920
用白色

33:28.920 --> 33:30.920
Bold Radius

33:31.920 --> 33:32.920
10rpx

33:34.920 --> 33:35.920
Padding

33:36.920 --> 33:37.920
10rpx

33:39.920 --> 33:40.920
Merge

33:40.920 --> 33:41.920
4%

33:41.920 --> 33:47.880
Item

33:47.880 --> 33:48.880
念

33:48.880 --> 33:52.450
Font Size

33:52.450 --> 33:53.450
30rpx

33:56.270 --> 33:57.270
Merge

33:57.270 --> 33:59.270
10rpx0

33:59.270 --> 34:01.270
10rpx

34:01.270 --> 34:03.270
30rpx

34:03.270 --> 34:08.720
然后我们把

34:08.720 --> 34:09.720
Major定义一下

34:09.720 --> 34:29.060
这里有个Major

34:29.060 --> 34:30.060
宽度

34:30.060 --> 34:31.060
200

34:32.060 --> 34:33.060
高度

34:34.060 --> 34:35.060
200

34:36.060 --> 34:37.060
Merge

34:37.060 --> 34:39.060
10rpx0

34:39.060 --> 34:40.060
10rpx

34:40.060 --> 34:41.060
30

34:42.060 --> 34:43.060
rpx

34:43.060 --> 34:46.820
删除那个按钮

34:46.820 --> 34:50.160
40rpx

34:50.160 --> 34:51.160
高度

34:51.160 --> 34:52.160
40rpx

34:53.160 --> 34:55.790
Position

34:56.790 --> 34:57.790
Absolute

34:58.790 --> 34:59.790
Right

34:59.790 --> 35:00.790
去右边

35:00.790 --> 35:01.790
40rpx

35:06.280 --> 35:07.280
最后还有一个

35:07.280 --> 35:08.280
没了就结束

35:08.280 --> 35:09.280
就是有一个发布

35:17.290 --> 35:19.290
它的宽度设定为在80rpx

35:20.290 --> 35:22.290
高度设定也在80rpx

35:22.290 --> 35:23.290
小正方形

35:25.290 --> 35:26.290
Position

35:27.290 --> 35:28.290
Fixed

35:28.290 --> 35:30.660
Bottom

35:31.660 --> 35:32.660
60rpx

35:33.660 --> 35:40.970
Right

35:40.970 --> 35:41.970
右边

35:41.970 --> 35:42.970
30rpx

35:42.970 --> 35:43.970
OK了

35:43.970 --> 35:44.970
现在来看看界面

35:44.970 --> 35:51.990
打形成这个结构

35:51.990 --> 35:52.990
这边有个上传人

35:52.990 --> 35:53.990
上传时间

35:53.990 --> 35:54.990
这边会显示图片

35:54.990 --> 35:55.990
这边有个叉叉

35:55.990 --> 35:57.990
代表的是你现在可以关闭

35:57.990 --> 35:58.990
点击下去

35:58.990 --> 35:59.990
当然没做效果

35:59.990 --> 36:00.990
当然这边会有一个

36:00.990 --> 36:01.990
放在这边的一个按钮

36:01.990 --> 36:02.990
点击一下

36:02.990 --> 36:03.990
会跳回来

36:03.990 --> 36:05.990
首先我们开始做它的结构

36:05.990 --> 36:08.990
首先我们先做下面那个发布

36:08.990 --> 36:10.990
点那个发布按钮的话

36:10.990 --> 36:11.990
它可以直接往回跳

36:11.990 --> 36:13.990
这个我们把简单的线给干掉

36:13.990 --> 36:19.610
就是在这

36:19.610 --> 36:23.050
我们写上

36:23.050 --> 36:24.050
unclick

36:24.050 --> 36:39.820
this.go to

36:39.820 --> 36:40.820
发布

36:40.820 --> 36:49.340
由于它是类

36:49.340 --> 36:51.340
所以construct这套内容

36:51.340 --> 36:52.340
我们先把它写全出来

36:52.340 --> 37:11.820
然后把高头发布写上去

37:11.820 --> 37:13.820
应该是component.show

37:13.820 --> 37:19.620
我们利用的是发布

37:19.620 --> 37:38.420
它是点击相机图片

37:38.420 --> 37:41.420
我们跳转发布操作

37:41.420 --> 37:42.420
对吧

37:42.420 --> 37:43.420
所以做这个操作

37:43.420 --> 37:44.420
发布

37:44.420 --> 37:46.420
那么它其实很简单

37:46.420 --> 37:47.420
跳转

37:47.420 --> 37:58.630
terror.redirect to URL

37:58.630 --> 38:04.010
我们直接

38:04.010 --> 38:06.010
它可以有几种操作

38:06.010 --> 38:07.010
第一种就是

38:07.010 --> 38:09.010
我直接通过我们的redirector

38:09.010 --> 38:11.010
to的方式

38:11.010 --> 38:12.010
给它返回

38:12.010 --> 38:13.010
第二种方式呢

38:13.010 --> 38:16.010
是它本身就是我前一个页面

38:16.010 --> 38:19.010
那个nevocate to过来的

38:19.010 --> 38:21.010
所以你可以使用nevocate to back

38:21.010 --> 38:23.010
那我们现在先写这个

38:23.010 --> 38:26.010
Peters 下面的

38:26.010 --> 38:28.010
Clouder

38:28.010 --> 38:29.010
PHP

38:29.010 --> 38:31.010
在下面的

38:31.010 --> 38:33.010
我们刚才的第一个页面

38:33.010 --> 38:34.010
咱们叫做Home

38:34.010 --> 38:38.340
这是第一种对吧

38:38.340 --> 38:41.720
然后还有一种就是

38:41.720 --> 38:49.170
terror.nevocate to back

38:49.170 --> 38:51.170
你可以这样写

38:51.170 --> 38:53.170
因为它是从前页面跳过来的

38:53.170 --> 38:55.170
但是我们现在由于

38:55.170 --> 38:57.170
初始打开时打开的是第二个页面

38:57.170 --> 38:59.170
所以我们采用下面这种格式

38:59.170 --> 39:00.170
跳回去

39:00.170 --> 39:01.170
OK了

39:01.170 --> 39:03.170
这个是很简单的

39:03.170 --> 39:04.170
我们继续

39:04.170 --> 39:06.170
那么在打开这个页面的时候

39:06.170 --> 39:08.170
我们就应该能够看到

39:08.170 --> 39:10.170
你现在返回的数据

39:10.170 --> 39:13.170
所以我们先定义一个变量

39:13.170 --> 39:14.170
在我们的State里面

39:14.170 --> 39:16.170
这就是

39:16.170 --> 39:21.340
所有

39:21.340 --> 39:24.340
云存储数据

39:24.340 --> 39:26.340
列表

39:26.340 --> 39:28.340
就要云存储数据

39:28.340 --> 39:29.340
不是数据库

39:29.340 --> 39:31.340
存储数据也就意味着在我们的

39:31.340 --> 39:32.340
刚才看到的

39:32.340 --> 39:35.340
存储这样的一个按钮里面

39:35.340 --> 39:37.340
紧接着我们要得到

39:37.340 --> 39:38.340
当前的这些数据

39:38.340 --> 39:40.340
那么这些数据从哪来

39:40.340 --> 39:41.340
或者说在哪执行呢

39:41.340 --> 39:43.340
当你打开这个页面的时候

39:43.340 --> 39:44.340
我们就应该做

39:44.340 --> 39:45.340
所以我们这边

39:45.340 --> 39:47.340
咱们这样写

39:47.340 --> 39:49.340
咱们再定义一个方法出来

39:49.340 --> 39:50.340
让它调用一下

39:50.340 --> 39:52.340
当前调用一下

39:52.340 --> 39:56.340
this.getcloud

39:56.340 --> 39:59.780
imager list

39:59.780 --> 40:03.280
所以我们在外面定义一下

40:03.280 --> 40:09.170
getcloudimager list

40:09.170 --> 40:17.700
去获取云端数据

40:17.700 --> 40:21.340
这个结构来

40:21.340 --> 40:24.480
云端数据的获取

40:24.480 --> 40:26.480
我们只要把数据

40:26.480 --> 40:27.480
直接把它给拿到

40:27.480 --> 40:29.480
我们当前的这个结构中

40:29.480 --> 40:30.480
那么云数据的获取

40:30.480 --> 40:32.480
其实也是一件非常简单的事情

40:32.480 --> 40:34.480
首先第一步

40:34.480 --> 40:38.110
我们要把当前页面

40:38.110 --> 40:40.110
和云端的几个事件

40:40.110 --> 40:41.110
全部写出来

40:41.110 --> 40:45.960
它应该

40:45.960 --> 40:48.960
连接云端操作

40:48.960 --> 40:50.960
然后后面是执行命令

40:50.960 --> 40:52.960
执行

40:52.960 --> 40:54.960
那么我们把云端操作

40:54.960 --> 41:00.580
写到外面去

41:00.580 --> 41:02.580
constrdb

41:02.580 --> 41:06.980
tarrow

41:06.980 --> 41:09.980
云cloud.database

41:09.980 --> 41:12.860
第二步

41:12.860 --> 41:14.860
constrdb

41:14.860 --> 41:15.860
我们可以这样写

41:15.860 --> 41:17.860
major list

41:17.860 --> 41:19.860
db

41:19.860 --> 41:20.860
collection

41:20.860 --> 41:24.300
你得告诉我你连到哪一个

41:24.300 --> 41:26.300
那我们看一下云端

41:26.300 --> 41:31.830
数据库我们连到的是

41:31.830 --> 41:32.830
关了

41:32.830 --> 41:34.830
我们重开一下

41:34.830 --> 41:40.900
我们可以连到云端的一个数据库

41:40.900 --> 41:42.900
这些是

41:42.900 --> 41:44.900
我们在这边

41:44.900 --> 41:46.900
数据库里面的话

41:46.900 --> 41:48.900
我们可以存储一个叫major list

41:48.900 --> 41:51.900
你可以把你的数据存在这里面

41:51.900 --> 41:52.900
你可以把你的刚才的

41:52.900 --> 41:54.900
我们上传数据往这存

41:54.900 --> 41:56.900
存完以后的话

41:56.900 --> 41:58.900
我们再从这取

41:58.900 --> 42:00.900
这个逻辑

42:00.900 --> 42:02.900
所以我们想一下

42:02.900 --> 42:04.900
我存储完云以后

42:04.900 --> 42:06.900
给你所看到的那个数据

42:06.900 --> 42:08.900
其实我们里面还要多做一步

42:08.900 --> 42:10.900
把数据存到我们的数据库里来

42:10.900 --> 42:12.900
云端里面只能呈现出

42:12.900 --> 42:14.900
你现在一张图片

42:14.900 --> 42:16.900
但是我现在的上传的人

42:16.900 --> 42:17.900
上传时间这些

42:17.900 --> 42:19.900
都需要你有数据库的这块支持

42:19.900 --> 42:20.900
理解吗

42:20.900 --> 42:21.900
好

42:21.900 --> 42:22.900
那么这块呢

42:22.900 --> 42:23.900
我们现在补一下

42:23.900 --> 42:25.900
回到我们得

42:25.900 --> 42:27.900
回到我们原先的

42:27.900 --> 42:31.460
hones里面去

42:31.460 --> 42:32.460
在hones里面

42:32.460 --> 42:34.460
依然把我们刚才的

42:34.460 --> 42:36.460
两个数据库的操作

42:36.460 --> 42:37.460
给它放过来

42:37.460 --> 42:39.460
我们这边把名称写上

42:39.460 --> 42:40.460
要做什么呢

42:40.460 --> 42:41.460
imager

42:41.460 --> 42:43.460
我们写上imager list

42:43.460 --> 42:49.210
是小写的要

42:49.210 --> 42:50.210
对吧

42:50.210 --> 42:52.970
查一下

42:52.970 --> 42:53.970
imager list

42:53.970 --> 42:56.920
对的

42:56.920 --> 42:57.920
把这两块

42:57.920 --> 43:03.220
我们一起拿过来

43:03.220 --> 43:05.220
在你录完所有数据以后

43:05.220 --> 43:06.220
也就是说

43:06.220 --> 43:08.220
你这边拿到所有内容以后

43:08.220 --> 43:10.220
那我们后面还要做一件事

43:10.220 --> 43:11.220
对吧

43:11.220 --> 43:12.220
我们把它数据

43:12.220 --> 43:14.220
虽然存储显示出来了

43:14.220 --> 43:18.680
但是我们还要做的就是

43:18.680 --> 43:21.680
录入数据库

43:21.680 --> 43:25.310
运数据库

43:25.310 --> 43:27.310
一定要在它的回调里面做

43:27.310 --> 43:29.310
原因就很简单嘛

43:29.310 --> 43:30.310
就是你非得把这个数据

43:30.310 --> 43:31.310
拿到以后

43:31.310 --> 43:33.310
你才能做后面这件事

43:33.310 --> 43:34.310
那么这边呢

43:34.310 --> 43:36.310
我们写一个

43:36.310 --> 43:38.310
简单的方法出来

43:38.310 --> 43:42.460
that点

43:42.460 --> 43:43.460
add

43:43.460 --> 43:45.460
imager list

43:45.460 --> 43:47.460
然后把当前的res

43:47.460 --> 43:48.460
点

43:48.460 --> 43:50.460
find id

43:50.460 --> 43:54.660
给它

43:54.660 --> 43:56.660
我们也可以直接拿imager

43:56.660 --> 43:58.660
我们可以拿这个

43:58.660 --> 44:02.300
that点

44:02.300 --> 44:04.300
stater里面的

44:04.300 --> 44:07.670
imager url

44:07.670 --> 44:08.670
所以我们在

44:08.670 --> 44:09.670
首页的时候

44:09.670 --> 44:10.670
我们就可以做一个

44:10.670 --> 44:12.670
添加图片列表的

44:12.670 --> 44:22.700
add image list

44:22.700 --> 44:29.090
我们接收一个imager url

44:29.090 --> 44:30.090
添加

44:30.090 --> 44:32.590
数据

44:32.590 --> 44:34.590
值

44:34.590 --> 44:39.180
运数据库

44:39.180 --> 44:40.180
对吧

44:40.180 --> 44:42.180
我们从这来开始添加

44:42.180 --> 44:44.180
添加我们继续往下

44:44.180 --> 44:46.180
我们经过来的是

44:46.180 --> 44:48.180
imager url

44:48.180 --> 44:49.180
所以我这边

44:49.180 --> 44:51.180
直接拿到它的 url

44:51.180 --> 44:58.950
先组织一个简单的

44:58.950 --> 45:00.950
数据出来

45:00.950 --> 45:02.950
我们先组织一个简单的数据

45:02.950 --> 45:04.950
我们就这样起名吧

45:04.950 --> 45:05.950
db

45:05.950 --> 45:06.950
add

45:06.950 --> 45:09.650
data

45:09.650 --> 45:10.650
念

45:10.650 --> 45:11.650
我随便写上

45:11.650 --> 45:15.410
比如说jc

45:15.410 --> 45:17.410
然后imager url

45:18.410 --> 45:22.740
imager url

45:22.740 --> 45:24.740
当然这个imager url是它传进来的

45:24.740 --> 45:26.740
有个tata

45:26.740 --> 45:27.740
tata的话

45:27.740 --> 45:29.740
我们也给一个当前的get

45:29.740 --> 45:31.740
再写一个时间判

45:31.740 --> 45:32.740
操作

45:32.740 --> 45:35.760
格式化

45:35.760 --> 45:38.140
date

45:38.140 --> 45:39.140
先到而写它

45:39.140 --> 45:41.140
那么当你三个数据有了以后

45:41.140 --> 45:42.140
我们

45:42.140 --> 45:43.140
添加

45:43.140 --> 45:45.770
图片

45:45.770 --> 45:49.230
到

45:49.230 --> 45:58.180
运数据库

45:58.180 --> 45:59.180
db image list

45:59.180 --> 46:03.450
点我们添加

46:03.450 --> 46:05.450
我们把里面的data

46:05.450 --> 46:07.450
数据就是你的这个

46:08.450 --> 46:09.450
写过来

46:09.450 --> 46:13.040
然后

46:13.040 --> 46:14.040
我们

46:14.040 --> 46:15.040
做

46:15.040 --> 46:23.660
这边一旦有数据了

46:23.660 --> 46:25.660
我们就给它一个taro

46:25.660 --> 46:26.660
因为它成功了嘛

46:26.660 --> 46:31.130
taro.show toast

46:31.130 --> 46:35.270
提示用户

46:35.270 --> 46:44.860
上传

46:44.860 --> 46:45.860
成功

46:45.860 --> 46:51.280
duration

46:51.280 --> 46:53.280
我们做了个1000

46:53.280 --> 46:54.280
那就是

46:54.280 --> 46:55.280
一秒钟

46:56.280 --> 46:57.280
当这步完成以后

46:57.280 --> 46:59.280
我们再让它跳吧

46:59.280 --> 47:00.280
所以

47:00.280 --> 47:02.280
我们整个这个操作

47:02.280 --> 47:08.660
我们把它迁移一下

47:08.660 --> 47:09.660
对吧

47:09.660 --> 47:25.780
我们迁移到这来

47:25.780 --> 47:30.690
迁移到这来进行调整

47:30.690 --> 47:38.930
我们可以这边看一下

47:38.930 --> 47:39.930
好

47:39.930 --> 47:40.930
以这样的方式

47:40.930 --> 47:41.930
我们来看一下

47:41.930 --> 47:42.930
过一下这个路径

47:42.930 --> 47:43.930
首先我们很简单

47:43.930 --> 47:45.930
我们这个先不要

47:45.930 --> 47:47.930
首先我们本身来讲

47:47.930 --> 47:49.930
我们通过云端的操作

47:49.930 --> 47:51.930
通过我们的上传图片

47:51.930 --> 47:54.930
得到了一张图片的路径

47:54.930 --> 47:56.930
然后得到路径以后的话

47:56.930 --> 47:58.930
我们自行建立了一个图片名称

47:58.930 --> 48:01.930
然后让它进行params的结合

48:01.930 --> 48:04.930
形成了upload file上传了

48:04.930 --> 48:05.930
上传以后的话

48:05.930 --> 48:07.930
然后我们现在

48:07.930 --> 48:08.930
完成

48:08.930 --> 48:10.930
现在的图片的预览功能

48:10.930 --> 48:12.930
预览完成以后的话

48:12.930 --> 48:14.930
我们让它add a medialist

48:14.930 --> 48:15.930
添加到库区

48:15.930 --> 48:16.930
然后添加库的方式

48:16.930 --> 48:17.930
我们在这边

48:17.930 --> 48:19.930
我们写了一个

48:19.930 --> 48:21.930
具体的一个json对象

48:21.930 --> 48:22.930
真对象里面有念

48:22.930 --> 48:24.930
有你现在需要上传的图片的地址

48:24.930 --> 48:25.930
还有你的time

48:25.930 --> 48:27.930
谈一会来标注一下

48:27.930 --> 48:28.930
当你把这个数据

48:28.930 --> 48:30.930
放在我们的上传add里面的时候

48:30.930 --> 48:31.930
上传成功了

48:31.930 --> 48:33.930
我们可以看一下沉重消息

48:33.930 --> 48:35.930
并且可以用户做一个提示

48:35.930 --> 48:37.930
然后最后在过一秒钟以后

48:37.930 --> 48:39.930
跳转到我们的一个新的页面

48:39.930 --> 48:41.930
也就是列表页面去

48:41.930 --> 48:43.930
应该是这个逻辑

48:43.930 --> 48:45.930
我们把这个写一下

48:45.930 --> 48:47.930
这个是我们现在一个

48:47.930 --> 48:49.930
时间日期的判断

48:49.930 --> 48:51.930
我们可以利用它来做一个

48:51.930 --> 48:53.930
简单的日期的格式

48:53.930 --> 49:01.560
这边再写一个

49:01.560 --> 49:03.560
我们标注一下

49:03.560 --> 49:04.560
这是一个

49:04.560 --> 49:06.560
格式化

49:06.560 --> 49:07.560
日期

49:07.560 --> 49:08.560
时间

49:08.560 --> 49:13.540
这个都是一些

49:13.540 --> 49:15.540
固定内容了

49:16.540 --> 49:18.540
它不适合这个程序有关

49:18.540 --> 49:20.540
我们写一下

49:20.540 --> 49:41.380
separate

49:41.380 --> 49:43.380
month

49:43.380 --> 49:44.380
data

49:44.380 --> 49:58.700
getmonth

49:58.700 --> 50:12.220
getdata

50:12.220 --> 50:13.220
month

50:13.220 --> 50:17.810
如果它大于1

50:17.810 --> 50:18.810
它小于9

50:18.810 --> 50:20.810
这个主要做的是

50:20.810 --> 50:22.810
如果说是单位数值的话

50:22.810 --> 50:24.810
那么在月份前面

50:24.810 --> 50:34.650
我们得加一个0

50:34.650 --> 50:38.430
month

50:38.430 --> 50:39.430
再来

50:40.430 --> 50:41.430
如果

50:41.430 --> 50:43.430
stdata

50:43.430 --> 50:45.430
它大于等于0

50:45.430 --> 50:47.430
并且

50:47.430 --> 50:49.430
stdata

50:49.430 --> 50:51.430
它小于等于9

50:51.430 --> 50:55.700
那么此时

50:55.700 --> 50:57.700
你这时候就应该用的是

50:57.700 --> 50:59.700
stdata

50:59.700 --> 51:04.100
data等于0

51:04.100 --> 51:09.910
这边我们用单印号

51:09.910 --> 51:11.910
去加上stdata

51:13.910 --> 51:16.670
最后

51:16.670 --> 51:20.520
拼接

51:20.520 --> 51:21.520
let

51:22.520 --> 51:23.520
current

51:23.520 --> 51:25.520
date

51:26.520 --> 51:32.330
我们把这些内容全部拼接起来

51:32.330 --> 51:34.330
data.get

51:34.330 --> 51:37.770
4years

51:38.770 --> 51:42.340
它去加上

51:42.340 --> 51:43.340
都是变量了

51:43.340 --> 51:44.340
separate

51:44.340 --> 51:45.340
第一个

51:45.340 --> 51:47.340
再加上

51:47.340 --> 51:48.340
month

51:48.340 --> 51:50.340
再加上

51:50.340 --> 51:52.340
separate2

51:53.340 --> 51:55.340
再加上

51:55.340 --> 51:57.340
stdata

51:57.340 --> 51:59.340
再加空格

51:59.340 --> 52:03.030
再加上

52:03.030 --> 52:05.030
data里面的

52:05.030 --> 52:07.030
get hours

52:07.030 --> 52:11.500
再加上

52:11.500 --> 52:13.500
separate2

52:13.500 --> 52:15.500
再加上

52:15.500 --> 52:17.500
data.get

52:18.500 --> 52:23.220
separate2

52:23.220 --> 52:35.550
data.get

52:35.550 --> 52:41.100
seconds

52:41.100 --> 52:44.950
date

52:44.950 --> 52:45.950
get

52:45.950 --> 52:46.950
seconds

52:46.950 --> 52:52.570
就这么一串

52:52.570 --> 52:54.570
当然它是一个函数

52:54.570 --> 52:56.570
所以它一定是做一个return

52:56.570 --> 53:01.030
有一个小错对吧

53:01.030 --> 53:02.030
应该是我们前面没写完

53:02.030 --> 53:03.030
下面有单码

53:03.030 --> 53:10.670
我们在这里面有一个stdata

53:10.670 --> 53:15.780
这个

53:16.780 --> 53:24.120
我们重复定义了

53:24.120 --> 53:26.880
OK了

53:26.880 --> 53:27.880
好 基本写完

53:27.880 --> 53:29.880
我们来看看效果吧

53:29.880 --> 53:30.880
如果还有问题的话

53:30.880 --> 53:33.880
我们要看到效果以后才能来改

53:33.880 --> 53:35.880
首先回到前页面去

53:35.880 --> 53:43.860
点击上传

53:43.860 --> 53:44.860
那么上传之前的话

53:44.860 --> 53:46.860
我们先要过一下语音

53:46.860 --> 53:48.860
在语音的images里面

53:48.860 --> 53:50.860
是有两张对吧

53:50.860 --> 53:52.860
这边是有两张

53:52.860 --> 53:55.860
然后我们这边来上传

53:55.860 --> 53:58.860
选择一个随便一个小飞机

53:58.860 --> 53:59.860
上传

53:59.860 --> 54:00.860
上传成功

54:00.860 --> 54:02.860
显示出来

54:02.860 --> 54:04.860
此时我们来看一下

54:04.860 --> 54:06.860
我们来看一下这个云里面

54:06.860 --> 54:08.860
有没有刷新一下

54:08.860 --> 54:10.860
出来了一个对吧

54:10.860 --> 54:11.860
出来一个以后的话

54:11.860 --> 54:12.860
它表上的成功了

54:12.860 --> 54:14.860
咱们看这个路径

54:14.860 --> 54:15.860
这路径是什么值

54:15.860 --> 54:18.860
93.0080

54:18.860 --> 54:20.860
我们到存储里面找一下

54:20.860 --> 54:21.860
找一下

54:21.860 --> 54:23.860
因为它这个没有排序

54:23.860 --> 54:25.860
这个是我们点它没用

54:25.860 --> 54:26.860
它没有排序

54:26.860 --> 54:27.860
所以我们找一下

54:27.860 --> 54:28.860
我数据不多

54:28.860 --> 54:31.860
你可以通过文件名前綴来找

54:31.860 --> 54:33.860
我们可以看一下93

54:33.860 --> 54:35.860
能不能它这样找到

54:35.860 --> 54:40.330
它要这个文件名

54:40.330 --> 54:43.330
93.00

54:43.330 --> 54:44.330
有对吧

54:44.330 --> 54:45.330
93.0080

54:45.330 --> 54:47.330
所以我们这样能看到

54:47.330 --> 54:49.330
这个图片已经上传成功了

54:49.330 --> 54:51.330
所以数据库里也有它了

54:51.330 --> 54:52.330
对吧

54:52.330 --> 54:53.330
所以整个这个效果

54:53.330 --> 54:54.330
我们已经出来了

54:54.330 --> 54:56.330
紧接着它跳转到

54:56.330 --> 54:57.330
我们让它要进行跳转

54:57.330 --> 54:58.330
它返回过去

54:58.330 --> 54:59.330
它应该跳转到

54:59.330 --> 55:01.330
我们需要的那个

55:01.330 --> 55:03.330
后面的一个界面上面

55:03.330 --> 55:06.330
那么它整个这个跳转

55:06.330 --> 55:08.330
应该是在这完成的

55:08.330 --> 55:11.330
这边延迟上传成功以后

55:11.330 --> 55:12.330
我们这里边做的

55:12.330 --> 55:13.330
我们看一下

55:13.330 --> 55:15.330
它刚才是不是没有跳转

55:15.330 --> 55:16.330
所以我们在这边

55:16.330 --> 55:17.330
我们看一下

55:17.330 --> 55:19.330
它这边完成了

55:19.330 --> 55:21.330
整个这操作以后

55:21.330 --> 55:24.340
Success

55:24.340 --> 55:26.340
我们刚才已经看到了

55:26.340 --> 55:28.340
Success给到了我们整个这个效果

55:28.340 --> 55:30.340
我们现在的这个

55:31.340 --> 55:32.340
没有跳转

55:32.340 --> 55:34.340
那我们把它给拿出来

55:34.340 --> 55:35.340
在Zen

55:35.340 --> 55:37.340
它上传成功提示以后

55:37.340 --> 55:38.340
后面做

55:38.340 --> 55:43.450
我们把这个删掉

55:43.450 --> 55:44.450
把这个删掉

55:44.450 --> 55:46.450
把这段代码拿出来

55:46.450 --> 55:52.100
在它上传成功以后

55:52.100 --> 55:55.480
在这个里面

55:55.480 --> 55:56.480
我们这边写

55:57.480 --> 55:58.480
跳转

55:58.480 --> 56:00.480
我们再来看一下

56:00.480 --> 56:16.950
上传选择图片

56:16.950 --> 56:17.950
上传

56:17.950 --> 56:19.950
上传成功跳过来

56:19.950 --> 56:20.950
跳过来

56:20.950 --> 56:21.950
是不是

56:21.950 --> 56:22.950
跳过来了

56:22.950 --> 56:23.950
跳过来以后

56:23.950 --> 56:25.950
这边我们还没有把它全部呈现出来

56:25.950 --> 56:27.950
至少现在我们应该看到是

56:27.950 --> 56:29.950
我图片已经默认显示

56:29.950 --> 56:31.950
当然我做的是一个延迟跳转

56:31.950 --> 56:34.950
如果你想再做的心细一点的话

56:34.950 --> 56:37.950
你可以做成更多的其他的一种方式

56:37.950 --> 56:38.950
比如说做个按钮

56:38.950 --> 56:39.950
这种都可以

56:39.950 --> 56:41.950
然后我们现在回到这个页面中

56:41.950 --> 56:44.950
我们就开始做这个页面的列表显示了

56:44.950 --> 56:45.950
你要做它的列表显示

56:45.950 --> 56:46.950
我们刚刚做的情况是

56:46.950 --> 56:48.950
把这个简单的结构

56:49.950 --> 56:50.950
简单的结构

56:50.950 --> 56:52.950
然后在这个列表显示页面中

56:52.950 --> 56:54.950
我们主要完成了

56:54.950 --> 56:55.950
第一

56:55.950 --> 56:56.950
我们现在设定了两个

56:56.950 --> 56:59.950
我们简单的数据库的连接

56:59.950 --> 57:02.950
和我们数据库的寻找对象

57:02.950 --> 57:03.950
第二

57:03.950 --> 57:05.950
我们在所有云端数据列口

57:05.950 --> 57:07.950
数据表我们也设置好了

57:07.950 --> 57:08.950
然后我们调起了一个

57:08.950 --> 57:10.950
获取云端的

57:11.950 --> 57:12.950
然后在这可以执行

57:12.950 --> 57:13.950
是吧

57:13.950 --> 57:15.950
那么我们先过一下

57:15.950 --> 57:17.950
整个页面要做些

57:17.950 --> 57:19.950
到底要做多少的东西

57:19.950 --> 57:20.950
它首先

57:20.950 --> 57:22.950
你要用过列表的方式

57:22.950 --> 57:24.950
把所有数据给呈现出来

57:24.950 --> 57:25.950
第二

57:25.950 --> 57:26.950
你需要点删除

57:26.950 --> 57:27.950
这个功能我们做了

57:27.950 --> 57:28.950
对吧

57:28.950 --> 57:30.950
删除其实是删什么

57:30.950 --> 57:31.950
我们在云端

57:31.950 --> 57:33.950
其实存储了两个东西

57:33.950 --> 57:35.950
一个是我们的数据库

57:35.950 --> 57:37.950
一个是我们的云数据

57:37.950 --> 57:38.950
所以你的删

57:38.950 --> 57:40.950
你还得删两个部分

57:40.950 --> 57:41.950
对吧

57:41.950 --> 57:43.950
那么这是这个页面

57:43.950 --> 57:44.950
需要做的

57:44.950 --> 57:45.950
列表呈现

57:45.950 --> 57:47.950
存储两处操作

57:47.950 --> 57:48.950
那么这才是完成

57:48.950 --> 57:50.950
整个这个的一个格式

57:50.950 --> 57:51.950
好 我们先休息一下

57:51.950 --> 57:53.950
待会我们继续来完成这部分内容

