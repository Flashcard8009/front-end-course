WEBVTT

00:00.180 --> 00:03.180
好 我们继续讲解TERRA的系列课程的API

00:03.180 --> 00:08.680
这些课程给大家讲解一下我们设备中一个非常非常重要的一个空间

00:08.680 --> 00:11.680
一个API的调用结构 那就是二维码

00:11.680 --> 00:15.680
对于扫码 无论是你现在需要去扫别人的码

00:15.680 --> 00:17.680
还是你需要去生成一个二维码

00:17.680 --> 00:24.180
那么这样的操作都是我们现在生活中非常重要的一种使用方式

00:24.180 --> 00:29.680
因为我们现在的支付方式已经变成的是我们扫码支付的一个天下了

00:29.680 --> 00:34.680
那么在中国市场上面的话 基本上现在出门

00:34.680 --> 00:39.680
带零钱的 带现金的越来越少 银行卡更不用提

00:39.680 --> 00:44.680
而更多的都是通过我们的一些扫码支付来完成

00:44.680 --> 00:49.680
所以各个软件上面都会有扫码的这样的一个功能

00:49.680 --> 00:55.680
只不过他们扫的码本身里面所呈现出来的数据各不一样

00:55.680 --> 00:59.680
那么我们比如说支付有支付码 对吧

00:59.680 --> 01:04.680
兑换有兑换码 包括是我们现在还有一些所谓的

01:04.680 --> 01:09.680
比如说一些密码 扫了以后你就可以通过 类似于这样的

01:09.680 --> 01:13.680
那么其实我们所谓的二维码 一维码调码

01:13.680 --> 01:18.680
它里面只不过就是一堆数字字母类似于这样的

01:18.680 --> 01:22.680
我们针对于一个一维码调形码来讲 它是一个数字

01:22.680 --> 01:27.680
对于二维码来讲 它是字母加数字的一个组合

01:27.680 --> 01:29.680
那么我们结合这样的功能

01:29.680 --> 01:35.680
我们就可以对它进行更多的数据的隐藏和直接执行

01:35.680 --> 01:40.680
那么今天我们就针对这部分内容 给大家来做这个的一个案例

01:40.680 --> 01:44.680
那么我们依然借助于什么

01:44.680 --> 01:47.680
借助我们Tarot针对API的一些接口的调用

01:47.680 --> 01:51.680
那么Tarot本身自己在做扫码功能的时候

01:51.680 --> 01:56.680
相对而言也是有它一定的优势的

01:56.680 --> 02:03.680
比如说它除了生成我们自行所带有的一些基本功能以外

02:03.680 --> 02:07.680
它还支持我们不同的程序端的一个开发

02:07.680 --> 02:10.680
特别是注意一下 但是它有一个东西

02:10.680 --> 02:13.680
它不支持 就是RM

02:13.680 --> 02:17.680
大家知道了一下 特别在扫码这过程中RM不支持

02:17.680 --> 02:22.680
为什么? 因为RM其实你更多的直接用原身去写了

02:22.680 --> 02:25.680
我们很少再用RM来完成这个功能

02:25.680 --> 02:30.680
但是对于H5的扫码和我们现在大家所看到的微信小程序的扫码

02:30.680 --> 02:34.680
对于我们的Tarot来讲 它支持得非常的好

02:34.680 --> 02:36.680
我们来制作这个功能

02:36.680 --> 02:38.680
我们将制作扫码生成

02:38.680 --> 02:40.680
那么历史记录我们先不去做了

02:40.680 --> 02:43.680
因为它涉及到文件接口的存储

02:43.680 --> 02:45.680
或者说是网络接口的存储

02:45.680 --> 02:48.680
我们先把下面的这三个可以放出来

02:48.680 --> 02:50.680
然后这个界面是扫码的

02:50.680 --> 02:52.680
然后生成的话

02:53.680 --> 02:56.680
我们可以在生成的界面上面

02:56.680 --> 02:57.680
上面有个输入框

02:57.680 --> 02:59.680
我们可以输入你的文本

02:59.680 --> 03:00.680
然后点击生成

03:00.680 --> 03:03.680
我们就可以生成出这个文本

03:03.680 --> 03:05.680
所最后编译出的RM

03:05.680 --> 03:07.680
是这个结构

03:07.680 --> 03:10.680
历史记录里面我们暂时就没有任何记录

03:10.680 --> 03:15.630
这样的话我们来制作一下了

03:15.630 --> 03:17.630
首先说明就是属于扫码

03:17.630 --> 03:19.630
利用什么样的一个接口

03:19.630 --> 03:24.630
扫码的接口我们在Tarot里面

03:24.630 --> 03:29.630
我们利用的是一个叫做ScanCoder

03:29.630 --> 03:31.630
利用这样一个接口

03:31.630 --> 03:35.630
它是可以有很多的语法规则

03:35.630 --> 03:41.260
形同我们的微信的

03:41.260 --> 03:43.260
所以我们两个可以结合起来讲

03:43.260 --> 03:45.260
OK 我们来

03:46.260 --> 03:48.260
首先最简单的方式

03:48.260 --> 03:50.260
我们打开我们原有的这个项目

03:50.260 --> 03:53.260
它基本上能够正常运行

03:53.260 --> 03:54.260
然后的话

03:54.260 --> 03:57.260
我们开始建立我们的Scan

03:57.260 --> 03:59.260
扫码的一个文件夹

03:59.260 --> 04:01.260
我们把我们现在要的

04:01.260 --> 04:03.260
几个页面都放在它里面

04:03.260 --> 04:08.640
我们在Pader下面我们建立Scan

04:08.640 --> 04:10.640
Scan文件夹

04:10.640 --> 04:12.640
然后ScanCoder

04:12.640 --> 04:18.700
在它里面新建第一文件

04:18.700 --> 04:20.700
咱们称之为Index

04:20.700 --> 04:26.340
JXX

04:26.340 --> 04:32.080
结构做好

04:32.080 --> 04:42.840
Tarot

04:42.840 --> 04:43.840
第二个

04:43.840 --> 04:44.840
Import

04:44.840 --> 04:48.820
View

04:48.820 --> 04:52.090
From

04:52.090 --> 04:54.090
Component

04:54.090 --> 04:59.030
Expert

04:59.030 --> 05:01.030
Default

05:01.030 --> 05:03.030
ExpertDefault

05:03.030 --> 05:05.030
然后这边我们给出的是

05:05.030 --> 05:06.030
Class

05:06.030 --> 05:09.340
Index

05:09.340 --> 05:13.190
Extents

05:13.190 --> 05:15.190
然后这边是

05:15.190 --> 05:16.190
Component

05:16.190 --> 05:20.200
Constructor

05:20.200 --> 05:30.710
Purpose

05:30.710 --> 05:34.660
Configure

05:34.660 --> 05:46.230
我们从JST里面去拿到

05:46.230 --> 05:50.690
我们称之为扫码操作

05:50.690 --> 06:02.580
Stator

06:02.580 --> 06:04.580
暂时无数据

06:04.580 --> 06:06.580
当然

06:06.580 --> 06:09.580
它应该Stator在前面

06:09.580 --> 06:15.070
再来

06:15.070 --> 06:16.070
Random

06:16.070 --> 06:19.020
Return

06:19.020 --> 06:23.610
View

06:23.610 --> 06:25.610
写上

06:25.610 --> 06:27.610
IndexScan

06:27.610 --> 06:30.630
Coder

06:30.630 --> 06:36.120
IndexScan

06:36.120 --> 06:37.120
这页面

06:37.120 --> 06:39.120
我们把结构大建好以后

06:39.120 --> 06:41.120
我们把它放到

06:41.120 --> 06:43.120
当前的

06:43.120 --> 06:45.120
JSX里面去

06:45.120 --> 06:56.560
Peters

06:56.560 --> 07:00.320
APPJXX

07:00.320 --> 07:02.320
我们就Index

07:02.320 --> 07:05.780
Scan

07:05.780 --> 07:06.780
Coder

07:06.780 --> 07:13.120
看一下

07:13.120 --> 07:14.120
ScanCoder

07:14.120 --> 07:15.120
Index

07:15.120 --> 07:25.240
看一下

07:25.240 --> 07:27.240
它重新刷新的界面

07:27.240 --> 07:30.620
ScanCoderIndex

07:30.620 --> 07:32.620
那么由于本界面里面

07:32.620 --> 07:33.620
还有些其他案例

07:33.620 --> 07:34.620
这个

07:34.620 --> 07:36.620
我们这样

07:36.620 --> 07:38.620
我们做跳转与据

07:38.620 --> 07:40.620
我们下面可以做一个跳转按钮

07:40.620 --> 07:42.620
让它直接完成

07:42.620 --> 07:43.620
我们现在

07:43.620 --> 07:44.620
第二个

07:44.620 --> 07:45.620
比如说

07:45.620 --> 07:47.620
页面和第一个页面之间的跳转过程

07:47.620 --> 07:48.620
这个应该说

07:48.620 --> 07:50.620
大家应该很容易理解

07:50.620 --> 07:52.620
我们继续来看

07:52.620 --> 07:56.440
我们开始简单的

07:56.440 --> 07:58.440
做一下它的页面

07:58.440 --> 08:00.440
它应该是扫码页面

08:00.440 --> 08:02.440
应该它会分成几步

08:02.440 --> 08:04.440
它第一块内容

08:04.440 --> 08:06.440
是扫描

08:06.440 --> 08:08.440
结果

08:08.440 --> 08:10.440
第二块

08:10.440 --> 08:12.440
是我们的

08:12.440 --> 08:14.440
复制内容

08:14.440 --> 08:18.270
第三块

08:18.270 --> 08:20.270
是我们的扫码按钮

08:20.270 --> 08:23.770
它分成三块

08:23.770 --> 08:25.770
首先我们从最后面

08:25.770 --> 08:27.770
开始往前做

08:27.770 --> 08:29.770
其实效果是一样的

08:29.770 --> 08:36.090
页面样式

08:36.090 --> 08:38.090
就暂时先弱化了

08:38.090 --> 08:40.090
我们只是把它给

08:40.090 --> 08:42.090
先把样式定出来

08:42.090 --> 08:44.090
先把我们的结构定出来

08:44.090 --> 08:49.520
然后简单做一个样式

08:49.520 --> 08:51.520
然后先做个按钮

08:51.520 --> 08:53.520
这个上面我们称之为

08:53.520 --> 08:56.830
扫一扫

08:56.830 --> 09:04.110
按钮注册声明

09:04.110 --> 09:06.110
按钮注册声明

09:06.110 --> 09:08.110
然后中呢

09:08.110 --> 09:10.110
我们直接完成按钮上面的

09:12.110 --> 09:16.570
Type

09:16.570 --> 09:18.570
Premary

09:18.570 --> 09:20.570
然后简单的

09:20.570 --> 09:22.570
就是它一整个一排

09:22.570 --> 09:24.570
它有一个onclick操作

09:24.570 --> 09:26.570
我们可以定一下

09:26.570 --> 09:28.570
它主要是

09:28.570 --> 09:30.570
disk.onscan

09:30.570 --> 09:36.060
我们把onscan写在这

09:36.060 --> 09:40.590
我们把它叫做

09:40.590 --> 09:45.950
扫一扫

09:45.950 --> 09:47.950
好

09:47.950 --> 09:49.950
这是第一个

09:49.950 --> 09:51.950
第二个

09:51.950 --> 09:53.950
复制按钮

09:53.950 --> 09:57.520
那么复制按钮其实很简单

09:57.520 --> 09:59.520
我们做一个

09:59.520 --> 10:01.520
导航我们做一个

10:01.520 --> 10:03.520
先做个view

10:03.520 --> 10:12.270
把它去固定出来

10:12.270 --> 10:14.270
先做一个view

10:14.270 --> 10:22.960
然后我们写个导航

10:22.960 --> 10:24.960
我们用导航做

10:24.960 --> 10:26.960
复制

10:26.960 --> 10:28.960
URL

10:28.960 --> 10:30.960
这部分我们不做任何东西

10:30.960 --> 10:32.960
放空

10:32.960 --> 10:36.650
然后我们做一个onclick

10:36.650 --> 10:38.650
写上一个

10:38.650 --> 10:40.650
disk.on

10:40.650 --> 10:44.990
copy

10:44.990 --> 10:46.990
navigate

10:46.990 --> 10:53.760
注册生命

10:53.760 --> 10:57.450
oncopy

10:57.450 --> 11:03.000
然后我们把oncopy在上面写一下

11:03.000 --> 11:07.920
复制

11:07.920 --> 11:12.250
再往前

11:12.250 --> 11:14.250
扫码结果

11:14.250 --> 11:16.250
它是一个呈现

11:16.250 --> 11:18.250
所以在这上面

11:18.250 --> 11:20.250
我们要做的事情是

11:20.250 --> 11:22.250
把它几个我们所需要想看到的部分

11:22.250 --> 11:26.590
列出来

11:26.590 --> 11:29.960
第一部分

11:29.960 --> 11:31.960
有一个简单的文字说明

11:31.960 --> 11:33.960
下面

11:33.960 --> 11:38.880
类型

11:38.880 --> 11:45.840
后面比如说写上

11:45.840 --> 11:47.840
2维 银马

11:47.840 --> 11:49.840
类似于这样的

11:49.840 --> 11:53.720
再来

11:53.720 --> 11:55.720
这边写上

11:55.720 --> 11:57.720
内容

11:57.720 --> 11:59.720
你的马里的内容

11:59.720 --> 12:03.740
比如我随便写个上网纸

12:03.740 --> 12:06.860
插呢插

12:06.860 --> 12:09.740
3.w插呢插

12:09.740 --> 12:14.200
点抗

12:14.200 --> 12:17.900
基本上形成了我们所需要的一个拍摆方式

12:17.900 --> 12:18.700
我们来看一下

12:21.100 --> 12:22.000
Sama结果

12:22.000 --> 12:23.300
那么复制这个呢

12:23.300 --> 12:24.700
我们把它放在中间

12:27.160 --> 12:28.060
它可以点击

12:36.760 --> 12:38.760
我们在pager的index里面

12:38.760 --> 12:39.960
再cancel

12:42.800 --> 12:43.500
再建一个

12:48.140 --> 12:49.640
然后呢我们导入进来

12:56.540 --> 12:57.540
我们导入进来

13:09.500 --> 13:11.900
然后这边我们写的是copy

13:20.860 --> 13:22.260
字体我们给绿色

13:25.640 --> 13:26.140
然后

13:27.040 --> 13:28.540
textonline我们居中

13:31.030 --> 13:32.130
这站就行了

13:32.530 --> 13:35.430
最多是前后空空开一点点

13:42.870 --> 13:43.370
对吧

13:43.370 --> 13:45.370
上下空开一点点就行了

13:46.770 --> 13:47.770
对它来讲

13:48.570 --> 13:49.370
它的merge

13:50.170 --> 13:50.870
上下

13:54.180 --> 13:55.580
15个px吧

13:57.580 --> 13:58.780
左右不用动

14:00.660 --> 14:01.160
好了

14:01.560 --> 14:03.960
那么对于上面的其他元素来讲

14:03.960 --> 14:05.060
其实是一样啊

14:05.060 --> 14:06.560
其实只要它里面

14:07.360 --> 14:08.360
都空开一点

14:08.360 --> 14:09.560
我觉得这个就ok了

14:10.060 --> 14:10.760
然后呢

14:11.760 --> 14:13.360
对它的样式设定一下

14:13.360 --> 14:18.760
它叫做result

14:27.870 --> 14:28.570
首先

14:28.770 --> 14:30.870
fone size稍微大一点

14:32.680 --> 14:33.880
30像素

14:34.180 --> 14:34.780
第二

14:35.480 --> 14:38.280
然后定它现在里面的每一个的

14:40.610 --> 14:41.210
字体

14:41.710 --> 14:43.310
我们给它一个灰色

14:45.820 --> 14:51.090
然后result里面的view

14:51.790 --> 14:53.790
我们给它的是高度

14:57.580 --> 15:00.280
40像素或者35像素

15:02.800 --> 15:03.500
merge

15:04.300 --> 15:06.500
上下离开5个像素

15:07.000 --> 15:07.700
左右不动

15:15.630 --> 15:17.230
好基本就这样就行了啊

15:18.630 --> 15:19.530
默认状态下

15:19.530 --> 15:21.630
上面两个是不呈现出来的

15:21.630 --> 15:22.830
默认两状态下

15:22.830 --> 15:24.730
那么它需要的方式呢

15:24.730 --> 15:27.330
是只要你现在啊

15:27.330 --> 15:28.730
让它呈现的时候

15:28.730 --> 15:30.130
也就是扫码成功了

15:30.130 --> 15:31.430
它才会呈现出来

15:31.830 --> 15:32.630
是这个逻辑

15:33.430 --> 15:34.830
开始写我们的

15:38.530 --> 15:39.930
on scanner扫一扫

15:41.430 --> 15:41.930
对吧

15:42.530 --> 15:44.730
on scan本身自己扫的话呢

15:44.730 --> 15:45.830
首先啊

15:45.830 --> 15:47.830
它可以调用我们的taro

15:48.830 --> 15:51.330
里面的一个叫做scancoder

15:51.830 --> 15:52.730
这样的一个

15:53.930 --> 15:55.030
taro-soma接口

15:59.890 --> 16:00.990
taro-soma接口

16:01.590 --> 16:02.390
scancode

16:05.070 --> 16:07.670
它会返回一个success

16:10.540 --> 16:12.540
对于这个success来讲的话呢

16:12.740 --> 16:15.140
那么首先我们肯定能够获取值

16:15.640 --> 16:16.840
第二的话呢

16:17.040 --> 16:18.340
我们现在啊

16:18.340 --> 16:20.140
这里边我们要去判断一下

16:20.140 --> 16:21.140
它有一个类型

16:21.140 --> 16:21.940
你需要判断

16:22.840 --> 16:23.440
你判断

16:23.640 --> 16:24.640
那么这个类型呢

16:24.640 --> 16:25.340
是什么样的

16:25.340 --> 16:26.940
我们需要把这个类型

16:26.940 --> 16:28.840
先定义在我们前面

16:29.140 --> 16:31.140
比如说我们State里去定义一下

16:31.140 --> 16:32.440
这样的一个格式

16:33.140 --> 16:33.940
这样的话呢

16:33.940 --> 16:35.340
我们在后面操作的时候

16:35.340 --> 16:36.340
我们可以直接拿

16:36.340 --> 16:37.840
但是你不定义在State里面

16:37.840 --> 16:38.740
我们在这里面

16:38.740 --> 16:39.940
直接完成Constor

16:41.040 --> 16:42.040
你定义一个

16:48.910 --> 16:50.110
scan type

16:54.440 --> 16:58.240
我们直接把它定义在State里面吧

16:59.440 --> 17:00.040
在这

17:01.440 --> 17:03.840
我们称之为scan type

17:04.840 --> 17:06.240
它是需要呈现的

17:06.840 --> 17:07.840
用它来做

17:08.640 --> 17:10.040
那么它有几个

17:10.040 --> 17:12.240
我们先写一下微信

17:13.840 --> 17:14.640
coder

17:15.240 --> 17:17.240
它其实是我们的

17:17.240 --> 17:19.040
叫做微信小程序

17:20.440 --> 17:23.040
它会返回给我的是类似于前面的

17:23.040 --> 17:24.640
这样的一个代码服务

17:25.040 --> 17:25.640
然后呢

17:25.640 --> 17:27.840
我可以对应到它后面的这个

17:27.840 --> 17:30.240
qr code

17:31.240 --> 17:32.240
qr code

17:32.240 --> 17:33.840
就是我们所谓的叫做

17:35.680 --> 17:39.560
二维码

17:42.310 --> 17:42.910
还有

17:43.310 --> 17:44.310
就是我们的

17:45.710 --> 17:47.710
比如说调性码

17:47.910 --> 17:48.510
那么调性码

17:48.510 --> 17:50.110
其实还分很多种

17:50.110 --> 17:50.910
这个就是

17:51.310 --> 17:53.510
我们这边就写三四个就可以了

17:55.770 --> 17:56.670
am8

17:57.670 --> 17:59.470
8位调性码它是一个

18:03.840 --> 18:04.540
调性码

18:05.040 --> 18:06.140
然后我们写上

18:06.340 --> 18:07.940
ean8

18:08.640 --> 18:09.740
我们再写一个吧

18:10.140 --> 18:12.540
就是ean-13

18:14.990 --> 18:16.890
至于这里面的具体的

18:17.390 --> 18:18.890
那么我们可以去查一下

18:20.770 --> 18:23.170
到底调性码里面分这么多

18:23.170 --> 18:24.370
是什么样的含义

18:25.470 --> 18:25.770
好了

18:25.770 --> 18:26.670
我就写这些

18:27.070 --> 18:28.470
它下面还有很多

18:30.960 --> 18:32.160
那我们可以把这个

18:32.160 --> 18:32.360
诶

18:32.360 --> 18:33.160
这里写错了

18:33.160 --> 18:33.760
这是

18:35.820 --> 18:37.920
那我们把这个调性码的scan

18:37.920 --> 18:38.820
这个操作

18:39.120 --> 18:41.320
我们直接可以让它完成

18:41.320 --> 18:43.520
现在下面判断的时候到会使用

18:45.120 --> 18:46.120
我们首先来

18:47.120 --> 18:47.920
首先

18:48.320 --> 18:49.320
我们来做一个

18:52.840 --> 18:56.640
先在我们的这里边定义变量我们

18:57.640 --> 18:59.440
先在里面定义变量

18:59.840 --> 19:00.640
这个变量呢

19:00.640 --> 19:01.740
我们称之为msg

19:02.240 --> 19:02.740
文本

19:12.200 --> 19:13.200
就是一纯文本

19:13.900 --> 19:14.500
然后

19:16.100 --> 19:16.700
判断

19:19.120 --> 19:23.440
如果is.scancoder

19:23.740 --> 19:24.440
追下

19:24.740 --> 19:27.740
它可以得到的是叫做scan type

19:29.140 --> 19:31.040
它里面会有一个叫scan type

19:31.140 --> 19:34.640
这个type它本身会返回你刚才我们前面讲到的

19:35.440 --> 19:36.840
前面的这种类型

19:36.940 --> 19:38.240
它会返回这个出来

19:38.640 --> 19:40.340
那我在这边就是微信

19:40.340 --> 19:42.740
如果它返回的是微信小程序

19:45.070 --> 19:45.970
并且

19:48.260 --> 19:50.560
它返回的结果里面是空的

19:58.490 --> 19:59.290
它会返回两个

19:59.290 --> 20:00.090
一个是结果

20:00.090 --> 20:00.690
一个是

20:01.390 --> 20:02.890
那就表示你扫的不是

20:03.790 --> 20:04.490
其他的内容

20:04.490 --> 20:05.990
你扫的就是微信本身自己

20:07.490 --> 20:09.290
我们这边给它写一下

20:12.460 --> 20:13.860
您扫了

20:14.560 --> 20:15.160
微信

20:18.670 --> 20:19.470
就写二维码

20:21.340 --> 20:21.540
好

20:21.540 --> 20:22.840
其他的我们这边不去

20:23.440 --> 20:23.940
然后呢

20:23.940 --> 20:26.940
我们把整个的这一块内容啊

20:26.940 --> 20:28.640
我们把整个的这一块内容

20:28.940 --> 20:30.540
我们可以把它全部的

20:30.740 --> 20:34.040
放置到我们现在在State里去新建的一个值

20:34.440 --> 20:38.140
State里我们新建一个你扫完以后的结果数据对象

20:43.380 --> 20:43.980
result

20:47.600 --> 20:48.700
我们在这边

20:48.700 --> 20:49.100
哎

20:49.300 --> 20:50.300
我们在这边的话

20:50.300 --> 20:53.200
我们直接把这个result对象给写出来

20:54.000 --> 20:55.200
那么这个对象里面呢

20:55.200 --> 20:56.000
有几个内容

20:56.000 --> 20:57.600
首先是否显示

20:57.600 --> 21:00.300
我们先做一个数据判断的变量

21:01.300 --> 21:02.500
数据判断的变量

21:02.500 --> 21:04.300
第二个你的类型是什么

21:07.200 --> 21:09.500
第三你的文本是什么

21:11.690 --> 21:12.390
接下去

21:13.490 --> 21:15.190
你有描述图没内容吗

21:15.390 --> 21:16.690
把这些内容全写在这

21:17.590 --> 21:18.290
那么接下去呢

21:18.290 --> 21:20.890
我们就跑到我们刚刚扫完吧

21:21.590 --> 21:22.190
在下面

21:22.190 --> 21:23.390
我们把这个内容

21:24.190 --> 21:24.890
写出来

21:30.260 --> 21:32.360
当前的set status data

21:33.360 --> 21:34.360
这里边

21:36.650 --> 21:38.150
Scan result

21:39.150 --> 21:40.150
放置

21:41.150 --> 21:41.650
is

21:42.150 --> 21:43.450
现在该显示了

21:45.580 --> 21:46.580
设置为true

21:48.710 --> 21:49.710
Type类型

21:50.510 --> 21:51.310
那我们

21:51.610 --> 21:54.110
既然你反回给我是这样一团东西

21:54.210 --> 21:56.210
那我现在就可以直接这么做

21:56.710 --> 21:57.410
呃

21:58.210 --> 22:00.910
直接去到我们现在的

22:02.950 --> 22:04.350
this点

22:05.950 --> 22:07.250
State里的

22:09.700 --> 22:10.600
Scan type

22:11.300 --> 22:14.300
然后把当前的这个res点

22:14.400 --> 22:17.500
Scan type的值放进去

22:18.100 --> 22:19.900
它会返回给我什么

22:20.200 --> 22:22.600
是它对应的那个中文

22:24.100 --> 22:24.400
对吧

22:24.400 --> 22:26.300
对应的一个中文会返回给我

22:27.400 --> 22:29.200
因为我给它的是一个key

22:29.200 --> 22:30.700
它应该给我一个value

22:33.130 --> 22:34.930
然后文本

22:35.530 --> 22:38.830
那么当前res就可以返回的

22:39.230 --> 22:41.130
它有一个result结果

22:43.840 --> 22:45.440
它应该就有一个result结果

22:46.040 --> 22:46.640
再有

22:47.040 --> 22:49.540
我们可以手动去订一个messager

22:50.340 --> 22:51.640
那我们直接可以这样写

22:52.940 --> 22:53.340
ok

22:54.040 --> 22:54.340
好

22:54.940 --> 22:56.940
这样呢完成了我们现在

22:56.940 --> 22:59.340
在完成扫码功能以后

22:59.340 --> 23:01.540
我们在完成扫码功能以后

23:01.740 --> 23:03.740
我们可以获取到这样一个值

23:04.840 --> 23:06.240
我们会获取到这样一个值

23:06.640 --> 23:07.640
那么我们呢

23:07.640 --> 23:09.640
就把这个值的整个操作

23:09.640 --> 23:11.740
我们在这里面显示一下

23:12.440 --> 23:13.140
console

23:13.740 --> 23:14.240
log

23:14.740 --> 23:16.640
然后呢我们把this点

23:18.340 --> 23:19.540
stator里面拿出来

23:20.640 --> 23:20.940
好

23:21.340 --> 23:22.440
我们可以演示一下

23:22.640 --> 23:25.740
当然它的演示你还得通过我们的

23:26.140 --> 23:27.440
手机真实端来演示

23:27.840 --> 23:29.040
我们切换到

23:29.740 --> 23:30.540
真机调试

23:33.160 --> 23:34.960
那么打开我现在的手机

23:34.960 --> 23:36.960
然后呢我这边给大家

23:37.460 --> 23:38.660
做一个简单操作

23:38.660 --> 23:42.060
我呢去扫一下我身边随便那本书的二维码

23:43.960 --> 23:46.060
比如说我扫一下我身边这本书

23:47.660 --> 23:48.960
扫完以后咱们看

23:49.060 --> 23:50.160
屏幕上会出现了

23:50.760 --> 23:51.560
scan type

23:52.060 --> 23:53.160
我扫的时候呢

23:53.160 --> 23:55.860
他告诉我你现在扫的是一个调新码

23:55.860 --> 23:56.460
你看到吗

23:56.860 --> 23:58.160
你扫的是个调新码

23:58.560 --> 24:00.360
然后呢你现在的

24:00.760 --> 24:02.260
这个scan type不用管了

24:02.260 --> 24:03.460
我们直接从这来

24:08.960 --> 24:10.160
这个是我们里面

24:10.160 --> 24:12.160
哎这个上面三个值没有

24:12.260 --> 24:12.660
对吧

24:12.860 --> 24:13.660
结果没有

24:13.660 --> 24:15.960
那代表你小了一个调新码结构

24:16.860 --> 24:18.260
我们来看一下

24:18.760 --> 24:20.260
我们再扫一个二维码

24:20.260 --> 24:21.460
我们来对比一下

24:29.860 --> 24:30.260
好

24:31.560 --> 24:32.060
看这

24:33.160 --> 24:36.060
结果里面呢是说你扫了一个

24:36.660 --> 24:37.360
二维码

24:37.960 --> 24:39.260
然后的话呢

24:39.660 --> 24:40.860
有这个文本在

24:41.160 --> 24:42.460
他其实就是一字不串

24:42.460 --> 24:43.460
然后是否q

24:43.460 --> 24:45.660
message跟type没打没打开

24:46.160 --> 24:48.260
好我们来看一下这个形式

24:48.860 --> 24:49.860
我终止调试

25:03.290 --> 25:04.490
我们来看一下啊

25:04.490 --> 25:07.090
首先他拿到的数据

25:07.790 --> 25:08.790
他拿到的数据

25:08.790 --> 25:10.290
我们不用从这里边看

25:10.290 --> 25:11.490
我们这样来做

25:12.090 --> 25:13.490
我们通过这里看

25:13.690 --> 25:16.290
就是我们直接result来看到他的

25:17.890 --> 25:18.590
es

25:18.990 --> 25:20.290
我们把es拿出来

25:24.250 --> 25:24.550
好

25:25.050 --> 25:26.050
es的话呢

25:26.050 --> 25:27.450
我们再来调试一下

25:27.450 --> 25:28.850
我扫一个二维码

25:29.550 --> 25:30.150
我们来看

25:30.650 --> 25:32.050
拿到的es是什么

25:33.650 --> 25:34.450
真机调试

25:45.230 --> 25:45.530
好

25:45.830 --> 25:47.730
我去扫一个我们的

25:48.130 --> 25:48.830
调新码

25:50.330 --> 25:50.930
扫好了

25:51.630 --> 25:52.530
调新码扫好以后

25:52.530 --> 25:53.130
咱们看到

25:53.130 --> 25:54.930
他给我返回的真长的结果

25:54.930 --> 25:55.730
应该是这个

25:56.330 --> 25:57.630
他会有一个

25:59.030 --> 26:00.130
这是属于数据

26:00.330 --> 26:01.430
调新码的数据

26:01.930 --> 26:05.230
然后调新码的结果是这么一串数字

26:06.030 --> 26:08.830
然后呢他的can scan type等于这个

26:09.230 --> 26:09.530
好

26:09.530 --> 26:11.430
我们现在就拿着这个数据

26:11.430 --> 26:13.130
我们来看一下我们的代码

26:14.130 --> 26:14.730
首先

26:15.230 --> 26:17.530
scan type

26:17.530 --> 26:18.630
他等于这个吗

26:18.830 --> 26:19.530
不等于

26:19.930 --> 26:21.530
并且result本身里面

26:21.530 --> 26:22.230
他也有值

26:22.230 --> 26:23.230
所以这个不会走

26:23.730 --> 26:25.130
然后他就会回到这边来

26:25.730 --> 26:26.730
es show里面

26:26.730 --> 26:27.930
我们ok没问题

26:27.930 --> 26:30.030
能够帮你把这个已经放进去了

26:30.530 --> 26:31.030
对吧

26:31.030 --> 26:31.830
es show

26:32.130 --> 26:32.930
我们进去了

26:33.430 --> 26:34.030
然后呢

26:34.030 --> 26:35.130
我们继续往下

26:35.130 --> 26:36.230
我们type

26:36.930 --> 26:37.830
type的话呢

26:37.830 --> 26:40.130
他拿到的是一个什么scan type

26:40.630 --> 26:43.430
scan type是en下杠十三

26:43.930 --> 26:45.330
所以这边的话呢

26:45.330 --> 26:46.230
我们注意

26:46.230 --> 26:47.930
这边应该是下杠

26:49.630 --> 26:51.030
他给我们的是下杠

26:52.030 --> 26:53.630
所以这边我们打下杠

26:53.630 --> 26:55.530
这样才能获取到这个值

26:56.230 --> 26:57.130
这是第一概念

26:57.630 --> 26:58.730
那么第二个的话呢

26:58.730 --> 26:59.730
我们继续往下

27:00.730 --> 27:03.430
有一个result

27:05.030 --> 27:06.430
result

27:06.530 --> 27:07.630
这个是结果

27:08.130 --> 27:09.430
这个结果的话呢

27:10.030 --> 27:12.330
我们有一个987的一个结果值

27:12.430 --> 27:14.530
我们应该把它放在test里面的

27:15.130 --> 27:17.830
那么他是通过这个success来的

27:18.030 --> 27:18.530
对吧

27:18.530 --> 27:20.930
这个success里面应该是这个值是有的

27:21.430 --> 27:21.930
最后呢

27:21.930 --> 27:22.830
我们有个messager

27:23.230 --> 27:26.330
message消息本身在整个这里边是不存在的

27:26.730 --> 27:27.430
那我们呢

27:27.430 --> 27:28.430
其实很简单

27:28.430 --> 27:30.230
我们可以拿他的row data

27:30.730 --> 27:31.930
就叫做数据

27:31.930 --> 27:33.630
把他给直接填充进来

27:41.620 --> 27:43.520
我们这样做

27:43.520 --> 27:44.520
我们在这边

27:44.520 --> 27:46.020
我们打es点

27:49.880 --> 27:50.480
row

27:51.480 --> 27:51.980
date

27:57.890 --> 27:58.190
好

27:58.190 --> 27:59.190
我们来看一下

27:59.190 --> 28:00.590
我们把这个值拿出来

28:03.750 --> 28:04.050
诶

28:04.050 --> 28:05.150
这边应该是点

28:08.300 --> 28:08.800
好

28:09.300 --> 28:09.900
此时

28:10.400 --> 28:11.700
我们再来看一下效果

28:13.840 --> 28:15.440
我们把之前的停调

28:18.120 --> 28:20.120
我们重新开启我们的

28:21.120 --> 28:22.020
正极条式

28:24.980 --> 28:26.380
它页面还没出来吗

28:26.880 --> 28:28.280
这边生成已经完成了

28:30.640 --> 28:31.340
编一下

28:41.510 --> 28:42.610
它应该卡顿了

28:42.610 --> 28:43.510
我们关掉它

28:43.510 --> 28:44.910
我们重新生成一下

28:46.110 --> 28:47.810
然后重新打开它一下

28:50.230 --> 28:50.930
就是这个

29:13.160 --> 29:13.760
出来了

29:14.660 --> 29:15.560
正极条式

29:16.960 --> 29:17.860
手机扫码

29:20.920 --> 29:22.120
扫完以后的话

29:26.920 --> 29:28.220
找到我的一条

29:28.820 --> 29:31.020
随便本旁边本书扫一扫

29:31.520 --> 29:32.920
咱们看它的返回结果

29:35.660 --> 29:36.460
es show

29:36.860 --> 29:38.060
我已经拿到纸了

29:38.060 --> 29:39.160
但是这个es show

29:39.160 --> 29:40.560
它没有设置进去

29:40.560 --> 29:41.060
是吧

29:41.660 --> 29:42.860
还有我们来看一下

29:43.860 --> 29:46.460
这个它返回的确是一个es show

29:46.660 --> 29:47.660
就表示什么呢

29:48.060 --> 29:49.460
它整个这个

29:50.660 --> 29:51.560
没进去做

29:51.660 --> 29:52.060
是吧

29:52.560 --> 29:54.060
我们看一下是不是这个

29:55.860 --> 29:56.860
scan result

29:58.840 --> 29:59.940
scan result

30:02.680 --> 30:04.580
然后这边进行输出

30:07.860 --> 30:08.860
scan result

30:09.560 --> 30:11.660
这边一旦完成有this点

30:11.860 --> 30:12.560
this点

30:12.560 --> 30:14.360
我们做一个set a stator

30:19.670 --> 30:21.870
刚才看到我上面这些操作以后

30:21.870 --> 30:23.570
它这个值没有被改变

30:23.970 --> 30:24.870
原因在哪

30:26.170 --> 30:27.470
原因大家还记得吗

30:28.970 --> 30:30.670
并不是这个语法错了

30:30.670 --> 30:32.670
也不是这个输出没看到

30:33.070 --> 30:34.570
它的原因是在于

30:35.170 --> 30:36.170
set a stator

30:36.270 --> 30:37.470
我们强调过

30:37.570 --> 30:39.870
它用了一个异部结构

30:39.870 --> 30:43.270
所以要看到马上更新完的set a stator的值

30:43.570 --> 30:46.570
我们需要把这个内容放在我们后面

30:46.570 --> 30:49.370
单写一个回掉横术里面

30:49.770 --> 30:51.170
把它放进去

30:53.300 --> 30:54.200
这样去写

30:54.500 --> 30:56.800
因为set a stator是一个异部更新

30:58.500 --> 30:59.000
好

30:59.200 --> 31:00.800
当你这样写好以后的话

31:00.900 --> 31:02.800
我们再来看这个操作

31:06.890 --> 31:07.690
这个不用管啊

31:07.690 --> 31:09.490
因为这个内容本身我自己这边的话

31:09.490 --> 31:10.590
还没有更新

31:11.590 --> 31:12.990
我点真机测试

31:12.990 --> 31:14.190
才能看到效果

31:18.150 --> 31:19.550
我现在扫码

31:20.150 --> 31:21.150
扫码以后的话

31:21.150 --> 31:22.750
屏幕上马上会变一下

31:22.950 --> 31:26.350
变成一个拉取成功的这样的一个调试器

31:26.750 --> 31:29.450
让我扫一下我的一维码

31:29.850 --> 31:32.250
此时屏幕马上从这边看到的是

31:32.250 --> 31:33.550
我有一条一维码

31:33.550 --> 31:34.150
是不是

31:34.450 --> 31:35.950
这是一本书的编号

31:36.150 --> 31:36.850
这是一个

31:37.450 --> 31:39.150
然后同时我们再来看一下

31:39.150 --> 31:41.250
我再扫一扫一个二维码

31:42.250 --> 31:45.250
这是一本书所要求的官方文档

31:45.250 --> 31:46.250
看到吗

31:46.250 --> 31:47.850
它这边会给你呈现的是

31:47.850 --> 31:49.650
它告诉你现在扫了个二维码

31:49.650 --> 31:51.650
它是连到了一个短链接

31:51.650 --> 31:52.650
然后的话

31:52.650 --> 31:55.050
它的文本内容是这么长一串

31:55.450 --> 31:56.850
并且能够显示

31:56.850 --> 31:57.650
OK吧

31:57.650 --> 32:00.050
是形成了这样的一个结构

32:00.050 --> 32:02.450
并且我们现在调整中止群形

32:05.050 --> 32:07.050
这样的话我们就很荣誉

32:07.050 --> 32:10.050
现在的话去进行页面的呈现了

32:10.050 --> 32:11.850
因为我们扫码的时候

32:11.850 --> 32:13.850
我们已经把数据给获取进来

32:13.850 --> 32:15.650
千万注意这里的操作

32:16.850 --> 32:17.650
注意

32:19.220 --> 32:20.220
一步

32:21.220 --> 32:22.020
set

32:22.620 --> 32:24.020
stater是

32:24.420 --> 32:27.020
一步的数据更新

32:31.870 --> 32:32.670
紧接着

32:32.970 --> 32:35.470
我们现在已经获取到数据以后

32:35.470 --> 32:37.670
我们就应该在界面上面

32:37.870 --> 32:38.970
把它呈现出来

32:39.570 --> 32:40.670
首先第一步

32:40.670 --> 32:43.970
我们需要有一个显示判断

32:44.270 --> 32:45.770
我们把这些纸

32:45.970 --> 32:48.470
写扫码结果放在这里面

32:50.170 --> 32:51.270
扫码结果

32:51.270 --> 32:54.170
这应该是我们第一个类型

32:54.570 --> 32:56.470
它是scan里面的type

32:56.970 --> 32:59.170
所以我们应该把它

33:01.110 --> 33:08.260
叫做this.stater里面的

33:10.620 --> 33:13.720
scan result.type

33:15.420 --> 33:16.220
第二个

33:16.920 --> 33:17.820
内容

33:18.920 --> 33:19.920
它的内容

33:20.520 --> 33:22.220
内容的话应该是txt

33:23.820 --> 33:33.560
this.stater.scanresult.txt

33:36.130 --> 33:36.930
第三

33:37.130 --> 33:38.830
我们讲复制内容的话

33:38.830 --> 33:40.030
但待会

33:40.630 --> 33:41.930
这两个呈现出来

33:42.830 --> 33:44.530
页面中还有一个什么呢

33:44.530 --> 33:45.130
有吗

33:45.330 --> 33:46.230
我们看一下

33:46.930 --> 33:47.930
这两部分对吧

33:47.930 --> 33:49.630
扫码结果类型和内容

33:50.430 --> 33:50.930
OK

33:51.330 --> 33:52.730
我们现在开始

33:52.730 --> 33:54.230
我们做这个操作

33:54.230 --> 33:55.730
让它页面呈现出来

33:57.030 --> 33:58.030
首先

33:58.330 --> 33:59.530
蒸机调试

34:07.380 --> 34:08.480
现在扫码

34:09.480 --> 34:10.680
页面弹出

34:10.880 --> 34:12.180
蒸机调试的

34:12.680 --> 34:13.680
那个

34:13.980 --> 34:14.980
调试界面

34:15.980 --> 34:17.080
扫码成功

34:17.680 --> 34:19.580
扫完以后回过头来

34:21.180 --> 34:22.080
我们说

34:22.180 --> 34:23.680
把现在的数据

34:23.880 --> 34:24.680
is true

34:24.680 --> 34:25.380
这个不用管

34:25.380 --> 34:26.980
我们把txt.type

34:27.580 --> 34:29.080
这边要呈现出来

34:29.380 --> 34:30.480
它没有对吧

34:30.480 --> 34:31.680
我们来检查一下

34:32.680 --> 34:34.080
我们其实这个

34:34.780 --> 34:36.680
因为我们扫码的整个结果

34:36.680 --> 34:37.980
不是用它来扫的

34:37.980 --> 34:39.380
是用手机端来扫的

34:39.380 --> 34:40.480
所以手机上面

34:40.480 --> 34:42.780
你是可以没有问题呈现出来的

34:43.180 --> 34:44.280
这个我们

34:44.480 --> 34:46.480
不应该是在这个上面对吧

34:46.480 --> 34:47.680
我们不应该在这个

34:47.880 --> 34:49.280
因为我们用它来扫

34:49.280 --> 34:50.280
它也没法扫

34:50.480 --> 34:51.780
所以现在这样的情况

34:51.780 --> 34:53.480
你手机上面就应该能看到

34:53.480 --> 34:54.780
这个呈现出来了

34:55.280 --> 34:56.080
同时的话

34:56.080 --> 34:58.080
我们这边还需要再做一个

34:58.080 --> 34:59.480
扫码结果的一个

34:59.680 --> 35:01.080
显示的判断

35:01.480 --> 35:02.780
就是我们会在

35:02.780 --> 35:04.880
就是当前的result上面

35:05.380 --> 35:07.280
我们会做一个简单的

35:07.280 --> 35:07.780
一个

35:08.180 --> 35:08.880
判断结果

35:08.880 --> 35:09.680
也就是说

35:09.780 --> 35:11.780
如果说你现在

35:11.980 --> 35:12.980
下面这个内容

35:12.980 --> 35:14.580
我们做一个 is true 的判断

35:15.380 --> 35:16.080
is true

35:16.180 --> 35:16.680
对吧

35:19.900 --> 35:20.500
style

35:28.240 --> 35:29.240
我们有一个

35:41.100 --> 35:41.800
display

35:44.160 --> 35:44.860
它的值

35:45.260 --> 35:46.460
我们去加上

35:49.870 --> 35:50.670
this.

35:52.370 --> 35:53.370
做一个小过后

35:55.070 --> 35:56.870
this.stater.

35:57.670 --> 35:58.670
scanner is out

35:59.170 --> 36:01.170
我们给它一个 is show

36:04.620 --> 36:05.920
如果它是 true 的话

36:07.520 --> 36:09.320
那我们直接给它显示出来

36:09.620 --> 36:10.320
这个值呢

36:10.320 --> 36:11.320
就给成 block

36:13.360 --> 36:14.460
如果它是 first 的话

36:14.460 --> 36:15.460
我们就给它一个 none

36:18.420 --> 36:19.020
这样子

36:19.320 --> 36:20.720
那么默认情况下

36:20.720 --> 36:21.920
我们应该给一个啥

36:22.220 --> 36:22.720
none

36:31.550 --> 36:33.350
none 的话应该就是 first

36:34.150 --> 36:34.950
咱们看一下

36:35.350 --> 36:35.850
对吧

36:36.150 --> 36:36.350
好

36:36.350 --> 36:37.350
我们来看一下

36:37.750 --> 36:38.450
界面上面

36:38.450 --> 36:39.250
它隐藏了

36:39.950 --> 36:41.850
对于这个复制来讲也是一样

36:58.570 --> 36:59.870
复制方法一样的

37:00.770 --> 37:01.270
好

37:02.070 --> 37:02.970
这样形成的是

37:02.970 --> 37:04.670
我们一打开这个界面的时候

37:04.670 --> 37:06.470
其实你就一个按钮扫一扫

37:06.570 --> 37:07.770
当你进行点击的时候

37:07.770 --> 37:08.670
你进行扫码

37:08.970 --> 37:10.270
扫码成功以后

37:10.270 --> 37:12.270
那么你上面的这个所谓的

37:12.770 --> 37:14.470
结果和复制两个按钮

37:14.470 --> 37:15.270
都会出现

37:16.270 --> 37:17.170
那么这样的话

37:17.170 --> 37:18.570
我们扫码第一步功能

37:18.570 --> 37:19.870
获取数据得到了

37:20.270 --> 37:21.670
接下去我们做第二步功能

37:21.670 --> 37:23.170
就是我们把这个数据

37:23.470 --> 37:25.070
复制到剪接板来

37:25.270 --> 37:26.770
把它复制到剪接板

37:27.670 --> 37:28.370
所以呢

37:28.370 --> 37:30.070
我们这边on call bay

37:30.070 --> 37:31.170
开始写书写

37:32.870 --> 37:33.970
剪接板的复制

37:35.570 --> 37:37.570
把它整个的这个内容

37:37.570 --> 37:38.570
我们来看一下

37:47.740 --> 37:48.840
复制到剪接板

37:50.950 --> 37:51.550
terror

37:52.650 --> 37:53.150
set

37:53.950 --> 37:54.950
click board data

37:55.050 --> 37:55.850
还记得吗

37:56.950 --> 37:57.650
然后呢

37:57.650 --> 37:58.650
它有一个数据

38:00.350 --> 38:02.150
我们把它内容直接拿过来啊

38:02.450 --> 38:03.250
第四点

38:05.050 --> 38:05.750
set

38:05.850 --> 38:06.550
那个

38:07.450 --> 38:08.050
stater

38:08.050 --> 38:09.850
this.stater.

38:11.450 --> 38:12.550
scan coder

38:13.550 --> 38:16.550
a scan result.tester

38:16.550 --> 38:17.550
内容拿过来

38:19.840 --> 38:20.540
success

38:27.130 --> 38:28.130
terror的提示

38:34.260 --> 38:34.960
terror

38:35.360 --> 38:35.960
show

38:36.560 --> 38:37.260
toast

38:40.290 --> 38:40.890
title

38:43.190 --> 38:44.090
复制成功

38:47.500 --> 38:49.300
形成这样的一个写法

38:50.500 --> 38:53.700
当然我们最好的是没有任何的什么

38:54.400 --> 38:55.000
icon

38:55.000 --> 38:56.300
我们可以给它一个

38:57.400 --> 38:58.100
success

39:00.200 --> 39:01.100
duration

39:03.720 --> 39:04.520
两秒钟

39:10.810 --> 39:11.210
好

39:11.210 --> 39:13.310
你需要去进行扫码啊

39:13.310 --> 39:14.910
当你扫码成功以后的话

39:14.910 --> 39:16.510
你像我现在去扫的话

39:16.910 --> 39:19.110
我们就完成的是一个最简单的

39:19.110 --> 39:20.610
我们跑到任何一个

39:21.510 --> 39:22.210
结构里面

39:22.210 --> 39:23.310
你会去看到的是

39:23.310 --> 39:24.510
我们不能在这边扫

39:24.510 --> 39:26.510
我们一定要通过真金模拟去扫

39:27.010 --> 39:28.110
扫完以后的话呢

39:28.110 --> 39:29.310
这个纸就会出现

39:29.610 --> 39:30.210
这个是

39:30.510 --> 39:32.410
所以我们大家所谓的这个纸啊

39:32.610 --> 39:34.210
还是相对而言比较

39:35.510 --> 39:36.010
简单的

39:36.010 --> 39:37.310
我们现在扫一扫

39:38.510 --> 39:39.210
扫好以后

39:39.210 --> 39:40.910
我手机上面就先复制这样有了

39:40.910 --> 39:41.910
你一点复制

39:42.410 --> 39:44.010
那么它立马就叫做复制成功

39:44.010 --> 39:44.710
就会有了

39:45.210 --> 39:46.510
复制成功以后的话呢

39:46.910 --> 39:49.110
那么你就可以把它粘贴到你要的地方了

39:49.110 --> 39:49.710
ok

39:49.710 --> 39:52.010
那么这是我们要说到的一个部分啊

39:52.310 --> 39:53.410
本身来讲的话

39:53.410 --> 39:54.810
它不存在很复杂

39:54.810 --> 39:55.910
这是第一个功能

39:56.210 --> 39:57.210
就是扫码

39:57.210 --> 39:57.910
并且呢

39:57.910 --> 39:59.510
把获取的码拿到

39:59.810 --> 40:00.910
并且能够呈现出来

40:01.210 --> 40:02.610
这是我们说的第一个部分

40:03.210 --> 40:04.010
第二部分呢

40:04.010 --> 40:06.110
那么我们还有一个叫做生成啊

40:06.110 --> 40:08.010
当然我们这边应该可以做个按钮

40:08.010 --> 40:09.910
我们跳转到生成二维码

40:20.810 --> 40:21.310
type

40:22.610 --> 40:23.310
primary

40:27.300 --> 40:28.700
go to creator screen

40:34.450 --> 40:35.350
go to creator screen

40:35.450 --> 40:36.550
生成二维码

40:39.320 --> 40:40.820
我们把这句内容

40:40.820 --> 40:44.720
我们把它直接放到我们现在的时间里面

40:44.720 --> 40:46.820
它其实就是作为数据跳转

40:52.510 --> 40:53.510
页面跳转啊

40:55.780 --> 40:56.780
跳转至

40:58.780 --> 40:59.980
生成二

41:01.960 --> 41:03.060
维码页面

41:07.470 --> 41:07.970
terror

41:08.470 --> 41:08.970
点

41:12.250 --> 41:13.250
nevigate to

41:19.450 --> 41:20.850
url跳转

41:21.350 --> 41:23.950
我们可以写出来在当前下面就是

41:28.320 --> 41:29.420
create scan

41:32.070 --> 41:32.970
就写这个

41:33.970 --> 41:34.370
点

41:34.370 --> 41:35.370
jxx

41:37.540 --> 41:40.540
那我们在当前的这下面去做一个新页面

41:49.320 --> 41:50.420
做一个新页面

41:52.340 --> 41:55.340
然后把我们之前的页面结构给拿过来

42:15.540 --> 42:16.040
对吧

42:16.140 --> 42:16.740
然后呢

42:16.740 --> 42:18.640
这部分的数据我们先不动了

42:18.640 --> 42:20.640
然后我们通直接拿它的

42:21.040 --> 42:21.640
randle

42:22.640 --> 42:24.440
等会把上面补全

42:32.880 --> 42:34.280
我们这个称之为

42:37.990 --> 42:39.390
create scan

42:46.320 --> 42:46.820
好

42:47.220 --> 42:50.720
那么我们把create scan页面也加入到我们的jx

42:50.720 --> 42:51.320
页面去

42:53.020 --> 42:53.920
pagers里面

43:02.870 --> 43:04.570
当然它不应该在第一个页面

43:04.570 --> 43:05.870
我们把它放在第二个

43:12.870 --> 43:13.270
好

43:13.270 --> 43:14.170
那么现在呢

43:14.170 --> 43:17.470
我们就可以在新页面制作这样的功能

43:17.470 --> 43:18.270
为了掩饰

43:18.270 --> 43:19.870
它能够正常跳过去

43:20.170 --> 43:21.770
我们可以一下生成二维码

43:22.170 --> 43:23.770
现在页面还没有刷新好

43:31.210 --> 43:32.210
生成二维码

43:36.580 --> 43:37.880
这个页面上面

43:38.080 --> 43:38.880
我们看一下

43:38.880 --> 43:40.480
它给我报了咱们有一个错

43:40.480 --> 43:42.480
它说这个页面

43:43.480 --> 43:44.780
key它不存在

43:44.780 --> 43:45.780
我们来找一下

43:46.580 --> 43:48.680
刚才它这边一直报我一个错

43:48.880 --> 43:50.680
它报的是我现在点下去

43:50.680 --> 43:52.280
它说找不到这个页面

43:53.080 --> 43:53.480
好

43:53.480 --> 43:55.080
那么原因是在于什么呢

43:55.080 --> 43:55.980
这边我说一下

43:55.980 --> 43:56.980
我改了一下

43:56.980 --> 43:57.880
主要是哪里呢

43:57.880 --> 43:58.580
是这边

43:58.980 --> 44:00.580
我们在写这个路径的时候呢

44:00.580 --> 44:01.880
我们把这个路径

44:02.080 --> 44:04.080
应该是放在scancoder下面

44:04.080 --> 44:05.080
我们现在

44:05.380 --> 44:06.480
依然要放在scancoder

44:06.480 --> 44:07.880
不能去单独创建出了

44:07.880 --> 44:09.880
因为我这边依然放在scancoder下面

44:09.880 --> 44:11.680
建立一个create screen

44:12.380 --> 44:12.780
对吧

44:12.780 --> 44:13.880
我们这样去建立

44:14.580 --> 44:17.380
当你那个scancoder下面create screen

44:17.380 --> 44:18.280
这样建好了

44:18.580 --> 44:20.280
那么此时你再回过头来

44:20.280 --> 44:21.880
这边继续去访问的话

44:21.880 --> 44:23.180
那应该就没有问题了

44:23.980 --> 44:24.980
我们来看一下

44:31.850 --> 44:32.550
点击

44:33.050 --> 44:34.650
它就会直接进行跳转

44:34.950 --> 44:36.550
然后我们跳转到一个新页面

44:36.550 --> 44:39.050
这个页面来做生成二维码的操作

44:39.750 --> 44:40.250
对吧

44:40.350 --> 44:42.650
生成二维码对我们的整个结构来讲

44:42.650 --> 44:44.150
其实还是属于比较

44:44.850 --> 44:45.750
不是特别难的

44:45.750 --> 44:47.950
它主要是上面有一个输入框

44:48.250 --> 44:48.550
对吧

44:48.550 --> 44:49.250
然后的话呢

44:49.250 --> 44:50.350
下面有一个生成

44:50.350 --> 44:50.850
同时呢

44:50.850 --> 44:52.550
这边有一个图片可以展现

44:53.050 --> 44:53.850
这样的结构

44:55.450 --> 44:55.650
好

44:55.650 --> 44:58.350
我们来做一下生成二维码的界面

44:59.050 --> 45:00.450
直接保留create screen

45:01.650 --> 45:02.450
create screen

45:04.330 --> 45:05.330
我们把它放着吧

45:05.330 --> 45:06.330
我们坐在下面写

45:07.230 --> 45:07.830
首先呢

45:07.830 --> 45:09.130
我们有一个输入框

45:09.130 --> 45:09.630
对吧

45:13.200 --> 45:14.100
有个输入框

45:15.200 --> 45:16.000
这个输入框呢

45:16.000 --> 45:17.600
当然我们得给的是什么

45:18.100 --> 45:19.900
是一个text area

45:26.390 --> 45:28.390
应该给一个这个text area

45:36.000 --> 45:36.400
好

45:36.900 --> 45:38.600
把这个text area

45:38.600 --> 45:40.200
我们在上面进行注册

45:45.120 --> 45:46.320
做一个place holder

45:50.880 --> 45:52.080
请输入

45:53.080 --> 45:54.080
二维码文本

45:57.300 --> 45:57.700
好

45:58.500 --> 45:59.900
样式待会再来写

46:00.300 --> 46:01.000
然后呢

46:01.000 --> 46:02.200
我们这里边呢

46:02.200 --> 46:03.200
它会有值

46:03.200 --> 46:04.000
但这个值呢

46:04.000 --> 46:05.100
我们待会会用

46:08.040 --> 46:09.840
变量的方式来覆盖

46:10.340 --> 46:10.840
第二呢

46:10.840 --> 46:11.740
我们下面

46:12.640 --> 46:13.340
会一个

46:14.140 --> 46:19.290
显示二维码区域

46:24.470 --> 46:25.070
view

46:25.270 --> 46:25.970
然后呢

46:25.970 --> 46:27.870
这里面我们做一个图片

46:36.440 --> 46:39.440
然后这边我们写一个图片的src

46:39.840 --> 46:41.440
它主要来自于我们的

46:42.240 --> 46:42.840
就是

46:47.310 --> 46:48.610
state里面的一个数值

46:49.910 --> 46:51.810
因为我们从外部拿到的一个图片

46:53.110 --> 46:53.210
好

46:53.210 --> 46:54.210
这边我们先不写

46:54.210 --> 46:56.510
待会我们把页面做完再来完成这一部分

46:57.310 --> 46:58.010
然后呢

46:58.010 --> 46:59.310
这下面呢

46:59.310 --> 47:01.010
是我们有一个按钮

47:01.010 --> 47:02.210
我们点生成

47:06.170 --> 47:07.370
生成二维码

47:16.960 --> 47:17.760
它是个button

47:27.220 --> 47:28.020
onclick

47:30.350 --> 47:31.450
然后我们写的是

47:33.250 --> 47:34.850
this.on

47:40.410 --> 47:41.410
ungenerate

47:42.010 --> 47:43.310
this.ungenerate

47:46.120 --> 47:46.620
写这

47:53.390 --> 47:54.290
生成二维码

47:59.880 --> 48:00.880
生成二字

48:05.480 --> 48:06.280
这里有图片

48:06.280 --> 48:08.180
这张图片现在我们暂时没法加

48:08.180 --> 48:08.680
所以呢

48:08.680 --> 48:11.280
我们先不看看页面自食我们这样的话

48:11.280 --> 48:13.180
生成二维码会变成什么样的结构

48:15.180 --> 48:15.680
对吧

48:15.880 --> 48:17.980
这边可以做二维码的操作

48:17.980 --> 48:19.680
这边有一个生成操作

48:20.080 --> 48:22.480
生成简单的做一个type

48:23.580 --> 48:25.780
给它做一个primary

48:26.980 --> 48:27.380
好了

48:28.080 --> 48:28.580
界面呢

48:28.580 --> 48:29.680
我们就先这么一样

48:29.680 --> 48:30.680
我们不去做简单

48:30.680 --> 48:31.780
要样式结构啊

48:31.780 --> 48:33.880
让它非常简单的就能够呈现

48:34.480 --> 48:35.380
紧接着呢

48:35.380 --> 48:37.580
我们来做当前的这个

48:38.180 --> 48:38.880
generate

48:39.580 --> 48:40.880
在做generate的时候呢

48:40.880 --> 48:43.580
我们当然我们针对于现在的

48:45.780 --> 48:46.580
那个

48:47.380 --> 48:47.980
data

48:48.180 --> 48:49.880
我们需要有一些值的定义

48:50.580 --> 48:51.180
在这里面啊

48:51.180 --> 48:51.780
stator

48:55.000 --> 48:55.700
首先

48:56.000 --> 48:56.900
constructor

48:57.200 --> 48:58.000
先写出来

49:00.770 --> 49:01.370
super

49:09.580 --> 49:10.180
stator

49:12.410 --> 49:13.570
我们先定一个

49:13.810 --> 49:15.010
coder texture

49:16.310 --> 49:17.910
这是二维码的文本

49:18.710 --> 49:19.510
做一个空

49:20.910 --> 49:24.010
然后图片生成以后的临时的

49:24.810 --> 49:25.410
文件

49:26.110 --> 49:27.710
然后我们也给它一个空

49:29.010 --> 49:30.110
做两个stator

49:31.510 --> 49:32.110
然后呢

49:32.110 --> 49:33.010
我们第一步

49:33.010 --> 49:34.810
我们需要去获取

49:34.810 --> 49:36.510
当然我们需要去获取

49:36.510 --> 49:38.710
你现在的文本位置内容

49:39.010 --> 49:41.210
所以我们在上面做一个on import

49:43.380 --> 49:44.180
我们写上

49:44.580 --> 49:45.380
this.

49:46.180 --> 49:47.180
我们就写bound的吧

49:49.600 --> 49:50.600
bound import

49:54.430 --> 49:55.030
得餐

50:01.490 --> 50:02.590
bound import

50:09.620 --> 50:10.520
我们来看一下

50:12.910 --> 50:13.810
它叫做

50:16.010 --> 50:16.810
二维码

50:17.210 --> 50:18.310
文本输入

50:42.400 --> 50:44.800
是不是detail.value 中有这个值

50:49.100 --> 50:49.400
好

50:49.400 --> 50:51.600
我们已经把这个值放进来了

50:51.600 --> 50:54.200
并且我们也能够看到这样的一个

50:54.400 --> 50:55.400
你输的内容

50:55.600 --> 50:57.700
那么我们把它存储到我们辩量中

50:57.700 --> 50:59.500
我们辩量中个coder tester

50:59.600 --> 51:00.200
就是它

51:02.630 --> 51:04.330
this.set a stator

51:05.830 --> 51:06.730
coder tester

51:06.830 --> 51:10.570
e.detail.value

51:11.970 --> 51:13.970
当然前面先做一下

51:14.370 --> 51:16.830
如果e.detail.value.

51:17.470 --> 51:18.170
为空

51:21.460 --> 51:23.060
那是不适合做这事的

51:24.060 --> 51:26.260
我们要不等于空才把它放进去

51:33.680 --> 51:33.980
对吧

51:33.980 --> 51:34.680
不等于空

51:34.680 --> 51:36.580
你再把它的detail.value放进去

51:36.580 --> 51:37.680
如果等于空的话

51:38.080 --> 51:39.680
那么我们只能提示用户

51:44.400 --> 51:45.900
tell.show toast

51:59.720 --> 52:00.320
无纸

52:02.590 --> 52:03.390
无内容

52:05.190 --> 52:06.290
OK就这样吧

52:07.190 --> 52:07.790
然后呢

52:07.790 --> 52:11.290
我们现在一旦把这个值存1.detail.value

52:11.290 --> 52:13.590
把这个值存入到我们这里边了

52:13.790 --> 52:14.590
那么这样的话呢

52:14.590 --> 52:17.690
我们现在再开始做我的提交生辰

52:17.890 --> 52:18.490
那这样的话

52:18.490 --> 52:19.890
我就从这里边去直绕

52:22.280 --> 52:23.480
在这生辰二维码

52:24.680 --> 52:26.080
生辰二维码的话呢

52:26.080 --> 52:27.980
我们可以用到的

52:28.080 --> 52:30.480
是一个我们的downloader

52:30.680 --> 52:32.180
这个时候我们会说到

52:32.180 --> 52:33.580
当然这边的我们先用一下

52:33.880 --> 52:35.680
这是网络上的一个接口

52:36.180 --> 52:37.380
网络上的一个接口

52:38.980 --> 52:39.480
tell

52:40.980 --> 52:42.180
downloader file

52:42.580 --> 52:43.180
下载

52:43.580 --> 52:44.880
它可以进行下载

52:45.580 --> 52:45.980
然后呢

52:45.980 --> 52:47.380
它需要个url

52:47.680 --> 52:48.680
那么说明一下

52:48.680 --> 52:51.080
这是现在在线的一个

52:51.480 --> 52:52.680
我们把它写在前面

52:53.280 --> 52:53.780
let

52:54.180 --> 52:55.180
我们称之为

52:56.580 --> 52:57.380
online

52:58.580 --> 52:59.580
在线的

53:02.180 --> 53:02.680
接口

53:07.270 --> 53:08.270
scan code

53:08.470 --> 53:09.770
扫码的一个接口

53:13.600 --> 53:14.700
我们把它写在这边

53:14.700 --> 53:15.500
http

53:16.700 --> 53:18.800
然后它的话我们直接用

53:19.800 --> 53:21.600
es3的方式来进行

53:23.300 --> 53:24.900
字不串的书写

53:25.700 --> 53:27.100
qr.

53:27.100 --> 53:30.400
它是topscreen.com

53:31.500 --> 53:32.700
api接口

53:32.700 --> 53:34.000
它是php写的

53:36.450 --> 53:37.250
txt

53:37.250 --> 53:38.050
等于

53:38.450 --> 53:39.550
我们后面介绍

53:42.070 --> 53:44.870
当前的status里面的

53:45.270 --> 53:46.370
code txt

53:46.770 --> 53:47.370
文本

53:49.370 --> 53:49.970
ok

53:50.270 --> 53:51.970
当你这样接好以后的话

53:51.970 --> 53:54.070
那么我们把这个内容

53:54.070 --> 53:55.970
我们把它放到url里面来

53:58.420 --> 53:59.320
成功以后

54:00.620 --> 54:01.320
success

54:05.380 --> 54:06.480
我们可以看一下数据

54:20.430 --> 54:21.330
生成二维码

54:26.950 --> 54:28.150
1234

54:28.950 --> 54:30.050
abcd

54:30.350 --> 54:31.350
就随便放什么东西

54:31.350 --> 54:32.150
你点生成

54:32.950 --> 54:33.150
好

54:33.150 --> 54:35.050
这边有一个合法预名的警告

54:35.050 --> 54:35.450
所以呢

54:35.450 --> 54:37.550
我们这边作为本地设置

54:37.550 --> 54:39.850
然后先勾上不剿验合法预名

54:40.950 --> 54:42.650
预名需要的是你在

54:43.050 --> 54:43.850
哪里做呢

54:43.850 --> 54:45.950
预名需要的是你在更新

54:45.950 --> 54:46.250
啊

54:46.250 --> 54:48.650
整个这个发布的前面

54:48.950 --> 54:50.150
然后呢你把这些

54:50.550 --> 54:52.950
本应用程序中用到的预名

54:52.950 --> 54:55.850
全部放到微信公众平台关联的

54:56.050 --> 54:58.050
小程序端的白名单里面

54:59.960 --> 55:00.460
跳转

55:03.020 --> 55:03.920
123

55:04.020 --> 55:04.920
abc

55:05.420 --> 55:06.020
生成

55:06.720 --> 55:07.220
咱们看

55:07.220 --> 55:09.720
这边就会返回给你上面有一个

55:10.020 --> 55:11.920
temp fly pass这张图片

55:13.890 --> 55:16.190
这张图片里面存的就是这个内容

55:17.290 --> 55:17.590
好

55:17.590 --> 55:18.690
我们来做一下

55:19.090 --> 55:22.190
我们就在当前的拿什么呢

55:22.190 --> 55:24.390
拿这个部分来存储

55:25.190 --> 55:27.590
那么在我们那个

55:27.990 --> 55:29.190
success里面的话呢

55:29.190 --> 55:30.590
大家为了清晰一点

55:31.190 --> 55:32.990
我们都可以这样写

55:32.990 --> 55:35.990
你可以在最外层把这些定义在最外面

55:36.590 --> 55:40.190
然后你在这里面用that点set stator

55:40.790 --> 55:42.790
那修改我们现在

55:43.190 --> 55:45.790
在我们的stator里面的这个值

55:46.290 --> 55:47.190
那么这个值呢

55:47.190 --> 55:48.190
我们就等于

55:48.590 --> 55:49.490
is点

55:50.290 --> 55:50.990
temper

55:53.320 --> 55:53.920
temper

55:54.320 --> 55:54.920
fi

55:55.420 --> 55:56.020
pass

55:56.520 --> 55:57.220
rs

55:57.620 --> 55:58.220
小写

55:59.320 --> 56:00.220
你可以这样写

56:00.620 --> 56:02.120
当你这样写完以后呢

56:02.120 --> 56:03.220
那么也就意味着

56:03.520 --> 56:04.820
当我获得值以后

56:04.820 --> 56:06.820
我会把当前生成的二维码

56:06.820 --> 56:09.720
这样图片存储到当前的这个stator里面来

56:10.220 --> 56:11.420
而这个stator

56:11.520 --> 56:13.620
我们就可以在页面中的哪里

56:13.920 --> 56:17.320
就是我们的imager里面给它呈现

56:18.020 --> 56:18.520
对吧

56:18.820 --> 56:20.120
我们做的是this点

56:20.320 --> 56:21.720
stator点imager

56:22.020 --> 56:22.820
这样出来

56:23.520 --> 56:26.320
imager我们需要进行注册声明

56:30.340 --> 56:30.740
好了

56:30.740 --> 56:31.240
看一下

56:31.240 --> 56:32.740
应该没有什么爆错了这里面

56:34.440 --> 56:34.640
好

56:34.640 --> 56:35.840
我们再来看一下页面

56:39.840 --> 56:40.640
进行跳转

56:44.400 --> 56:45.500
随便说内容

56:47.540 --> 56:48.240
点生成

56:48.540 --> 56:49.240
出来了吧

56:49.740 --> 56:50.640
这样图片出来了

56:50.940 --> 56:52.540
把图片稍微小一点我们

56:53.340 --> 56:54.440
我们把图片小一点

56:54.840 --> 56:56.540
样式我就直接在这里边写了

56:56.940 --> 56:58.540
你可以把它写到我们的

56:59.940 --> 57:00.740
css里面去

57:00.740 --> 57:02.840
因为我把它设置成

57:04.540 --> 57:07.140
宽度300rpx

57:09.060 --> 57:11.160
高度也做300rpx

57:11.560 --> 57:12.560
就这样的一个设定

57:13.260 --> 57:13.460
好

57:13.460 --> 57:14.460
我们再来看一下

57:20.400 --> 57:21.400
生成二维码

57:24.360 --> 57:28.260
abcd1234生成

57:28.860 --> 57:29.460
看到了吗

57:29.760 --> 57:32.560
这就是你最后所生成出来的一个二维码的结构

57:33.360 --> 57:33.760
ok

57:33.860 --> 57:36.860
那这样的话我们即使用到了

57:36.860 --> 57:39.060
因为我们看到API的结构

57:39.060 --> 57:41.160
我们这边用到了一个download的

57:41.160 --> 57:41.860
那么之后的话

57:41.860 --> 57:43.160
我们还可以拿出这个实力

57:43.160 --> 57:44.660
给大家继续来做讲解

57:45.160 --> 57:46.660
第二我们讲教的是

57:46.860 --> 57:48.260
我们本身这里边

57:48.260 --> 57:49.660
我们本身的操作

57:49.860 --> 57:52.760
是可以让你通过我们的接口的方式

57:53.360 --> 57:56.360
拿到你自行生成二维码和Soma的两个操作

57:56.360 --> 57:58.160
我们在这节课里面都给它讲到了

57:58.760 --> 57:59.460
回顾一下

57:59.960 --> 58:01.760
Soma功能其实接口很简单

58:01.760 --> 58:03.460
它是一个scan code的形式

58:03.460 --> 58:05.160
但是它扩展影身的内容

58:05.160 --> 58:06.460
有我们今天讲解那么多

58:07.460 --> 58:09.060
同时的话我们看到

58:09.260 --> 58:11.560
Soma本身自己也可以通过

58:11.560 --> 58:13.160
我们其他的接口的配合

58:13.160 --> 58:14.560
download of five的接口

58:15.360 --> 58:18.360
那么完成我们现在的整个功能

58:18.760 --> 58:20.360
那么我们在之前课程中

58:20.360 --> 58:21.460
原生里面讲过

58:21.460 --> 58:23.660
但是在target中没有讲过download of five

58:23.660 --> 58:24.360
那么说的是

58:24.760 --> 58:25.960
它是一个下载接口

58:25.960 --> 58:27.060
你给它一个url

58:27.060 --> 58:28.960
它会把这个内容

58:29.260 --> 58:32.760
也就这个网址最后所反馈给你的数据

58:32.960 --> 58:35.760
或者称之为它的return echo数据

58:35.960 --> 58:37.260
它会给你返回出来

58:37.660 --> 58:39.360
有时候我们是一个接参对象

58:39.360 --> 58:40.760
有时候是一个网页

58:40.760 --> 58:42.460
这根据你的业务需求和接口

58:42.460 --> 58:43.860
所返回的数据决定的

58:44.360 --> 58:45.660
那么所有的数据接到以后

58:45.660 --> 58:47.560
都会存储在success的里面

58:47.760 --> 58:50.060
我们需要通过它来完成

58:50.060 --> 58:52.460
你现在的业面的其他的业务逻辑操作

58:52.660 --> 58:53.260
OK吧

58:53.260 --> 58:53.760
好

58:53.760 --> 58:55.460
那么这个势力就先讲到这

