WEBVTT

00:00.000 --> 00:04.440
好 我们继续讲解我们的泰瑞希勒克城的我们的录音机的案例

00:04.440 --> 00:10.320
在之前的案例中呢 我们已经完成了我们现在的一个排版

00:10.320 --> 00:14.120
并且呢 完成了现在的一个录音功能

00:14.120 --> 00:18.120
并且也有一个能够有一个录音的效果展示

00:18.120 --> 00:21.000
这样的一个 对吧 展现出来了

00:21.000 --> 00:25.120
那此时呢 我们大家就可以做今天要做的第二步事情

00:25.120 --> 00:29.120
那就是 点击当前的这样的一个图

00:29.120 --> 00:32.120
或者说这样的一个内容

00:32.120 --> 00:36.120
存储路径啊 存储时间啊 音频大小啊

00:36.120 --> 00:40.120
我们就可以直接去查看 或者听这个录音

00:40.120 --> 00:42.120
我们要做这部操作

00:42.120 --> 00:45.120
那么首先呢 我们这里边有好多的console

00:45.120 --> 00:49.120
我们可以把页面中很多的console给去掉

00:49.120 --> 00:53.780
像按下这种是要的 对吧

00:53.780 --> 00:57.780
但是这种的话是当初做测试时候的

00:57.780 --> 01:00.780
我们就可以把它给去掉

01:00.780 --> 01:26.690
这个要的啊 这个可以不要啊

01:26.690 --> 01:28.690
这是flag 本身自己要给我们呈现的

01:28.690 --> 01:33.660
所以从这也可以删掉

01:33.660 --> 01:35.660
就留了一个

01:35.660 --> 01:38.660
就是开始录音 手指按下 OK

01:38.660 --> 01:41.660
现在呢 我们现在已经可以完成

01:41.660 --> 01:43.660
现在的一个录音工作 对吧

01:43.660 --> 01:45.660
放开 按下完成

01:45.660 --> 01:48.660
我们听的录音从这开始

01:48.660 --> 01:51.660
就是我们首先找到当初我们做循环的这个位置

01:51.660 --> 01:53.660
就是这里边

01:53.660 --> 01:56.660
我们需要针对当前的这个元素

01:56.660 --> 01:57.660
或者说这个操作

01:57.660 --> 01:59.660
我们要有一个实践

01:59.660 --> 02:05.260
所以在这个 上面我们做一个onclick

02:05.260 --> 02:11.260
我们写上this.goToPlay

02:11.260 --> 02:13.260
this.goToPlay

02:13.260 --> 02:15.260
我们这样写

02:15.260 --> 02:18.260
然后呢 我们把整个这部分内容

02:18.260 --> 02:24.260
我们bump的写出来

02:24.260 --> 02:30.900
把这个实践也调印出来

02:30.900 --> 02:35.420
完成播放

02:35.420 --> 02:37.420
触发

02:37.420 --> 02:44.660
当你要完成这个播放触发的时候的话呢

02:44.660 --> 02:45.660
那么播放里面

02:45.660 --> 02:46.660
我们开始往里写啊

02:46.660 --> 02:47.660
写到哪里的时候

02:47.660 --> 02:48.660
我们发现有一个点

02:48.660 --> 02:50.660
我们需要外部来做的

02:50.660 --> 02:52.660
首先 我们依然

02:52.660 --> 02:54.660
我们给用户做个提示

02:54.660 --> 02:55.660
开始播放

02:55.660 --> 03:12.790
terror点

03:12.790 --> 03:13.790
show

03:13.790 --> 03:14.790
toast

03:14.790 --> 03:20.560
title

03:20.560 --> 03:43.550
开始播放

03:43.550 --> 03:47.400
success

03:47.400 --> 03:49.400
duration给出1000

03:49.400 --> 03:55.720
播放是用什么呢

03:55.720 --> 03:57.720
是terror里面有一个叫play

03:57.720 --> 03:59.720
我们之前用过voice

03:59.720 --> 04:01.720
它的播放有一个参数

04:01.720 --> 04:02.720
它需要是

04:02.720 --> 04:04.720
有一个叫five pass

04:04.720 --> 04:07.720
你要播放的那个文件的

04:07.720 --> 04:10.720
路径

04:10.720 --> 04:11.720
我们设个变量

04:11.720 --> 04:12.720
那么问题是

04:12.720 --> 04:17.540
这个five pass这个值哪来

04:17.540 --> 04:19.540
在我这是没有的

04:19.540 --> 04:20.540
对吧

04:20.540 --> 04:21.540
那么意味着

04:21.540 --> 04:22.540
我这个值需要

04:22.540 --> 04:24.540
通过外部传入进来

04:24.540 --> 04:27.540
这个意我需要传一个数据进来

04:27.540 --> 04:30.540
作为pipass存在

04:30.540 --> 04:32.540
那么此时我们来讲

04:32.540 --> 04:34.540
我们如果是一个在线

04:34.540 --> 04:36.540
或者说我们是一个事件的话

04:36.540 --> 04:39.540
特别是我们针对在循环内部事件的话

04:39.540 --> 04:41.540
我们怎么存餐

04:41.540 --> 04:43.540
还记得起来吗

04:43.540 --> 04:45.540
我们可以在这儿

04:45.540 --> 04:47.540
做一些自定义的一些

04:47.540 --> 04:49.540
我们所谓的事情

04:49.540 --> 04:51.540
你可以有两种方式

04:51.540 --> 04:52.540
我们自己来看

04:52.540 --> 04:53.540
第一种

04:53.540 --> 04:54.540
这个操作

04:54.540 --> 04:55.540
第一种

04:55.540 --> 04:57.540
我们把数据

04:57.540 --> 04:59.540
是不是可以放在这个后面

04:59.540 --> 05:00.540
这个后面

05:00.540 --> 05:03.540
我们可以放数据进去的

05:03.540 --> 05:04.540
我们这边写好了

05:04.540 --> 05:06.540
我们的

05:06.540 --> 05:07.540
前面是这一词

05:07.540 --> 05:08.540
后面是参数内容

05:08.540 --> 05:10.540
然后我们把这个放上去

05:10.540 --> 05:11.540
那么它上面是反过来

05:11.540 --> 05:13.540
一放在最后

05:13.540 --> 05:16.540
然后前面是接收数据下来

05:16.540 --> 05:17.540
前面是接收数据

05:17.540 --> 05:19.540
那么这个数据的话

05:19.540 --> 05:20.540
我们在里面

05:20.540 --> 05:22.540
这边先可以看一下

05:22.540 --> 05:23.540
我们点开始播放

05:23.540 --> 05:25.540
后面这个先助销掉

05:25.540 --> 05:27.540
我们可以大家看一下

05:27.540 --> 05:44.810
这个值是否可以拿到

05:44.810 --> 05:45.810
点一下

05:45.810 --> 05:46.810
拿到了吧

05:46.810 --> 05:47.810
可以的对吧

05:47.810 --> 05:48.810
这样点一下

05:48.810 --> 05:49.810
拿到了吧

05:49.810 --> 05:50.810
好

05:50.810 --> 05:51.810
这是第一种

05:51.810 --> 05:52.810
就是我们称之为的

05:52.810 --> 05:54.810
就是terror存藏模式

05:54.810 --> 05:55.810
意义一定要在最后

05:55.810 --> 05:56.810
那么同时

05:56.810 --> 05:57.810
我们现在还有一种

05:57.810 --> 05:59.810
就是我们现在的微信的

05:59.810 --> 06:01.810
一种小程序的格式是怎么样的

06:01.810 --> 06:03.810
它可以做一个

06:03.810 --> 06:05.810
叫做自定义的一个属性

06:05.810 --> 06:09.120
它可以做一个自定义属性

06:09.120 --> 06:10.120
data.

06:10.120 --> 06:11.120
你看这种模式它能不能传

06:11.120 --> 06:12.120
data.

06:12.120 --> 06:14.120
我们写一个

06:14.120 --> 06:15.120
pass

06:15.120 --> 06:16.120
我们就写个pass

06:16.120 --> 06:18.120
等于我们把下面的

06:18.120 --> 06:19.120
这个拿上来

06:19.120 --> 06:20.120
itempass

06:20.120 --> 06:21.120
放这

06:21.120 --> 06:24.430
然后当你这样写好以后的话

06:24.430 --> 06:25.430
那么我们去看

06:25.430 --> 06:27.430
这个e里面能不能拿到

06:27.430 --> 06:37.460
这样写

06:37.460 --> 06:39.460
咱们再来做个测试

06:39.460 --> 06:47.280
e里面

06:47.280 --> 06:48.280
咱们进去看

06:48.280 --> 06:52.260
看这

06:52.260 --> 06:54.260
有没有

06:54.260 --> 06:55.260
对吧

06:55.260 --> 06:56.260
我们这样的话

06:56.260 --> 06:58.260
其实你在这个位置上面

06:58.260 --> 07:01.260
或者是在我们的

07:01.260 --> 07:03.760
即住准

07:03.760 --> 07:04.760
就是这

07:04.760 --> 07:06.760
在我们的

07:06.760 --> 07:11.740
在这个里面

07:11.740 --> 07:12.740
在我们的data.set里面

07:12.740 --> 07:13.740
有一个这个值

07:13.740 --> 07:14.740
这个值其实就是

07:14.740 --> 07:16.740
你现在的路径

07:16.740 --> 07:18.740
你在这也能拿到

07:18.740 --> 07:19.740
所以我们讲

07:19.740 --> 07:20.740
这两种方式

07:20.740 --> 07:21.740
你其实都可以

07:21.740 --> 07:22.740
一个是我们原始的

07:22.740 --> 07:23.740
程序的小程序的写法

07:23.740 --> 07:24.740
一个是terror写法

07:24.740 --> 07:26.740
都可以拿到

07:26.740 --> 07:27.740
那我们呢

07:27.740 --> 07:28.740
依然在terror中写

07:28.740 --> 07:30.740
那么就用terror的格式来

07:30.740 --> 07:31.740
但是大家也清楚

07:31.740 --> 07:32.740
这个方式也行

07:32.740 --> 07:33.740
所以我把下面的这个

07:33.740 --> 07:34.740
给删一下

07:34.740 --> 07:40.350
拿到这个路径了

07:40.350 --> 07:41.350
拿到路径以后的话呢

07:41.350 --> 07:42.350
那我现在就可以

07:42.350 --> 07:43.350
非常简单的

07:43.350 --> 07:45.350
我把这个拿进来的

07:45.350 --> 07:50.460
这是一个私有路径

07:50.460 --> 07:51.460
把它直接放在

07:51.460 --> 07:52.460
我们下面来

07:52.460 --> 07:55.860
对吧

07:55.860 --> 07:56.860
我们直接把它

07:56.860 --> 07:57.860
放在这来

07:57.860 --> 07:58.860
就可以了

07:58.860 --> 07:59.860
紧接着

07:59.860 --> 08:00.860
我们继续

08:00.860 --> 08:01.860
我们要播放的

08:01.860 --> 08:03.860
这个路径已经有了

08:03.860 --> 08:05.860
就是说你点下去

08:05.860 --> 08:06.860
这个教授能播放了

08:07.860 --> 08:08.860
再来

08:08.860 --> 08:09.860
那么还有

08:09.860 --> 08:11.860
还没结束

08:11.860 --> 08:12.860
当你现在播放路径有以后

08:12.860 --> 08:14.860
我们一定要做一个success

08:14.860 --> 08:24.180
给用户提示

08:24.180 --> 08:26.180
播放结束了

08:26.180 --> 08:27.180
当播放完成以后

08:27.180 --> 08:28.180
有一个回调

08:28.180 --> 08:44.740
播放结束

08:44.740 --> 08:52.180
success

08:52.180 --> 08:55.770
duration

08:55.770 --> 08:59.140
一秒钟

08:59.140 --> 09:00.140
好

09:00.140 --> 09:01.140
我们现在来看一下

09:01.140 --> 09:02.140
这情况

09:03.140 --> 09:04.140
现在我们基本上

09:04.140 --> 09:05.140
如果说你正常的

09:05.140 --> 09:07.140
我们把这个收成去

09:07.140 --> 09:09.140
我们现在正常的一个

09:09.140 --> 09:10.140
播放的话

09:10.140 --> 09:11.140
应该是你点击以后

09:11.140 --> 09:13.140
它会告诉你开始播放

09:13.140 --> 09:14.140
然后的话

09:14.140 --> 09:16.140
它会进入到这样的一个播放器

09:16.140 --> 09:17.140
把路径拿下来

09:17.140 --> 09:18.140
再播放

09:18.140 --> 09:19.140
播放成功以后的话

09:19.140 --> 09:21.140
这边会给到你一个提示

09:21.140 --> 09:22.140
播放成功

09:22.140 --> 09:23.140
这样的一个进攻

09:23.140 --> 09:24.140
保存

09:24.140 --> 09:25.140
好

09:25.140 --> 09:26.140
我们现在可以来看一下

09:26.140 --> 09:27.140
现在这个效果

09:29.580 --> 09:30.580
首先把里面的缓存文件

09:30.580 --> 09:31.580
全清掉

09:31.580 --> 09:38.320
这边有错吗

09:38.320 --> 09:39.320
有一个错误

09:39.320 --> 09:40.320
它说是

09:40.320 --> 09:53.130
我们看一下吧

09:53.130 --> 09:55.130
它说是哪一个编音失败

09:56.130 --> 09:57.130
这个就不要了

09:58.130 --> 10:00.130
因为我们

10:00.130 --> 10:01.130
读进来指以后

10:01.130 --> 10:03.130
直接把这个指给放过来了

10:03.130 --> 10:04.130
原因是

10:04.130 --> 10:05.130
刚才是我这边

10:05.130 --> 10:07.130
设置了一个叉叉叉

10:07.130 --> 10:10.760
播放的是叉叉叉

10:10.760 --> 10:12.760
打开一下

10:12.760 --> 10:14.760
缓存清了

10:14.760 --> 10:15.760
123321

10:15.760 --> 10:16.760
放开

10:16.760 --> 10:17.760
就有这个了

10:17.760 --> 10:19.760
123321

10:19.760 --> 10:20.760
现在你点击一下

10:20.760 --> 10:21.760
我的耳机里面

10:21.760 --> 10:23.760
就能听到这样的一个

10:23.760 --> 10:25.760
我的耳机里就能听到

10:25.760 --> 10:26.760
123321

10:26.760 --> 10:28.760
我们看到

10:28.760 --> 10:29.760
123321

10:29.760 --> 10:30.760
最后那个播放完毕

10:30.760 --> 10:31.760
没有呈现出来

10:31.760 --> 10:32.760
对吧

10:32.760 --> 10:38.440
我们在Play Voice里面

10:38.440 --> 10:40.440
我们Tower这个里面的话

10:40.440 --> 10:42.440
我们这边没有呈现出

10:42.440 --> 10:43.440
开始播放

10:43.440 --> 10:44.440
我们看到了吧

10:45.440 --> 10:46.440
123321

10:46.440 --> 10:47.440
有一个勾

10:47.440 --> 10:48.440
对吧

10:48.440 --> 10:49.440
但是这个

10:49.440 --> 10:50.440
Title

10:50.440 --> 10:51.440
GITLE

10:51.440 --> 10:52.440
应该是这样

10:53.440 --> 10:54.440
然后它现在

10:54.440 --> 10:55.440
一秒钟的时间

10:55.440 --> 10:56.440
能够让你播放

10:56.440 --> 10:57.440
我们看一下

10:59.440 --> 11:00.440
一秒钟弹出一下

11:03.820 --> 11:04.820
当它播放结束以后的话

11:04.820 --> 11:06.820
应该会出这个对吧

11:06.820 --> 11:07.820
我们来看一下

11:07.820 --> 11:09.820
它现在这个Thost

11:09.820 --> 11:10.820
这个没有出

11:11.820 --> 11:16.620
我们把Play Voice的这个

11:16.620 --> 11:17.620
拿出来写

11:17.620 --> 11:18.620
我们试一下

11:18.620 --> 11:20.620
因为我们

11:20.620 --> 11:21.620
不在这里面干

11:21.620 --> 11:23.620
我们把它作为

11:23.620 --> 11:25.620
Land的方式来写一下

11:25.620 --> 11:26.620
Land

11:26.620 --> 11:32.110
播放完成写上

11:47.990 --> 11:48.990
我们再来看一下

11:48.990 --> 11:55.590
123321

11:55.590 --> 11:57.590
12345567

11:58.590 --> 11:59.590
它还是没有对吧

11:59.590 --> 12:00.590
那么这个的话

12:00.590 --> 12:02.590
可能就是不同的

12:02.590 --> 12:03.590
我们

12:03.590 --> 12:04.590
从与法角度来说

12:04.590 --> 12:05.590
它是没有问题的

12:05.590 --> 12:07.590
只不过不同的端

12:07.590 --> 12:08.590
是否支持

12:08.590 --> 12:09.590
我们在Play Voice的播放

12:09.590 --> 12:10.590
完成以后

12:10.590 --> 12:12.590
再有这样的一个提示功能

12:12.590 --> 12:13.590
这个的话

12:13.590 --> 12:14.590
大家可以到真金模拟上

12:14.590 --> 12:15.590
去测一下

12:15.590 --> 12:16.590
因为有些手机

12:16.590 --> 12:17.590
可能支持

12:17.590 --> 12:18.590
有些手机

12:18.590 --> 12:19.590
不支持它的最后的播放

12:19.590 --> 12:20.590
当然我们可以这么写着

12:20.590 --> 12:21.590
因为这边是OK的

12:21.590 --> 12:22.590
没问题能支持到的

12:22.590 --> 12:23.590
好了

12:23.590 --> 12:24.590
那么我们就把

12:24.590 --> 12:26.590
这个简单的功能

12:26.590 --> 12:27.590
在这边

12:27.590 --> 12:29.590
已经给大家全部演示到了

12:29.590 --> 12:31.590
那么我们回过头来看一下

12:31.590 --> 12:33.590
对于一个录音机功能来讲

12:33.590 --> 12:34.590
或者说是一个

12:34.590 --> 12:35.590
留言

12:35.590 --> 12:37.590
语音记录器来说的话

12:37.590 --> 12:38.590
那么功能基本上

12:38.590 --> 12:39.590
已经全实现了

12:39.590 --> 12:41.590
我可以进行

12:41.590 --> 12:43.590
按住的一个说话

12:43.590 --> 12:44.590
我也可以进行

12:44.590 --> 12:46.590
我现在的一个播放

12:47.590 --> 12:48.590
那么这样的话

12:48.590 --> 12:50.590
你会有非常多的一些

12:50.590 --> 12:52.590
生活中的一些功能

12:52.590 --> 12:54.590
你就可以把它作用上去了

12:55.590 --> 12:56.590
里面的代码的话

12:56.590 --> 12:58.590
我们已经做了非常多的一些

12:58.590 --> 13:01.590
修正和我们现在的一个改进了

13:01.590 --> 13:02.590
所以大家的话

13:02.590 --> 13:04.590
可以更多的去做参考

13:04.590 --> 13:05.590
看一下

13:05.590 --> 13:06.590
究竟这里面还有什么样的东西

13:06.590 --> 13:07.590
你是不会的

13:07.590 --> 13:08.590
以及

13:08.590 --> 13:09.590
你是否能够自己独立的

13:09.590 --> 13:10.590
完成这样一个功能

13:10.590 --> 13:11.590
好吧

13:11.590 --> 13:13.590
那么录音机

13:13.590 --> 13:14.590
也获得称之为

13:14.590 --> 13:16.590
我们的一个语音记录器

13:16.590 --> 13:17.590
它的一个

13:17.590 --> 13:18.590
按力代码

13:18.590 --> 13:19.590
我们就先做完

