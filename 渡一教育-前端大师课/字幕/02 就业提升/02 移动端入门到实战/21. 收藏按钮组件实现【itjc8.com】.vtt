WEBVTT

00:00.110 --> 00:05.110
各位同学 大家好 这节课我们继续案例制作的一个学习

00:05.110 --> 00:10.110
那么通过之前几节课的学习 我们已经完成了用户模块的一个制作

00:10.110 --> 00:16.110
那么接下来呢 我们再回过头来把文章列表里面的这个收藏按钮来实现一下

00:16.110 --> 00:21.110
如何来实现呢 其实啊 它由于我们已经获取到了用户信息

00:21.110 --> 00:27.110
那这时候呢 我们就可以啊 拿到这个用户信息 并且拿到这个文章的指定ID之后

00:27.110 --> 00:32.110
创建云寒树 由云寒树进行一个用户的查询操作

00:32.110 --> 00:41.110
查询到这个指定用户之后 然后呢 为这个用户添加或者是删除当前的这个文章的一个索引值

00:41.110 --> 00:48.110
然后呢 我们前端根据这个文章的一个索引值 是否包含来进行一个动态的

00:48.110 --> 00:53.110
显示这个图标的一个操作 那这个呢 就是整个的一个实现过程

00:53.110 --> 00:59.110
我们可以先看一下完成这个案例 我们在这个里面打开这个已经完成的线上地址

00:59.110 --> 01:04.110
然后呢 我们在这个里面啊 可以点击一下 如果说我们没有登录的情况下

01:04.110 --> 01:08.110
当我现在再次点击的时候 那首先呢 是跳到这个登录界面

01:08.110 --> 01:13.110
那在这个灯就列面里面 我们就可以做一个登录的一个操作

01:14.110 --> 01:20.110
然后呢 这里面输入密码123QWE 点击立即登录之后 获取用户信息失败

01:20.110 --> 01:24.110
sorry啊 这个线上的不是这个lan 958 所以说调整一下

01:24.110 --> 01:28.110
123456123QWE 点击立即登录

01:29.110 --> 01:33.110
当我登录成功之后 首先来说 我们不做任何操作的情况下

01:33.110 --> 01:39.110
第一呢 他是要展示当前我这个用户已经收藏过的这个文章

01:39.110 --> 01:43.110
如果说他收藏过 这个红旗呢 是一个实际上的状态

01:43.110 --> 01:47.110
这个呢 我们通过改变他的这个台湾类型值 就可以来实现

01:47.110 --> 01:51.110
这是第一个 第二个呢 我们点击这个操作 比如说

01:51.110 --> 01:55.110
挨在sr基本介绍的一个文章 当我点击的时候 这时候呢

01:55.110 --> 01:58.110
是会发请求 发请求之后 这里面显示收藏成功

01:58.110 --> 02:02.110
当我再次点击 这里面显示取消收藏

02:02.110 --> 02:05.110
ok 那这个呢 就是他的一个实现效果

02:05.110 --> 02:10.110
我们这个怎么做 其实也是按着这个程序 我们来实现一下

02:10.110 --> 02:14.110
并且呢 这个咱们再来看一眼 当我刷新之后 这种状态是要保存的

02:14.110 --> 02:17.110
所以说呢 假如说你看我这里面点击收藏成功

02:17.110 --> 02:21.110
当我再次刷新的时候 那这个状态呢 就一直保存

02:21.110 --> 02:23.110
这个呢 也需要我们来做一下

02:23.110 --> 02:26.110
来回到我们这个里面 回到我们这个里面

02:26.110 --> 02:30.110
首先第一个是我们点击他 点击他跳转到这个界面

02:30.110 --> 02:34.110
那当然现在这个 如果说我登录之后 那就肯定不需要跳转了

02:34.110 --> 02:37.110
对不对 这个呢 我们先来实现一下

02:37.110 --> 02:41.110
那这个怎么实现呢 我们先进行一个登录的操作

02:41.110 --> 02:44.110
然后呢 把这个状态给他做一个保存

02:44.110 --> 02:47.110
Alan958在这个里面 123QW

02:47.110 --> 02:50.110
点击立即登录 登录成功之后 他有一个跳转

02:50.110 --> 02:54.110
此时呢 我们这个application里面 可以查看一个UtherInfo

02:54.110 --> 02:56.110
那这时候就保存到值了

02:56.110 --> 02:59.110
然后再次点击的时候 他这里面又跳过去了

02:59.110 --> 03:01.110
又跳过去了 显然不对了 对吧

03:01.110 --> 03:03.110
那所以说 我们就先来完成一下这个

03:03.110 --> 03:06.110
这个在哪呢 就是在我们的components下面

03:06.110 --> 03:08.110
这里面有一个sulax

03:08.110 --> 03:12.110
咱们之前在这个里面 写了一个todos 判断拥护师傅登录

03:12.110 --> 03:15.110
那这个呢 我们已经在这个做完了 对不对

03:15.110 --> 03:18.110
然后呢 我们这个其实呢 这里面啊 做完了拥护登录了

03:18.110 --> 03:21.110
那现在我就来判断一下就可以了吧 对不对

03:21.110 --> 03:24.110
那这里面 由于我们这个判断拥护登录

03:24.110 --> 03:27.110
你想啊 咱们再回到这个里面 已经完成的案例里面

03:27.110 --> 03:31.110
我们来看一下 比如说我这里面是有这个

03:31.110 --> 03:34.110
我们是否登录的一个判断

03:34.110 --> 03:36.110
那我再进来啊 比如说我点进去

03:36.110 --> 03:38.110
点进去之后 这里面还会有关注

03:38.110 --> 03:41.110
然后这里面有收藏 还有这个评论

03:41.110 --> 03:44.110
那这些操作呢 其实都是需要用户登录的

03:44.110 --> 03:47.110
所以说咱们检测用户登录的这个状态

03:47.110 --> 03:49.110
我们可以理解为什么呢

03:49.110 --> 03:51.110
它是一种公共的状态

03:51.110 --> 03:54.110
所以说你在一个组件里面 单独的处理完了之后

03:54.110 --> 03:56.110
那你接下来呢 在其他的组件里面

03:56.110 --> 03:59.110
比如说我们的这个点赞的组件 或者评论组件里面

03:59.110 --> 04:01.110
我们还需要判断状态

04:01.110 --> 04:03.110
所以说这个啊 我们可以封装一个什么呢

04:03.110 --> 04:05.110
公共的处理函数

04:05.110 --> 04:07.110
那这个公共处理函数怎么办

04:07.110 --> 04:09.110
我们可以写在米心里面来实现啊

04:09.110 --> 04:11.110
如何来实现呢 其实我在这个里面

04:11.110 --> 04:13.110
就想来做一个什么呢

04:13.110 --> 04:16.110
做一个是否登录的一个调用啊

04:16.110 --> 04:19.110
判断 我们这里面判断是否登录

04:19.110 --> 04:22.110
判断是否登录 我在这里面想做一个什么

04:22.110 --> 04:25.110
wait 然后呢 我直接的在这个里面

04:25.110 --> 04:27.110
this.checked

04:28.110 --> 04:30.110
我这里面就检测一个什么

04:30.110 --> 04:32.110
isLokened

04:32.110 --> 04:34.110
ok 那就这么一个方法啊

04:34.110 --> 04:35.110
这个方法你看的了

04:35.110 --> 04:36.110
它是一个什么

04:36.110 --> 04:37.110
我使用await了

04:37.110 --> 04:39.110
它肯定是一个promise对下面对不对

04:39.110 --> 04:41.110
如果说你这个对下面给我返回

04:41.110 --> 04:42.110
蕊杂状态

04:42.110 --> 04:44.110
那我直接的下面的执行

04:44.110 --> 04:46.110
否则呢 那我就不执行了对不对

04:46.110 --> 04:47.110
其实那想法就这样

04:47.110 --> 04:48.110
那这方法在哪用

04:48.110 --> 04:50.110
咱说了啊 这个方法呢

04:50.110 --> 04:51.110
可能好多地方都会用

04:51.110 --> 04:54.110
所以说呢 我们可以封装一个什么

04:54.110 --> 04:56.110
公共的米心来实现啊

04:56.110 --> 04:58.110
那在这个里面有一个ruler's米心

04:58.110 --> 05:00.110
我在这个里面还可以新建一个什么

05:00.110 --> 05:03.110
新建一个页面叫什么

05:03.110 --> 05:05.110
common米心啊 在这个里面

05:05.110 --> 05:07.110
我新建一个自定文件

05:07.110 --> 05:12.110
叫common米心.js

05:12.110 --> 05:13.110
ok

05:13.110 --> 05:14.110
common米心.js

05:14.110 --> 05:16.110
其实和ruler's米心啊

05:16.110 --> 05:17.110
它们完全一致的

05:17.110 --> 05:19.110
首先都是easepal的default的

05:19.110 --> 05:21.110
install这种形式对吧

05:21.110 --> 05:23.110
然后使用这个wild挂在米心

05:23.110 --> 05:24.110
那咱们就来写一下

05:24.110 --> 05:27.110
easepal的default

05:27.110 --> 05:29.110
然后呢 这里面是导出一个什么

05:29.110 --> 05:31.110
导出一个函数啊

05:31.110 --> 05:33.110
我们直接的 sorry

05:33.110 --> 05:34.110
导出一个对象

05:34.110 --> 05:35.110
导出一个对象

05:35.110 --> 05:36.110
我们这里面有一个方法

05:36.110 --> 05:38.110
叫install方法

05:38.110 --> 05:40.110
然后呢 它是一个

05:40.110 --> 05:42.110
有一个内置的行采

05:42.110 --> 05:43.110
叫wild

05:43.110 --> 05:45.110
然后呢 我就可以调用wild

05:45.110 --> 05:47.110
米心方法

05:47.110 --> 05:49.110
直接的在这个里面使用一下

05:49.110 --> 05:51.110
米心 ok

05:51.110 --> 05:52.110
那在这个里面

05:52.110 --> 05:53.110
我就可以正常写了

05:53.110 --> 05:55.110
比如说这里面是data

05:55.110 --> 05:56.110
对吧

05:56.110 --> 05:58.110
然后呢 还有myser的computed

05:58.110 --> 05:59.110
都可以写啊

05:59.110 --> 06:00.110
我在这里面写一下

06:00.110 --> 06:02.110
vmyser的 ok

06:02.110 --> 06:03.110
这是一个

06:03.110 --> 06:04.110
当然了名字啊

06:04.110 --> 06:05.110
咱们先也别指定了

06:05.110 --> 06:06.110
咱也没有那些对吧

06:06.110 --> 06:08.110
然后呢 把它来给定了一下

06:08.110 --> 06:09.110
如果说你写data的话

06:09.110 --> 06:11.110
那你一定要写一个return

06:11.110 --> 06:12.110
好了 否则的话

06:12.110 --> 06:14.110
它会给你提示的

06:14.110 --> 06:15.110
你定义完这个之后

06:15.110 --> 06:16.110
那咋办呢

06:16.110 --> 06:17.110
这是第一步呢

06:17.110 --> 06:18.110
定义一个什么

06:18.110 --> 06:19.110
公公的米心文件

06:19.110 --> 06:20.110
那你定义完公公的

06:20.110 --> 06:21.110
米心文件之后

06:21.110 --> 06:22.110
你再回到慢点

06:22.110 --> 06:24.110
所以你要进行一个注册

06:24.110 --> 06:25.110
那在这个里面

06:25.110 --> 06:26.110
我们同样的

06:26.110 --> 06:27.110
要引入一下

06:27.110 --> 06:30.110
input common米心

06:30.110 --> 06:31.110
common米心

06:31.110 --> 06:32.110
forrom

06:32.110 --> 06:33.110
从哪来

06:33.110 --> 06:34.110
从点儿杠

06:34.110 --> 06:35.110
common

06:35.110 --> 06:37.110
文件家下面的

06:37.110 --> 06:38.110
common米心

06:38.110 --> 06:39.110
ok

06:39.110 --> 06:40.110
从这里来了之后

06:40.110 --> 06:41.110
那你进行一个什么

06:41.110 --> 06:42.110
挂载

06:42.110 --> 06:44.110
那我直接的各账

06:44.110 --> 06:45.110
will.youtube

06:45.110 --> 06:46.110
youtube米心

06:46.110 --> 06:47.110
还有一个是什么

06:47.110 --> 06:49.110
will.youtube

06:49.110 --> 06:50.110
common米心

06:50.110 --> 06:51.110
ok

06:51.110 --> 06:52.110
如果说你现在

06:52.110 --> 06:53.110
已经挂载成功之后

06:53.110 --> 06:54.110
那这时候呢

06:54.110 --> 06:55.110
每一个组件里面

06:55.110 --> 06:56.110
就会有这么一个方法了

06:56.110 --> 06:58.110
我们可以写一个

06:58.110 --> 06:59.110
写一个什么方法呢

06:59.110 --> 07:00.110
刚才咱们这个里面

07:00.110 --> 07:01.110
sivlex

07:01.110 --> 07:02.110
不是调用了一个什么

07:02.110 --> 07:04.110
trick的一字logan嘛

07:04.110 --> 07:05.110
对不对

07:05.110 --> 07:06.110
那我直接的在这个

07:06.110 --> 07:07.110
common米心里面

07:07.110 --> 07:08.110
就写一个

07:08.110 --> 07:10.110
trick的一字logan

07:10.110 --> 07:11.110
ok

07:11.110 --> 07:12.110
然后这个呢

07:12.110 --> 07:14.110
应该是返回一个什么

07:14.110 --> 07:16.110
返回一个promise对象

07:16.110 --> 07:17.110
对吧

07:17.110 --> 07:18.110
那我直接啊

07:18.110 --> 07:19.110
先打印一个什么

07:19.110 --> 07:20.110
打印一个123

07:20.110 --> 07:21.110
那我在这个里面

07:21.110 --> 07:22.110
先保证它调用成功

07:22.110 --> 07:24.110
咱先别耳味腾了

07:24.110 --> 07:25.110
在这里面

07:25.110 --> 07:26.110
console.log

07:26.110 --> 07:27.110
trick的

07:27.110 --> 07:29.110
直接的

07:29.110 --> 07:31.110
trick的一字logan

07:31.110 --> 07:32.110
在这个里面

07:32.110 --> 07:34.110
trick的一字

07:34.110 --> 07:36.110
没有提示的吧

07:36.110 --> 07:37.110
那我们自己写啊

07:37.110 --> 07:38.110
trick的一字logan

07:38.110 --> 07:39.110
然后把底下

07:39.110 --> 07:40.110
给做一个return操作

07:40.110 --> 07:42.110
那这样咱们先看一下

07:42.110 --> 07:43.110
是否能执行了

07:43.110 --> 07:44.110
回到我们的

07:44.110 --> 07:45.110
这个代码里面

07:45.110 --> 07:46.110
我们到我们自己的

07:46.110 --> 07:48.110
刷新一下界面

07:48.110 --> 07:49.110
刷新之后

07:49.110 --> 07:50.110
在这里面点击一下

07:50.110 --> 07:51.110
点击一下

07:51.110 --> 07:52.110
trick的一字logan

07:52.110 --> 07:53.110
一字脑底饭的

07:53.110 --> 07:54.110
这是音乐场

07:54.110 --> 07:55.110
这个里面调用

07:55.110 --> 07:56.110
应该使用这次点

07:56.110 --> 07:57.110
trick的一字logan

07:57.110 --> 07:58.110
对吧

07:58.110 --> 07:59.110
再来试一下

07:59.110 --> 08:00.110
我们这里面

08:00.110 --> 08:01.110
ok 点击

08:01.110 --> 08:02.110
123出来了

08:02.110 --> 08:03.110
对吧

08:03.110 --> 08:04.110
123出来了

08:04.110 --> 08:05.110
就说明这方法好用了

08:05.110 --> 08:06.110
对吧

08:06.110 --> 08:07.110
那好用了咱就

08:07.110 --> 08:08.110
把它给干掉了

08:08.110 --> 08:09.110
干掉之后呢

08:09.110 --> 08:10.110
我们还是await

08:10.110 --> 08:11.110
然后直接的

08:11.110 --> 08:12.110
这个跳转呢

08:12.110 --> 08:14.110
就不在这做了

08:14.110 --> 08:15.110
跳转在哪做呢

08:15.110 --> 08:16.110
我们直接回到

08:16.110 --> 08:17.110
common.me心里面

08:17.110 --> 08:18.110
我们这里面

08:18.110 --> 08:19.110
要有一个什么判断呢

08:19.110 --> 08:21.110
我们要在这个里面

08:21.110 --> 08:22.110
来做判断

08:22.110 --> 08:23.110
但是在这个里面

08:23.110 --> 08:24.110
来做判断

08:24.110 --> 08:25.110
现在就是想一下

08:25.110 --> 08:27.110
我们首先第一步

08:27.110 --> 08:29.110
得获取用户的

08:29.110 --> 08:30.110
一个信息

08:30.110 --> 08:31.110
用户信息在哪存着呢

08:31.110 --> 08:33.110
在我们死到里面存着呢

08:33.110 --> 08:34.110
对不对

08:34.110 --> 08:35.110
那在死到里面存着

08:35.110 --> 08:36.110
我们是不是得给拿过来

08:36.110 --> 08:37.110
对吧

08:37.110 --> 08:38.110
那你怎么拿过来

08:38.110 --> 08:39.110
其实你在这个里面

08:39.110 --> 08:40.110
你想就是

08:40.110 --> 08:41.110
这个用户信息的问题

08:41.110 --> 08:42.110
我们也要考虑

08:42.110 --> 08:43.110
一个事情

08:43.110 --> 08:44.110
就是什么

08:44.110 --> 08:45.110
我们这个用户信息

08:45.110 --> 08:46.110
可能现在

08:46.110 --> 08:47.110
这个列表

08:47.110 --> 08:48.110
文章的这个收藏

08:48.110 --> 08:49.110
这个界面利用

08:49.110 --> 08:50.110
然后呢

08:50.110 --> 08:51.110
我在这个关注里面

08:51.110 --> 08:52.110
可能还会使用到

08:52.110 --> 08:53.110
对吧

08:53.110 --> 08:54.110
比如说我到这个里面

08:54.110 --> 08:55.110
假如说我要是

08:55.110 --> 08:56.110
登录的话

08:56.110 --> 08:57.110
那这个关注里面

08:57.110 --> 08:58.110
也得会使用

08:58.110 --> 08:59.110
然后呢

08:59.110 --> 09:00.110
我在这个

09:00.110 --> 09:01.110
我的这个界面里面

09:01.110 --> 09:02.110
也会使用到这个用户信息

09:02.110 --> 09:03.110
所以说

09:03.110 --> 09:04.110
这个用户信息

09:04.110 --> 09:05.110
可能是好多界面

09:05.110 --> 09:06.110
都会使用到

09:06.110 --> 09:07.110
那怎么来办呢

09:07.110 --> 09:08.110
其实我没有必要

09:08.110 --> 09:09.110
就是说在单独的

09:09.110 --> 09:10.110
某一个组件里面

09:10.110 --> 09:11.110
获取这个用户信息

09:11.110 --> 09:13.110
那既然我们写了

09:13.110 --> 09:14.110
这个common.me

09:14.110 --> 09:15.110
我们直接可以

09:15.110 --> 09:16.110
在这里面

09:16.110 --> 09:17.110
把这个youtube.info

09:17.110 --> 09:18.110
统一的

09:18.110 --> 09:19.110
给抽取出来

09:19.110 --> 09:20.110
就ok了

09:20.110 --> 09:21.110
那我们就来

09:21.110 --> 09:22.110
实现一下

09:22.110 --> 09:24.110
首先引入一个方法

09:24.110 --> 09:25.110
input

09:25.110 --> 09:27.110
在这个里面写一下

09:27.110 --> 09:28.110
input

09:28.110 --> 09:29.110
input一个

09:29.110 --> 09:30.110
什么方法呢

09:30.110 --> 09:31.110
是给我们定义好的

09:31.110 --> 09:33.110
map.state

09:33.110 --> 09:34.110
方法

09:34.110 --> 09:35.110
然后呢

09:35.110 --> 09:36.110
from

09:36.110 --> 09:37.110
从这个vvch

09:37.110 --> 09:38.110
里面

09:38.110 --> 09:39.110
来获取它一下

09:39.110 --> 09:40.110
sorry

09:40.110 --> 09:42.110
把这个给放到外面

09:42.110 --> 09:43.110
这个写到里面了

09:43.110 --> 09:44.110
我们把它给调整一下

09:44.110 --> 09:45.110
input

09:45.110 --> 09:46.110
map.state

09:46.110 --> 09:47.110
ok

09:47.110 --> 09:48.110
拿到这个方法之后

09:48.110 --> 09:49.110
那我们直接的

09:49.110 --> 09:50.110
就来可以使用了

09:50.110 --> 09:51.110
对不对

09:51.110 --> 09:52.110
那我们直接的在这个

09:52.110 --> 09:53.110
买色的下面

09:53.110 --> 09:54.110
定一个什么

09:54.110 --> 09:55.110
computed

09:55.110 --> 09:56.110
计算属性

09:56.110 --> 09:57.110
computed

09:57.110 --> 09:58.110
里面写什么呢

09:58.110 --> 09:59.110
就是通过点点点

09:59.110 --> 10:01.110
我们的这个map.state

10:01.110 --> 10:02.110
方法

10:02.110 --> 10:03.110
然后这个map.state

10:03.110 --> 10:04.110
方法里面

10:04.110 --> 10:05.110
我们获取一个什么

10:05.110 --> 10:07.110
youtube.info

10:07.110 --> 10:08.110
那这样啊

10:08.110 --> 10:09.110
就能保证我们

10:09.110 --> 10:10.110
每个组件里面

10:10.110 --> 10:11.110
都可以进行

10:11.110 --> 10:12.110
youtube.info的

10:12.110 --> 10:13.110
一个使用啊

10:13.110 --> 10:14.110
来我们看一下

10:14.110 --> 10:15.110
是否可行啊

10:15.110 --> 10:16.110
我们回到

10:16.110 --> 10:17.110
我们的这个界面里面

10:17.110 --> 10:18.110
然后呢

10:18.110 --> 10:19.110
找到任一个组件

10:19.110 --> 10:20.110
怎么办呢

10:20.110 --> 10:21.110
我们直接的

10:21.110 --> 10:23.110
选中当前的这个

10:23.110 --> 10:24.110
lecs

10:24.110 --> 10:25.110
然后我们看这个

10:25.110 --> 10:26.110
lease的

10:26.110 --> 10:27.110
卡在这里面

10:27.110 --> 10:28.110
这个cyllex

10:28.110 --> 10:29.110
cyllex

10:29.110 --> 10:30.110
这里面是不是也有

10:30.110 --> 10:31.110
一个youtube.info

10:31.110 --> 10:32.110
那也就说明

10:32.110 --> 10:33.110
我们现在

10:33.110 --> 10:34.110
就可以获取到它了

10:34.110 --> 10:35.110
这个是没有

10:35.110 --> 10:36.110
任何问题的

10:36.110 --> 10:37.110
这样就能保证

10:37.110 --> 10:38.110
我们每个组件

10:38.110 --> 10:39.110
随时随地

10:39.110 --> 10:40.110
都可以用这个

10:40.110 --> 10:41.110
youtube.info了

10:41.110 --> 10:42.110
当然现在来做

10:42.110 --> 10:43.110
可以啊

10:43.110 --> 10:44.110
那我直接的说

10:44.110 --> 10:45.110
返回一个promise

10:45.110 --> 10:46.110
那我直接在这里面

10:46.110 --> 10:47.110
就写一下

10:47.110 --> 10:48.110
promise

10:48.110 --> 10:49.110
promise呢

10:49.110 --> 10:50.110
我们只给它一个状态

10:50.110 --> 10:51.110
如果失败

10:51.110 --> 10:52.110
它就什么都不返回了

10:52.110 --> 10:53.110
return

10:53.110 --> 10:54.110
promise

10:54.110 --> 10:55.110
这里面判断一下

10:55.110 --> 10:56.110
如果说

10:56.110 --> 10:57.110
这一次点

10:57.110 --> 10:59.110
youtube.info有值的话

10:59.110 --> 11:00.110
那现在是什么

11:00.110 --> 11:02.110
就给它返回一个

11:02.110 --> 11:03.110
return状态

11:03.110 --> 11:04.110
是不是就可以啊

11:04.110 --> 11:05.110
如果说

11:05.110 --> 11:06.110
那你要没有值呢

11:06.110 --> 11:07.110
那我直接的

11:07.110 --> 11:08.110
是不是就走elz了

11:08.110 --> 11:09.110
elz我要做一个

11:09.110 --> 11:10.110
什么事

11:10.110 --> 11:11.110
也不用给它返回值

11:11.110 --> 11:13.110
直接you need to

11:13.110 --> 11:14.110
直接把这个

11:14.110 --> 11:15.110
复制到这里面

11:15.110 --> 11:16.110
是不是就ok了

11:16.110 --> 11:17.110
也就是说

11:17.110 --> 11:18.110
这个是什么意思

11:18.110 --> 11:19.110
你可以想一下

11:19.110 --> 11:20.110
当它成为一个

11:20.110 --> 11:21.110
promise对象之后

11:21.110 --> 11:22.110
那这个里面呢

11:22.110 --> 11:23.110
我判断一下

11:23.110 --> 11:24.110
当前的这个youtube.info

11:24.110 --> 11:25.110
有没有值

11:25.110 --> 11:26.110
如果有值

11:26.110 --> 11:27.110
那直接的往下走

11:27.110 --> 11:28.110
当然了这个值

11:28.110 --> 11:29.110
我也不想让它

11:29.110 --> 11:30.110
返回任何内容

11:30.110 --> 11:31.110
如果说

11:31.110 --> 11:32.110
你能往下走

11:32.110 --> 11:33.110
可以看一下

11:33.110 --> 11:34.110
我们save lax

11:34.110 --> 11:35.110
下面是不是

11:35.110 --> 11:36.110
在这个里面

11:36.110 --> 11:37.110
我们就能已经

11:37.110 --> 11:40.110
就能获取到一个状态是什么呢

11:40.110 --> 11:41.110
这里面就可以获取到

11:41.110 --> 11:43.110
已经登录了

11:43.110 --> 11:45.110
已经登录

11:45.110 --> 11:46.110
ok

11:46.110 --> 11:47.110
那这个里面

11:47.110 --> 11:48.110
如果说我获取到已经登录

11:48.110 --> 11:49.110
其实呢

11:49.110 --> 11:50.110
就是走了reza状态

11:50.110 --> 11:51.110
它有登录状态

11:51.110 --> 11:53.110
那我下面的代码就能执行

11:53.110 --> 11:54.110
假如说

11:54.110 --> 11:55.110
你要没有登录的话

11:55.110 --> 11:56.110
没有登录的话

11:56.110 --> 11:57.110
那咱们你直接挑转

11:57.110 --> 11:58.110
并且你挑转的时候

11:58.110 --> 11:59.110
其实你没有reza

11:59.110 --> 12:00.110
那这个

12:00.110 --> 12:01.110
它是没有返回值

12:01.110 --> 12:02.110
没有返回值

12:02.110 --> 12:03.110
底下代码

12:03.110 --> 12:04.110
就永远不会执行的

12:04.110 --> 12:05.110
对不对

12:05.110 --> 12:06.110
那就是这种情况

12:06.110 --> 12:07.110
我们可以看一下

12:07.110 --> 12:08.110
当前呢

12:08.110 --> 12:09.110
我们现在是已经

12:09.110 --> 12:11.110
这个登录状态了

12:11.110 --> 12:12.110
然后呢

12:12.110 --> 12:13.110
我们点击一下

12:13.110 --> 12:14.110
看是否可行

12:14.110 --> 12:15.110
ok

12:15.110 --> 12:16.110
这个时候是已经登录

12:16.110 --> 12:17.110
但如果说

12:17.110 --> 12:18.110
要是没有登录呢

12:18.110 --> 12:19.110
比如说

12:19.110 --> 12:20.110
我们把这个application

12:20.110 --> 12:21.110
里面的这个

12:21.110 --> 12:22.110
UtherInfo

12:22.110 --> 12:23.110
给它干掉

12:23.110 --> 12:24.110
把这个死到里面的

12:24.110 --> 12:25.110
然后呢

12:25.110 --> 12:26.110
我们再来刷新一下

12:26.110 --> 12:27.110
刷新一下之后

12:27.110 --> 12:28.110
我们点击

12:28.110 --> 12:29.110
你会发现

12:29.110 --> 12:30.110
它挑转了

12:30.110 --> 12:31.110
挑转之后

12:31.110 --> 12:32.110
其实它下面代码

12:32.110 --> 12:33.110
就不会执行了

12:33.110 --> 12:34.110
这个

12:34.110 --> 12:35.110
我们也不用担心

12:35.110 --> 12:36.110
对不对

12:36.110 --> 12:37.110
我点击登录

12:37.110 --> 12:38.110
这个见面里面

12:38.110 --> 12:39.110
回到我们见面里面

12:39.110 --> 12:40.110
其实现在我们已经

12:40.110 --> 12:41.110
做了一个什么

12:41.110 --> 12:42.110
没有登录的验证了

12:42.110 --> 12:43.110
那这个里面呢

12:43.110 --> 12:45.110
我们直接的

12:45.110 --> 12:46.110
就可以来做

12:46.110 --> 12:48.110
继续下面的操作了

12:48.110 --> 12:49.110
下面什么操作

12:49.110 --> 12:50.110
是不是现在

12:50.110 --> 12:51.110
我要准备

12:51.110 --> 12:52.110
数据的一个收集了

12:52.110 --> 12:53.110
对吧

12:53.110 --> 12:54.110
其实呢

12:54.110 --> 12:55.110
我们现在能获取到

12:55.110 --> 12:56.110
一个数据是谁呢

12:56.110 --> 12:57.110
这一次点

12:57.110 --> 13:00.110
UtherInfo

13:00.110 --> 13:01.110
这一次点

13:01.110 --> 13:02.110
UtherInfo

13:02.110 --> 13:03.110
点

13:03.110 --> 13:04.110
下方线id

13:04.110 --> 13:05.110
是不是可以获取到它

13:05.110 --> 13:06.110
然后呢

13:06.110 --> 13:07.110
我们还得获取到

13:07.110 --> 13:08.110
一个内容市场呢

13:08.110 --> 13:09.110
这个里面

13:09.110 --> 13:10.110
我们其实

13:10.110 --> 13:11.110
要把这个文章的

13:11.110 --> 13:12.110
id给获取一下

13:12.110 --> 13:14.110
否则你不获取文章id

13:14.110 --> 13:15.110
你不知道

13:15.110 --> 13:16.110
让用存储哪一篇文章

13:16.110 --> 13:17.110
对不对

13:17.110 --> 13:18.110
也就是说

13:18.110 --> 13:19.110
收藏哪一篇文章

13:19.110 --> 13:20.110
所以说这里面

13:20.110 --> 13:21.110
我们要获取一下

13:21.110 --> 13:22.110
获取一下

13:22.110 --> 13:23.110
怎么来实现呢

13:23.110 --> 13:24.110
在这个里面

13:24.110 --> 13:25.110
我们是显然没有的

13:25.110 --> 13:26.110
但是呢

13:26.110 --> 13:27.110
我们这个

13:27.110 --> 13:28.110
Civilex

13:28.110 --> 13:29.110
是在哪个里面

13:29.110 --> 13:30.110
使用了

13:30.110 --> 13:31.110
是在我们的

13:31.110 --> 13:32.110
ListCard里面

13:32.110 --> 13:34.110
找一下这个ListCard

13:34.110 --> 13:35.110
ListCard里面

13:35.110 --> 13:37.110
每一个Civilex

13:37.110 --> 13:38.110
是在这个

13:38.110 --> 13:39.110
三种情况都有使用啊

13:39.110 --> 13:40.110
那我们在这个里面

13:40.110 --> 13:41.110
其实呢

13:41.110 --> 13:43.110
我们可以获取到item

13:43.110 --> 13:44.110
那我们直接

13:44.110 --> 13:45.110
把这个item.id

13:45.110 --> 13:46.110
给它传过去

13:46.110 --> 13:47.110
是不是就可以啊

13:47.110 --> 13:48.110
对吧

13:48.110 --> 13:49.110
那我们就来

13:49.110 --> 13:50.110
实现一下

13:50.110 --> 13:51.110
三个都要来做一下

13:51.110 --> 13:52.110
那我就选中三个

13:52.110 --> 13:54.110
选中三个之后

13:54.110 --> 13:55.110
那我这里面

13:55.110 --> 13:56.110
就传一个什么呢

13:56.110 --> 13:59.110
给它一个article.id

13:59.110 --> 14:00.110
OK

14:00.110 --> 14:01.110
给一个article.id

14:01.110 --> 14:02.110
让它等于一个值

14:02.110 --> 14:05.110
item.下滑线id

14:05.110 --> 14:06.110
好这样呢

14:06.110 --> 14:07.110
我们就把这个

14:07.110 --> 14:08.110
article.id

14:08.110 --> 14:09.110
给它传过去了

14:09.110 --> 14:10.110
对吧

14:10.110 --> 14:11.110
那拿到这个article.id之后

14:11.110 --> 14:12.110
我们直接

14:12.110 --> 14:13.110
是不是就可以使用了

14:13.110 --> 14:14.110
哎

14:14.110 --> 14:15.110
这个上面没复制上啊

14:15.110 --> 14:16.110
我们再来一个

14:16.110 --> 14:17.110
把这个

14:17.110 --> 14:18.110
每一种情况的单

14:18.110 --> 14:19.110
都得判断到

14:19.110 --> 14:20.110
它因为有

14:20.110 --> 14:21.110
三种意识形态的图片

14:21.110 --> 14:22.110
对吧

14:22.110 --> 14:23.110
那我们再找到

14:23.110 --> 14:25.110
这个大图的Civilex

14:25.110 --> 14:26.110
OK

14:26.110 --> 14:27.110
把它也复制一下

14:27.110 --> 14:28.110
好的

14:28.110 --> 14:29.110
那这个article.id

14:29.110 --> 14:30.110
就传给

14:30.110 --> 14:32.110
每一个收藏的组件里面

14:32.110 --> 14:33.110
我们就把它

14:33.110 --> 14:34.110
给获取一下

14:34.110 --> 14:35.110
这里面

14:35.110 --> 14:37.110
我们使用这种

14:37.110 --> 14:38.110
probs的形式

14:38.110 --> 14:39.110
来接一下值

14:39.110 --> 14:41.110
放在name的下面

14:41.110 --> 14:42.110
这里面

14:42.110 --> 14:43.110
probs

14:43.110 --> 14:44.110
OK

14:44.110 --> 14:46.110
这是article.id

14:46.110 --> 14:47.110
article.id

14:47.110 --> 14:48.110
肯定是个Stream

14:48.110 --> 14:49.110
对吧

14:49.110 --> 14:50.110
那我直接呢

14:50.110 --> 14:51.110
就在这个里面

14:51.110 --> 14:52.110
定一下

14:52.110 --> 14:53.110
这时候呢

14:53.110 --> 14:54.110
我就能打印到

14:54.110 --> 14:55.110
这个里面的值

14:55.110 --> 14:56.110
咱们可以看一下

14:56.110 --> 14:58.110
这一次点article.id

14:58.110 --> 14:59.110
OK

14:59.110 --> 15:00.110
我存的时候

15:00.110 --> 15:01.110
咱们看一眼

15:01.110 --> 15:02.110
它是否有

15:02.110 --> 15:03.110
我们到这个里面

15:03.110 --> 15:04.110
来试一下

15:04.110 --> 15:05.110
诶

15:05.110 --> 15:06.110
有抱错

15:06.110 --> 15:07.110
那回来我们看一下

15:07.110 --> 15:08.110
probs

15:08.110 --> 15:09.110
少个都好

15:09.110 --> 15:10.110
再来试一下

15:11.110 --> 15:12.110
我们一点击

15:12.110 --> 15:13.110
用户的id

15:13.110 --> 15:14.110
文章的id

15:14.110 --> 15:15.110
这里面是不是都有了

15:15.110 --> 15:16.110
有了之后

15:16.110 --> 15:17.110
那我现在就可以

15:17.110 --> 15:18.110
做一个

15:18.110 --> 15:19.110
像后端传递的

15:19.110 --> 15:20.110
这样一个过程了

15:20.110 --> 15:21.110
那我们就来

15:21.110 --> 15:22.110
实现一下

15:22.110 --> 15:24.110
像后端传递的过程

15:24.110 --> 15:25.110
是咋来做呢

15:25.110 --> 15:26.110
我在这个里面

15:26.110 --> 15:27.110
就得要用一个什么

15:27.110 --> 15:28.110
方法了对不对

15:28.110 --> 15:29.110
那这个方法

15:29.110 --> 15:30.110
怎么来写

15:30.110 --> 15:31.110
我在这个里面

15:31.110 --> 15:32.110
就来实现一下

15:32.110 --> 15:33.110
Const

15:33.110 --> 15:34.110
res

15:34.110 --> 15:35.110
等于一个

15:35.110 --> 15:36.110
wait

15:36.110 --> 15:37.110
这一次点

15:37.110 --> 15:38.110
dollar

15:38.110 --> 15:39.110
http

15:39.110 --> 15:40.110
然后呢

15:40.110 --> 15:41.110
我们使用一个方法

15:41.110 --> 15:42.110
当然这方法

15:42.110 --> 15:43.110
还没定义

15:43.110 --> 15:44.110
那我一会儿

15:44.110 --> 15:45.110
来定一下

15:45.110 --> 15:46.110
updata

15:46.110 --> 15:47.110
say我like

15:48.110 --> 15:49.110
也就是说

15:49.110 --> 15:50.110
保存一个收藏

15:50.110 --> 15:51.110
那这里面

15:51.110 --> 15:52.110
我得传递值

15:52.110 --> 15:53.110
对不对

15:53.110 --> 15:54.110
那传递两个值

15:54.110 --> 15:56.110
首先是一个article.id

15:56.110 --> 15:57.110
那我直接

15:57.110 --> 15:58.110
article.id

15:58.110 --> 15:59.110
ok

15:59.110 --> 16:00.110
嗯

16:00.110 --> 16:01.110
ok 这个article.id

16:01.110 --> 16:02.110
有了之后

16:02.110 --> 16:03.110
那我再来一个

16:03.110 --> 16:04.110
比如说这个叫什么呢

16:04.110 --> 16:06.110
叫youter.id

16:06.110 --> 16:07.110
youter.id呢

16:07.110 --> 16:08.110
等于这一次点

16:08.110 --> 16:12.110
youter.info.side.id

16:12.110 --> 16:14.110
两个是不是都给的传过去了

16:14.110 --> 16:15.110
传过去之后

16:15.110 --> 16:16.110
我们原来说

16:16.110 --> 16:17.110
接收到它之后

16:17.110 --> 16:18.110
然后就来做事

16:18.110 --> 16:19.110
就可以了对吧

16:19.110 --> 16:20.110
那这两个咋办呢

16:20.110 --> 16:21.110
因为这个方法

16:21.110 --> 16:22.110
现在没有啊

16:22.110 --> 16:23.110
我们来写一下

16:23.110 --> 16:24.110
回到我们阿甲克斯

16:24.110 --> 16:26.110
到这个API interface

16:26.110 --> 16:28.110
由于它属于文章那一块的

16:28.110 --> 16:29.110
或者是用户啊

16:29.110 --> 16:30.110
你都可以

16:30.110 --> 16:31.110
那怎么办呢

16:31.110 --> 16:32.110
我们就给它放到文章那一块的

16:32.110 --> 16:33.110
因为它呢

16:33.110 --> 16:35.110
感觉这个跟文章有点关联

16:35.110 --> 16:36.110
是不是

16:36.110 --> 16:37.110
那我们放到文章那一块

16:37.110 --> 16:40.110
收藏或取消文章啊

16:40.110 --> 16:41.110
好的 在这里面

16:41.110 --> 16:42.110
就写一下

16:42.110 --> 16:44.110
export.const

16:44.110 --> 16:45.110
把我们刚才的一个方法

16:45.110 --> 16:47.110
等于data

16:47.110 --> 16:48.110
然后呢

16:48.110 --> 16:49.110
是阿甲克斯

16:49.110 --> 16:51.110
里面是name

16:51.110 --> 16:52.110
name呢就跟我们这个

16:52.110 --> 16:53.110
同名就可以了

16:53.110 --> 16:54.110
之后呢

16:54.110 --> 16:55.110
把这个data

16:55.110 --> 16:56.110
进入去

16:56.110 --> 16:57.110
OK

16:57.110 --> 16:58.110
这个就搞定了

16:58.110 --> 16:59.110
那这个update

16:59.110 --> 17:00.110
sealax

17:00.110 --> 17:01.110
我们接下来就开始

17:01.110 --> 17:03.110
做一个云寒书的创建

17:03.110 --> 17:04.110
就可以了

17:04.110 --> 17:05.110
在这个里面

17:05.110 --> 17:07.110
我们新建一个云寒书

17:07.110 --> 17:08.110
名字呢

17:08.110 --> 17:09.110
就是我们刚才复制这个

17:09.110 --> 17:10.110
update

17:10.110 --> 17:11.110
sealax

17:11.110 --> 17:12.110
创建

17:12.110 --> 17:13.110
那我们在这个云寒书里面

17:13.110 --> 17:14.110
干什么

17:14.110 --> 17:15.110
首先我们要操作什么

17:15.110 --> 17:16.110
用户的一个

17:16.110 --> 17:17.110
这个表

17:17.110 --> 17:18.110
对吧

17:18.110 --> 17:19.110
所以说我们第一步

17:19.110 --> 17:20.110
获取一个什么呢

17:20.110 --> 17:22.110
我们数据库的一个引用啊

17:22.110 --> 17:23.110
这里面写一下

17:24.110 --> 17:26.110
获取数据库

17:26.110 --> 17:27.110
引用

17:27.110 --> 17:28.110
OK

17:28.110 --> 17:29.110
那这里面就写一下

17:29.110 --> 17:30.110
Cons的db

17:30.110 --> 17:32.110
等于我们的这个

17:32.110 --> 17:34.110
uniclode.database

17:34.110 --> 17:35.110
OK

17:35.110 --> 17:36.110
这是第一步

17:36.110 --> 17:37.110
然后呢

17:37.110 --> 17:38.110
我们这个获取之后

17:38.110 --> 17:39.110
那这里面还会有修改

17:39.110 --> 17:40.110
对不对

17:40.110 --> 17:41.110
那我们再定一个什么

17:41.110 --> 17:42.110
修改指令啊

17:42.110 --> 17:44.110
修改指令

17:44.110 --> 17:45.110
具体的文档

17:45.110 --> 17:46.110
我已经给同学们

17:46.110 --> 17:47.110
写在这个里面了

17:47.110 --> 17:48.110
同学们不要担心

17:48.110 --> 17:49.110
这里面呢

17:49.110 --> 17:50.110
会有这个

17:50.110 --> 17:52.110
相关的这个API文档

17:52.110 --> 17:53.110
这个里面

17:53.110 --> 17:54.110
每一个啊

17:54.110 --> 17:55.110
同学们可以一次的

17:55.110 --> 17:56.110
来进行查看

17:56.110 --> 17:57.110
然后在这个文档里面啊

17:57.110 --> 17:58.110
看一下

17:58.110 --> 17:59.110
他的这个

17:59.110 --> 18:00.110
相关的这个内容啊

18:00.110 --> 18:02.110
那回到我们的这个

18:02.110 --> 18:03.110
代码里面

18:03.110 --> 18:04.110
我们来写一下

18:04.110 --> 18:05.110
怎么来写呢

18:05.110 --> 18:06.110
到这个里面

18:06.110 --> 18:08.110
Cons的db

18:08.110 --> 18:09.110
获取定义修改指令

18:09.110 --> 18:10.110
其实修改指令啊

18:10.110 --> 18:11.110
就是通过

18:11.110 --> 18:12.110
我们这里面

18:12.110 --> 18:13.110
可以定一下

18:13.110 --> 18:14.110
Cons的

18:14.110 --> 18:15.110
我们这里面写一个

18:15.110 --> 18:16.110
dbcmd

18:16.110 --> 18:17.110
然后呢

18:17.110 --> 18:20.110
等于db.command

18:21.110 --> 18:22.110
db.command

18:22.110 --> 18:23.110
ok

18:23.110 --> 18:24.110
这个呢

18:24.110 --> 18:25.110
就是获取了一个

18:25.110 --> 18:26.110
修改指令

18:26.110 --> 18:27.110
然后获取修改指令之后

18:27.110 --> 18:28.110
我在这个里面

18:28.110 --> 18:29.110
就可以做事了

18:29.110 --> 18:30.110
首先第一步

18:30.110 --> 18:31.110
我们要获取什么

18:31.110 --> 18:32.110
前端传过来的

18:32.110 --> 18:33.110
这个信息指

18:33.110 --> 18:34.110
那也就是说

18:34.110 --> 18:35.110
这个UZRID

18:35.110 --> 18:37.110
和这个ArticleID

18:37.110 --> 18:38.110
我这两个

18:38.110 --> 18:40.110
都得要获取到

18:40.110 --> 18:41.110
ArticleID

18:41.110 --> 18:42.110
等于

18:42.110 --> 18:43.110
从我们这个

18:43.110 --> 18:45.110
event里面获取到

18:45.110 --> 18:46.110
ok

18:46.110 --> 18:47.110
从event里面

18:47.110 --> 18:48.110
获取到之后

18:48.110 --> 18:49.110
那我现在呢

18:49.110 --> 18:50.110
我要给用户啊

18:50.110 --> 18:51.110
来添加

18:51.110 --> 18:52.110
怎么来添加呢

18:52.110 --> 18:54.110
我们可以来查看一下

18:54.110 --> 18:55.110
在这个里面

18:55.110 --> 18:56.110
打开我们Uniclode

18:56.110 --> 18:57.110
web控制台

18:57.110 --> 18:58.110
稍等啊

18:58.110 --> 18:59.110
我们这个里面

18:59.110 --> 19:00.110
好像有一个错

19:00.110 --> 19:01.110
data

19:01.110 --> 19:02.110
以脑底翻的

19:02.110 --> 19:03.110
home interface

19:03.110 --> 19:04.110
ok啊

19:04.110 --> 19:05.110
这个刚才定义

19:05.110 --> 19:06.110
接口的时候

19:06.110 --> 19:07.110
是不是有点问题

19:07.110 --> 19:08.110
data

19:08.110 --> 19:09.110
这里面

19:09.110 --> 19:10.110
不是加号

19:10.110 --> 19:11.110
这里面

19:11.110 --> 19:12.110
给它换成一个箭头

19:12.110 --> 19:13.110
ok

19:13.110 --> 19:14.110
把它也干掉啊

19:14.110 --> 19:15.110
干掉之后

19:15.110 --> 19:16.110
我们再回来

19:16.110 --> 19:17.110
这个就没问题了

19:17.110 --> 19:18.110
然后回到

19:18.110 --> 19:19.110
操作一个拥护表

19:19.110 --> 19:20.110
这个拥护表里面

19:20.110 --> 19:21.110
我们操作一个什么

19:21.110 --> 19:22.110
你看这里面

19:22.110 --> 19:23.110
有一个article like

19:23.110 --> 19:24.110
ids

19:24.110 --> 19:25.110
这里面是有一个

19:25.110 --> 19:26.110
收藏的表的

19:26.110 --> 19:27.110
对不对

19:27.110 --> 19:28.110
我现在可以给他

19:28.110 --> 19:29.110
做一个删除啊

19:29.110 --> 19:30.110
比如说这个

19:30.110 --> 19:31.110
article like

19:31.110 --> 19:32.110
ids

19:32.110 --> 19:33.110
把它干掉

19:33.110 --> 19:34.110
之后呢

19:34.110 --> 19:35.110
我做一个确定

19:35.110 --> 19:36.110
保存

19:36.110 --> 19:37.110
保存之后

19:37.110 --> 19:38.110
现在我在这个里面

19:38.110 --> 19:39.110
再刷新一下

19:39.110 --> 19:40.110
刷新一下

19:40.110 --> 19:41.110
你看的没有了

19:41.110 --> 19:42.110
没有是大作

19:42.110 --> 19:43.110
其实我们

19:43.110 --> 19:44.110
获取的时候

19:44.110 --> 19:45.110
出事化的时候

19:45.110 --> 19:46.110
当你一个用户登录了

19:46.110 --> 19:47.110
用户登录里面

19:47.110 --> 19:48.110
如果说你收藏过文章

19:48.110 --> 19:50.110
你的这个用户列表里面

19:50.110 --> 19:51.110
是会有这个

19:51.110 --> 19:52.110
当前指定文章的

19:52.110 --> 19:53.110
这个ID的

19:53.110 --> 19:54.110
那我打扮呢

19:54.110 --> 19:55.110
我这个时候

19:55.110 --> 19:56.110
就可以啊

19:56.110 --> 19:57.110
来判断一下

19:57.110 --> 19:58.110
你这个article like

19:58.110 --> 20:00.110
ids里面有没有

20:00.110 --> 20:01.110
如果有的话

20:01.110 --> 20:02.110
我给你做一个

20:02.110 --> 20:03.110
删除操作

20:03.110 --> 20:04.110
如果没有呢

20:04.110 --> 20:05.110
我给你追压一条

20:05.110 --> 20:06.110
其实就是这么一个过程

20:06.110 --> 20:07.110
那我们实现

20:07.110 --> 20:08.110
这个过程呢

20:08.110 --> 20:09.110
要怎么办

20:09.110 --> 20:10.110
首先第一步呢

20:10.110 --> 20:11.110
你要把这个用户的

20:11.110 --> 20:12.110
这个表

20:12.110 --> 20:13.110
得获取到

20:13.110 --> 20:14.110
并且呢

20:14.110 --> 20:15.110
获取到它的这个

20:15.110 --> 20:16.110
指定自断

20:16.110 --> 20:17.110
自断之后

20:17.110 --> 20:18.110
因为咱们知道

20:18.110 --> 20:19.110
它是一个数组类型

20:19.110 --> 20:20.110
那我就可以

20:20.110 --> 20:21.110
通过inqloose

20:21.110 --> 20:22.110
方法判断

20:22.110 --> 20:23.110
如果说你要是

20:23.110 --> 20:24.110
没有的话

20:24.110 --> 20:25.110
那怎么办

20:25.110 --> 20:26.110
我直接给你追加

20:26.110 --> 20:27.110
如果说有呢

20:27.110 --> 20:28.110
我给你删除掉

20:28.110 --> 20:29.110
就OK了

20:29.110 --> 20:30.110
这个呢

20:30.110 --> 20:31.110
就是可以实现一种

20:31.110 --> 20:32.110
修改我们

20:32.110 --> 20:33.110
保存文章

20:33.110 --> 20:34.110
收藏文章的

20:34.110 --> 20:35.110
这样一个

20:35.110 --> 20:36.110
状态

20:36.110 --> 20:37.110
那我们就来

20:37.110 --> 20:38.110
实现一下

20:38.110 --> 20:39.110
回到我们的这个代码里

20:39.110 --> 20:40.110
首先

20:40.110 --> 20:41.110
第一个

20:41.110 --> 20:42.110
我们要获取

20:42.110 --> 20:43.110
用户的一个

20:43.110 --> 20:44.110
我们的这个表的集合

20:44.110 --> 20:46.110
用户数据表的

20:46.110 --> 20:47.110
一个集合

20:47.110 --> 20:48.110
那把它

20:48.110 --> 20:49.110
得给获取一下

20:49.110 --> 20:50.110
如何来写呢

20:50.110 --> 20:51.110
我们这里面

20:51.110 --> 20:52.110
可以定一个变量

20:52.110 --> 20:53.110
Counts的UserInfo

20:53.110 --> 20:55.110
等于avit

20:55.110 --> 20:56.110
那我们直接可以

20:56.110 --> 20:58.110
用db.collection

20:58.110 --> 20:59.110
集合获取

20:59.110 --> 21:00.110
那就是User

21:00.110 --> 21:01.110
User呢

21:01.110 --> 21:02.110
通过doc

21:02.110 --> 21:04.110
来进行一个查询

21:04.110 --> 21:06.110
那就是UserID

21:06.110 --> 21:07.110
然后呢

21:07.110 --> 21:08.110
这个UserID后面

21:08.110 --> 21:09.110
我们可以通过

21:09.110 --> 21:10.110
这种guide的形式

21:10.110 --> 21:11.110
来获取到

21:11.110 --> 21:12.110
然后呢

21:12.110 --> 21:13.110
为了我们查看

21:13.110 --> 21:14.110
其实这个呢

21:14.110 --> 21:15.110
我们如果说

21:15.110 --> 21:16.110
你要想写模拟参数的话

21:16.110 --> 21:17.110
那你这里面

21:17.110 --> 21:18.110
还得指定UserID

21:18.110 --> 21:19.110
和UserID

21:19.110 --> 21:20.110
对吧

21:20.110 --> 21:21.110
比较麻烦

21:21.110 --> 21:22.110
怎么办呢

21:22.110 --> 21:23.110
我们直接可以

21:23.110 --> 21:24.110
让前端来获取

21:24.110 --> 21:25.110
比如说

21:25.110 --> 21:26.110
我们直接在前端

21:26.110 --> 21:27.110
看打印值就可以了

21:27.110 --> 21:28.110
Code呢

21:28.110 --> 21:29.110
我写一个连

21:29.110 --> 21:30.110
把这个UserInfo

21:30.110 --> 21:31.110
给前端

21:31.110 --> 21:32.110
传递过去

21:32.110 --> 21:33.110
就可以了

21:33.110 --> 21:34.110
那这样呢

21:34.110 --> 21:35.110
我们来看一下

21:35.110 --> 21:36.110
这里面

21:36.110 --> 21:37.110
我上传部署一下

21:37.110 --> 21:38.110
好了

21:38.110 --> 21:39.110
上传部署成功之后

21:39.110 --> 21:40.110
我们回到我们的

21:40.110 --> 21:41.110
这个代码里面

21:41.110 --> 21:42.110
自己来做一下

21:42.110 --> 21:43.110
这个里面

21:43.110 --> 21:44.110
回到我们这里面

21:44.110 --> 21:45.110
刷新一下

21:45.110 --> 21:46.110
刷新一下

21:46.110 --> 21:47.110
在这里面

21:47.110 --> 21:48.110
guideLabelLease

21:48.110 --> 21:49.110
网有点慢啊

21:49.110 --> 21:50.110
好的那我这里面

21:50.110 --> 21:51.110
1.g

21:51.110 --> 21:52.110
1.g

21:52.110 --> 21:53.110
updateC

21:53.110 --> 21:54.110
这里面UserInfo

21:54.110 --> 21:55.110
是不是返回值呢

21:55.110 --> 21:56.110
但这个值呢

21:56.110 --> 21:57.110
它是告诉我们

21:57.110 --> 21:58.110
找到几条数据

21:58.110 --> 21:59.110
然后这里面

21:59.110 --> 22:00.110
还有一个data

22:00.110 --> 22:01.110
对不对

22:01.110 --> 22:02.110
那我们这个拿去的时候

22:02.110 --> 22:03.110
也就是说

22:03.110 --> 22:04.110
在后端做的时候

22:04.110 --> 22:05.110
我们这里面

22:05.110 --> 22:06.110
要怎么做呢

22:06.110 --> 22:07.110
我们要找到这个

22:07.110 --> 22:08.110
articleids

22:08.110 --> 22:09.110
就是说

22:09.110 --> 22:11.110
它这个收藏文章的

22:11.110 --> 22:12.110
怎么办

22:12.110 --> 22:13.110
我们直接还得

22:13.110 --> 22:14.110
从里面给它

22:14.110 --> 22:15.110
做一个展开啊

22:15.110 --> 22:16.110
那也就是说

22:16.110 --> 22:17.110
UserInfo.

22:17.110 --> 22:18.110
刚才咱们看过的是吗

22:18.110 --> 22:19.110
data对吧

22:19.110 --> 22:20.110
下面的0

22:20.110 --> 22:21.110
然后呢

22:21.110 --> 22:22.110
再找到指定的

22:22.110 --> 22:24.110
article下滑线

22:24.110 --> 22:27.110
laks下滑线ids

22:27.110 --> 22:28.110
那这样是不是

22:28.110 --> 22:29.110
拿到指定的值了

22:29.110 --> 22:30.110
然后我们再来看一眼

22:30.110 --> 22:31.110
比如说前端

22:31.110 --> 22:32.110
再来进行一个打印

22:32.110 --> 22:33.110
好的

22:33.110 --> 22:34.110
我们1.g

22:34.110 --> 22:35.110
好的

22:35.110 --> 22:36.110
又去调取了

22:36.110 --> 22:37.110
又去调取

22:37.110 --> 22:38.110
OK啊

22:38.110 --> 22:39.110
这个我们没有

22:39.110 --> 22:40.110
没有上传对吧

22:40.110 --> 22:41.110
那我们直接怎么办呢

22:41.110 --> 22:42.110
把它给做一个

22:42.110 --> 22:43.110
上传处理啊

22:43.110 --> 22:44.110
在这个里面

22:44.110 --> 22:45.110
修改完了之后

22:45.110 --> 22:46.110
我们上传部署

22:46.110 --> 22:48.110
articleids

22:48.110 --> 22:49.110
OK

22:49.110 --> 22:50.110
把它给换一下

22:50.110 --> 22:51.110
变成

22:51.110 --> 22:52.110
articleids

22:52.110 --> 22:53.110
咱们来试一下

22:53.110 --> 22:54.110
刷新一下

22:54.110 --> 22:55.110
刷新一下之后

22:55.110 --> 22:56.110
1.g

22:56.110 --> 22:57.110
OK savelaks

22:57.110 --> 22:58.110
code0

22:58.110 --> 22:59.110
articleids

22:59.110 --> 23:00.110
没有获取到吗

23:00.110 --> 23:01.110
我们来看一眼

23:01.110 --> 23:02.110
是因为啥啊

23:02.110 --> 23:03.110
articleaks

23:03.110 --> 23:04.110
这个里面

23:04.110 --> 23:05.110
应该是

23:05.110 --> 23:06.110
likes

23:06.110 --> 23:07.110
来再试一下

23:07.110 --> 23:08.110
看行不行啊

23:08.110 --> 23:09.110
直接回去

23:09.110 --> 23:10.110
回就1.g

23:10.110 --> 23:11.110
这里面

23:11.110 --> 23:12.110
articleids

23:12.110 --> 23:13.110
OK

23:13.110 --> 23:14.110
这里面

23:14.110 --> 23:15.110
返回一个空输组

23:15.110 --> 23:16.110
那空输组

23:16.110 --> 23:17.110
是不是就和我们的

23:17.110 --> 23:18.110
这个

23:18.110 --> 23:19.110
海朔列表里面

23:19.110 --> 23:20.110
我们直接

23:20.110 --> 23:21.110
云朔去库

23:21.110 --> 23:22.110
云朔去库里面

23:22.110 --> 23:23.110
articleaksids

23:23.110 --> 23:24.110
对应上了

23:24.110 --> 23:25.110
对吧

23:25.110 --> 23:26.110
那既然对应上了之后

23:26.110 --> 23:27.110
那我们现在

23:27.110 --> 23:28.110
就可以做一个什么事

23:28.110 --> 23:29.110
来对这个

23:29.110 --> 23:30.110
我们这个数组

23:30.110 --> 23:32.110
来进行一个操作

23:32.110 --> 23:33.110
怎么操作呢

23:33.110 --> 23:34.110
我们这里面

23:34.110 --> 23:36.110
要判断一个什么

23:36.110 --> 23:38.110
判断是否收藏了

23:38.110 --> 23:39.110
当前的文章

23:39.110 --> 23:42.110
我们数据表的这个指定

23:42.110 --> 23:44.110
数据的里面

23:44.110 --> 23:46.110
是否收藏了

23:46.110 --> 23:49.110
这个文章

23:49.110 --> 23:50.110
怎么来判断

23:50.110 --> 23:51.110
那这里面

23:51.110 --> 23:52.110
是不是e4

23:52.110 --> 23:53.110
因为在这个数组嘛

23:53.110 --> 23:54.110
对吧

23:54.110 --> 23:55.110
那我们就可以通过

23:55.110 --> 23:59.110
e4articleids.inclose

23:59.110 --> 24:01.110
如果说

24:01.110 --> 24:04.110
它要是包含articleid

24:05.110 --> 24:06.110
也就是说

24:06.110 --> 24:07.110
我们传过来的

24:07.110 --> 24:08.110
这个articleid

24:08.110 --> 24:09.110
那是不是就是有这个

24:09.110 --> 24:10.110
对吧

24:10.110 --> 24:11.110
否则那就是什么

24:11.110 --> 24:12.110
那就是没有

24:12.110 --> 24:13.110
对不对

24:13.110 --> 24:14.110
那你看想一下

24:14.110 --> 24:15.110
我们获取到一个数组

24:15.110 --> 24:16.110
然后呢

24:16.110 --> 24:17.110
我通过inclose

24:17.110 --> 24:19.110
是否包含我们

24:19.110 --> 24:20.110
前端给我们的

24:20.110 --> 24:23.110
这个articleid

24:23.110 --> 24:25.110
那这个articleid

24:25.110 --> 24:26.110
如果说是你有

24:26.110 --> 24:27.110
那我就要做一个

24:27.110 --> 24:28.110
删除操作

24:28.110 --> 24:29.110
对不对

24:29.110 --> 24:30.110
那我这里面

24:30.110 --> 24:31.110
就要做一个

24:31.110 --> 24:32.110
删除操作

24:32.110 --> 24:33.110
如果说没有

24:33.110 --> 24:34.110
那我这里面

24:34.110 --> 24:35.110
要什么

24:35.110 --> 24:36.110
添加操作

24:36.110 --> 24:37.110
其实就非常简单

24:37.110 --> 24:38.110
对吧

24:38.110 --> 24:39.110
添加操作

24:39.110 --> 24:40.110
那我们可以用什么

24:40.110 --> 24:41.110
来做这个事呢

24:41.110 --> 24:42.110
因为我们已经指定了

24:42.110 --> 24:44.110
这个dbcommand

24:44.110 --> 24:45.110
对不对

24:45.110 --> 24:46.110
那我就可以用这个

24:46.110 --> 24:47.110
dbcommand

24:47.110 --> 24:49.110
来实现这种效果

24:49.110 --> 24:50.110
怎么办呢

24:50.110 --> 24:51.110
我们最后

24:51.110 --> 24:52.110
可能要返回一个数组

24:52.110 --> 24:53.110
那我直接的

24:53.110 --> 24:54.110
在这个里面

24:54.110 --> 24:57.110
使用articlear

24:57.110 --> 24:58.110
也就是说

24:58.110 --> 25:00.110
定一个临时的数组

25:00.110 --> 25:01.110
临时数组

25:01.110 --> 25:02.110
首先处置话的时候

25:02.110 --> 25:03.110
也不给它复职了

25:03.110 --> 25:04.110
然后呢

25:04.110 --> 25:05.110
我这里啊

25:05.110 --> 25:06.110
把这个dbcommand的

25:06.110 --> 25:07.110
一个操作结果

25:07.110 --> 25:08.110
给它返回去啊

25:08.110 --> 25:09.110
这里面

25:09.110 --> 25:10.110
就可以使用一个什么呢

25:10.110 --> 25:12.110
给它重新复职

25:12.110 --> 25:13.110
如果说你要是

25:13.110 --> 25:15.110
收藏了这个文章

25:15.110 --> 25:16.110
比如说

25:16.110 --> 25:17.110
有这个文章

25:17.110 --> 25:18.110
那我怎么办呢

25:18.110 --> 25:19.110
等于我们就通过

25:19.110 --> 25:21.110
dbcommand的

25:21.110 --> 25:22.110
一个什么方法

25:22.110 --> 25:23.110
我们直接

25:23.110 --> 25:25.110
可以用它的这个铺方法

25:25.110 --> 25:26.110
这个铺方法

25:26.110 --> 25:27.110
直接的就

25:27.110 --> 25:28.110
把它里面的这个职任

25:28.110 --> 25:30.110
给它干掉对吧

25:30.110 --> 25:31.110
然后呢

25:31.110 --> 25:32.110
然后呢

25:32.110 --> 25:33.110
如果说你要是

25:33.110 --> 25:34.110
没有的话

25:34.110 --> 25:35.110
articlear

25:35.110 --> 25:36.110
给它复职

25:36.110 --> 25:38.110
就是dbcommand

25:38.110 --> 25:40.110
然后我们定义这个

25:40.110 --> 25:41.110
变量

25:41.110 --> 25:42.110
那我们直接使用一个

25:42.110 --> 25:43.110
什么方法呢

25:43.110 --> 25:44.110
ad to set

25:44.110 --> 25:45.110
方法

25:45.110 --> 25:46.110
这里面有

25:46.110 --> 25:47.110
ad to set

25:47.110 --> 25:48.110
你看啊

25:48.110 --> 25:49.110
ad to set

25:49.110 --> 25:50.110
像数组中添加值

25:50.110 --> 25:51.110
如果数组中

25:51.110 --> 25:52.110
已经存在这个值

25:52.110 --> 25:53.110
不执行任何操作

25:53.110 --> 25:54.110
它只能在

25:54.110 --> 25:55.110
group阶段中使用啊

25:55.110 --> 25:57.110
咱也别管在哪个阶段

25:57.110 --> 25:58.110
那我直接的

25:58.110 --> 25:59.110
ad to set

25:59.110 --> 26:00.110
可以来实现这种功能啊

26:00.110 --> 26:01.110
对吧

26:01.110 --> 26:02.110
那我就把这个

26:02.110 --> 26:03.110
article id

26:03.110 --> 26:04.110
给它传过去对吧

26:04.110 --> 26:05.110
那这里面

26:05.110 --> 26:07.110
我最后就获取到了一个

26:07.110 --> 26:09.110
什么articlear

26:09.110 --> 26:10.110
然后你获取到之后

26:10.110 --> 26:12.110
那我们修改一个什么

26:12.110 --> 26:13.110
修改

26:14.110 --> 26:16.110
我们当前

26:16.110 --> 26:19.110
这个用户集合的一个

26:19.110 --> 26:22.110
当前这个指定的

26:22.110 --> 26:23.110
用户的一个

26:23.110 --> 26:26.110
收藏文章的一个状态

26:26.110 --> 26:28.110
其实就是我们修改

26:28.110 --> 26:31.110
它的这个article

26:31.110 --> 26:32.110
因为我们已经获取它了

26:32.110 --> 26:33.110
对不对

26:33.110 --> 26:34.110
那所以说

26:34.110 --> 26:36.110
其实我们最后的目的

26:36.110 --> 26:38.110
不光是用它来做判断

26:38.110 --> 26:39.110
然后呢

26:39.110 --> 26:40.110
我们还得把这个新值

26:40.110 --> 26:42.110
因为我这里面存处了一个值

26:42.110 --> 26:43.110
把这个新值给它

26:43.110 --> 26:44.110
插进去就可以了

26:44.110 --> 26:45.110
那这里面怎么做

26:45.110 --> 26:46.110
avate

26:46.110 --> 26:47.110
我们这里面可以

26:47.110 --> 26:48.110
用db.collection

26:48.110 --> 26:51.110
查询到这个用户

26:51.110 --> 26:53.110
也就是说这个youter

26:53.110 --> 26:55.110
查询到它怎么来查询

26:55.110 --> 26:57.110
通过doc

26:57.110 --> 26:59.110
这个里面指定youter id

26:59.110 --> 27:01.110
ok你找到它之后

27:01.110 --> 27:03.110
那我们就可以通过它的

27:03.110 --> 27:04.110
avate的方法

27:04.110 --> 27:06.110
avate的方法修改哪个字段

27:06.110 --> 27:08.110
我们这里面先给它指定上

27:08.110 --> 27:09.110
修改哪个字段

27:09.110 --> 27:11.110
是不是article like ids

27:11.110 --> 27:12.110
对吧

27:12.110 --> 27:13.110
修改这个字段

27:13.110 --> 27:14.110
然后呢

27:14.110 --> 27:15.110
把谁把我们这个

27:15.110 --> 27:17.110
已经修改完成的这个

27:17.110 --> 27:18.110
article AR

27:18.110 --> 27:19.110
给它做一个传递

27:19.110 --> 27:20.110
那这样呢

27:20.110 --> 27:21.110
就搞定了

27:21.110 --> 27:22.110
我们来试一下

27:22.110 --> 27:23.110
比如说

27:23.110 --> 27:24.110
那我们先来看一眼

27:24.110 --> 27:26.110
现在这个数据库里面

27:26.110 --> 27:27.110
是什么

27:27.110 --> 27:28.110
没有的

27:28.110 --> 27:29.110
是不是

27:29.110 --> 27:30.110
因为我没做任何操作

27:30.110 --> 27:31.110
当我点击一下

27:31.110 --> 27:32.110
做了一个操作

27:32.110 --> 27:33.110
我把这个第一篇文章

27:33.110 --> 27:34.110
给它添加进去

27:34.110 --> 27:35.110
我一点击

27:35.110 --> 27:36.110
ok

27:36.110 --> 27:37.110
这个里面

27:37.110 --> 27:38.110
已经添加了

27:38.110 --> 27:39.110
那我们上哪看

27:39.110 --> 27:40.110
上这个云数据库里面

27:40.110 --> 27:42.110
我们刷新一下

27:42.110 --> 27:44.110
此时你刷新完成之后

27:44.110 --> 27:45.110
这里面是不是多了一个指

27:45.110 --> 27:46.110
然后呢

27:46.110 --> 27:47.110
我再做一个操作

27:47.110 --> 27:48.110
比如说

27:48.110 --> 27:49.110
我在这个里面

27:49.110 --> 27:50.110
再点击一下

27:50.110 --> 27:51.110
ok又点击了一下

27:51.110 --> 27:52.110
又点击了一下

27:52.110 --> 27:53.110
然后呢

27:53.110 --> 27:55.110
这里面我们再刷新一下

27:55.110 --> 27:56.110
是不是两条纸了

27:56.110 --> 27:57.110
也就是说

27:57.110 --> 27:58.110
把第二篇文章的这个

27:58.110 --> 27:59.110
id纸

27:59.110 --> 28:00.110
是不是也追加进去了

28:00.110 --> 28:02.110
这里面主要用的是什么

28:02.110 --> 28:04.110
就是我们要做一个

28:04.110 --> 28:06.110
修改指令的一个创建

28:06.110 --> 28:07.110
然后通过修改指令

28:07.110 --> 28:09.110
我们在它身上

28:09.110 --> 28:10.110
可以找到铺

28:10.110 --> 28:11.110
以及itlside的方法

28:11.110 --> 28:12.110
来做一个操作

28:12.110 --> 28:13.110
当然了

28:13.110 --> 28:14.110
你这里面是要判断一下的

28:14.110 --> 28:15.110
这个呢

28:15.110 --> 28:16.110
我们要知道一下

28:16.110 --> 28:18.110
你这个都已经修改完成了

28:18.110 --> 28:19.110
咱们也看到了

28:19.110 --> 28:20.110
然后取消一下吧

28:20.110 --> 28:21.110
对吧

28:21.110 --> 28:22.110
咱们取消一下

28:22.110 --> 28:23.110
首先我把

28:23.110 --> 28:24.110
第一个文章给它干掉

28:24.110 --> 28:25.110
取消了

28:25.110 --> 28:26.110
取消了之后

28:26.110 --> 28:27.110
那我们再回来看一眼

28:27.110 --> 28:29.110
到这个刷新里面

28:29.110 --> 28:30.110
你会发现

28:30.110 --> 28:31.110
这时候是不是就一条纸了

28:31.110 --> 28:32.110
一条纸就是把刚才

28:32.110 --> 28:33.110
我们取消了

28:33.110 --> 28:34.110
第一天的文章

28:34.110 --> 28:35.110
给它干掉了

28:35.110 --> 28:36.110
是在这个里面

28:36.110 --> 28:37.110
对吧

28:37.110 --> 28:38.110
之后那你都干掉了

28:38.110 --> 28:39.110
不管你是

28:39.110 --> 28:40.110
我们取消啊

28:40.110 --> 28:42.110
还是说保存收藏

28:42.110 --> 28:43.110
那你这个里面

28:43.110 --> 28:44.110
你是不是最后

28:44.110 --> 28:45.110
给我们前端

28:45.110 --> 28:46.110
得返回一个状态

28:46.110 --> 28:47.110
威傻呢

28:47.110 --> 28:48.110
因为我们这个前端

28:48.110 --> 28:50.110
数据是存储

28:50.110 --> 28:51.110
在我们的这个

28:51.110 --> 28:52.110
U的info里面

28:52.110 --> 28:53.110
对不对

28:53.110 --> 28:54.110
那你前端也得改

28:54.110 --> 28:55.110
所以说在这个里面

28:55.110 --> 28:56.110
你要把这个修改

28:56.110 --> 28:57.110
完成的这个

28:57.110 --> 28:59.110
新的这个用户信息

28:59.110 --> 29:00.110
给我们返回来

29:00.110 --> 29:01.110
然后呢

29:01.110 --> 29:02.110
我们前端也得做一个

29:02.110 --> 29:04.110
重新的处理啊

29:04.110 --> 29:05.110
那这个怎么来做呢

29:05.110 --> 29:06.110
在这个最新的

29:06.110 --> 29:08.110
HPU的插版本里面

29:08.110 --> 29:09.110
我们可以通过

29:09.110 --> 29:10.110
update to return

29:10.110 --> 29:11.110
但是呢

29:11.110 --> 29:12.110
我们这个老版本里面

29:12.110 --> 29:13.110
是没办法实现的

29:13.110 --> 29:14.110
所以说在这个里面

29:14.110 --> 29:15.110
我们就来使用

29:15.110 --> 29:16.110
这种传统的形式

29:16.110 --> 29:17.110
怎么办呢

29:17.110 --> 29:19.110
重新获取用信息

29:19.110 --> 29:20.110
对吧

29:20.110 --> 29:22.110
用户的一个信息

29:22.110 --> 29:23.110
然后呢

29:23.110 --> 29:24.110
返回给前端就可以了

29:24.110 --> 29:25.110
这个里面

29:25.110 --> 29:26.110
我们可以写一个什么呢

29:26.110 --> 29:29.110
New user info

29:29.110 --> 29:31.110
然后呢等于一个值

29:31.110 --> 29:32.110
wait

29:32.110 --> 29:33.110
我这里面创建一个

29:33.110 --> 29:34.110
db.

29:34.110 --> 29:35.110
继续查看

29:35.110 --> 29:36.110
db.collection

29:36.110 --> 29:37.110
然后呢

29:37.110 --> 29:38.110
是user

29:38.110 --> 29:40.110
通过.doc

29:40.110 --> 29:41.110
这个里面是

29:41.110 --> 29:42.110
user id

29:42.110 --> 29:43.110
查询到它之后

29:43.110 --> 29:44.110
然后呢

29:44.110 --> 29:45.110
点guide方法

29:45.110 --> 29:46.110
获取到了对不对

29:46.110 --> 29:47.110
获取到了咱们知道

29:47.110 --> 29:48.110
这是一个大对象

29:48.110 --> 29:49.110
然后呢

29:49.110 --> 29:50.110
我想给它解开怎么办呢

29:50.110 --> 29:51.110
我直接的

29:51.110 --> 29:52.110
New user info

29:52.110 --> 29:54.110
然后这个叫什么吗

29:54.110 --> 29:55.110
update user

29:55.110 --> 29:56.110
行吗

29:56.110 --> 29:57.110
然后呢

29:57.110 --> 29:59.110
date

29:59.110 --> 30:00.110
update user

30:00.110 --> 30:01.110
我在这个里面

30:01.110 --> 30:02.110
data

30:02.110 --> 30:03.110
解构一下

30:03.110 --> 30:04.110
update user.data

30:04.110 --> 30:05.110
对吧

30:05.110 --> 30:06.110
把这个data

30:06.110 --> 30:07.110
传过去data

30:07.110 --> 30:08.110
哪一条data

30:08.110 --> 30:09.110
是这个地零条data

30:09.110 --> 30:11.110
那这样前端就返回值了

30:11.110 --> 30:12.110
但像这种修改操作

30:12.110 --> 30:13.110
咱们知道

30:13.110 --> 30:14.110
肯定要给前端

30:14.110 --> 30:15.110
如果说成功

30:15.110 --> 30:17.110
给一个返回值状态

30:17.110 --> 30:18.110
对吧

30:18.110 --> 30:19.110
那我们怎么办呢

30:19.110 --> 30:20.110
在这个里面

30:20.110 --> 30:21.110
这时候

30:21.110 --> 30:22.110
其实呢

30:22.110 --> 30:23.110
我就别返回单独的

30:23.110 --> 30:24.110
这个用信息了

30:24.110 --> 30:25.110
我给一个data

30:25.110 --> 30:26.110
还是这个data

30:26.110 --> 30:27.110
这个data里面呢

30:27.110 --> 30:28.110
我定一下msg

30:28.110 --> 30:30.110
那这个msg呢

30:30.110 --> 30:31.110
就作为我们

30:31.110 --> 30:33.110
给前端返回的一个

30:33.110 --> 30:34.110
提示状态

30:34.110 --> 30:35.110
比如说你

30:35.110 --> 30:36.110
收藏成功啊

30:36.110 --> 30:37.110
和取消收藏

30:37.110 --> 30:38.110
对不对

30:38.110 --> 30:39.110
那我这里面

30:39.110 --> 30:40.110
msg呢

30:40.110 --> 30:41.110
我最好是定一下

30:41.110 --> 30:42.110
这样

30:42.110 --> 30:43.110
我在这儿定一下

30:43.110 --> 30:44.110
每一次

30:44.110 --> 30:45.110
我们做的时候

30:45.110 --> 30:46.110
在这里面

30:46.110 --> 30:47.110
我们可以来指定一个

30:47.110 --> 30:49.110
letmsg

30:49.110 --> 30:51.110
等于一个闹

30:51.110 --> 30:53.110
定一个闹

30:53.110 --> 30:54.110
如果说你要是

30:54.110 --> 30:55.110
删除操作了

30:55.110 --> 30:56.110
那msg

30:56.110 --> 30:58.110
等于一个新的值

30:58.110 --> 30:59.110
那这个新的值

30:59.110 --> 31:00.110
叫什么呢

31:00.110 --> 31:01.110
叫取消收藏成功啊

31:01.110 --> 31:02.110
直接的

31:02.110 --> 31:05.110
这里面叫取消收藏

31:05.110 --> 31:06.110
ok

31:06.110 --> 31:07.110
然后如果说

31:07.110 --> 31:09.110
你要是添加了

31:09.110 --> 31:10.110
那我msg

31:10.110 --> 31:11.110
就给你一个值

31:11.110 --> 31:12.110
等于一个什么呢

31:12.110 --> 31:14.110
收藏成功

31:14.110 --> 31:16.110
收藏成功

31:16.110 --> 31:17.110
ok

31:17.110 --> 31:18.110
这两个都写完了

31:18.110 --> 31:19.110
写完之后呢

31:19.110 --> 31:20.110
你把这个msg

31:20.110 --> 31:21.110
就给他返回去

31:21.110 --> 31:22.110
就可以了对吧

31:22.110 --> 31:23.110
返回一个msg

31:23.110 --> 31:24.110
并且呢

31:24.110 --> 31:25.110
我们把这个new user

31:25.110 --> 31:26.110
info

31:26.110 --> 31:27.110
update user

31:27.110 --> 31:28.110
也给他进行一个返回

31:28.110 --> 31:29.110
那这个呢

31:29.110 --> 31:30.110
就是整个

31:30.110 --> 31:31.110
我们云含数的

31:31.110 --> 31:32.110
一个相关处理啊

31:32.110 --> 31:33.110
在这个里面

31:33.110 --> 31:34.110
如果说可以的话

31:34.110 --> 31:36.110
我上传部署一下啊

31:36.110 --> 31:37.110
时间保证他没有错

31:37.110 --> 31:38.110
对吧

31:38.110 --> 31:39.110
没有错之后

31:39.110 --> 31:40.110
那我们就来看一下

31:40.110 --> 31:42.110
这个前端的这个处理啊

31:42.110 --> 31:43.110
回到network

31:43.110 --> 31:44.110
到我们这个里面

31:44.110 --> 31:46.110
我们点击

31:46.110 --> 31:47.110
update

31:47.110 --> 31:48.110
sivlex

31:48.110 --> 31:49.110
ok啊

31:49.110 --> 31:50.110
这个有抱错啊

31:50.110 --> 31:51.110
有抱错

31:51.110 --> 31:52.110
我们回来看一下

31:52.110 --> 31:53.110
这里面是哪里面抱错

31:53.110 --> 31:54.110
找到他

31:54.110 --> 31:55.110
msg

31:55.110 --> 31:56.110
sonics

31:56.110 --> 31:57.110
text

31:57.110 --> 31:58.110
error

31:58.110 --> 31:59.110
这里面应该是

31:59.110 --> 32:00.110
中文的都号了

32:00.110 --> 32:01.110
把它干掉啊

32:01.110 --> 32:02.110
好的

32:02.110 --> 32:03.110
保存一下

32:03.110 --> 32:04.110
再来一下

32:04.110 --> 32:05.110
然后呢

32:05.110 --> 32:06.110
我们给他

32:06.110 --> 32:07.110
做一个上传部署

32:07.110 --> 32:08.110
刷新界面

32:08.110 --> 32:09.110
然后呢

32:09.110 --> 32:10.110
我们再来试一下

32:10.110 --> 32:11.110
点击

32:11.110 --> 32:12.110
你会发现啊

32:12.110 --> 32:13.110
这个里面是什么

32:13.110 --> 32:14.110
取消收藏成功

32:14.110 --> 32:15.110
也就是说

32:15.110 --> 32:16.110
那收藏成功

32:16.110 --> 32:17.110
这里面就说明一个问题

32:17.110 --> 32:18.110
就是啥问题呢

32:18.110 --> 32:19.110
我们在里面肯定

32:19.110 --> 32:20.110
有一个纸啊

32:20.110 --> 32:21.110
刷新一下

32:21.110 --> 32:22.110
第一条纸

32:22.110 --> 32:23.110
纪录纸进来了

32:23.110 --> 32:24.110
对不对

32:24.110 --> 32:25.110
然后如果说取消收藏

32:25.110 --> 32:26.110
咱们来看一下

32:26.110 --> 32:27.110
这个取消收藏的处理啊

32:27.110 --> 32:29.110
我这里面一点击

32:29.110 --> 32:30.110
你会发现这个里面

32:30.110 --> 32:31.110
是什么

32:31.110 --> 32:32.110
取消收藏

32:32.110 --> 32:33.110
是不是都有了

32:33.110 --> 32:34.110
有了之后呢

32:34.110 --> 32:35.110
怎么办

32:35.110 --> 32:36.110
我们就来做操作

32:36.110 --> 32:37.110
就可以了

32:37.110 --> 32:38.110
那现在呢

32:38.110 --> 32:39.110
再回到哪

32:39.110 --> 32:40.110
回到我们前端

32:40.110 --> 32:41.110
就可以了

32:41.110 --> 32:42.110
前端

32:42.110 --> 32:43.110
V

32:43.110 --> 32:44.110
我们这个在前端里面

32:44.110 --> 32:45.110
要做啥事

32:45.110 --> 32:46.110
首先呢

32:46.110 --> 32:47.110
这也不是IS了

32:47.110 --> 32:48.110
因为我们已经知道

32:48.110 --> 32:49.110
返回什么纸了

32:49.110 --> 32:50.110
对不对

32:50.110 --> 32:51.110
我们这里面有一个MSG

32:51.110 --> 32:52.110
还有一个什么

32:52.110 --> 32:55.110
New一个UtherInfo

32:55.110 --> 32:56.110
OK

32:56.110 --> 32:57.110
把这两个纸都拿到

32:57.110 --> 32:59.110
拿到这两个纸之后

32:59.110 --> 33:00.110
首先不管你是成功

33:00.110 --> 33:01.110
还是失败

33:01.110 --> 33:04.110
那我都是想给你一个提示

33:04.110 --> 33:08.110
那我就是使用Uni.Stoast

33:08.110 --> 33:09.110
指定一个Title

33:09.110 --> 33:10.110
Title是谁呢

33:10.110 --> 33:11.110
就是我们这个MSG

33:11.110 --> 33:12.110
是不是就可以了

33:12.110 --> 33:13.110
对吧

33:13.110 --> 33:14.110
这是第一个

33:14.110 --> 33:15.110
然后呢

33:15.110 --> 33:18.110
我把他这个Icon给他定了一下

33:18.110 --> 33:19.110
Icon呢

33:19.110 --> 33:20.110
不让他显示内核

33:20.110 --> 33:21.110
任何内容

33:21.110 --> 33:23.110
我给他一个闹就可以了

33:23.110 --> 33:24.110
OK

33:24.110 --> 33:25.110
这是弹出个弹窗

33:25.110 --> 33:27.110
弹出个弹窗之后

33:27.110 --> 33:29.110
现在你还能获取到一个

33:29.110 --> 33:30.110
比较有价值的内容

33:30.110 --> 33:31.110
是啥东西呢

33:31.110 --> 33:32.110
我们可以来看一下

33:32.110 --> 33:34.110
NewUtherInfo

33:34.110 --> 33:35.110
咱们来露眼

33:35.110 --> 33:37.110
到这个里面

33:37.110 --> 33:39.110
回到我们的这个console里面

33:39.110 --> 33:40.110
我们来试这个吧

33:40.110 --> 33:42.110
比如说这里面1.1

33:42.110 --> 33:43.110
你会发现这里面

33:43.110 --> 33:44.110
是不是有UtherInfo

33:44.110 --> 33:45.110
UtherInfo

33:45.110 --> 33:46.110
你会发现

33:46.110 --> 33:47.110
给我们返回两条纸

33:47.110 --> 33:48.110
这两条纸

33:48.110 --> 33:50.110
这个ArticleLac IDS里面

33:50.110 --> 33:51.110
这两条纸

33:51.110 --> 33:52.110
它分别指向谁

33:52.110 --> 33:53.110
第一个和第二个

33:53.110 --> 33:54.110
对不对

33:54.110 --> 33:55.110
那我现在来做一个操作

33:55.110 --> 33:56.110
取消收藏

33:56.110 --> 33:57.110
取消收藏之后

33:57.110 --> 33:59.110
那这里面ArticleLac IDS

33:59.110 --> 34:00.110
是不是剩一个了

34:00.110 --> 34:01.110
刚才因为咱们

34:01.110 --> 34:02.110
对第二个也做了一个收藏

34:02.110 --> 34:04.110
那我再来处理一个

34:04.110 --> 34:05.110
你看一眼

34:05.110 --> 34:06.110
比如说在1.1

34:06.110 --> 34:07.110
这里面应该是啥

34:07.110 --> 34:08.110
一个都没有了

34:08.110 --> 34:09.110
对不对

34:09.110 --> 34:10.110
我要做一个啥操作

34:10.110 --> 34:12.110
我是不是要把我们的

34:12.110 --> 34:13.110
这个Application

34:13.110 --> 34:15.110
这个Storage里面存储的

34:15.110 --> 34:16.110
这个用户值

34:16.110 --> 34:17.110
也就是说这个值

34:17.110 --> 34:18.110
我们同步的

34:18.110 --> 34:19.110
给做一个更新

34:19.110 --> 34:20.110
是不是就可以了

34:20.110 --> 34:21.110
那怎么来实现

34:21.110 --> 34:22.110
一个同步的更新

34:22.110 --> 34:24.110
这个其实也非常简单

34:24.110 --> 34:25.110
我们直接的

34:25.110 --> 34:26.110
因为

34:26.110 --> 34:27.110
我们是不是有一个

34:27.110 --> 34:29.110
UtherInfo的方法

34:29.110 --> 34:30.110
我们直接来调用

34:30.110 --> 34:31.110
是不是就可以了

34:31.110 --> 34:32.110
但是你知道

34:32.110 --> 34:33.110
同学们在这个

34:33.110 --> 34:34.110
我们可以看一下

34:34.110 --> 34:36.110
在当时我们做

34:36.110 --> 34:38.110
这个用户登录的时候

34:38.110 --> 34:39.110
可以看一下这个login

34:39.110 --> 34:40.110
login里面

34:40.110 --> 34:41.110
是不是也调用了

34:41.110 --> 34:42.110
update的UtherInfo

34:42.110 --> 34:43.110
并且

34:43.110 --> 34:44.110
一会我们假如说

34:44.110 --> 34:45.110
在这个文章的

34:45.110 --> 34:46.110
详情界面里面

34:46.110 --> 34:47.110
比如说我进入到

34:47.110 --> 34:48.110
这个详情

34:48.110 --> 34:49.110
咱们可以来login

34:49.110 --> 34:50.110
当你进入

34:50.110 --> 34:51.110
详情界面的时候

34:51.110 --> 34:52.110
你还是会有

34:52.110 --> 34:54.110
对这个用户的修改

34:54.110 --> 34:55.110
比如说我这里面

34:55.110 --> 34:56.110
像留言

34:56.110 --> 34:57.110
想点赞这些

34:57.110 --> 34:58.110
是不是都有

34:58.110 --> 34:59.110
对吧

34:59.110 --> 35:00.110
那所以说

35:00.110 --> 35:01.110
你不至于

35:01.110 --> 35:02.110
每个组件里面

35:02.110 --> 35:03.110
都使用这方法

35:03.110 --> 35:04.110
那咋办

35:04.110 --> 35:05.110
直接也给他抽走

35:05.110 --> 35:06.110
我们可以

35:06.110 --> 35:07.110
因为什么

35:07.110 --> 35:08.110
用那最好的方法

35:08.110 --> 35:09.110
是什么放在

35:09.110 --> 35:10.110
common-me新里面

35:10.110 --> 35:11.110
对吧

35:11.110 --> 35:12.110
因为我们common-me新里面

35:12.110 --> 35:13.110
都已经写了一个什么

35:13.110 --> 35:15.110
写了一个map-to-side

35:15.110 --> 35:16.110
那我就不介意

35:16.110 --> 35:17.110
再写一个

35:17.110 --> 35:19.110
map-mutations

35:19.110 --> 35:20.110
对不对

35:20.110 --> 35:22.110
写一个map-mutations

35:22.110 --> 35:23.110
那您得首先保证

35:23.110 --> 35:24.110
一个什么

35:24.110 --> 35:25.110
map-mutations的

35:25.110 --> 35:26.110
一个引入

35:26.110 --> 35:27.110
在这里面

35:27.110 --> 35:28.110
ok

35:28.110 --> 35:29.110
那这样就保证

35:29.110 --> 35:30.110
一个什么

35:30.110 --> 35:31.110
就是我们用户

35:31.110 --> 35:33.110
登录用户的时候

35:33.110 --> 35:34.110
也可以调用

35:34.110 --> 35:35.110
全局的这个

35:35.110 --> 35:37.110
迷信里面的这个

35:37.110 --> 35:38.110
updata

35:38.110 --> 35:39.110
User

35:39.110 --> 35:40.110
info

35:40.110 --> 35:41.110
方法

35:41.110 --> 35:42.110
然后呢

35:42.110 --> 35:43.110
我们现在CVX

35:43.110 --> 35:44.110
是不是也可以调用

35:44.110 --> 35:45.110
对吧

35:45.110 --> 35:46.110
只是啊

35:46.110 --> 35:47.110
这个login里面

35:47.110 --> 35:48.110
什么都不需要做操作

35:48.110 --> 35:49.110
就是把它给提走

35:49.110 --> 35:50.110
就可以了

35:50.110 --> 35:51.110
然后你想做一个

35:51.110 --> 35:52.110
操作市场呢

35:52.110 --> 35:53.110
因为你现在已经

35:53.110 --> 35:54.110
不用试了

35:54.110 --> 35:55.110
对吧

35:55.110 --> 35:56.110
那我就把它

35:56.110 --> 35:57.110
干掉就可以了

35:57.110 --> 35:58.110
好的

35:58.110 --> 35:59.110
这个里面修改的

35:59.110 --> 36:00.110
对吧

36:00.110 --> 36:01.110
那这无所谓的事

36:01.110 --> 36:02.110
我们直接在这里面

36:02.110 --> 36:03.110
不会影响到他

36:03.110 --> 36:04.110
把它给干掉

36:04.110 --> 36:05.110
直接的updata

36:05.110 --> 36:06.110
图User

36:06.110 --> 36:07.110
方法

36:07.110 --> 36:08.110
也就是把我们这个

36:08.110 --> 36:09.110
common

36:09.110 --> 36:10.110
迷信里面的这个

36:10.110 --> 36:11.110
方法来使用一下

36:11.110 --> 36:12.110
就可以了

36:12.110 --> 36:13.110
对吧

36:13.110 --> 36:14.110
回到我们的

36:14.110 --> 36:15.110
这一次

36:15.110 --> 36:16.110
CVX

36:16.110 --> 36:17.110
那我们直接的

36:17.110 --> 36:18.110
这一次点updata

36:18.110 --> 36:19.110
User

36:19.110 --> 36:20.110
info

36:20.110 --> 36:21.110
怎么来调用

36:21.110 --> 36:22.110
其实呢

36:22.110 --> 36:23.110
我们可以来看一下

36:23.110 --> 36:24.110
到这个

36:24.110 --> 36:25.110
找到我们的死刀数据

36:25.110 --> 36:27.110
直接的这个

36:27.110 --> 36:28.110
合并一下

36:28.110 --> 36:29.110
把这个

36:29.110 --> 36:30.110
折叠所有

36:30.110 --> 36:31.110
折叠所有

36:31.110 --> 36:32.110
再展开

36:32.110 --> 36:33.110
展开找到死刀

36:33.110 --> 36:34.110
里面这个mutation

36:34.110 --> 36:35.110
是如何定义的

36:35.110 --> 36:36.110
它接一个User

36:36.110 --> 36:37.110
info

36:37.110 --> 36:38.110
然后呢

36:38.110 --> 36:39.110
它修改的是谁

36:39.110 --> 36:40.110
这个修改的

36:40.110 --> 36:41.110
我们记一下

36:41.110 --> 36:42.110
这个修改的是

36:42.110 --> 36:43.110
我们的这个

36:43.110 --> 36:44.110
本地存储的

36:44.110 --> 36:45.110
对吧

36:45.110 --> 36:46.110
本地存储的

36:46.110 --> 36:47.110
用户

36:47.110 --> 36:48.110
信息

36:48.110 --> 36:49.110
然后这个是什么

36:49.110 --> 36:51.110
修改死刀的数据

36:51.110 --> 36:52.110
这两个操作

36:54.110 --> 36:55.110
对吧

36:55.110 --> 36:56.110
那我们这样

36:56.110 --> 36:57.110
就可以什么

36:57.110 --> 36:58.110
将这个User

36:58.110 --> 36:59.110
info

36:59.110 --> 37:00.110
重新给它

37:00.110 --> 37:01.110
做一个复制

37:01.110 --> 37:02.110
是不是就可以了

37:02.110 --> 37:03.110
传指了

37:03.110 --> 37:04.110
传指传一个对象

37:04.110 --> 37:05.110
那这个对象呢

37:05.110 --> 37:06.110
首先

37:06.110 --> 37:07.110
我们点点点

37:07.110 --> 37:08.110
把我们之前

37:08.110 --> 37:09.110
获取到的

37:09.110 --> 37:10.110
这一次点

37:10.110 --> 37:11.110
Userinfo

37:11.110 --> 37:12.110
对吧

37:12.110 --> 37:13.110
在这个

37:13.110 --> 37:14.110
我们map mutations

37:14.110 --> 37:15.110
里面

37:15.110 --> 37:16.110
咱们可以看一下

37:16.110 --> 37:17.110
common min新

37:17.110 --> 37:18.110
里面

37:18.110 --> 37:19.110
在这个map state

37:19.110 --> 37:20.110
里面

37:20.110 --> 37:21.110
我们是不是可以

37:21.110 --> 37:22.110
获取Userinfo

37:22.110 --> 37:23.110
对吧

37:23.110 --> 37:24.110
那我直接

37:24.110 --> 37:25.110
把这个Userinfo

37:25.110 --> 37:26.110
做一个展开

37:26.110 --> 37:27.110
之后呢

37:27.110 --> 37:28.110
我再写一个对象

37:28.110 --> 37:29.110
然后呢

37:29.110 --> 37:30.110
这个对象

37:30.110 --> 37:31.110
就是对它

37:31.110 --> 37:32.110
这个Userinfo

37:32.110 --> 37:33.110
那这样

37:33.110 --> 37:34.110
后面的

37:34.110 --> 37:35.110
是不是把前面的

37:35.110 --> 37:36.110
给覆盖掉了

37:36.110 --> 37:37.110
然后覆盖掉之后

37:37.110 --> 37:38.110
那你直接的

37:38.110 --> 37:39.110
把这个

37:39.110 --> 37:40.110
我们死到里面的

37:40.110 --> 37:41.110
这个存储

37:41.110 --> 37:42.110
是不是也会

37:42.110 --> 37:43.110
有一个修改呢

37:44.110 --> 37:45.110
我们来看一眼

37:45.110 --> 37:46.110
在这个里面

37:46.110 --> 37:47.110
刷新一下

37:47.110 --> 37:48.110
首先

37:48.110 --> 37:49.110
先保证它的一个状态

37:49.110 --> 37:50.110
这里面目前

37:50.110 --> 37:51.110
看啥没有

37:51.110 --> 37:52.110
对吧

37:52.110 --> 37:53.110
因为我们两条数据

37:53.110 --> 37:54.110
现在应该是

37:54.110 --> 37:55.110
都给它干掉了

37:55.110 --> 37:56.110
对吧

37:56.110 --> 37:57.110
我们把数据库里面

37:57.110 --> 37:58.110
刷新一下

37:58.110 --> 37:59.110
两条都没有

37:59.110 --> 38:00.110
OK

38:00.110 --> 38:01.110
之后你会发现

38:01.110 --> 38:02.110
这动了一下

38:02.110 --> 38:03.110
对吧

38:03.110 --> 38:04.110
动了一下

38:04.110 --> 38:05.110
就说明啥

38:05.110 --> 38:06.110
有内容

38:06.110 --> 38:07.110
然后有内容

38:07.110 --> 38:08.110
我们再来

38:08.110 --> 38:09.110
第二条给插入

38:09.110 --> 38:10.110
插入之后

38:10.110 --> 38:11.110
你会发现

38:11.110 --> 38:12.110
两条数据

38:12.110 --> 38:13.110
是不是都进去了

38:13.110 --> 38:14.110
进去之后

38:14.110 --> 38:15.110
然后呢

38:15.110 --> 38:16.110
我把第二条

38:16.110 --> 38:17.110
再给做一个删除

38:17.110 --> 38:18.110
删除指定一个

38:18.110 --> 38:19.110
然后这个就没有了

38:19.110 --> 38:20.110
再把这个

38:20.110 --> 38:21.110
做一个删除

38:21.110 --> 38:22.110
OK

38:22.110 --> 38:23.110
这里面

38:23.110 --> 38:24.110
现在又变成一个空了

38:24.110 --> 38:25.110
对吧

38:25.110 --> 38:26.110
然后现在保存一个

38:26.110 --> 38:27.110
好的

38:27.110 --> 38:28.110
那这个呢

38:28.110 --> 38:29.110
就是我们

38:30.110 --> 38:31.110
现在

38:31.110 --> 38:32.110
我们如果说

38:32.110 --> 38:33.110
你要是

38:33.110 --> 38:34.110
点击收藏

38:34.110 --> 38:35.110
或者取消收藏之后

38:35.110 --> 38:36.110
你现在还得有一个

38:36.110 --> 38:37.110
状态

38:37.110 --> 38:38.110
啥状态呢

38:38.110 --> 38:39.110
就是说

38:39.110 --> 38:40.110
我们现在这个里面

38:40.110 --> 38:41.110
是不是得要把

38:41.110 --> 38:42.110
这个

38:42.110 --> 38:43.110
我们的整个的

38:43.110 --> 38:44.110
这个状态

38:44.110 --> 38:45.110
这个高量

38:45.110 --> 38:46.110
得给它添加一个

38:46.110 --> 38:47.110
对不对

38:47.110 --> 38:48.110
那如果说你不添加高量

38:48.110 --> 38:49.110
这肯定没戏的

38:49.110 --> 38:51.110
那我怎么来添加高量

38:51.110 --> 38:52.110
哎 稍微

38:52.110 --> 38:53.110
我看一下

38:53.110 --> 38:54.110
刚才这个

38:54.110 --> 38:55.110
好像有点问题

38:55.110 --> 38:56.110
这个里面

38:56.110 --> 38:57.110
现在是

38:57.110 --> 38:58.110
有一条纸

38:58.110 --> 38:59.110
我们刷新一下

38:59.110 --> 39:00.110
看到有没有

39:00.110 --> 39:01.110
刚才我怎么看

39:01.110 --> 39:02.110
这个提示不太对呢

39:02.110 --> 39:03.110
咱再回来

39:03.110 --> 39:04.110
这里面是一条

39:04.110 --> 39:05.110
对吧

39:05.110 --> 39:06.110
我现在点击一下

39:06.110 --> 39:07.110
取消收藏

39:07.110 --> 39:08.110
取消收藏

39:08.110 --> 39:09.110
它应该没有了

39:09.110 --> 39:10.110
对不对

39:10.110 --> 39:11.110
然后我再点击

39:11.110 --> 39:12.110
应该是收藏成功

39:12.110 --> 39:13.110
好的

39:13.110 --> 39:14.110
怪我

39:14.110 --> 39:15.110
刚才是看花眼

39:15.110 --> 39:16.110
因为这个状态

39:16.110 --> 39:17.110
现在没有

39:17.110 --> 39:18.110
特别讨厌

39:18.110 --> 39:19.110
所以说咱们

39:19.110 --> 39:20.110
把这个状态

39:20.110 --> 39:21.110
抓紧做一下

39:21.110 --> 39:22.110
抓紧做一下是啥呢

39:22.110 --> 39:23.110
其实我们这个里面

39:23.110 --> 39:24.110
在这个type

39:24.110 --> 39:25.110
现在是

39:25.110 --> 39:26.110
静开纸

39:26.110 --> 39:27.110
搞成动态纸

39:27.110 --> 39:28.110
那这个动态纸

39:28.110 --> 39:29.110
我这里面

39:29.110 --> 39:30.110
可以定一个

39:30.110 --> 39:31.110
定一个什么呢

39:31.110 --> 39:32.110
我们定用一个

39:32.110 --> 39:33.110
状态纸来做

39:33.110 --> 39:34.110
比如说我现在

39:34.110 --> 39:35.110
这个里面写一个

39:35.110 --> 39:36.110
ease like

39:36.110 --> 39:38.110
ease say what

39:38.110 --> 39:39.110
那假如说

39:39.110 --> 39:40.110
它是true

39:40.110 --> 39:42.110
我这里面写一下

39:42.110 --> 39:43.110
这里面写一下怎么办呢

39:43.110 --> 39:44.110
我就用

39:44.110 --> 39:45.110
通过它来判断一下

39:45.110 --> 39:46.110
ease true

39:46.110 --> 39:47.110
成立吗

39:47.110 --> 39:48.110
成立的话是

39:48.110 --> 39:49.110
heart

39:49.110 --> 39:51.110
一个file

39:51.110 --> 39:52.110
也就是说

39:52.110 --> 39:53.110
实行的

39:53.110 --> 39:54.110
否则就让它

39:54.110 --> 39:55.110
变成我们的这个

39:55.110 --> 39:57.110
空气儿的就可以

39:57.110 --> 39:58.110
heart ok

39:58.110 --> 39:59.110
那这样是不是就可以

39:59.110 --> 40:00.110
反正初始化的时候

40:00.110 --> 40:01.110
现在

40:01.110 --> 40:02.110
它不管你收没收藏

40:02.110 --> 40:03.110
这个里面应该是什么

40:03.110 --> 40:05.110
全实行的对不对

40:05.110 --> 40:06.110
全实行的也不对

40:06.110 --> 40:07.110
所以说我们现在

40:07.110 --> 40:08.110
就调整一下

40:08.110 --> 40:09.110
ease say what

40:09.110 --> 40:10.110
就可以了

40:10.110 --> 40:11.110
这个ease say what

40:11.110 --> 40:12.110
我们不能在这定义

40:12.110 --> 40:13.110
应该啥呢

40:13.110 --> 40:14.110
它应该是一个计算属性

40:14.110 --> 40:15.110
根据什么

40:15.110 --> 40:16.110
根据我们的这个

40:16.110 --> 40:17.110
用信息

40:17.110 --> 40:18.110
来判断

40:18.110 --> 40:19.110
它当前是否

40:19.110 --> 40:20.110
是一个

40:20.110 --> 40:21.110
收藏的状态

40:21.110 --> 40:22.110
那所以说

40:22.110 --> 40:23.110
我们这个里面

40:23.110 --> 40:25.110
我直接的调到哪个里面

40:25.110 --> 40:26.110
think

40:26.110 --> 40:28.110
在这个里面买色的

40:28.110 --> 40:29.110
我下面就写一个什么

40:29.110 --> 40:30.110
computed

40:32.110 --> 40:34.110
写一个计算属性

40:34.110 --> 40:35.110
那这里面计算属性

40:35.110 --> 40:36.110
我就是ease say

40:36.110 --> 40:37.110
可以吧

40:37.110 --> 40:39.110
写一个ease say

40:39.110 --> 40:40.110
我这里面要做一个

40:40.110 --> 40:41.110
什么判断呢

40:41.110 --> 40:42.110
我就委谈出一个值

40:42.110 --> 40:43.110
首先呢

40:43.110 --> 40:44.110
我们这个

40:44.110 --> 40:45.110
you the info

40:45.110 --> 40:46.110
还有可能没有对吧

40:46.110 --> 40:47.110
那这个

40:47.110 --> 40:48.110
我们要保证

40:48.110 --> 40:49.110
you the info

40:49.110 --> 40:50.110
有啊

40:50.110 --> 40:51.110
因为啥呢

40:51.110 --> 40:52.110
直接这个you the info

40:52.110 --> 40:53.110
这个application里面

40:53.110 --> 40:54.110
咱们可以看

40:54.110 --> 40:55.110
假如说你要不存职的话

40:55.110 --> 40:56.110
那是不是就no啊

40:56.110 --> 40:57.110
no

40:57.110 --> 40:58.110
那我直接就给你反悔

40:58.110 --> 40:59.110
放出来

40:59.110 --> 41:00.110
你不可能你都没有登录

41:00.110 --> 41:01.110
你怎么可能收藏

41:01.110 --> 41:02.110
对不对

41:02.110 --> 41:03.110
就是这种想法

41:03.110 --> 41:04.110
首先你要是

41:04.110 --> 41:05.110
如果说没登录

41:05.110 --> 41:06.110
那直接就干掉

41:06.110 --> 41:07.110
假如说你登录了

41:07.110 --> 41:08.110
那我再继续来判断

41:08.110 --> 41:09.110
判断什么呢

41:09.110 --> 41:11.110
这一次点you the info

41:11.110 --> 41:12.110
然后在这个里面

41:12.110 --> 41:13.110
点article

41:13.110 --> 41:14.110
咱们就找到

41:14.110 --> 41:15.110
它的什么

41:15.110 --> 41:16.110
article like ids

41:16.110 --> 41:17.110
然后呢

41:17.110 --> 41:19.110
看它是否包含

41:19.110 --> 41:20.110
我们的什么

41:20.110 --> 41:21.110
inclose

41:21.110 --> 41:23.110
如果说你要是包含

41:23.110 --> 41:24.110
我们这个文章

41:24.110 --> 41:25.110
当前的这个文章

41:25.110 --> 41:26.110
那ok

41:26.110 --> 41:27.110
那直接的你现在

41:27.110 --> 41:28.110
就是收藏状态

41:28.110 --> 41:29.110
如果说你不包含

41:29.110 --> 41:30.110
那就是没有

41:30.110 --> 41:31.110
对不对

41:31.110 --> 41:32.110
那我直接就把这个

41:32.110 --> 41:33.110
article id

41:33.110 --> 41:34.110
是不是就可以传进去

41:34.110 --> 41:36.110
这次点article id

41:36.110 --> 41:37.110
那这个呢

41:37.110 --> 41:38.110
就是我们通过

41:38.110 --> 41:39.110
计算属性

41:39.110 --> 41:40.110
给ease say

41:40.110 --> 41:41.110
定了一个值啊

41:41.110 --> 41:42.110
我们可以来看一下

41:42.110 --> 41:43.110
是否可行

41:43.110 --> 41:44.110
在这个里面

41:44.110 --> 41:45.110
刷新一下

41:45.110 --> 41:46.110
你会发现出手话的时候

41:46.110 --> 41:47.110
因为这个you the info

41:47.110 --> 41:48.110
对不对

41:48.110 --> 41:49.110
出手话的时候

41:49.110 --> 41:50.110
它肯定得要执行一遍

41:50.110 --> 41:51.110
所以说这个

41:51.110 --> 41:52.110
啊也解决了

41:52.110 --> 41:53.110
我们出手话的时候

41:53.110 --> 41:54.110
这有没有收藏状态

41:54.110 --> 41:55.110
怎么一个过程

41:55.110 --> 41:57.110
第二个收藏成功

41:57.110 --> 41:58.110
对不对

41:58.110 --> 41:59.110
然后呢我把

41:59.110 --> 42:00.110
第一个取消收藏

42:00.110 --> 42:01.110
ok之后呢

42:01.110 --> 42:02.110
我再刷新一下介面

42:02.110 --> 42:03.110
刷新一下介面之后

42:03.110 --> 42:04.110
你会发现

42:04.110 --> 42:05.110
我们这个状态

42:05.110 --> 42:06.110
是不是也保存了

42:06.110 --> 42:07.110
然后你在这个里面

42:07.110 --> 42:08.110
可以任意的

42:08.110 --> 42:09.110
对每一条这个记录值

42:09.110 --> 42:10.110
来做一个收藏

42:10.110 --> 42:11.110
和取消收藏的

42:11.110 --> 42:12.110
一个处理

42:12.110 --> 42:13.110
对不对

42:13.110 --> 42:14.110
这样是都可以的

42:14.110 --> 42:16.110
好的我们再刷新一下

42:16.110 --> 42:17.110
这样是不是也可以

42:17.110 --> 42:18.110
对吧

42:18.110 --> 42:19.110
这个呢

42:19.110 --> 42:21.110
这是一个实现过程

42:21.110 --> 42:22.110
其实实现过程里面

42:22.110 --> 42:23.110
大概呢

42:23.110 --> 42:25.110
就是氛围我们这几步

42:25.110 --> 42:27.110
首先第一步是做什么呢

42:27.110 --> 42:29.110
我们前端处理了一下对吧

42:29.110 --> 42:30.110
前端其实

42:30.110 --> 42:31.110
做了一个准备工作

42:31.110 --> 42:32.110
准备什么工作呢

42:32.110 --> 42:33.110
我们将一些

42:33.110 --> 42:35.110
这个you the info的公共信息

42:35.110 --> 42:36.110
创建了一个米星

42:36.110 --> 42:38.110
然后在米星里面

42:38.110 --> 42:39.110
进行我们

42:39.110 --> 42:40.110
每一个页面

42:40.110 --> 42:41.110
每一个组件

42:41.110 --> 42:42.110
都可以获取到

42:42.110 --> 42:44.110
用户的这样一个操作

42:44.110 --> 42:45.110
这是这个

42:45.110 --> 42:46.110
然后准备好这些之后呢

42:46.110 --> 42:48.110
我们把这个you the id

42:48.110 --> 42:50.110
这个以及我们的这个

42:50.110 --> 42:51.110
article id

42:51.110 --> 42:52.110
因为我要明确

42:52.110 --> 42:53.110
是哪一个用户

42:53.110 --> 42:54.110
收藏哪一篇文章

42:54.110 --> 42:55.110
所以说

42:55.110 --> 42:56.110
后端在做处理的时候

42:56.110 --> 42:57.110
这两参数是必须的

42:57.110 --> 42:59.110
我准备好这个之后

42:59.110 --> 43:01.110
然后的就像后端传递了

43:01.110 --> 43:03.110
那这个云寒数里面

43:03.110 --> 43:05.110
他做这个操作的时候

43:05.110 --> 43:06.110
主要一个是什么呢

43:06.110 --> 43:07.110
就是这个

43:07.110 --> 43:09.110
我们通过修改指令

43:09.110 --> 43:11.110
来根据当前这个用户

43:11.110 --> 43:13.110
是否包含

43:13.110 --> 43:15.110
我们传递过来的这个

43:15.110 --> 43:16.110
article id

43:16.110 --> 43:17.110
那哪个里面包含

43:17.110 --> 43:18.110
就是看我们这个

43:18.110 --> 43:20.110
article legs id s里面

43:20.110 --> 43:21.110
是否包含

43:21.110 --> 43:22.110
如果说你要是包含了

43:22.110 --> 43:23.110
怎么办

43:23.110 --> 43:24.110
我直接的给你

43:24.110 --> 43:25.110
做一个删除操作

43:25.110 --> 43:27.110
假如说你没有包含怎么办

43:27.110 --> 43:28.110
那我直接给你

43:28.110 --> 43:29.110
做一个追加操作

43:29.110 --> 43:30.110
就是这么一个过程

43:30.110 --> 43:31.110
他是非常方便

43:31.110 --> 43:32.110
我们处理

43:32.110 --> 43:33.110
像这种

43:33.110 --> 43:34.110
数组了一下的数据的

43:34.110 --> 43:35.110
这个呢

43:35.110 --> 43:36.110
我们要知道一下

43:36.110 --> 43:37.110
然后这里面

43:37.110 --> 43:38.110
文档也有写

43:38.110 --> 43:39.110
我们在这个里面

43:39.110 --> 43:40.110
就不讲他这个文档的

43:40.110 --> 43:41.110
详细实现了

43:41.110 --> 43:42.110
我们查一篇

43:42.110 --> 43:43.110
直接可以自己

43:43.110 --> 43:44.110
来看一下

43:44.110 --> 43:45.110
就这么一个过程

43:45.110 --> 43:46.110
当你查询成功之后

43:46.110 --> 43:47.110
这个时候呢

43:47.110 --> 43:49.110
我云寒说准备数据

43:49.110 --> 43:51.110
就返回给你前端

43:51.110 --> 43:52.110
那给你准备的数据

43:52.110 --> 43:53.110
都有什么呢

43:53.110 --> 43:55.110
给你准备一个提示信息

43:55.110 --> 43:56.110
比如说这里面

43:56.110 --> 43:57.110
是否取消收藏

43:57.110 --> 43:58.110
还是添加收藏的

43:58.110 --> 43:59.110
每一个信息

43:59.110 --> 44:00.110
之后呢

44:00.110 --> 44:01.110
还有一个什么呢

44:01.110 --> 44:03.110
就是我们更新之后的

44:03.110 --> 44:04.110
这个用户

44:04.110 --> 44:05.110
为啥要用他

44:05.110 --> 44:06.110
因为我们接下来

44:06.110 --> 44:07.110
前端这里面

44:07.110 --> 44:09.110
我们要做这个用户的

44:09.110 --> 44:10.110
一个修改

44:10.110 --> 44:11.110
把谁修改了

44:11.110 --> 44:12.110
就是把我们的这个

44:12.110 --> 44:13.110
微查里面的数据

44:13.110 --> 44:15.110
以及我们本地存储的

44:15.110 --> 44:16.110
数据都给他做一个修改

44:16.110 --> 44:17.110
修改完成之后

44:17.110 --> 44:18.110
这样才能保证

44:18.110 --> 44:19.110
我们刷新界面的时候

44:19.110 --> 44:21.110
正常的一个渲染

44:21.110 --> 44:22.110
包括呢

44:22.110 --> 44:23.110
我们做这个

44:23.110 --> 44:24.110
计算属性的时候

44:24.110 --> 44:26.110
一个使用对不对

44:26.110 --> 44:27.110
那这个呢

44:27.110 --> 44:28.110
就是我们整个的

44:28.110 --> 44:29.110
一个实现过程

44:29.110 --> 44:30.110
好的

44:30.110 --> 44:31.110
我们这几颗就到这里

