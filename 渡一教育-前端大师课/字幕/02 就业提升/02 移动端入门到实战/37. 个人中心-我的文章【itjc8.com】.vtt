WEBVTT

00:00.620 --> 00:05.980
各位同学大家好 这节课我们继续个人中心的一个代码制作

00:05.980 --> 00:09.740
那么我们首先先把这里面的数据给进行一些渲染

00:09.740 --> 00:15.180
也就是说把这些静态值给替换为我们用户里面的相关的内容

00:15.180 --> 00:17.220
回到我们的这个编辑器里面

00:17.220 --> 00:20.540
首先就是说对这个图片的一个处理

00:20.540 --> 00:22.860
之前我们都使用这种静态图片

00:22.860 --> 00:27.340
那现在如果说它登录了 肯定是有一个用户的头像

00:27.380 --> 00:28.860
那我这里面就写一下

00:32.380 --> 00:33.900
ok 第一个 那其实呢

00:33.900 --> 00:36.500
我们这个第二个里面的这个就是

00:36.500 --> 00:38.700
因为这个是我们后面的啊

00:38.700 --> 00:41.060
这个虚化的图片里面的这个

00:41.060 --> 00:42.740
我也给他做一个调整啊

00:42.740 --> 00:45.340
这个给他全干掉了是吧

00:45.340 --> 00:47.580
把这儿给他干掉就可以啊

00:47.580 --> 00:49.620
src ok

00:49.620 --> 00:52.060
yotrinfo.aveta 咱们看一下

00:52.060 --> 00:55.020
ok 这个里面现在已经换过来了

00:55.020 --> 00:55.460
对不对

00:55.500 --> 00:56.860
包括他的这个头像

00:56.860 --> 00:59.580
以及后面的这个盟版的一个处理啊

00:59.580 --> 01:00.060
之后呢

01:00.060 --> 01:03.820
我们继续把他的这个名字给做一下调整

01:05.140 --> 01:09.580
yotrinfo.alsoname 对不对

01:09.580 --> 01:10.660
这里面写一下

01:10.660 --> 01:12.900
yotrinfo.alsoname

01:12.900 --> 01:13.620
看一下啊

01:13.620 --> 01:15.780
这个里面外部讲师团都一大熊

01:15.780 --> 01:16.940
是不是就换过来了

01:16.940 --> 01:17.900
那换过来之后

01:17.900 --> 01:20.500
咱们继续的进行一个编写

01:20.500 --> 01:22.340
被关注被关注多少次呢

01:22.380 --> 01:23.780
那我们就得找一下

01:23.780 --> 01:26.540
他的这个里面的这个值了

01:26.540 --> 01:29.820
我们到这个里面云数据库

01:29.820 --> 01:32.020
到这里面找到我们的这个yotr

01:33.540 --> 01:34.460
有一个什么呢

01:34.460 --> 01:37.580
follow count 就是关注的数量

01:37.580 --> 01:39.060
当然了这个关注的数量

01:39.060 --> 01:39.500
其实呢

01:39.500 --> 01:41.300
我们在这个用户点击的时候

01:41.300 --> 01:42.380
是可以做的

01:42.380 --> 01:44.300
但是目前的这个版本里面

01:44.300 --> 01:47.060
我们暂时先不做处理了

01:47.060 --> 01:48.580
给他炫上去就可以

01:48.580 --> 01:50.460
那我们直接yotrinfo

01:52.420 --> 01:54.380
点follow count之后呢

01:54.380 --> 01:56.500
是我们的这个粉丝

01:56.500 --> 01:57.700
yotrinfo

01:57.700 --> 01:59.780
我们这里面有一个fans

01:59.780 --> 02:00.980
fans count

02:01.860 --> 02:02.700
ok

02:02.700 --> 02:05.380
这个也处理完了之后

02:05.380 --> 02:08.260
fans这个里面就是没有点啊

02:08.260 --> 02:09.180
最后一个什么呢

02:09.180 --> 02:11.140
就是我们的这个积分啊

02:11.140 --> 02:11.620
积分呢

02:11.620 --> 02:12.620
我再得看一下

02:12.620 --> 02:15.340
这个积分应该是intr

02:15.340 --> 02:16.180
哦 这呢

02:16.180 --> 02:16.980
intr count

02:16.980 --> 02:18.500
但是这个如果没有积分的话

02:18.500 --> 02:19.580
它是一个空

02:19.580 --> 02:20.380
这个数据呢

02:20.380 --> 02:22.140
是我们出手话的时候定义的

02:22.140 --> 02:24.220
所以说这个里面我们要注意一下啊

02:24.220 --> 02:25.140
有的数据呢

02:25.140 --> 02:25.980
可能格式啊

02:25.980 --> 02:26.940
不是特别正确

02:26.940 --> 02:27.500
那怎么办呢

02:27.500 --> 02:28.820
我们这里面做一个

02:29.940 --> 02:30.820
兼容处理啊

02:30.820 --> 02:32.020
yotrinfo

02:32.020 --> 02:34.100
点intr count成立吗

02:34.100 --> 02:34.820
成立的话

02:34.820 --> 02:36.580
那就显示yotrinfo

02:36.580 --> 02:37.660
点intr count

02:37.660 --> 02:38.260
否则呢

02:38.260 --> 02:39.660
那就给他一个零

02:39.660 --> 02:40.140
这样呢

02:40.140 --> 02:42.740
直接的就能来进行一个什么

02:42.740 --> 02:44.660
我们直接的一个条件输出

02:44.660 --> 02:45.260
或者是呢

02:45.260 --> 02:45.940
如果说啊

02:45.940 --> 02:47.660
你想减写一下怎么办

02:47.660 --> 02:48.540
yotrinfo

02:48.540 --> 02:50.100
点intr count有值的话

02:50.100 --> 02:51.100
你就输出它

02:51.100 --> 02:52.820
或者然后取这个零

02:52.820 --> 02:54.420
那是不是前面是false

02:54.420 --> 02:55.740
它是不是就取后边这个了

02:55.740 --> 02:56.260
对吧

02:56.260 --> 02:56.780
那这样呢

02:56.780 --> 02:59.420
就能保证一个正常的显示呢

02:59.420 --> 03:01.500
我们来看一下这个里面零零零

03:01.500 --> 03:02.820
因为现在也没有内容

03:02.820 --> 03:03.300
对吧

03:03.300 --> 03:04.660
那这里面它都显示零

03:04.660 --> 03:06.380
如果说你想做测试的话

03:06.380 --> 03:07.900
那你在这里面给他添一个

03:07.900 --> 03:08.660
是不是就可以了

03:08.660 --> 03:10.340
也就是说给他调整一个

03:10.340 --> 03:10.820
比如说呢

03:10.820 --> 03:11.380
这个零

03:11.380 --> 03:12.580
我们给他调整一个

03:12.580 --> 03:14.940
看的是否是正确的啊

03:14.940 --> 03:16.020
粉丝的数量

03:16.020 --> 03:18.100
粉丝的数量给他来100人吧

03:19.100 --> 03:20.140
1000人

03:20.140 --> 03:21.500
多关注点啊

03:21.500 --> 03:22.660
那回去之后

03:22.660 --> 03:24.540
我们刷新一下界面啊

03:24.540 --> 03:25.420
刷新一下界面

03:25.420 --> 03:27.340
你会发现这里面是不是没有用啊

03:27.340 --> 03:28.380
为啥没有用呢

03:28.380 --> 03:30.660
因为我们这个里面得做一个退出啊

03:30.660 --> 03:31.980
我们读取的是啥呢

03:31.980 --> 03:33.580
不是说每次都获取数据的

03:33.580 --> 03:36.580
因为我这里面取的是yotrinfo里面的数据

03:36.580 --> 03:37.260
对不对

03:37.260 --> 03:38.460
当你获取的时候

03:38.460 --> 03:39.260
那此时呢

03:39.260 --> 03:40.740
这个里面变成闹了啊

03:40.740 --> 03:41.220
所以说呢

03:41.220 --> 03:43.300
我们重新的进行一个获取啊

03:45.060 --> 03:46.420
l958

03:46.420 --> 03:47.700
然后123

03:47.700 --> 03:49.300
这里面写一下qwe

03:49.300 --> 03:49.620
ok

03:49.620 --> 03:50.100
可以啊

03:51.660 --> 03:51.940
好的

03:51.940 --> 03:52.620
处理完了

03:52.620 --> 03:53.540
粉丝1000人

03:53.540 --> 03:54.620
这样就上来了啊

03:55.900 --> 03:56.660
过来之后呢

03:56.660 --> 03:59.060
我们现在在这个里面再处理一下啥呢

03:59.060 --> 04:00.180
这个当前版本

04:00.180 --> 04:01.780
我们现在显示的不对

04:01.780 --> 04:02.460
对不对

04:02.460 --> 04:03.220
那我们看一下

04:03.220 --> 04:05.420
因为当时我们做的是

04:05.420 --> 04:07.020
只有在这个

04:07.020 --> 04:10.180
我们的app应用里面才进行显示啊

04:10.180 --> 04:13.180
这个里面好像写的不对啊

04:13.180 --> 04:16.220
那锦号EFDF

04:16.220 --> 04:18.860
那我们这里面应该是什么

04:18.860 --> 04:20.780
结束的应该是按的DF

04:20.780 --> 04:21.260
对不对

04:21.260 --> 04:23.340
那我们这里面写一下锦号

04:25.300 --> 04:26.620
按的EF

04:26.620 --> 04:27.580
ok

04:27.580 --> 04:29.620
那看一下现代是不是就不显示了

04:29.620 --> 04:30.140
对吧

04:30.140 --> 04:31.500
它不显示是不显示了

04:31.500 --> 04:32.180
但这个里面呢

04:32.180 --> 04:33.580
我们得处理一下

04:33.580 --> 04:35.340
如果说你这个版本

04:35.340 --> 04:36.700
要是当前的版本

04:36.700 --> 04:38.620
小于我们最新的版本的话

04:38.620 --> 04:41.220
那这个在app里面是要显示的啊

04:41.220 --> 04:41.940
不过目前呢

04:41.940 --> 04:43.140
我们涉及到一个问题

04:43.140 --> 04:43.940
是啥问题呢

04:43.980 --> 04:46.660
就是我们只做安卓的应用

04:46.660 --> 04:47.780
iOS的应用呢

04:47.780 --> 04:50.060
我们在这个里面测试的时候啊

04:50.060 --> 04:51.340
没法做这个测试

04:51.340 --> 04:52.380
所以说怎么办呢

04:52.380 --> 04:53.780
我们这个安卓应用呢

04:53.780 --> 04:55.220
但是我们现在还没有上线

04:55.220 --> 04:55.780
所以说呢

04:55.780 --> 04:58.140
我们先把这个里面的这个业务逻辑

04:58.140 --> 04:59.020
给实现一下

04:59.020 --> 05:00.540
最后上线的时候呢

05:00.540 --> 05:02.100
我们可以来做一个测试

05:02.100 --> 05:04.020
因为我们现在一个版本都没有发呢

05:04.020 --> 05:04.620
对不对

05:04.620 --> 05:06.420
那这个怎么来检测呢

05:06.420 --> 05:07.540
也就是说你看啊

05:07.540 --> 05:09.740
这个里面是有一些变量的使用的

05:09.740 --> 05:11.220
比如说Hive New Version呢

05:11.220 --> 05:12.660
以及Current Version呢

05:12.660 --> 05:13.220
这个纸啊

05:13.220 --> 05:14.500
我们这是写死的

05:14.500 --> 05:15.580
这个显然不对

05:15.580 --> 05:16.540
那怎么办呢

05:16.540 --> 05:18.220
我们在这个onload里面啊

05:18.220 --> 05:19.460
就要来判断一下

05:19.460 --> 05:21.500
当前是否有新的版本

05:21.500 --> 05:22.420
那有新的版本呢

05:22.420 --> 05:23.780
我这里面就处理一下

05:23.780 --> 05:24.700
怎么来处理

05:24.700 --> 05:26.860
这个是针对我们的这个

05:26.860 --> 05:27.820
app应用的

05:27.820 --> 05:30.700
所以说我这里面写一个app plus啊

05:30.700 --> 05:31.300
然后呢

05:31.300 --> 05:35.180
我们you need to get system info

05:35.180 --> 05:38.340
system info

05:38.340 --> 05:38.660
好的

05:38.660 --> 05:41.060
在这个get system info里面

05:41.060 --> 05:42.700
如果说它成功的话

05:42.700 --> 05:43.420
success

05:43.420 --> 05:45.580
那我这里面就能打印出来一个什么

05:45.580 --> 05:46.780
res的值

05:46.780 --> 05:47.060
对吧

05:47.060 --> 05:47.740
那我看一眼

05:47.740 --> 05:48.700
这个res啊

05:48.700 --> 05:49.700
咱们可以看一眼

05:50.940 --> 05:53.500
虽然我是直接的在这个里面啊

05:53.500 --> 05:53.980
sorry啊

05:53.980 --> 05:55.740
这个只有在app里面能看啊

05:55.740 --> 05:56.580
那咋办呢

05:56.580 --> 06:00.700
我们把这个iPhone给打开啊

06:00.700 --> 06:02.780
开启我们的这个hpu的差

06:02.780 --> 06:04.740
在这个里面来进行一下查看嘛

06:04.740 --> 06:05.180
这个呢

06:05.180 --> 06:08.140
就获得我们当前平台的一个信息

06:08.140 --> 06:09.620
是可以获取到了啊

06:09.620 --> 06:12.020
我们找到这个hpu的差的机座

06:12.020 --> 06:13.660
给他做一个打开处理

06:15.060 --> 06:16.180
打开处理之后

06:16.180 --> 06:17.900
那我们回到我的界面

06:17.900 --> 06:19.060
到我的界面里面

06:19.060 --> 06:20.340
这时候没有登录

06:20.340 --> 06:20.980
对吧

06:20.980 --> 06:21.700
没有登录

06:21.700 --> 06:23.180
他也应该是展示啊

06:23.180 --> 06:25.620
我们这里面再重新运行一下吧

06:25.620 --> 06:27.860
让他有一个重新编译的过程啊

06:27.860 --> 06:30.220
否则这个里面刚才好像是不太对啊

06:30.220 --> 06:31.980
因为我这里面有打印

06:31.980 --> 06:34.140
you need to get system info

06:35.660 --> 06:37.260
正在重启hpu的差

06:37.260 --> 06:37.540
ok

06:37.540 --> 06:38.300
重启之后啊

06:38.300 --> 06:40.180
咱们看这个里面就可以啊

06:40.180 --> 06:41.140
正在安装

06:41.180 --> 06:42.340
重启啊

06:42.340 --> 06:42.580
好的

06:42.580 --> 06:45.740
那这个里面已经有这个iOS的问题啊

06:45.740 --> 06:46.820
现在没有呢

06:46.820 --> 06:48.540
这是app.real打印的

06:48.540 --> 06:50.580
那我们直接调我的里面

06:50.580 --> 06:53.860
我的里面这个有一个irmsg

06:53.860 --> 06:56.780
geist system info ok

06:56.780 --> 06:58.260
然后这个里面是获取到了

06:58.260 --> 06:59.060
获取到之后呢

06:59.060 --> 06:59.860
咱们点击一下

07:01.260 --> 07:01.700
这个呢

07:01.700 --> 07:04.780
就是他的一些系统的一个信息

07:04.780 --> 07:07.020
那我们在这个里面能判断一个什么呢

07:07.020 --> 07:08.820
这里面什么bran的apple

07:08.820 --> 07:11.020
那我们直接的还可以

07:11.020 --> 07:13.300
获取到他的一个什么played form

07:13.300 --> 07:14.940
平台的一个信息

07:14.940 --> 07:16.460
这个是iOS对不对

07:16.460 --> 07:17.940
如果说你要是安卓平台呢

07:17.940 --> 07:20.420
那这个里面就应该是显示安卓的

07:20.420 --> 07:20.860
所以说呢

07:20.860 --> 07:21.620
我在这个里面

07:22.620 --> 07:23.820
假如说你要是安卓

07:23.820 --> 07:25.300
那我做一下处理

07:25.300 --> 07:26.140
这个怎么来写

07:26.140 --> 07:28.180
我们直接就完成一下就可以了啊

07:28.180 --> 07:28.540
然后呢

07:28.540 --> 07:29.140
或者是呢

07:29.140 --> 07:31.060
同学们如果说这个不知道怎么来写

07:31.060 --> 07:33.060
我这里面给同学们提供了啊

07:33.060 --> 07:34.780
你出实话的时候可以判断

07:34.780 --> 07:36.660
因为我们现在做不了展示

07:36.660 --> 07:39.580
那直接的我就把这一段给拿过来啊

07:39.580 --> 07:41.340
这个里面是做什么事呢

07:41.340 --> 07:43.020
给同学们做一个解释

07:43.020 --> 07:44.420
我先沾过来啊

07:44.420 --> 07:47.380
判断一下我们当前的平台是不是安卓

07:47.380 --> 07:49.500
如果说是安卓的话

07:49.500 --> 07:51.260
那我这里面使用webvail

07:51.260 --> 07:53.020
也就是说h5加的一个方法

07:53.020 --> 07:55.380
plus点ran tam

07:55.380 --> 07:57.420
我们获取他的一个属性

07:57.420 --> 07:58.420
那这个里面呢

07:58.420 --> 08:00.940
我们就能获取到他的一个version

08:00.940 --> 08:01.740
也就是说

08:01.740 --> 08:04.380
当前的我们这个应用的一个版本啊

08:04.380 --> 08:06.100
获取到这个应用版本之后

08:06.100 --> 08:06.980
那我这里面呢

08:06.980 --> 08:08.980
就给我们这个组件

08:08.980 --> 08:10.460
也就是说这个页面组件里面

08:10.460 --> 08:12.820
指定的这个版本给他进行一个复制

08:12.820 --> 08:14.220
那这个版本从哪过去

08:14.220 --> 08:15.540
怎么来看啊

08:15.540 --> 08:19.620
我们可以看一下manifest.json文件啊

08:19.620 --> 08:21.580
我们打开manifest.json

08:21.580 --> 08:23.700
把这个没用的先给他干掉啊

08:23.700 --> 08:24.260
不保存

08:24.260 --> 08:26.420
你来到manifest.json里面

08:26.420 --> 08:29.660
我们这里面是有一个应用的版本名称的

08:29.660 --> 08:33.380
那这里面有一个iOS和安卓的一个显示

08:33.380 --> 08:35.340
那这时候因为我们匹配的是

08:35.380 --> 08:36.660
安卓的一个平台

08:36.660 --> 08:37.460
所以说呢

08:37.460 --> 08:40.180
当你这个手机安卓连接的时候

08:40.180 --> 08:41.420
那他就会显示这个

08:41.420 --> 08:43.020
当前的这个应用版本

08:43.020 --> 08:43.900
如果说

08:43.900 --> 08:45.500
你这个里面显示的是啥呢

08:45.500 --> 08:47.020
是这个版本名称啊

08:47.020 --> 08:48.540
如果说我们以后升级的时候

08:48.540 --> 08:49.340
在打包的时候

08:49.340 --> 08:51.220
我们只要在这个版本的基础上

08:51.220 --> 08:53.460
进行一个我们网上添加的

08:53.460 --> 08:54.940
这样一个操作就可以了

08:54.940 --> 08:55.780
比如说小版本

08:55.780 --> 08:56.780
那我们改成什么

08:56.780 --> 08:58.020
1.0.1

08:58.020 --> 08:58.660
大版本呢

08:58.660 --> 09:00.540
我们直接的改成1.1

09:00.540 --> 09:00.940
对不对

09:00.940 --> 09:03.140
是这种提示往前

09:03.140 --> 09:05.140
比如说我们把应用给他做一个提高

09:05.140 --> 09:07.100
就在这个里面处理就可以了

09:07.100 --> 09:08.580
那现在这个里面

09:08.580 --> 09:10.100
我们直接定义好了之后

09:10.100 --> 09:12.100
这里面我们就创建了一个什么的

09:12.100 --> 09:13.140
trick version

09:13.140 --> 09:15.220
那这个里面就需要你做一件什么事

09:15.220 --> 09:16.860
把这个当前的这个版本

09:16.860 --> 09:18.460
给做一个检测

09:18.460 --> 09:18.940
然后呢

09:18.940 --> 09:21.300
我这里面就定一下啊

09:21.300 --> 09:24.100
找到我们的这个trick

09:24.100 --> 09:24.780
myser的

09:24.780 --> 09:26.860
myser的下面定一个

09:26.860 --> 09:28.460
这个里面是什么呢

09:28.460 --> 09:32.580
检测当前应用的一个版本啊

09:32.580 --> 09:33.860
应用的版本

09:33.860 --> 09:36.100
ok 在这里面trick version

09:36.100 --> 09:38.100
因为我们是一个获取

09:38.100 --> 09:41.140
那这里面就写一个async trick version

09:41.140 --> 09:42.060
然后在这里面

09:42.060 --> 09:43.580
就调用方法就可以了

09:43.580 --> 09:44.820
这个方法怎么来写

09:44.820 --> 09:45.620
其实这个里面呢

09:45.620 --> 09:48.460
我们需要去获取一个后端的

09:48.460 --> 09:50.660
也就是说云寒书里面的一个请求

09:50.660 --> 09:51.100
然后呢

09:51.100 --> 09:53.500
把当前的这个版本啊

09:53.500 --> 09:55.380
最新的这个版本信息获取到

09:55.380 --> 09:55.820
并且呢

09:55.820 --> 09:57.300
如果说你要是最新版本

09:57.300 --> 10:00.220
还会给我们一个下载的链接地址啊

10:00.220 --> 10:02.140
这个里面我们可以直接的

10:02.220 --> 10:04.980
来粘贴一下这个就可以了啊

10:04.980 --> 10:06.300
就是这段话啊

10:06.300 --> 10:09.340
我们直接拿我来就使用就可以

10:09.340 --> 10:11.060
ok 我们放到哪个里面

10:11.060 --> 10:13.420
放到我们的这个hpl叉里面啊

10:13.420 --> 10:15.260
couns的我们这里面定一个

10:15.260 --> 10:16.060
获取varsion

10:16.060 --> 10:19.420
以及download link url的这两个变量

10:19.420 --> 10:20.060
然后呢

10:20.060 --> 10:22.220
这里面有一个guide currentvarsion

10:22.220 --> 10:24.820
那我们就把这个给实现一下啊

10:24.820 --> 10:26.500
guide currentvarsion

10:26.500 --> 10:27.340
怎么来实现

10:27.340 --> 10:29.140
打开uniclode的function

10:29.140 --> 10:30.020
我们在这个里面

10:30.060 --> 10:31.660
新建一个云函数

10:31.660 --> 10:34.140
就叫我们的guide currentvarsion

10:34.140 --> 10:35.860
在这里面定一下啊

10:35.860 --> 10:37.700
那我这里面couns的db

10:39.820 --> 10:44.100
couns的db等于uniclode.database

10:44.100 --> 10:45.580
先获取一个引用

10:45.580 --> 10:45.980
之后呢

10:45.980 --> 10:47.620
我们前段也不需要传直

10:47.620 --> 10:49.580
然后直接的我们请求

10:49.580 --> 10:50.380
请求一下呢

10:50.380 --> 10:51.620
我们请求数据库

10:51.620 --> 10:54.620
之后给他获取一个值就ok了

10:54.620 --> 10:56.980
那这个怎么来请求数据库呢

10:56.980 --> 10:57.900
那我们现在啊

10:57.900 --> 10:59.500
就来写一下啊

10:59.500 --> 11:00.940
我在这个里面写一下

11:00.940 --> 11:01.700
couns的

11:01.700 --> 11:04.460
我们这里面获取couns的varsion

11:04.460 --> 11:06.980
等于我们的这个avata

11:06.980 --> 11:07.500
然后呢

11:07.500 --> 11:09.580
这个里面是db.collection

11:09.580 --> 11:11.060
找一个集合

11:11.060 --> 11:11.980
那这个集合呢

11:11.980 --> 11:13.340
就叫varsion啊

11:13.340 --> 11:14.340
这个varsion里面

11:14.340 --> 11:15.580
我们点guide

11:15.580 --> 11:16.740
那我们可以看一下

11:16.740 --> 11:19.020
这个varsion里面都有啥内容啊

11:19.020 --> 11:21.020
回到我们的这个云数据库里面

11:21.020 --> 11:22.100
然后这个时候呢

11:22.100 --> 11:22.980
我扩展了一个

11:22.980 --> 11:23.860
扩展一个怎么办

11:23.860 --> 11:26.020
我们直接在那新建一个就可以啊

11:26.020 --> 11:27.540
然后给他添加了一个值

11:27.540 --> 11:29.020
这是coun的varsion

11:29.020 --> 11:30.980
当你在这个打包更新的时候

11:30.980 --> 11:33.540
其实我们操作的一个数据库就ok了

11:33.540 --> 11:34.940
其实我们知道云函数

11:34.940 --> 11:36.500
跟我们打包出来的这个应用

11:36.500 --> 11:37.660
他们是独立的

11:37.660 --> 11:38.820
所以说

11:38.820 --> 11:40.220
只不过是我们云函数

11:40.220 --> 11:41.860
既存在我们哪啊

11:41.860 --> 11:43.220
在我们的这个应用里面

11:43.220 --> 11:43.780
但是呢

11:43.780 --> 11:44.940
我们这个云函数

11:44.940 --> 11:46.220
它相对是独立的

11:46.220 --> 11:46.620
所以说

11:46.620 --> 11:48.420
它不会影响我们整个工程

11:48.420 --> 11:49.500
在工程打包的时候

11:49.500 --> 11:51.180
云函数是不会被打包进去的

11:51.180 --> 11:51.500
这个呢

11:51.500 --> 11:53.100
我们要明确一下啊

11:53.100 --> 11:54.620
这里面有一个coun的varsion

11:54.620 --> 11:55.780
是我提前定义好的

11:55.780 --> 11:58.180
那我们直接就把他给做一个返回

11:58.180 --> 11:58.980
就ok了

11:59.020 --> 12:00.060
那咱们说了

12:00.060 --> 12:01.540
如果说你这个版本

12:01.540 --> 12:03.540
假如说你要比现在这个大

12:03.540 --> 12:05.420
那我现在是1.0.0对不对

12:05.420 --> 12:07.300
那有可能是1.0.1怎么办呢

12:07.300 --> 12:08.660
那你这里面还得给前端

12:08.660 --> 12:09.780
返回一个什么呢

12:09.780 --> 12:11.460
返回一个我们当前

12:11.460 --> 12:13.460
可下载的这么一个apk

12:13.460 --> 12:14.580
因为是安卓的嘛

12:14.580 --> 12:15.180
对吧

12:15.180 --> 12:16.820
那这个apk在哪获取呢

12:16.820 --> 12:18.660
我们这里面有一个云存处啊

12:18.660 --> 12:21.060
这个里面就会有一个apk地址

12:21.060 --> 12:22.420
如果说你下载之后

12:22.420 --> 12:23.540
咱们接下来的课程

12:23.540 --> 12:24.940
马上就会接触到

12:24.940 --> 12:26.900
如果说我打包生成一个apk之后

12:26.900 --> 12:27.580
咋办呢

12:27.620 --> 12:29.620
这里面我们直接给他上传到

12:29.620 --> 12:31.460
本个工程的云存处里面

12:31.460 --> 12:34.660
那这里面详情就能获取一个地址啊

12:34.660 --> 12:36.300
我们就把这个地址保存一下

12:36.300 --> 12:37.300
就可以了啊

12:37.300 --> 12:37.780
然后呢

12:37.780 --> 12:40.460
我在这个里面给前端做一个返回

12:40.460 --> 12:41.340
就可以了啊

12:41.340 --> 12:42.220
那返回什么呢

12:42.220 --> 12:44.460
首先给他返回一个varsion

12:44.460 --> 12:47.660
varsion是我们这个里面的一个什么呢

12:47.660 --> 12:49.980
这个varsion db点guide

12:49.980 --> 12:51.700
那我直接的这个guide

12:51.700 --> 12:54.140
肯定是这个0对不对

12:54.140 --> 12:55.100
是一个数组

12:55.100 --> 12:56.820
那我varsion点

12:58.220 --> 12:59.620
把这个从你写一下

12:59.620 --> 13:01.940
varsion然后是点data

13:03.220 --> 13:05.620
data下面的一个0

13:05.620 --> 13:08.460
直接的我们获取他的一个current

13:09.740 --> 13:11.420
下滑线varsion

13:11.420 --> 13:11.820
OK

13:11.820 --> 13:13.300
把它给获取一下

13:13.300 --> 13:14.300
获取完它之后

13:14.300 --> 13:15.580
那我这里面再给前端

13:15.580 --> 13:16.540
返一个指啊

13:16.540 --> 13:17.500
返一个什么指呢

13:17.500 --> 13:20.140
download url

13:20.140 --> 13:22.820
然后直接的download link url

13:23.540 --> 13:26.100
link url

13:26.100 --> 13:26.380
OK

13:26.380 --> 13:27.700
把这个也给前端返回

13:27.700 --> 13:29.860
就是刚才我们粘贴的这个地址啊

13:29.860 --> 13:30.900
然后这个

13:30.900 --> 13:33.980
按着我们前端接收的这个格式

13:33.980 --> 13:35.900
扣的应该是给一个0

13:35.900 --> 13:36.380
之后呢

13:36.380 --> 13:39.100
想把这两个值统一的放在data处理

13:39.100 --> 13:39.900
那怎么办

13:39.900 --> 13:41.580
我把它放在一个对象里面

13:41.580 --> 13:43.260
这里面我写一个扩号

13:43.260 --> 13:43.820
OK

13:43.820 --> 13:44.580
data0

13:44.580 --> 13:45.500
我这样呢

13:45.500 --> 13:47.260
前端就能接收到这个值

13:47.260 --> 13:49.300
那你接收到这个值之后怎么办

13:49.300 --> 13:51.660
我这个里面是不是已经定义好了

13:51.660 --> 13:53.060
那这里面我做一个判断

13:53.060 --> 13:54.380
如果说这次点过沈

13:54.380 --> 13:55.940
大于这次点看人的过沈

13:55.940 --> 13:58.900
因为我后端已经给你返回这个过沈了

13:58.900 --> 13:59.420
对不对

13:59.420 --> 14:00.820
假如说你要大于怎么办呢

14:00.820 --> 14:02.860
那我这次点害无扭沈

14:02.860 --> 14:03.700
就等于一个处

14:03.700 --> 14:04.260
是吧

14:04.260 --> 14:05.700
download link url

14:05.700 --> 14:08.620
那这里面就会有一个下载的链接地址啊

14:08.620 --> 14:09.020
这个呢

14:09.020 --> 14:10.860
就是我们的一个处理

14:10.860 --> 14:12.740
当处理完这个之后

14:12.740 --> 14:15.940
那我们现在要做一个什么

14:15.940 --> 14:17.580
既然你这个害无扭沈

14:17.580 --> 14:19.300
如果说你已经有值了

14:19.300 --> 14:20.580
那这个里面

14:20.580 --> 14:23.420
它会有一个当前新版本的一个显示了

14:23.420 --> 14:24.260
所以说这个里面

14:24.260 --> 14:25.940
我们可能就会涉及到一个

14:25.940 --> 14:27.740
真正的一个下载处理了

14:27.740 --> 14:29.300
那这个下载处理怎么办

14:29.300 --> 14:30.780
我们在这个里面啊

14:30.780 --> 14:34.380
因为是专门针对我们APP安卓应用的

14:34.380 --> 14:36.500
所以说在这里面写一下

14:36.500 --> 14:37.100
判断一下

14:37.100 --> 14:38.340
首先判断一下什么呢

14:38.340 --> 14:39.180
害无扭沈

14:39.180 --> 14:40.900
假如说他要是有值的话

14:40.900 --> 14:43.380
那我这里面就调了一个什么方法呢

14:43.380 --> 14:48.700
get一个new version的一个方法啊

14:48.700 --> 14:51.580
咱们把这个get new version做一个调用

14:51.580 --> 14:55.820
那我这里面就可以写一下这个get new version啊

14:55.820 --> 14:57.860
嗯这个里面如果说你点击

14:57.860 --> 15:00.140
那这时候就是可以进行一个

15:00.140 --> 15:03.580
当前最新版本的一个下载

15:03.580 --> 15:05.220
最新版本的下载

15:05.220 --> 15:05.780
ok

15:05.780 --> 15:07.460
那这个怎么来实现啊

15:07.460 --> 15:09.860
这里面我们直接的给同学们来写一下

15:09.860 --> 15:11.060
就可以了

15:11.060 --> 15:13.900
get new version ok

15:13.900 --> 15:15.820
我们在文档里面已经定义好了

15:15.820 --> 15:18.300
这里面有一个下载最新的版本

15:18.300 --> 15:21.180
然后你拿过来使用就可以了啊

15:21.180 --> 15:22.140
这个是啥意思啊

15:22.140 --> 15:23.980
简单的跟同学们说一下

15:23.980 --> 15:25.980
你看这里面首先开启一个

15:25.980 --> 15:27.580
然后下载中请稍后

15:27.580 --> 15:29.500
如果说我们现在有最新版本

15:29.500 --> 15:30.700
当我们打包成功之后

15:30.700 --> 15:32.020
这个就可以测试了

15:32.020 --> 15:33.180
有最新版本的时候

15:33.180 --> 15:34.500
那这时候有一点击

15:34.500 --> 15:36.780
他就会处罚我们应用的一个下载中

15:36.780 --> 15:38.620
请稍后自动来进行一个下载

15:39.820 --> 15:41.420
下载这个完成之后

15:41.420 --> 15:43.740
这里面我们就把这个关闭啊

15:43.740 --> 15:45.900
那这个如果说他这个下载状态

15:45.900 --> 15:46.740
他要是200呢

15:46.780 --> 15:49.340
plus我们再调软Time因此道

15:49.340 --> 15:50.420
进行一个安装

15:50.420 --> 15:53.220
也就是说会把我们当前应用做一个覆盖

15:53.220 --> 15:53.860
覆盖之后呢

15:53.860 --> 15:56.260
就会给他重新安装最新的一个版本

15:56.260 --> 15:57.300
如果说安装失败

15:57.300 --> 15:58.580
这里面有一个提示

15:58.580 --> 16:00.340
假如说你状态版不是200

16:00.340 --> 16:01.140
那就说明什么呢

16:01.140 --> 16:04.420
就说明你在更新过程当中就失败了

16:04.420 --> 16:07.420
这个就是他的一个整个的业务逻辑

16:07.420 --> 16:08.620
不过现在目前来讲啊

16:08.620 --> 16:09.540
我们是看不到的

16:09.540 --> 16:11.860
所以说我们这个就得需要什么呢

16:11.860 --> 16:14.100
我们直接最后完成之后

16:14.100 --> 16:16.220
再来查看他的一个应用效果

16:16.220 --> 16:18.620
不过我们提前先把这个代码给他写上啊

16:19.900 --> 16:22.100
好的再回到我们的这个界面里面啊

16:22.100 --> 16:23.020
回到我们界面里面

16:23.020 --> 16:24.740
那我们接下来要做什么呢

16:24.740 --> 16:27.900
因为这些课我们是要把这个文章也实现一下的

16:27.900 --> 16:28.380
所以说呢

16:28.380 --> 16:30.700
我们在这个文章里面要做处理啊

16:30.700 --> 16:32.260
首先来说文章这个里面

16:32.260 --> 16:33.340
我一点击的时候

16:33.340 --> 16:35.620
咱们可以看一下完成的案例啊

16:35.620 --> 16:37.460
我在这个里面点击我的文章

16:37.460 --> 16:37.820
ok

16:37.820 --> 16:40.860
他是会有一个跳转跳转到我的文章界面了

16:40.860 --> 16:41.220
然后呢

16:41.220 --> 16:43.020
这个里面其实是有两种状态的

16:43.020 --> 16:43.860
哪两种状态呢

16:43.860 --> 16:44.980
比如说现在推出了

16:46.260 --> 16:47.420
当你退出之后

16:47.420 --> 16:49.380
在这个里面点击我的文章的时候

16:49.380 --> 16:50.860
他会给你做一个拦截

16:50.860 --> 16:52.980
拦截到我们登录的这个界面

16:52.980 --> 16:55.500
那我们这个实现的时候也要注意一下

16:55.500 --> 16:57.620
因为已经写了全局的这个录入拦截

16:57.620 --> 16:58.180
所以说呢

16:58.180 --> 17:01.820
我们只要给他添加一个妹的属性就ok了啊

17:01.820 --> 17:03.300
那我们就来实现一下

17:03.300 --> 17:03.860
首先呢

17:03.860 --> 17:06.300
现在我们没有这个界面对吧

17:06.300 --> 17:09.060
那我们就把这个界面来定一下

17:09.060 --> 17:09.940
pages

17:09.940 --> 17:13.780
我们找到这个pages下面新建一个页面

17:13.780 --> 17:14.860
那这个页面叫什么呢

17:14.860 --> 17:15.940
叫my article

17:17.460 --> 17:17.780
ok

17:17.780 --> 17:20.540
在pages.json中进行一个注册

17:20.540 --> 17:21.820
那注册完成之后

17:21.820 --> 17:24.460
我们先回到pages.json

17:24.460 --> 17:27.420
因为我们是需要做拦截的

17:27.420 --> 17:29.340
已经写完了路由守卫了

17:29.340 --> 17:32.980
所以说我们把这个mate标签给进行一个添加啊

17:32.980 --> 17:35.620
添加到哪找到我们的这个my article

17:35.620 --> 17:39.060
然后在这里面给他扩展一个mate属性

17:39.060 --> 17:40.660
扩展完这个mate属性之后

17:40.660 --> 17:43.740
那这里面再写一句话叫我的一个文章

17:43.780 --> 17:45.620
给他添加一个标题吧

17:45.620 --> 17:46.780
这个里面指的是啥意思

17:46.780 --> 17:47.700
如果说你没有登录

17:47.700 --> 17:48.300
那对不起

17:48.300 --> 17:49.660
直接给你做一个拦截

17:49.660 --> 17:50.780
给你干掉就可以了

17:50.780 --> 17:51.300
对吧

17:51.300 --> 17:51.780
跳到哪

17:51.780 --> 17:54.140
跳到我们用户登录界面啊

17:54.140 --> 17:55.140
我们再来回忆一下

17:55.140 --> 17:56.420
因为如团点这颜色

17:56.420 --> 17:58.540
这里面有一个全局的路由前之守卫

17:59.740 --> 18:01.780
如果说to.mate.needlogan

18:01.780 --> 18:02.500
他需要登录

18:02.500 --> 18:03.300
并且呢

18:03.300 --> 18:04.420
你现在是没登录

18:04.420 --> 18:06.780
那我直接给你跳转到logan界面

18:06.780 --> 18:07.700
就可以了啊

18:07.700 --> 18:09.260
我们可以来测试一下啊

18:09.260 --> 18:09.660
这个呢

18:09.660 --> 18:10.700
是我们的一个应用

18:10.700 --> 18:12.300
现在我点击我的文章

18:12.340 --> 18:14.420
这个里面还没有绑定实践啊

18:14.420 --> 18:15.460
那我们绑定一下吧

18:15.460 --> 18:18.300
self到我的文章

18:18.300 --> 18:19.260
找到我的文章

18:19.260 --> 18:20.660
那这里面我写一下

18:20.660 --> 18:21.980
indeclick

18:21.980 --> 18:22.860
indeclick

18:22.860 --> 18:25.660
这个应该叫go my article page

18:25.660 --> 18:27.140
article page

18:27.140 --> 18:29.180
到我的文章界面

18:29.180 --> 18:29.900
对吧

18:29.900 --> 18:32.180
愚化尽量清洗一下啊

18:32.180 --> 18:34.100
然后咱们这个还挺长

18:34.100 --> 18:34.780
是不是

18:34.780 --> 18:36.300
我直接隔这儿啊

18:36.300 --> 18:39.500
这个就是跳转到我的文章界面

18:39.500 --> 18:43.700
跳转到我的文章界面

18:43.700 --> 18:44.900
OK

18:44.900 --> 18:47.180
go my article page

18:47.180 --> 18:47.820
在这里面

18:47.820 --> 18:51.780
我们就是unit.navigator2的形式

18:51.780 --> 18:52.100
然后呢

18:52.100 --> 18:53.980
我们指定一个title

18:53.980 --> 18:54.380
sorry

18:54.380 --> 18:57.420
应该是url

18:57.420 --> 18:58.900
url是page

18:58.900 --> 19:01.260
是下面的my article

19:01.260 --> 19:01.820
对吧

19:01.820 --> 19:02.420
my article

19:02.420 --> 19:04.820
这样就有一个跳转啊

19:04.820 --> 19:05.860
这里面写完之后

19:05.860 --> 19:06.780
我们再来试一下

19:06.780 --> 19:07.900
首先我的文章

19:07.900 --> 19:08.900
跳转到我的文章

19:08.900 --> 19:09.980
没有问题是不是

19:09.980 --> 19:10.740
但这个时候

19:10.740 --> 19:11.780
如果说你要没登录

19:11.780 --> 19:12.140
怎么办

19:12.140 --> 19:13.460
我这里面退出啊

19:13.460 --> 19:13.820
退出

19:13.820 --> 19:14.940
他就没有登录状态了

19:14.940 --> 19:15.740
没有登录状态

19:15.740 --> 19:17.380
我这里面再点击我的

19:17.380 --> 19:17.780
然后呢

19:17.780 --> 19:18.540
去我的文章

19:18.540 --> 19:20.660
这里面给我们做了一个拦截啊

19:20.660 --> 19:20.980
这个呢

19:20.980 --> 19:21.740
就是我们写好

19:21.740 --> 19:23.580
路由守卫的一个方面之处

19:23.580 --> 19:25.180
所以说我们不需要处理别的

19:25.180 --> 19:26.340
你要是没有登录

19:26.340 --> 19:26.740
也就是说

19:26.740 --> 19:29.700
你不符合我们文章的这个访问规则

19:29.700 --> 19:31.500
也就是说某一个页面的访问规则

19:31.500 --> 19:31.940
那这里面

19:31.940 --> 19:33.540
我直接给你做一个拦截

19:33.540 --> 19:34.580
就OK了

19:34.580 --> 19:35.900
我们重新登录一下

19:35.900 --> 19:36.900
这里面写一下

19:36.900 --> 19:40.180
这个叫Alan 958

19:40.180 --> 19:40.740
然后呢

19:40.740 --> 19:43.060
这里面是我们的123

19:43.060 --> 19:45.220
哎怎么跳转啊

19:45.220 --> 19:46.260
123QWE

19:46.260 --> 19:47.380
我这里面点击登录

19:48.580 --> 19:49.060
好了

19:49.060 --> 19:49.940
登录过来之后

19:49.940 --> 19:51.060
那我的文章里面

19:51.060 --> 19:52.060
咱们都有啥内容啊

19:52.060 --> 19:53.020
可以看一下

19:53.020 --> 19:54.100
其实我的文章里面

19:54.100 --> 19:54.780
这个内容啊

19:54.780 --> 19:56.300
相对是比较简单的

19:56.300 --> 19:57.940
我这里面也登录一下

19:57.940 --> 19:58.820
123456

19:58.820 --> 20:00.220
123QWE

20:00.220 --> 20:00.580
OK

20:01.900 --> 20:03.140
登录之后

20:03.140 --> 20:04.300
进到我的文章里面

20:04.300 --> 20:05.500
其实我的文章里面呢

20:05.500 --> 20:06.620
就是展示一下

20:06.620 --> 20:09.700
当前这个用户发表过的文章就OK了

20:09.700 --> 20:12.180
那这个里面相对是比较简单的

20:12.180 --> 20:14.340
我们直接的来到我的文章里面

20:14.340 --> 20:16.260
只要是使用一个什么

20:16.260 --> 20:19.180
我们因为之前做过ListCard对不对

20:19.180 --> 20:22.060
那我就把这个ListCard给他拿过来

20:22.060 --> 20:23.260
然后进行一个渲染

20:23.260 --> 20:23.980
是不是可以了

20:23.980 --> 20:24.540
也就是说

20:24.540 --> 20:27.740
把这个里面ListCard给他搞过来啊

20:27.740 --> 20:28.540
搞过来之后

20:28.540 --> 20:30.460
那这个ListCard咱们先看一眼啊

20:31.780 --> 20:33.660
因为这个里面是要内容的

20:33.660 --> 20:34.500
ListCard呢

20:34.500 --> 20:36.500
他的渲染是需要一个什么东西呢

20:36.500 --> 20:37.700
需要一个

20:37.700 --> 20:40.180
我们的probs里面是个item

20:40.180 --> 20:40.700
所以说呢

20:40.700 --> 20:43.340
我们在这个里面要给这个ListCard

20:43.340 --> 20:45.180
传递一个item

20:45.180 --> 20:46.380
那item等于什么呢

20:46.380 --> 20:47.300
就等于item

20:47.300 --> 20:47.700
因为啥

20:47.700 --> 20:49.900
因为我们这里面肯定是要循环卖

20:49.900 --> 20:51.780
你有自己发表过几篇文章

20:51.780 --> 20:53.340
你就显示几篇文章

20:53.340 --> 20:54.420
item

20:54.420 --> 20:55.700
我们的一个什么呢

20:55.700 --> 20:59.140
这个里面写一个articleList

20:59.140 --> 20:59.860
OK

20:59.860 --> 21:00.700
定义好了之后

21:00.700 --> 21:01.700
我们再指定一个

21:01.700 --> 21:02.100
k

21:02.100 --> 21:03.980
k等于我们item点

21:03.980 --> 21:05.180
下落线id

21:05.220 --> 21:07.340
但是我们这个articleList

21:07.340 --> 21:08.100
还没有定义

21:08.100 --> 21:10.020
咱们直接在这里面订一下

21:10.020 --> 21:11.620
articleList就搞定了

21:11.620 --> 21:12.140
搞定之后

21:12.140 --> 21:12.980
这只是第一步

21:12.980 --> 21:14.460
那现在目前来看

21:14.460 --> 21:16.020
我们是肯定没有的

21:16.020 --> 21:16.300
对不对

21:16.300 --> 21:18.220
所以说他啥也不会给我们展示

21:19.580 --> 21:20.940
model属性

21:20.940 --> 21:22.260
这里面怎么有个model

21:22.260 --> 21:23.860
他也不给我们展示内容啊

21:23.860 --> 21:25.660
那什么时候让他展示内容呢

21:25.660 --> 21:26.300
这个里面

21:26.300 --> 21:27.580
其实我们出售化的时候

21:27.580 --> 21:30.380
就应该先把数据给请求过来之后

21:30.380 --> 21:32.300
让他进行一个展示

21:32.300 --> 21:33.260
unload

21:33.260 --> 21:34.620
先订好一个

21:34.620 --> 21:36.220
unload的勾字

21:36.220 --> 21:37.820
那在这个unload的勾字里面

21:37.820 --> 21:39.140
我们使用一个方法

21:39.140 --> 21:40.420
就去出售化

21:40.420 --> 21:42.060
getmyarticle

21:42.060 --> 21:44.180
那在这里面我们就定一下

21:44.180 --> 21:45.620
这是sync

21:45.620 --> 21:47.700
getmyarticleList

21:47.700 --> 21:50.140
然后costs

21:50.140 --> 21:52.140
因为直到肯定返回一个列表

21:52.140 --> 21:52.540
对不对

21:52.540 --> 21:54.020
等于avit

21:54.020 --> 21:57.500
这次点我们dollarhttp

21:57.500 --> 22:00.460
点我们getmy

22:00.460 --> 22:03.020
然后是articleList

22:03.020 --> 22:04.780
getmyarticle就可以了

22:04.780 --> 22:06.980
然后这个里面需要给传执

22:06.980 --> 22:08.380
当前的这个用户

22:08.380 --> 22:10.020
咱们是不是得给它传入去

22:10.020 --> 22:11.500
youther id

22:11.500 --> 22:12.780
写一个youther id

22:12.780 --> 22:14.060
就是我们这次点

22:14.060 --> 22:17.300
youtherinfo.向限id

22:17.300 --> 22:18.540
传走就可以了

22:18.540 --> 22:20.940
如果说你后端返回指了之后

22:20.940 --> 22:21.420
怎么办

22:21.420 --> 22:23.060
我就给你定一下

22:23.060 --> 22:24.460
这次点articleList的

22:24.460 --> 22:25.740
等于List的

22:25.740 --> 22:26.820
是不是就可以了

22:26.820 --> 22:28.500
那此时我们需要完成的工作

22:28.500 --> 22:29.060
就是什么呢

22:29.060 --> 22:30.860
把这个原来数给定一下

22:30.860 --> 22:32.540
并且我们在阿迦克斯里面

22:32.540 --> 22:34.300
创建一下它的这个处理

22:35.580 --> 22:37.740
我们刚才其实在这个self里面

22:37.740 --> 22:38.740
少了一步操作

22:38.740 --> 22:40.180
我们self里面

22:40.180 --> 22:42.500
是没有把我们的这个请求

22:42.500 --> 22:44.340
这个请求在哪呢

22:44.340 --> 22:45.660
go low跟配置

22:45.660 --> 22:46.300
在这呢

22:46.300 --> 22:48.900
get new获取最新的版本

22:48.900 --> 22:49.700
这个里面

22:49.700 --> 22:51.860
是我们有一个get current version

22:51.860 --> 22:53.300
这个get current version

22:53.300 --> 22:55.100
我们是没有写的

22:55.100 --> 22:55.860
那这个怎么办呢

22:55.860 --> 22:57.340
我们这里面定一个

22:57.340 --> 22:59.300
它其实跟谁都不太一样

22:59.300 --> 23:01.220
那我直接自定义一个什么

23:01.220 --> 23:02.860
js文件叫什么呢

23:02.860 --> 23:08.340
叫comment interface

23:08.340 --> 23:09.140
OK

23:09.140 --> 23:10.420
把它给定了一下

23:10.420 --> 23:13.180
comment interface.js

23:13.180 --> 23:13.860
那这个呢

23:13.860 --> 23:16.260
其实和我们的一个home里面

23:16.260 --> 23:17.180
不是

23:17.180 --> 23:18.380
把它先给拿过来

23:18.380 --> 23:19.580
就把他们上面这个

23:19.580 --> 23:20.780
给拿过来就可以了

23:20.780 --> 23:22.660
因为我刚才是没有写的

23:22.660 --> 23:23.860
self里面

23:23.860 --> 23:26.060
把它这个get current version

23:26.060 --> 23:27.340
给它定一下

23:27.340 --> 23:27.900
那这个呢

23:27.900 --> 23:29.620
叫get current version

23:29.620 --> 23:30.900
把这个name也改一下

23:30.900 --> 23:31.620
OK

23:31.620 --> 23:33.340
comment interface就处理完了

23:33.340 --> 23:35.740
这是刚才一六的一个问题啊

23:35.740 --> 23:36.660
那这个搞定之后

23:36.660 --> 23:37.780
因为也没测试嘛

23:37.780 --> 23:38.140
对不对

23:38.140 --> 23:39.740
我们现在也测试不了啊

23:39.740 --> 23:40.220
所以说呢

23:40.220 --> 23:41.100
这个里面写完

23:41.100 --> 23:42.860
刚才也不知道正确与否啊

23:42.860 --> 23:43.300
所以说

23:43.300 --> 23:44.780
那给它添加一下

23:44.780 --> 23:46.180
我们这个

23:46.180 --> 23:47.540
属于获取自己的文章

23:47.540 --> 23:49.420
应该是我们用户一块的

23:49.420 --> 23:51.180
那我在这个里面就写一下

23:51.180 --> 23:52.220
这个叫什么呢

23:52.220 --> 23:54.620
获取我们的这个

23:54.620 --> 23:57.020
发布的

23:57.060 --> 23:59.820
用户发布的一个文章

23:59.820 --> 24:00.940
写一下

24:00.940 --> 24:04.260
expout

24:04.260 --> 24:04.980
我们这里面

24:04.980 --> 24:06.820
const是哪一个方法啊

24:06.820 --> 24:08.460
这里面得找一下

24:08.460 --> 24:09.780
最新版本下载

24:09.780 --> 24:12.620
这个是在myarticle界面里面

24:12.620 --> 24:15.060
我们叫getmyarticle

24:15.060 --> 24:15.540
好的

24:15.540 --> 24:18.420
找到它之后回到我们的这个

24:18.420 --> 24:19.580
yoder interface

24:19.580 --> 24:21.140
home interface 先干掉

24:21.140 --> 24:23.020
getmyarticle

24:23.020 --> 24:25.460
这里面应该是coxd

24:25.460 --> 24:26.180
const

24:26.180 --> 24:27.940
等于一个data

24:27.940 --> 24:30.140
然后是阿迦克斯

24:30.140 --> 24:31.860
写一个name

24:31.860 --> 24:33.900
getmyarticle之后呢

24:33.900 --> 24:37.180
把这个date给它做一个添加

24:37.180 --> 24:38.460
在这里面就处理完了

24:38.460 --> 24:39.260
处理完之后

24:39.260 --> 24:40.220
那这时候咋办呢

24:40.220 --> 24:42.300
我们就开始进行一个

24:42.300 --> 24:44.300
云含数的定义就可以了

24:44.300 --> 24:47.300
打开我们的unicload的function

24:47.300 --> 24:49.780
在这里面新建一个云含数

24:49.780 --> 24:50.460
云含数呢

24:50.460 --> 24:52.780
就叫getmyarticle

24:52.780 --> 24:53.180
好的

24:53.180 --> 24:54.300
把这个处理一下

24:54.300 --> 24:56.420
处理一下这个getmyarticle

24:56.420 --> 24:57.580
都要做什么

24:57.580 --> 24:58.140
首先呢

24:58.140 --> 24:59.420
它要获取一个什么

24:59.420 --> 25:02.100
我们的这个数据铺的引用

25:02.100 --> 25:03.380
const的db

25:03.380 --> 25:07.620
等于我们unicload的

25:07.620 --> 25:09.580
unicload.database

25:09.580 --> 25:10.900
ok 获取完成之后

25:10.900 --> 25:12.860
这里面我们还要定一个

25:12.860 --> 25:13.500
操作服

25:13.500 --> 25:14.740
dbcmd

25:14.740 --> 25:18.700
等于我们的这个db.command

25:18.700 --> 25:19.020
好的

25:19.020 --> 25:20.500
定义完成之后

25:20.500 --> 25:23.220
那我这里面首先前端传指了

25:23.260 --> 25:24.900
那就给他接一下

25:24.900 --> 25:26.060
前端传的是什么呢

25:26.060 --> 25:26.980
UserID

25:26.980 --> 25:30.020
所以说在这里面写一下const

25:30.020 --> 25:30.540
然后呢

25:30.540 --> 25:33.340
是我们的这个UserID

25:33.340 --> 25:35.220
等于event

25:35.220 --> 25:35.580
ok

25:36.980 --> 25:39.580
之后我要把这个UserInfo

25:39.580 --> 25:40.820
给他获取一下

25:40.820 --> 25:42.260
等于avata

25:42.260 --> 25:42.780
然后呢

25:42.780 --> 25:44.700
是db.collection

25:44.700 --> 25:46.620
这里面是User表

25:46.620 --> 25:49.420
User表通过到此指定查询

25:49.420 --> 25:51.860
那这个就是UserID

25:51.860 --> 25:52.820
对吧

25:52.820 --> 25:55.140
就通过UserID之后查询到之后

25:55.140 --> 25:56.260
能使用guide的方法

25:56.260 --> 25:57.620
把它给获取一下

25:57.620 --> 25:58.580
获取一下之后

25:58.580 --> 26:01.300
我这里面取他的什么article

26:01.300 --> 26:03.100
下线ids

26:03.100 --> 26:05.380
这个articleids里面保存了

26:05.380 --> 26:06.420
当前这个用户

26:06.420 --> 26:09.820
曾经发布过的文章的一个ID值

26:09.820 --> 26:11.700
那我们这里面就来使用一下

26:11.700 --> 26:13.300
那他就应该是

26:13.300 --> 26:15.900
UserInfo.data

26:15.900 --> 26:16.580
对不对

26:16.580 --> 26:18.020
data下面的什么

26:18.020 --> 26:19.220
地零像

26:19.220 --> 26:21.300
然后我们找到这个指定项之后

26:21.300 --> 26:25.940
那我们获取他的article

26:25.940 --> 26:28.980
article的一个IDs

26:28.980 --> 26:29.780
OK

26:29.780 --> 26:31.220
把它获取完成之后

26:31.220 --> 26:32.020
那在这个里面

26:32.020 --> 26:33.820
我们就可以来做一个

26:33.820 --> 26:36.020
文章表的一个处理了

26:36.020 --> 26:37.260
返回一个列表

26:37.260 --> 26:39.660
ConstList等于一个avata

26:39.660 --> 26:42.460
那我们这里面写一个db.collection

26:42.460 --> 26:46.500
然后这个是我们的article文章的列表

26:46.500 --> 26:47.500
文章列表里面

26:47.500 --> 26:49.300
这里使用一个聚合

26:50.100 --> 26:50.740
然后

26:50.740 --> 26:52.020
project

26:52.020 --> 26:52.780
project

26:52.780 --> 26:53.740
为啥写project

26:53.740 --> 26:55.620
因为这里面肯定有一些内容

26:55.620 --> 26:58.100
我们是不需要的

26:58.100 --> 26:59.700
首先内容content

26:59.700 --> 27:00.900
我们文章的详情

27:00.900 --> 27:01.980
我们不要

27:01.980 --> 27:03.380
那这个点赞多少

27:03.380 --> 27:04.140
commence

27:04.140 --> 27:05.780
我们这个里面也给它干掉

27:05.780 --> 27:07.060
也不用返回了

27:07.060 --> 27:07.540
之后呢

27:07.540 --> 27:09.620
那这个里面我们要匹配一下

27:09.620 --> 27:11.660
并不是说所有文章都返回

27:11.660 --> 27:12.540
那匹配什么呢

27:12.540 --> 27:15.100
匹配我们这个文章的ID

27:15.100 --> 27:17.580
在我们这个用户的这个

27:17.580 --> 27:19.260
articleids里面的

27:19.420 --> 27:20.420
那这里面怎么写

27:20.420 --> 27:22.620
我就里面写一个文章的ID

27:22.620 --> 27:25.180
它应该是我们db.commence

27:25.180 --> 27:27.140
使用这种操作服务的形式

27:27.140 --> 27:30.180
点硬是不是存在某一个值里面

27:30.180 --> 27:33.300
那我这里面就写一个articleids

27:33.300 --> 27:34.260
OK

27:34.260 --> 27:35.860
判断一下它是否包含

27:35.860 --> 27:36.860
那如果说包含的话

27:36.860 --> 27:37.220
怎么办

27:37.220 --> 27:38.660
我们直接在这里面

27:38.660 --> 27:39.660
就给它按的

27:39.660 --> 27:40.900
最后做一个输出

27:42.220 --> 27:42.700
之后呢

27:42.700 --> 27:45.700
把我们处理完的这个值给前端返回去一下

27:45.700 --> 27:46.900
code0

27:46.900 --> 27:47.260
然后呢

27:47.260 --> 27:48.620
给它一个msg

27:48.620 --> 27:52.940
这个叫数据请求成功

27:52.940 --> 27:53.260
好的

27:53.260 --> 27:54.380
写完成之后

27:54.380 --> 27:56.500
就是开始把我们的这个data

27:56.500 --> 27:58.180
给它做一个输出了

27:58.180 --> 27:58.820
data

27:58.820 --> 28:01.420
我们这里面是list.data

28:02.860 --> 28:03.140
对吧

28:03.140 --> 28:04.140
这个就搞定了

28:04.140 --> 28:05.300
搞定之后

28:05.300 --> 28:06.900
我们来看看行不行啊

28:06.900 --> 28:08.780
来123走你

28:08.780 --> 28:09.780
感觉没有啥错

28:09.780 --> 28:10.300
并且呢

28:10.300 --> 28:11.460
它已经正常渲染了

28:11.460 --> 28:13.460
是不是挺神奇的事是吧

28:13.460 --> 28:14.540
然后我们这个里面

28:14.540 --> 28:15.740
其实也不是挺神奇啊

28:15.740 --> 28:16.820
开玩笑啊

28:16.820 --> 28:18.100
这里面有两个值啊

28:18.100 --> 28:19.780
你看getmyarticle

28:19.780 --> 28:21.660
然后这个getmyarticle

28:21.660 --> 28:22.460
我们不要的

28:22.460 --> 28:24.540
只是content的和这个commence

28:24.540 --> 28:25.060
这个数组

28:25.060 --> 28:26.060
我们是不是都被干掉了

28:26.060 --> 28:27.300
然后它在这里面

28:27.300 --> 28:29.460
有了一个炫的这样过程

28:29.460 --> 28:31.140
那至于你是否需要点赞

28:31.140 --> 28:32.260
这个就看你心情了

28:32.260 --> 28:33.620
因为这个是你自己写的

28:33.620 --> 28:34.220
对不对

28:34.220 --> 28:35.220
你收藏不收藏的

28:35.220 --> 28:36.100
这无所谓的事

28:36.100 --> 28:37.180
你要不收藏的

28:37.180 --> 28:38.900
反正你在这个我的文章里面

28:38.900 --> 28:40.100
你也可以过去啊

28:40.100 --> 28:40.540
并且呢

28:40.540 --> 28:42.900
因为我们使用的这个list卡组件

28:42.900 --> 28:45.020
里面已经内置了我们点击时间

28:45.020 --> 28:46.660
所以说我在这里面一点击

28:46.740 --> 28:48.220
它也是可以跳到文章

28:48.220 --> 28:49.260
详情界面的

28:49.260 --> 28:51.100
这个呢是没有任何问题的啊

28:51.100 --> 28:51.340
好的

28:51.340 --> 28:53.140
那我们再来处理一下什么呢

28:53.140 --> 28:54.820
现在它是发不过文章

28:54.820 --> 28:55.300
但是呢

28:55.300 --> 28:57.060
如果说这个用户比较懒

28:57.060 --> 28:58.420
它没有写过任何文章

28:58.420 --> 29:00.100
我们这里面给他一个默认值

29:00.100 --> 29:01.500
也就是说进来之后

29:01.500 --> 29:03.780
不至于是一个白板界面对吧

29:03.780 --> 29:05.260
那这个怎么来处理啊

29:05.260 --> 29:08.380
我们回到我们的这个编辑器里面

29:08.380 --> 29:09.100
编辑器里面

29:09.100 --> 29:11.620
因为我们在这个follow界面之前

29:11.620 --> 29:13.060
我们也是写过这种

29:13.060 --> 29:14.340
没有数据的一个处理啊

29:14.340 --> 29:16.300
我们直接给拿回来用就可以了

29:16.340 --> 29:18.180
找到followfollow.real

29:18.180 --> 29:19.860
这个里面有一个什么呢

29:19.860 --> 29:22.020
我们这里面定义了一个no data

29:22.020 --> 29:22.380
对吧

29:22.380 --> 29:23.940
那把它给拿过来啊

29:23.940 --> 29:24.980
拿过来之后

29:24.980 --> 29:27.500
我们直接的就去给他复制一下

29:27.500 --> 29:29.180
复制到我们my article

29:29.180 --> 29:29.620
然后呢

29:29.620 --> 29:30.780
咱们在这个里面啊

29:31.940 --> 29:33.340
给他粘贴一下

29:33.340 --> 29:33.900
sorry啊

29:33.900 --> 29:36.020
这个我刚才没粘贴过来啊

29:36.020 --> 29:36.340
好的

29:36.340 --> 29:37.500
重新粘贴一下

29:37.500 --> 29:38.700
到这个里面

29:38.700 --> 29:39.620
粘贴过来之后

29:39.620 --> 29:42.500
那这里面我们就定一个no data的一个

29:42.500 --> 29:44.420
我们的这个样式就可以了

29:44.420 --> 29:45.300
这里面写一下

29:45.300 --> 29:48.020
languages等于我们的sas之后呢

29:48.020 --> 29:50.220
我这里面是点no data

29:50.220 --> 29:51.460
no data有啥样式

29:51.460 --> 29:52.660
我们这个follow里面

29:52.660 --> 29:54.660
应该是之前也定义过

29:54.660 --> 29:56.580
把它给拿过来就可以了

29:56.580 --> 29:57.020
好的

29:57.020 --> 29:58.780
回到我们的这个界面里面

29:58.780 --> 29:59.300
然后呢

29:59.300 --> 30:00.580
把它给做一个处理吧

30:00.580 --> 30:02.700
no data这个字体给调一调啊

30:02.700 --> 30:03.420
太小了啊

30:04.500 --> 30:05.940
12枪做有点小

30:05.940 --> 30:06.220
ok

30:06.220 --> 30:07.340
那这个就处理完了

30:07.340 --> 30:08.180
占无作者

30:08.180 --> 30:09.620
那我们直接的这个啊

30:09.620 --> 30:10.980
占无关注的作者

30:10.980 --> 30:12.900
我们把文本改一下啊

30:12.900 --> 30:14.100
这个里面写个啥呢

30:14.100 --> 30:16.220
您还没有发布过文章啊

30:16.220 --> 30:19.020
您还没有

30:19.020 --> 30:22.020
比如说没有发布过

30:22.020 --> 30:24.300
任何的文章

30:24.300 --> 30:24.700
ok

30:24.700 --> 30:27.060
把它给提示一下

30:27.060 --> 30:27.500
嗯

30:27.500 --> 30:28.900
这里面就是no article

30:30.500 --> 30:30.900
好

30:30.900 --> 30:32.020
no article

30:32.020 --> 30:32.780
在这个里面

30:32.780 --> 30:34.660
我定一下no article

30:34.660 --> 30:35.940
为了兼容小程序

30:35.940 --> 30:36.980
咱们这样稳一点

30:36.980 --> 30:38.300
是不是把no article

30:38.300 --> 30:40.140
给他换成这个样子啊

30:40.140 --> 30:40.900
然后如果不行了

30:40.900 --> 30:41.820
咱们在这处理啊

30:41.820 --> 30:43.620
先是使用一个follow吧

30:43.620 --> 30:44.340
如果说不行

30:44.340 --> 30:45.540
咱们再调整啊

30:45.540 --> 30:46.340
no article

30:46.340 --> 30:49.100
如果说你要是获取不到值的话

30:49.100 --> 30:50.860
那我们直接的在这个里面

30:50.860 --> 30:52.020
就判断一下

30:52.020 --> 30:53.740
list点lnce

30:53.740 --> 30:54.300
然后呢

30:54.300 --> 30:55.020
是什么样的

30:55.020 --> 30:56.500
list的点lnce

30:56.500 --> 30:57.780
非list的点lnce

30:57.780 --> 30:59.140
也就是说没有值

30:59.140 --> 31:01.500
那这个取反是不是处了

31:01.500 --> 31:02.180
处之后

31:02.180 --> 31:02.980
我们给这个

31:02.980 --> 31:04.020
这一次点

31:04.020 --> 31:05.380
一个no article

31:05.380 --> 31:06.500
给他做一个什么

31:06.500 --> 31:07.460
做一个复职

31:07.460 --> 31:09.380
等于一个处就可以了

31:09.380 --> 31:10.020
或者是呢

31:10.020 --> 31:11.540
我们如果说要写着

31:12.500 --> 31:13.220
比较麻烦

31:13.220 --> 31:13.580
怎么办

31:13.580 --> 31:14.820
我们取反啊

31:14.820 --> 31:15.380
在这里面

31:15.380 --> 31:16.420
还是这一次点

31:16.420 --> 31:17.260
no article

31:17.260 --> 31:18.540
等于一个什么呢

31:18.540 --> 31:19.540
等于我们的这个

31:19.540 --> 31:21.380
非list点lnce

31:21.380 --> 31:22.300
是不是也可以啊

31:22.300 --> 31:22.780
对吧

31:22.780 --> 31:23.980
我给他做一个取反

31:23.980 --> 31:25.220
操作就行了

31:25.220 --> 31:25.820
然后呢

31:25.820 --> 31:27.420
现在肯定是有值

31:27.420 --> 31:27.660
对吧

31:27.660 --> 31:29.220
他显示不出来啊

31:29.220 --> 31:29.380
哎

31:29.380 --> 31:30.620
这个里面有一个抱错吗

31:30.620 --> 31:32.020
我们看一下啊

31:32.020 --> 31:33.460
also data name

31:33.460 --> 31:34.820
这个里面应该是刚才的

31:34.820 --> 31:35.780
这个抱错啊

31:35.780 --> 31:36.820
现在有值咋办呢

31:36.820 --> 31:38.340
有值咱们就把这个

31:38.340 --> 31:39.460
list的card

31:39.460 --> 31:40.820
我们不给他复职

31:40.820 --> 31:41.820
他是不是就没有了

31:41.820 --> 31:43.060
对吧

31:43.060 --> 31:44.500
非list点lnce

31:44.500 --> 31:45.660
那我们看一下

31:45.660 --> 31:47.380
此时这时候也显示不出来

31:47.380 --> 31:47.900
因为啥呢

31:47.900 --> 31:49.300
因为我们这个啊

31:49.300 --> 31:51.100
等于一个list点lnce

31:51.100 --> 31:52.620
咱们让他先显示出来

31:52.620 --> 31:54.100
您还没有发布过任何文章

31:54.100 --> 31:55.380
这个是没啥问题的

31:55.380 --> 31:56.060
对不对

31:56.060 --> 31:57.340
那我们再去什么呢

31:57.340 --> 31:59.140
再去我们的这个

31:59.140 --> 32:01.420
小程序里来看一下

32:01.420 --> 32:02.900
这个小程序是否好用

32:02.900 --> 32:03.540
如果不好用

32:03.540 --> 32:05.820
我们再做一个调整啊

32:05.820 --> 32:07.100
到这个小程序里

32:07.100 --> 32:08.300
然后到我的

32:08.300 --> 32:09.100
我那里面

32:09.100 --> 32:10.100
到我的文章

32:10.100 --> 32:11.460
小程序的貌似也可以

32:11.460 --> 32:11.780
是不是

32:11.780 --> 32:13.460
感觉上没有什么问题啊

32:13.460 --> 32:15.340
那这个小程序也可以的话

32:15.340 --> 32:17.940
那我直接的就把它给改成一个什么

32:17.940 --> 32:19.140
no article false

32:19.140 --> 32:20.060
这就没问题了

32:20.060 --> 32:21.940
这一次点article list

32:21.940 --> 32:23.220
然后再给他调整回来

32:23.220 --> 32:24.420
是不是这样就可以了

32:24.420 --> 32:26.300
也就是说咱们给他处理一个什么

32:26.300 --> 32:28.300
UI样式的一个兼容啊

32:28.300 --> 32:29.820
如果说no article有值的话

32:29.820 --> 32:30.540
那这个时候呢

32:30.540 --> 32:33.020
他就会给我做一个展示啊

32:33.020 --> 32:34.620
好的小程序刷新之后

32:34.620 --> 32:36.100
然后咱们到我的

32:36.100 --> 32:37.140
到我的文章

32:37.140 --> 32:37.780
ok

32:37.780 --> 32:39.900
这个呢是没有任何问题的

32:39.900 --> 32:43.300
好的那经过刚才的一系列处理之后

32:43.300 --> 32:46.140
那我的文章这一块基本上就搞定了

32:46.140 --> 32:46.980
我们下节课呢

32:46.980 --> 32:49.700
最后把这个意见反馈这一块给处理一下

32:49.700 --> 32:50.700
那么整个啊

32:50.700 --> 32:53.500
我们这个案例里面涉及到的所有的界面

32:53.500 --> 32:56.300
以及我们的一些相关的这个三方组件

32:56.300 --> 32:59.300
包括我们这些页面里面内置的一些组件

32:59.300 --> 33:00.820
基本上就都搞定了

33:00.820 --> 33:01.260
最后呢

33:01.260 --> 33:03.580
我们就剩了一个打包的一个发布

33:03.580 --> 33:05.860
基本上就可以搞定所有内容了啊

33:05.860 --> 33:07.380
好的我们这节课就展示人

33:07.380 --> 33:07.980
先到这里

