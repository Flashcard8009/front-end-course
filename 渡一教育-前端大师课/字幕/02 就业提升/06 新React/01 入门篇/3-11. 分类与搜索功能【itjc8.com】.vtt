WEBVTT

00:00.000 --> 00:06.400
OK 欢迎回来 咱们继续 啊 这期课的话 咱们就把那个 把这个分类

00:06.920 --> 00:12.640
还有什么呢 还有就是这里 啊 这个搜索 搜索的话也就做一个啊 把这个问答的搜索做了就可以了

00:13.160 --> 00:18.800
OK 把这个做了 好 来吧 一个一个来 首先的话关于这个分类

00:19.560 --> 00:22.520
分类的话 我们这边来看一下啊 我把这边关了

00:23.520 --> 00:29.680
好 把这边 好 我这边的话分类的话 我是这个很明显你看 这个很明显的话 是不是

00:30.640 --> 00:36.320
嗯 回到我们这边 啊 这边很明显了 这个是不是应该是单独做成一个主签

00:37.520 --> 00:43.280
对对 你看他在多 这个多个地方都会出现 比如在书籍 书籍这边是不是也会出现

00:44.000 --> 00:48.240
对对 啊 面试题 面试题是没有的啊 就这边的话 就是问答和书籍

00:48.720 --> 00:54.800
如果后面的话 我有时间 我添加了那个专栏之后 那那个专栏的话 是不是这边啊 也应该出现

00:55.520 --> 01:01.520
OK 说这边的话 很明显他应该单独封装成一个主签啊 说说我们这边的话 我们就在这个

01:01.760 --> 01:05.680
component之下面 我们新建一个叫做type select

01:07.920 --> 01:09.600
type select

01:10.880 --> 01:14.480
连接是差 啊 这边 rsf

01:15.680 --> 01:18.080
这边的话是这个分类

01:21.820 --> 01:22.460
分类主件

01:23.900 --> 01:27.100
分类主件啊 那把这个先放在这里

01:28.220 --> 01:32.300
好 放在这里之后 然后像我们这边要用 我们这边上应该是在哪个地方用

01:33.100 --> 01:39.420
你看一下 我们这边的话啊 这里的话 整个这个是一个什么

01:39.980 --> 01:44.780
整个这个是不是一个是个这个配级黑点啊 回到我们的代码 我们来看一下

01:45.660 --> 01:50.780
回到最初的页面级别的这里 我看是不是这个app啊

01:51.740 --> 01:56.860
app 啊 这边这边一个header 黑点这边是never header 然后叫这边

01:57.500 --> 02:00.540
这边的一开始 这个应该是属于这个e show 是吧

02:01.420 --> 02:04.940
e show 我们来到配级配级 然后叫这边e show

02:05.820 --> 02:07.180
e show下面啊 这里

02:07.980 --> 02:11.340
看没有 我们现在的话 这边整个这个是不是一个这个

02:12.060 --> 02:16.860
配级header 对吧 然后我们是想在配级header这边

02:17.420 --> 02:21.420
是不是选了一个啊 所以我们这边呢 需要针对我们的这个配级header

02:22.060 --> 02:24.380
这个主件 我们要对他进行一个修改

02:25.340 --> 02:31.980
怎么修改呢 好 我们这边回头再用这个配级header的时候 我们这边就不是单标签了啊 咱们这边的话是

02:33.100 --> 02:34.380
呃配级header

02:35.180 --> 02:39.180
ok 好 然后在这边这边这边我就给他插入一个东西

02:39.660 --> 02:42.860
插入一个什么呢 插入我们的刚才那个type

02:44.060 --> 02:46.140
这个type select

02:48.300 --> 02:48.700
from

02:49.660 --> 02:54.220
然后component下面的type select

02:55.020 --> 02:59.580
啊 把这个主件引入 引入之后 然后接下来我们这边就把它放到

03:00.620 --> 03:03.980
放到这里 这个其实就是我们之前讲的什么 是不是插槽

03:05.340 --> 03:09.980
对不对啊 这个其实就是插槽啊 插槽的话 我们说过在react里面

03:10.540 --> 03:17.100
这边你这边如果就是想要渲染这个你插入的东西的话 那在你的这边配级header这边

03:17.980 --> 03:21.580
这边就通过什么来拿到 是不是通过props children

03:23.260 --> 03:25.100
对不对props

03:25.980 --> 03:26.860
点求着

03:28.540 --> 03:31.740
ok啊 这边类似于插槽啊

03:32.780 --> 03:33.900
类似于

03:35.020 --> 03:36.220
唯有一种

03:37.180 --> 03:39.260
设置的插槽

03:39.820 --> 03:44.620
这个之前说过的吧 是不是说过的 对吧 通过props点求着

03:45.340 --> 03:45.980
好 保存

03:46.780 --> 03:51.580
保存之后让一下这边来看一下 有了吧 对不对 分类主件有了

03:52.460 --> 03:56.540
有了之后 然后接下来咱们的这个重点 那就是我们的这个分类主件

03:57.100 --> 04:01.100
干什么写 好来到我们这边 来到我们的分类主件

04:02.300 --> 04:07.500
好 这边的话 首先第一步 第一步你是不是首先得拿到你的这个分类的这个信息啊

04:08.700 --> 04:12.300
对不对 应该拿到你分类的信息啊 说说我们这边的话

04:12.940 --> 04:13.500
const

04:14.460 --> 04:21.900
这边use selector from reactreducts

04:25.220 --> 04:26.020
啊 import

04:26.820 --> 04:28.500
sorry啊 这边 import

04:29.140 --> 04:32.260
ok 好 首先第一步拿到分类的这个状态

04:33.380 --> 04:34.980
对不对 拿到

04:36.500 --> 04:38.980
拿到分类的信息

04:39.860 --> 04:41.380
那这边呢 就是const

04:42.420 --> 04:42.820
一个

04:43.940 --> 04:44.660
type list

04:45.540 --> 04:50.340
啊等于一个use selector 这边的话 type

04:51.300 --> 04:53.700
好 拿到拿到的话 这边有一种可能性

04:54.420 --> 05:00.180
什么可能性 就你这边一开始没有啊 比如说我们现在现在应该就是没有的

05:00.180 --> 05:01.220
我看一下现在有没有

05:02.900 --> 05:04.580
就你这边有那么一种可能性

05:05.620 --> 05:09.140
啊 现在是有的 是吧 现在是有的 就有那么一种可能性啊 就你一开始

05:09.140 --> 05:10.020
我们刷新一下

05:11.540 --> 05:14.420
你看啊 哎 我们是在哪 夹在了的

05:14.980 --> 05:19.460
我们应该是在哪 夹在了的 啊 一开始的话 他这边的话是有可能是没有的

05:19.460 --> 05:23.860
对不对 说这边的话 你需要判断一下 这边使用use effect

05:25.940 --> 05:29.940
use effect 啊 这边判断一下

05:31.060 --> 05:37.860
use effect 啊 这边他依赖于什么呢 依赖于你的这个type list

05:38.580 --> 05:42.340
对吧 好 这边 这边的判断 if

05:43.860 --> 05:46.820
你这边 type list 点认识

05:49.340 --> 05:53.420
如果你这边的话 你这个没有 没有的话 那我们这边的就是 dispatch

05:54.220 --> 05:58.860
啊 dispatch 这边你要引入一下 use dispatch

06:00.620 --> 06:03.260
好 然后接下来这边的话 const

06:04.140 --> 06:07.980
dispatch 等于一个 use dispatch

06:08.540 --> 06:13.020
啊 大家这边 dispatch dispatch那个啊 我们这边之前应该是写了的哈

06:14.460 --> 06:15.340
嗯 在这边

06:16.700 --> 06:19.340
是不是应该是他对不对 okay

06:20.460 --> 06:25.500
啊 这边 import get type list from

06:27.340 --> 06:27.980
redux

06:28.940 --> 06:31.260
下面的这个type is nice

06:31.260 --> 06:35.980
好 那这边呢 就是应该是 dispatch get type list

06:37.420 --> 06:39.740
啊 这边进行一个这个type的这个出实化

06:39.740 --> 06:43.340
好 出实化完了之后 然后接下来的话 这边 if

06:45.260 --> 06:50.220
如果你这边的话 有 type list 点认识了 进入这个 if

06:50.220 --> 06:52.380
说明当前的话 说明

06:53.340 --> 06:59.260
说明当前仓库已经存储了什么 是分类信息

07:01.340 --> 07:05.900
分类信息 你说你的仓库现在已经达到了什么样子 是不是已经达到了这个样子

07:06.460 --> 07:10.140
对不对 这边已经存储了啊 存储了你这些分类的信息

07:10.540 --> 07:14.140
好 存储了分类的信息之后 然后接下来的话 我们这边就要干嘛

07:14.140 --> 07:16.540
我们是不是就是需要把它渲染成这个样子

07:17.740 --> 07:20.700
对不对啊 每一个的话 这个颜色是不一样的

07:20.860 --> 07:23.340
好 我们这边呢 会用到什么呢 会用到那个

07:24.300 --> 07:24.780
target

07:27.140 --> 07:27.540
target

07:28.580 --> 07:31.060
from 这个 entity 这个之前是用过的

07:32.020 --> 07:34.980
对不对 之前在这个位置 我们是用过的啊

07:35.540 --> 07:38.580
好 那我这边呢 我认识我把那个数组我把它拿过来

07:39.220 --> 07:44.580
稍等啊 我把那边这个target对你的颜色数组 我直接把它拿过来

07:45.380 --> 07:45.940
放到这里

07:47.300 --> 07:50.820
好 这边已经有颜色信息了 有颜色信息之后 然后加我们这边

07:50.820 --> 07:52.260
const 一个 ar

07:53.300 --> 07:56.740
它是一个数组 数组里面就干嘛呢 数组里面就 push

07:57.940 --> 08:00.100
ar 点 push

08:01.700 --> 08:04.580
push 什么呢 push 一个一个的这个tark

08:05.940 --> 08:09.860
对不对 tark 这边所对应的值 这边的值是不是就是什么

08:10.580 --> 08:11.460
type list

08:11.940 --> 08:13.940
哦 这边要去便利啊 这边要去便利

08:14.420 --> 08:17.300
哦 这边之前还有一件事情 就你这边有个全部

08:18.020 --> 08:20.180
有个全部 但是你这边是从哪开始的

08:20.500 --> 08:25.220
是不是从 h 这边开始的啊 首先我这边呢 首先我得先push 一个这个全部

08:27.060 --> 08:28.340
这个的话全部

08:31.230 --> 08:35.230
全部啊 全部的话 然后下它这边 把格式稍微调一下

08:36.110 --> 08:40.110
他这边他有一些他自己的这个属性啊 比较他的这个carner

08:42.110 --> 08:44.910
carner carner的话 我这边用的是这个

08:47.740 --> 08:50.940
ok 好 然后接下来的话 这边呢 有他的这个value

08:51.500 --> 08:53.260
value 然后我这边给的是一个or

08:53.900 --> 08:58.220
啊 我回头需要根据这个value 判断就是用户点了是什么 就通过这个value

08:58.780 --> 09:03.260
value值等于什么 他就点了什么 大家做这个进一步的这个处理

09:04.300 --> 09:06.940
啊 这边啊 给他一个key key的话 也是一个or

09:07.580 --> 09:12.380
ok 好 大家这边啊 给他一个style style

09:14.620 --> 09:16.860
style 这边的话 给了一个cursor

09:19.300 --> 09:19.780
cursor

09:20.740 --> 09:22.660
对应是一个pointer

09:23.860 --> 09:27.060
pointer ok 啊 点击时间一会再加吧

09:27.700 --> 09:32.820
一会再加 好 这个是首先这边 ar 这个数组面 已经push了一个这个tag

09:33.300 --> 09:36.180
好 然后push完了之后 人家这边通过复循环

09:38.180 --> 09:41.220
net 一个i 等于0 i小于个

09:41.620 --> 09:48.260
什么呢 type list 点认识 i++ 对吧好 这边他仍然是ar 点push

09:49.060 --> 09:50.740
刚把他直接拉过来吧

09:52.660 --> 09:58.660
ok 刚说话一下 好 这里这里的话就应该是什么 这里的话就是应该是type list

09:59.620 --> 10:04.100
所以i i 然后接下来话点type name

10:05.620 --> 10:07.700
type name 好 这边这个颜色

10:08.340 --> 10:13.460
颜色的话 是不是就是应该是和我们之前做的一个就是issue的时候

10:14.020 --> 10:16.500
是一样的 对不对 这边这个颜色

10:17.060 --> 10:20.020
颜色这边就等于什么呢 等于这边这个karner

10:21.140 --> 10:27.940
karner array 就这个数组啊 就这个数组啊 这个数组 然后加他这边是不是应该有个下标

10:28.500 --> 10:32.260
下标是第几个啊 取决于你这个i 对什么取于

10:32.980 --> 10:35.300
对你的这个认识取于

10:35.940 --> 10:37.780
可不可以啊 好 大家这个value

10:40.260 --> 10:44.340
value的话就是应该是你的这个type list i 然后

10:44.660 --> 10:47.060
点下滑线id

10:48.100 --> 10:53.140
啊 你这边有个这个id嘛 对吧 这个作为我的value啊 包括我的key

10:54.260 --> 10:57.700
负责一份啊 包括我的key key的话也是他

10:58.580 --> 11:02.580
ok 好 然后加这边的这个style style的话 同样是pointer

11:03.140 --> 11:08.260
啊 把它添加进去 添加进去之后 然后接下来的话下一步

11:08.820 --> 11:10.420
啊 我随便让我定一个状态

11:11.380 --> 11:12.660
const

11:13.460 --> 11:16.580
const的一个targetcontainer

11:17.300 --> 11:18.180
好 set

11:19.140 --> 11:20.740
targetcontainer

11:21.540 --> 11:23.540
然后useState

11:25.970 --> 11:27.570
啊 这个一开始是空数组

11:28.450 --> 11:31.570
啊 这个useState你要把引一下 不然一会儿又爆错了

11:33.170 --> 11:39.090
ok 好 那这边让我们就把这个数组啊 这边 for 循环完了之后咱们就把这个数组

11:39.890 --> 11:47.090
设置为这个targetcontainer 它的这个值啊 对不对 好 然后加你在这边 这边的话你就选择什么

11:47.730 --> 11:51.250
这边呢就应该是啊 targetcontainer

11:52.130 --> 11:53.490
ok 来我们来看效果

11:54.930 --> 11:58.370
看效果啊 这边爆错了啊 爆到什么错

11:59.170 --> 12:02.290
can not read a one defy lense

12:04.210 --> 12:07.490
有个地方它是爆的是错 lense

12:09.330 --> 12:14.450
嗯 看啊 它有没有爆航数 18航

12:15.570 --> 12:16.050
这边

12:18.050 --> 12:21.490
这边它是nense 我看一下啊 这边这个type

12:22.610 --> 12:28.050
state点type type list 这个type list 是大写 我们这边是不是写错了啊果然

12:29.090 --> 12:34.530
我们全部写错了是吧 全部写错了 好来从这边做个跳这个替换

12:35.490 --> 12:36.690
这边啊 type list

12:37.410 --> 12:41.090
啊 我们这边就把它替换成type list

12:42.770 --> 12:51.170
ok 在这漏也哈 大家做这些操作之前先漏也 先检查一下啊 这个从仓库里面取 是不是要替换 替换 大家它要替换

12:51.810 --> 12:52.530
他的话

12:54.050 --> 12:57.810
他的话是不是一会儿就不替换 就这个你要注意啊 这边的话

12:58.610 --> 13:01.970
其他都还好 其他都还好 就这个啊 这个你要注意

13:03.330 --> 13:05.730
ok 好 大家这边这边的话要把它改回来

13:07.410 --> 13:09.570
ok 好 来保存

13:10.850 --> 13:14.850
保存之后 人家这边看一眼啊 这个是刚才的错误 你刷新的话他就没了

13:16.130 --> 13:21.100
嗯嗯 19行

13:22.860 --> 13:24.620
get type list 这边对的

13:25.900 --> 13:27.660
哦哦 这里

13:28.940 --> 13:34.860
好 保存 哎 等一下 等一下 我看一下 我看一下我那边api这边那边 我不是api

13:35.500 --> 13:37.580
就是那个snice这边叫什么名字

13:38.620 --> 13:44.060
这边叫做get type list啊 你这边要和他对应get type list啊对的啊保存

13:45.100 --> 13:46.140
好 这边刷新一下

13:47.740 --> 13:52.060
ok 是出来了 对不对啊 你这边整个这个分类就出来了

13:52.620 --> 13:57.980
好 分类出来了之后 然后接下来有一个非常重要的事情是什么呢 就我这边点击的时候

13:57.980 --> 14:00.700
他要进行 就是你这边的话要进行一个替换

14:01.500 --> 14:07.020
对不对 好 那这部分就涉及到什么 是不是不同组件通信了呀 我先来看一下功能啊

14:07.580 --> 14:09.420
这个边的话 比如说我点这个vue

14:10.060 --> 14:12.540
点vue的话 这边是不是只选了这个vue

14:13.100 --> 14:15.980
所对应的这个问题啊 我选这个比较够

14:16.780 --> 14:19.500
对吧 只选了这个够所对应的问题

14:20.060 --> 14:23.020
那这边的话 就会涉及到 因为他们这边是不同的组件

14:23.820 --> 14:26.620
对不对啊 我这边下面 下面的话是这个

14:27.180 --> 14:32.140
issue啊 大家这边 这边的话是那个type select 两个不同的组件

14:32.780 --> 14:34.460
要进行一个通信

14:35.420 --> 14:39.900
要进行一个通信 好 那我这边是怎么做的呢 我这边的话是这样子的

14:40.780 --> 14:43.820
当你点击的时候 我在仓库去记录

14:44.780 --> 14:50.140
记录你当前的这个就是type 是什么样的值 好 然后接下来的话 我这边

14:51.580 --> 14:53.820
就是我这边在渲染这个issue的时候

14:54.460 --> 14:59.020
虽然issue的时候 我们这边 之前之前 我默认拿的时候 是不是就是直接就是

14:59.660 --> 15:04.140
啊 这边给个分页信息就完了 对吧 好 那我这边的话到时候还会做一个判断

15:04.940 --> 15:07.020
判断什么呢 判断你这边

15:07.660 --> 15:15.340
呃 就仓库那个值 就是那个type那个值 有没有啊 如果有的话 我后面的话 这边还会加一个分类信息

15:15.820 --> 15:19.500
啊 我来写 写了大家就知道了啊 现在这样这么说有点模糊

15:20.140 --> 15:24.060
对不对啊 我来写 写了大家就知道了 呃 就是我想一下

15:25.980 --> 15:30.540
好 就是在这边type slice这边 type slice这边的话 我们

15:31.100 --> 15:33.740
现在的话只定义了一个叫什么 是不是type list

15:34.380 --> 15:37.660
对吧 他是存储所有类型的 我们这边呢 我们再来定一个

15:38.300 --> 15:41.740
一个叫做这个issue type id

15:42.940 --> 15:46.060
ok 这边定一个状态 默认值是什么呢 默认值是or

15:47.180 --> 15:51.420
ok 还有一个什么呢 还有一个是这个book book type id

15:53.180 --> 15:57.980
啊 默认值的话也是一个or啊 就有两个 你会为什么 因为你这边那回头

15:58.940 --> 16:03.100
你书籍这边是不是也是可以分类的啊 不用这边点击这个css

16:03.660 --> 16:07.100
书籍这边是可以根据分类 显示这个对应的这个书籍

16:07.660 --> 16:12.300
对吧 所以我们这边呢 需要两个啊 一个issue type id 一个book type id

16:12.700 --> 16:17.500
好 那接下来回到你这边 回到你的这个type select这边

16:17.900 --> 16:23.180
好 这边的话 我们给这个每一个绑定一个点击世界啊 包括包括这个全部这个啊

16:23.740 --> 16:25.660
给我们给他绑定一个unclick

16:26.540 --> 16:29.420
unclick 然后等于

16:31.740 --> 16:34.700
ok 好 这边呢 我们就写一个叫做清计type

16:35.820 --> 16:40.780
好 这边我们就给他传一个值 这个传一个or过去啊 这边的话也是绑定一个

16:41.740 --> 16:45.980
时间 好 这边要传递个什么呢 这边的话就是应该是传递你这个

16:46.860 --> 16:49.100
type list i

16:49.740 --> 16:51.180
点什么 下滑线 id

16:51.900 --> 16:57.900
什么你当前分类所对应的这个 id 对不对 传过去 传过去之后 然后接下来在这边

16:58.220 --> 17:01.020
方形 方形 然后清计type

17:02.220 --> 17:05.180
啊 这边呢 我们就传一个啊 就接受一个type id

17:05.740 --> 17:09.420
啊 在这里面要干什么 干什么呢啊 在这里面的话就更新

17:11.900 --> 17:13.420
更新这个状态仓库

17:14.460 --> 17:15.820
更新状态

17:16.780 --> 17:20.700
参考对应的什么呢 对应的这个 issue

17:22.620 --> 17:26.220
我们那边去的是叫上面 叫做 issue type id

17:28.460 --> 17:32.380
更新 issue type id 或者什么呢 book

17:33.900 --> 17:37.180
type id 对不对 更新哪个呢

17:37.740 --> 17:42.700
更新哪个呢 更新哪个处于你现在是不是在哪个页面 对不对 你如果是在book

17:42.860 --> 17:47.180
那你这边就是应该是更新这个book 你如果现在的话是在这个问答

17:47.660 --> 17:54.060
啊 那你这边的话就是应该是更新这个 issue type id 对吧 好 那我们这边就可以判断一下

17:54.700 --> 17:58.380
if 你这边的话 location

18:00.300 --> 18:03.580
location.passname

18:04.380 --> 18:07.500
如果全等于什么呢 全等于这个 issues

18:08.220 --> 18:11.100
说明什么 说明你现在是不是处于问答页面

18:12.060 --> 18:16.700
处于问答页面 对吧 else if

18:18.380 --> 18:21.740
你这边的话 location.passname

18:23.100 --> 18:26.220
如果全等于什么呢 全等于一个books

18:27.580 --> 18:31.180
啊 那你现在处于什么呢 处于书籍页面

18:32.300 --> 18:33.580
不这样子可以进行个判断

18:34.380 --> 18:37.900
好 大家这边你如果处于问答页面 好 那我们这边的话

18:38.620 --> 18:44.540
啊 我们来到这里来到这个 types nice types nice 这边我们需要新增一个

18:45.820 --> 18:47.820
这边需要新增一个 reducer

18:48.940 --> 18:50.940
啊 这边呢叫做 update

18:52.060 --> 18:56.700
这个 issue issue type id

18:59.340 --> 19:01.900
啊 这里 uh stat

19:03.260 --> 19:08.220
然后 payload payload

19:10.300 --> 19:12.940
ok 好 那接下来的话 这边就是stat

19:13.500 --> 19:19.740
点什么 点 issue type id等于你传进来的这个 payload

19:20.780 --> 19:26.380
对吧 好 这边呢需要把这个 action 把它导出出去啊 export const

19:27.260 --> 19:29.580
这边的话是up issue type id

19:31.580 --> 19:38.640
然后等于一个 types nice types nice 点 actions

19:39.360 --> 19:40.240
那把导出去

19:41.840 --> 19:49.120
好 导出去之后 然后接下来在这边 在这边的话咱们就把它导入进来 import

19:50.880 --> 19:57.600
呃 呃 这边有是吧 这边有 直接拿过来就可以啊 直接粘过来就可以啊 这边有

19:59.360 --> 20:02.160
ok 好 然后再接下来在下面

20:03.120 --> 20:05.360
在下面的话 这边的话是不是就是他

20:06.320 --> 20:09.760
然后把什么把你这边接收到的这个type id

20:10.320 --> 20:16.320
是不是传过去啊 对不对啊 这边需要 dispatch一下啊 所以我们这边的话 dispatch

20:16.320 --> 20:20.240
我们有是吧好 直接这边的话派发一个action

20:23.060 --> 20:23.700
派发过去

20:24.900 --> 20:30.420
对不对啊 来理一下理一下这个思路啊 大家应该理得清楚吧 这边我首先接收到这个type id

20:31.060 --> 20:35.460
这个大家能啊 没问题吧对不对 你这边啊 如果是 all all的话 我这边就是

20:36.020 --> 20:39.060
呃 如果是全部全部的话 我这边的话这个就接收到的就是 all

20:39.620 --> 20:44.660
你如果是其他的是哪个类型 我这边呢 就把哪个类型的这个 id啊 也就是这个字了

20:45.620 --> 20:48.020
说白了就这个字了 就这个字

20:52.880 --> 20:58.960
说就这个字啊 对不对 这个 id啊 给你派发派发到哪里去啊 派发了这个仓库 对吧 仓库

20:58.960 --> 21:04.560
然后接下来这边 这边的话他就会把谁给修改了 是把他给修改了 对不对

21:04.640 --> 21:06.880
来 我们这边来看一下 看一下 好吧

21:08.480 --> 21:18.240
好 然后接下来 过来啊 这边大家可以看到 现在目前的话是不是都是 all 对吧 都是 all 啊 都是 all 的话 然后接下来的话 我们这里

21:19.280 --> 21:22.240
这里的话 我们这边我们点一个比如说 css

21:22.960 --> 21:27.920
看到没有 这边呢 是不是就变成 css 的type id 对不对 如果是全部

21:28.640 --> 21:34.480
这边是不是就是 all 对不对啊 比如 jquery 啊 这边就对应的是对应分类的这个 id

21:34.960 --> 21:41.920
ok 好 有了这个之后就好办了啊 我们这边其实就是要通过这个公共的这个仓库啊 来进行通信

21:44.320 --> 21:46.960
点哪去了 ok啊 就是要通过这个

21:47.920 --> 21:53.520
啊 有了这个之后就好办了 有了这个之后 然后接下来的话 我们这边在渲染

21:53.840 --> 21:58.480
你这个问答列表的时候啊 我们这边呢 就需要添加一个选项

21:59.360 --> 22:00.800
来到你的这个 issue

22:01.120 --> 22:08.240
来到这个页面 好这个页面的话啊 我想想在哪个地方呢

22:10.480 --> 22:16.320
在这前面啊 在前面 你看我们之前的话是干嘛 这不直接调用着gate issue by page

22:16.720 --> 22:20.240
对来把你的这个分页信息传进去 传进去之后让你给我拿过来

22:20.480 --> 22:25.520
好了 现在的话我们这边就需要一些额外的一些东西啊 我们首先让我们这边nate 一个

22:26.000 --> 22:27.600
这个叫做 search promise

22:28.320 --> 22:36.720
search promise啊 他这个对象这个对象里面就放什么呢 这个对象里面就放啊 就放我们这边之前的这个

22:37.440 --> 22:40.080
啊 之前这边就是你要传到 promise

22:40.800 --> 22:47.120
把拿过来啊 拿过来之后然后接下这边判断一下 衣服什么呢 衣服你的这个 issue

22:49.600 --> 22:55.200
issue 哦 我这边的话得取一下对吧 得取一下你的这个 issue type ID

22:55.920 --> 23:00.000
啊 这边啊 const const 一个 issue

23:02.400 --> 23:08.080
type id 然后等于一个 use selector

23:10.080 --> 23:14.640
那这边 type 对吧 啊 use selector 这边也没有啊

23:15.440 --> 23:19.040
让他没影是吧 没影这边还得影一下啊 这边

23:20.000 --> 23:26.560
import这个 from reactor redux

23:27.680 --> 23:34.480
ok 好啊 这边有了 有了之后再加这边的话你就判断 这个就是从仓库拿的对吧 从仓库

23:36.720 --> 23:40.960
从状态仓库获取这个

23:41.840 --> 23:45.680
嗯 当前是否有这个type

23:46.800 --> 23:47.600
type id 的字

23:49.520 --> 23:52.240
ok 获取了之后 然后加这边的话就需要判断

23:53.200 --> 24:00.640
如果你这个 issue type id 他的字干嘛呢 不等于什么 不等于 or

24:03.200 --> 24:04.000
不等于 or

24:05.280 --> 24:11.120
ok 好 这边好像写错了 不等于 or 不等于 or 说明什么

24:12.000 --> 24:18.160
说明是不是就是用就是现在存在这个type分类啊 对不对 也就是说用户

24:19.040 --> 24:21.920
用户点击了这个分类的

24:23.280 --> 24:26.480
对不对 你只用户点击了分类 我那个那个仓库这边

24:27.280 --> 24:28.080
这仓库这边

24:29.120 --> 24:35.360
是不是才会存储这个具体的这个这个 id 字 对不对 你如果是全部 默认就全部吗 默认全部这边是不是 or

24:35.840 --> 24:40.960
对 你如果的话 你这边等不等于 or 等于这些字 那是不是说明用户点了分类

24:41.520 --> 24:44.880
对吧 点了分类之后啊 那我们接下来就需要

24:45.840 --> 24:51.200
那么就需要根据分类来选择

24:52.800 --> 24:58.400
看到没有 那怎么根据分类来选择呢 也很简单 你这边要直接给你的这个search partners

24:59.360 --> 25:00.880
添加一个选项就可以了

25:01.680 --> 25:08.240
啊 我们这边除了就是传这三个以外 除了传这三个以外 我这边再给你传一个什么呢 再给你传一个type id

25:09.840 --> 25:13.840
也太不id要等于什么呢 要等于这个 issue

25:15.440 --> 25:20.400
issue type id ok 你看因为在我的这个数据库里面 我这边是设置了的

25:21.680 --> 25:25.120
issue 每个 issue 那这边呢 是不是有这个对应的type id

25:25.760 --> 25:32.080
对吧 我可以按照这样子的啊 就可以按照这个type id来进行这个查讯啊 说我这边再给你添加一个

25:32.880 --> 25:38.240
把再给你添加一个之后 然后接下来这边 这边的话这个就不需要了 这边就传什么

25:38.720 --> 25:40.160
这就传search partners

25:40.400 --> 25:46.960
是吧 这个传过去就可以了 对不对 ok 好了 我们这边我们来看一下好不好使

25:49.520 --> 25:56.800
好 我们这边来看一下啊 这里 然后啊 已经出来了吗 这边已经出来了对不对 jQuery

25:58.880 --> 26:05.600
ok 已经出来了 你这边问答重新来 ok 好 然后加这边的话 比如说点这个jQuery

26:06.960 --> 26:09.520
哎 刚才不都出来了吗

26:11.760 --> 26:13.200
jQuery will you

26:15.680 --> 26:19.280
这边报错了吗 看一下啊 这边没变啊

26:20.160 --> 26:26.240
哦哦 你这里 这里 这里的话这个依赖依赖就还还需要依赖什么

26:27.040 --> 26:31.840
所以依赖这个 issue type id 他变化的时候是不是也要重新执行这一块

26:32.720 --> 26:38.240
对不对 好来这边再来看一下 对不对啊 这边全部

26:38.960 --> 26:42.400
默认这边啊 全部好 然后这边的话这个 css

26:43.040 --> 26:46.640
css 没有没有的话 你这边的话 你这边顺移点优化一下

26:47.680 --> 26:52.880
对不对 好 那你这边这边的话 就是如果没有的话 我们这边就显示啊 没有问题

26:53.600 --> 26:54.480
我们到哪个地方

26:55.520 --> 26:56.880
到这个地方

26:57.760 --> 27:01.760
到这个地方啊 这个地方的话 我看这边的话是渲染的是

27:02.480 --> 27:06.880
呃 这个是分业 是吧 这个是分业分业的话 这边的话就得判断一下

27:08.960 --> 27:12.720
分业 分业就得判断一下 就是你这个 issue info

27:14.800 --> 27:18.560
因为你最终的话 你拿到数据的话 你是设置到 issue info 里面

27:19.120 --> 27:24.480
这边就得判断一下 issue info 点认识 他是否大于零

27:25.600 --> 27:27.280
对吧 如果大于零的话

27:30.400 --> 27:33.840
如果大于零的话 那你这边他确认的是这一块

27:34.560 --> 27:37.600
没问题 对吧 好 如果的话 这边

27:38.240 --> 27:41.920
不大于零 说明没有 没有的话 你这边就是应该是渲染一个

27:42.560 --> 27:46.800
呃 就不应该就有这个分业主�了啊 我这边到渲染的一个就是这个

27:48.480 --> 27:53.200
直接拿过来了啊 这边呢 就是有问题啊 就来这儿 okay 保存一下

27:54.240 --> 27:57.040
好 来看一下 对吧 好 有没有意

27:57.680 --> 28:03.600
这个是有的啊 好 然后加这边呢 这个 qquery 这是有的 对吧 okay

28:04.560 --> 28:06.160
对吧 好 再加这边全部

28:06.880 --> 28:12.400
是不是就实现了 对了 就实现了 实现了这里的话会有个小问题

28:13.040 --> 28:16.800
有个什么小问题 你注意啊 你仔细注意 我们现在qquery 是不是有的

28:17.360 --> 28:19.920
对吧 这边是有的 好 现在我点击全部

28:20.480 --> 28:22.960
点击全部之后 然后加我这边点击第二页

28:23.840 --> 28:26.880
我是不是第二页 第二页 然后加我点击qquery

28:27.920 --> 28:30.640
哎 没有了 没有了

28:31.760 --> 28:35.120
为什么啊 有没有同学能够想到啊

28:35.760 --> 28:39.840
为什么 为什么会出现这样的情况 明明我qquery有问题啊

28:40.720 --> 28:42.800
为什么我这个切换到第二页

28:43.600 --> 28:49.600
他就没了呢 为什么啊 原因很简单 很简单 为什么

28:49.600 --> 28:54.000
因为你这边让你切换到第二页相当于什么 相当于这边currents 变了

28:54.000 --> 28:58.480
变了之后 然后接下来相当于你这边currents 变成二了 对不对

28:58.480 --> 29:02.640
然后你这边你在这个重新发送请求的时候 你这边就是什么呢

29:02.720 --> 29:06.400
第二页 有没有这个啊 就是接qquery的问题

29:07.280 --> 29:10.560
对不对 相当于在第二页里面去找 有没有叫做接qquery的问题

29:11.680 --> 29:15.280
所以这边让你得补一巨带嘛 就如果

29:16.800 --> 29:24.400
如果按照什么呢 按照分内来进行查询

29:25.600 --> 29:30.640
需要重新将当前页

29:31.600 --> 29:36.000
啊 当前页设置为第一

29:37.120 --> 29:39.760
ok 我们这边呢 就search parmars

29:40.480 --> 29:43.280
点这个current 重新让它等于1

29:44.000 --> 29:47.920
ok 重新等于1就ok了 好好来看一下

29:48.640 --> 29:53.600
好 出出来了 对我们点全部 点全部之后 大家我们这边让我们点击第二页

29:54.160 --> 29:59.200
现在第二页 对吧 第二页 好第二页的话 然后接下来我们这边我们找起qquery

29:59.920 --> 30:02.080
没问题 对吧 没问题

30:03.200 --> 30:07.760
ok 这就是关于这个分内 咱们就做完了

30:08.640 --> 30:12.240
做完了 做完之后 然后接下来是这个搜索

30:13.280 --> 30:17.760
搜索其实也简单 也简单 首先第一步还是什么

30:18.320 --> 30:23.200
还是先获取到这个用户 它搜索就是填写的这个内容啊

30:23.920 --> 30:27.520
对不对 你不管怎么着 你首先得获取到用户填写的这个内容

30:28.000 --> 30:30.800
好 来我们这边呢 首先先定位到我们这边这个搜索

30:31.680 --> 30:35.120
搜索的话对应的是哪里啊 让我想想啊

30:36.240 --> 30:40.560
好像是这个nable here 应该是他吧 就这就这

30:41.360 --> 30:46.480
ok 就是他 就是他之后人 然后接下来的话 这边有一个

30:47.920 --> 30:52.080
select 有一个这个search search的话 我们这边绑value没有

30:53.040 --> 30:56.720
这边的话没有绑value placeholder

30:57.280 --> 31:04.720
along the size styles 我们首先第一步 第一步的话 我们这边啊 应该是获取到用户搜索的值

31:05.120 --> 31:08.240
好 来我们这边呢 它有一个叫做什么呢 有一个叫做unsearch

31:09.760 --> 31:13.520
啊 unsearch 我们这边对应一个unsearch

31:14.640 --> 31:18.640
ok 然后对应一个unsearch 然后接下来的话 在这上面

31:21.100 --> 31:23.660
在上面啊 我们这边呢 就来写一下

31:25.420 --> 31:25.900
方形

31:27.340 --> 31:35.420
unsearch 啊 这边对应把value 接收到啊 这个的话在主键库里面有啊 你自己去那个untd里面 你看一下

31:35.740 --> 31:38.940
你这边是search 设计的话 它这边会有一个这个叫unsearch

31:39.420 --> 31:44.700
对应的一个回调喊说 好来 我们这边 我们来看一下 这边这个value拿到的是什么

31:47.120 --> 31:50.400
啊 保存 保存之后 然后加这边来看一下

31:54.460 --> 31:55.420
这边来看一下

31:56.300 --> 31:59.740
啊 这个啊 不用 这边来123搜索

32:00.460 --> 32:06.700
拿到了吧 说拿到123了 对啊 我除了拿到123 我这边的话 其实我还想拿到什么

32:06.700 --> 32:08.140
是不是你现在是哪个分类啊

32:08.780 --> 32:11.740
那这边 走 我现在只能拿到123

32:12.540 --> 32:15.820
我看一下啊 这边我怎么来拿到这个分类

32:17.980 --> 32:22.620
哦 我这边是这样做呢 我想起来了 我这边的话做了一个什么呢 做了一个搜索页

32:23.260 --> 32:30.300
你看 我这边的话比我们先点全部啊 这个是正常的问答列表嘛 对吧 我现在让我搜索比了123

32:30.940 --> 32:36.620
走 你看 我这边是不是一个搜索结果 也就是说我这边实际上是一个什么呢 是一个搜索页

32:37.420 --> 32:41.580
search page 大家你如果这边点击这个叉叉

32:42.140 --> 32:48.140
它重新回到问答列表啊 这个怎么做 这边的话你这个search 你看这个search

32:48.700 --> 32:55.660
search的话 我这边我如果现在点搜索 它这边是不是就是你这边填的内容 对吧 好 然后这样我这边点这个叉叉

32:56.300 --> 33:03.580
点这个叉叉 它这边传的是一个什么 说传的是个空 对不对 传的是个空啊 所以我们这边可以根据这个value进行判断

33:04.380 --> 33:09.900
if value 那说明什么呢 说明就是搜索框有内容

33:11.500 --> 33:16.590
搜索框有内容 有

33:17.310 --> 33:26.350
有内容啊 然后需要进行搜索操作啊 否则的话也有

33:29.310 --> 33:34.430
也有事 也有事呢 就是你搜索框没有内容 也就是用户点了那个叉叉 对不对

33:35.310 --> 33:36.430
用户点了叉叉

33:38.110 --> 33:40.190
用户点击的这个叉

33:40.990 --> 33:43.070
那大家有了 说那用户没有点击叉了

33:43.790 --> 33:48.350
用户比如说现在就是空的空的 然后就在这边点搜索了 那这边是不是也是框 对不对

33:48.910 --> 33:53.310
也是空的话 反正我不管 反正只要搜索框没内容 搜索框

33:54.910 --> 33:59.150
没有内容 那我干嘛 跳转到这个首页

34:00.990 --> 34:06.190
对不对 跳转到首页啊 好 那我这边呢 就是应该是把那个引一下

34:06.990 --> 34:11.950
Import这个UserNumberGit

34:12.750 --> 34:15.070
大家现在写了这么久了 应该很熟悉了哈

34:16.110 --> 34:18.750
ReactRotorDom对不对

34:19.310 --> 34:24.670
然后接下来这边的话Const一个NumberGit等于一个UserNumberGit

34:25.230 --> 34:26.910
好 这边呢就跳转到首页

34:28.750 --> 34:32.190
所以就这样子OK了 对吧 好 然后接下来这边

34:32.830 --> 34:38.830
这边的话有搜索内容 有搜索内容的话 我这边的话就跳转到什么呢 跳转到这个搜索页

34:39.390 --> 34:42.830
啊 所以我这边呢 我还有一个什么呢 还有一个这个search

34:44.270 --> 34:48.110
这边还有一个页面 页面的话叫做这个search page

34:49.470 --> 34:52.510
来到你的page这边啊 我这边新建一个

34:53.470 --> 34:55.310
叫做search page

34:56.110 --> 34:57.070
点接叉

34:57.950 --> 35:01.390
好 RSF这个的话是搜索页

35:03.150 --> 35:04.830
搜索结果页

35:06.830 --> 35:09.710
搜索结果页

35:10.590 --> 35:10.910
OK

35:12.510 --> 35:13.310
搜索结果页

35:14.350 --> 35:20.830
好 那我们这边的话需要进你的这个路由 把它配置一下 我们来到这个Rotor

35:22.830 --> 35:24.030
来到Rotor这边

35:26.850 --> 35:29.410
好 这边打开 打开之后你把那个搜索

35:30.370 --> 35:32.610
把它引进来一下 import

35:33.410 --> 35:36.450
import一个search search page

35:38.050 --> 35:38.370
from

35:39.730 --> 35:44.290
from 这边呢 是page 是下面的search page

35:45.410 --> 35:48.850
对吧 好 然后加这边新增一个

35:50.210 --> 35:51.730
这边的话search page

35:52.530 --> 35:55.090
啊 这边search page 把它改成小写

35:56.050 --> 35:58.290
search page 啊 这个就保持大写吧

35:59.010 --> 36:00.530
portfume用法 OK

36:01.650 --> 36:05.970
好 这边路由也配了 是吧 路由也配了之后 然后接下来回到这边

36:06.290 --> 36:08.690
这边的话是不是应该是跳转过去啊

36:09.970 --> 36:12.050
对吧 你这边的话就应该是跳转过去

36:12.050 --> 36:15.650
好 说说我们这边呢 就是同样也是never gate

36:16.050 --> 36:18.850
never gate这边呢 是search page

36:19.730 --> 36:23.650
好 那我这边让我传两个东西过去 注意看 我这边的话

36:24.370 --> 36:28.610
这里set 传什么呢 一个是用户搜索的这个值

36:29.170 --> 36:33.170
那我这边是value 还有一个什么呢 还有一个就是你这边

36:34.610 --> 36:38.610
你这边这个下拉列表 是不是你现在这边对应的值是多少

36:39.330 --> 36:42.930
对不对 这边的话下拉列表的话 这里的话我们要给它绑定一个

36:43.810 --> 36:45.810
时间啊 叫做unchanged

36:46.450 --> 36:50.370
啊 这个的话都是那个entity里面有的哈 你查得到的哈

36:50.370 --> 36:53.330
我就不带着大家看了 我这边就直接写了

36:53.810 --> 36:59.010
这边等于unchanged 就每次你这个下拉那边这个切换的时候 它这边会触发

36:59.730 --> 37:01.650
触发之后 然后接下来的话

37:02.930 --> 37:06.450
你在这边 方形 然后unchanged

37:07.730 --> 37:11.970
啊 这边你可以看一下 这边vl 我们这边来看一下

37:13.010 --> 37:16.690
比如说vl ok 好 保存

37:18.130 --> 37:20.210
保存之后 然后加这边的话来看一下

37:21.170 --> 37:25.970
啊 把这个清空啊 比如我这边的话 输几对不对啊 问答

37:26.690 --> 37:28.210
可不可以啊 是每次会触发

37:28.770 --> 37:32.610
好 触发之后 然后这样我这边的话 需要有一个什么呢 我这边的话

37:33.170 --> 37:34.690
我维护一个这个状态

37:35.890 --> 37:36.290
concent

37:37.090 --> 37:39.650
一个什么呢 叫做search option

37:41.330 --> 37:42.530
啊 大家这边set

37:44.050 --> 37:45.090
search option

37:47.780 --> 37:50.740
等于一个user state

37:51.940 --> 37:58.740
默认是什么呢 默认的话 这边是问答 问答的话 这边是issue 对吧 默认是他

38:00.900 --> 38:06.100
默认是他 ok 啊user state 你这边得影响 不然一会儿又抱错了

38:07.220 --> 38:09.380
ok 好 那你下面 下面的话 这边

38:10.020 --> 38:14.180
呃 我看我这边有没有设置default啊 有哈default value issue

38:14.580 --> 38:20.260
ok 好 那你这边接收到 接收到之后 这边是不是应该是set search option

38:22.740 --> 38:25.940
对吧啊 等于什么 是不是等于你传进来的vl

38:26.820 --> 38:32.500
这就ok了 ok 之后 咱家这边这边呢 就把什么 把这个search option一起传过去

38:33.940 --> 38:41.060
对吧 传过去之后 然后加这边在这个search page 这边啊 咱们这边来看一下 有没有啊 能不能拿到

38:42.180 --> 38:43.940
那这边的话 就是import

38:46.260 --> 38:48.260
import 这边怎么拿

38:49.460 --> 38:50.580
这边的话

38:52.340 --> 38:56.740
应该是通过user location 对吧 user location

38:57.620 --> 38:58.260
啊front

38:59.620 --> 39:01.060
这个react

39:02.100 --> 39:02.660
rotor dorm

39:03.780 --> 39:06.420
好 然后接下来这边的话 我们来拿一下

39:08.100 --> 39:12.420
const location 等于一个user location

39:13.060 --> 39:16.820
好 然后接下来咱们这边来打印一下 location

39:18.020 --> 39:19.540
点什么呢 点state

39:20.420 --> 39:20.900
保存

39:23.570 --> 39:26.450
保存之后 然后在这边来看一下 把这个清空

39:27.330 --> 39:29.570
啊 比方我问答 我输入一个123

39:30.130 --> 39:30.290
走

39:31.490 --> 39:37.010
看到没有 能拿到吧 用户输入的内容是123 然后在这边search option是什么

39:37.330 --> 39:38.050
这是exu

39:38.850 --> 39:44.210
对对 ok 能拿到 这个能拿到就很不错了啊 好 然后接下来我们就专注于写什么

39:44.450 --> 39:46.770
这学你的这个搜索结果页

39:47.890 --> 39:52.770
对吧 好 然后把这个这个页面咱们把它写一下 好看一下这个页面

39:53.330 --> 39:56.610
这页面的话基本上也差不多 哎 等一下 不是这个

39:57.730 --> 40:04.130
走 基本上也是什么呢 这边搜索结果啊 大家这边对应的是你搜索出来的这些列表

40:04.530 --> 40:07.490
啊 大家这边这边呢 是我要发问右边是不是都是一样的

40:08.370 --> 40:10.770
对不对 右边的是一样的 好来呗

40:12.370 --> 40:17.170
回到我们这边 这边我看有没有样式 有样式我把样式拿过来 把有样式

40:17.730 --> 40:18.610
我把样式拿过来

40:19.810 --> 40:21.730
这边对应这个样式

40:22.530 --> 40:27.170
ok 好 然后接下来的话 这边下面 下面的话就是一样的

40:27.810 --> 40:29.730
首先这边 class name

40:32.350 --> 40:35.150
class name 啊 这边是用的是一个container

40:36.590 --> 40:37.230
那里面

40:38.110 --> 40:41.630
里面的话 首先有一个page header 把这个page header点过来

40:44.300 --> 40:45.100
import

40:47.940 --> 40:53.060
page header from啊 所以你只要发现就是有这个需要重复使用的

40:53.780 --> 40:55.540
啊 那你就把它封装成一个是吧

40:56.180 --> 40:57.140
封装成一个组件

40:58.100 --> 41:02.180
对不对 有的同学就经常不知道啊 我不知道我这边该不该封装一个组件

41:02.900 --> 41:05.940
啊 你不知道你这边让你看能 会不会复用呗

41:06.980 --> 41:12.820
啊 一段代码我经常要去写 经常要去写 那我这边肯定就会啊 自然而然我就会把它封装成一个组件

41:13.780 --> 41:15.860
对不对 好 这边那就是搜索

41:20.780 --> 41:23.100
搜 搜索结果

41:23.980 --> 41:27.420
对吧 好 然后接下来下面 下面的话 这边有个div

41:29.700 --> 41:31.780
div 这边class name

41:34.100 --> 41:37.300
这边呢 是styles 点这个search

41:38.180 --> 41:40.180
search page container

41:40.820 --> 41:44.980
啊 有个样式类 好 然后接下来的话 这边这边呢 有左边部分

41:46.500 --> 41:47.700
左边部分

41:48.420 --> 41:49.940
然后右边部分

41:51.940 --> 41:56.660
啊 右边部分什么都是一样的啊 右边部分这边就不写了啊 直接拿过来

41:57.620 --> 41:59.940
这边右边部分 把拿过来

42:01.540 --> 42:05.940
拿过来之后的对应的组件得引一下啊 这边就把对应的组件引一下

42:07.540 --> 42:09.300
好像是三个 一个是

42:10.260 --> 42:13.780
一个是这个 and issue button

42:14.500 --> 42:16.660
然后一个是这个recommend

42:18.580 --> 42:23.140
recommend 好 还有一个是这个score rock

42:26.370 --> 42:28.210
ok 好 保存一下 看一下

42:30.290 --> 42:32.290
看一下啊 这边

42:33.170 --> 42:39.410
出来了 是吧 出来了 ok 好 然后这下左边 左边的话 因为我们这边还没写 我们把这个左边写一下

42:40.290 --> 42:40.770
left

42:42.930 --> 42:48.500
这边 这边的话就应该是left side

42:50.420 --> 42:51.060
left side

42:52.020 --> 42:55.860
ok 是不过去了 对吧 好 过去了之后 然后接下这里面

42:56.660 --> 43:03.860
这里面的话 就是应该是你搜索的这个结果啊 那我们这边呢 就是应该是去搜索了

43:04.340 --> 43:04.660
ok

43:06.580 --> 43:10.660
好 来我们这边的话 应该用到什么 所以user effect

43:11.540 --> 43:14.900
发请求了 对吧 user effect

43:16.420 --> 43:17.940
啊 这边user effect

43:18.260 --> 43:26.180
这边他有没有依赖箱 想想有没有依赖箱 他的依赖箱的话 是不是就是应该是你的location

43:28.020 --> 43:36.260
location.stat 对不对 依赖于你这个 就是用户的这个搜索

43:37.300 --> 43:38.820
啊 用户的这个搜索

43:40.500 --> 43:43.620
ok 好 那其实还有 还有就是那个page info

43:44.420 --> 43:48.500
page info 就是他的那个分页 因为我们这个搜索的话 有可能搜索出来是吧 很多呀

43:49.220 --> 43:53.780
比如我们这边 比如说我们这边 把返回 返回的话 比如说我们这边

43:54.580 --> 43:55.940
哪个比较多 js比较多

43:56.660 --> 43:59.700
啊 那js你问题多了之后 是不是自然人也会涉及到分页

44:00.740 --> 44:06.340
对不对啊 所以这边其实后面还有啊 就是关于你的这个分页 分页一遍这个也要重新执行

44:07.140 --> 44:12.580
ok 好 那我们这边呢 就首先来定义一个这个分页 直接拿过来

44:13.140 --> 44:19.790
直接拿过来 这边这个是分页 分页啊 把use state放一下

44:21.310 --> 44:26.830
放到这边啊 这个是分页信息 这个大家很熟悉了啊 用了很多次了 还有一个什么呢

44:26.830 --> 44:31.790
所以还需要有一个这个容器来装这个搜索的结果 所以我们这边呢 有一个

44:33.470 --> 44:35.150
search result

44:37.070 --> 44:39.070
啊 大家这边这个set

44:39.870 --> 44:41.470
然后这个search result

44:43.940 --> 44:46.260
然后等于一个use state

44:48.900 --> 44:50.100
啊 这个呢 就是存放

44:51.540 --> 44:54.740
存储搜索结果

44:55.780 --> 45:04.820
ok 好 接下来的话 咱们在这个use effect 这边 好 这边的话是不是应该是async

45:05.700 --> 45:06.740
然后function

45:07.540 --> 45:10.020
然后fetch that 这个fetch data

45:11.620 --> 45:14.740
对吧啊 这边来这个进行这个数据的获取了

45:15.300 --> 45:20.260
好了 这边的话 我们 这边呢 需要判断一下 意义符什么呢 意义符你这个location

45:21.220 --> 45:22.740
location.stat

45:23.620 --> 45:25.860
啊 那我们这边才干嘛呢 这边才

45:26.420 --> 45:28.660
fetch data 这边才进行搜索

45:29.700 --> 45:35.700
ok 搜索的时候 我们这边呢 把这个location.stat 我们给他传递过去

45:36.820 --> 45:38.900
传递过去之后 然后接下来在这边

45:39.460 --> 45:41.620
fetch data 这边啊 这边呢 接受一下

45:42.340 --> 45:46.020
接收 接收的是什么 接收的是不就是你刚才这个对象呀

45:46.820 --> 45:50.660
出去这个对象 ok 我这边把这个复制过来啊

45:51.620 --> 45:52.660
这边这个stat

45:55.090 --> 45:57.650
这个stat 他对应的就是什么

45:58.450 --> 46:02.930
他对应的就是这个对象 对吧 有value 有这个search option

46:03.490 --> 46:05.010
好 那接下来的话 你在这里

46:06.930 --> 46:09.090
嗯 这里我们把结构一下吧 const

46:09.810 --> 46:10.690
一个这个value

46:11.650 --> 46:14.210
啊 然后一个这个search option

46:15.330 --> 46:20.370
等于一个这个stat 先把他结构 结构之后 然后像这边一样的啊

46:20.370 --> 46:23.810
let一个search parmars 我就直接写了啊

46:24.690 --> 46:29.010
search parmars 等于一个啊 这边的这个current

46:29.810 --> 46:33.410
啊 直接拿过来吧 这一块都是之前写过的

46:34.130 --> 46:34.930
直接拿过来

46:36.210 --> 46:39.010
啊 这边current 就你当前的页码说

46:39.170 --> 46:41.250
然后接下来的话 每页显示就是显示多少条

46:41.810 --> 46:45.650
对吧 然后接下来 这边的这个问题必须是q这个状态 这这个不要漏了啊

46:46.210 --> 46:48.530
这个不要漏了 你这个漏了的话 他就会有个bug

46:49.570 --> 46:52.930
对不对 就有个bug 结果这个问题如果没有通过审核

46:53.890 --> 46:58.370
本来他这个在问答内表没有显示出来 但你一收的话 能够收出来

46:59.170 --> 47:02.930
就会有个bug啊 所以这边呢 这这个不要漏了 ok

47:02.930 --> 47:06.210
好 然后接下来的话 这边就通过 怎么了 这边就通过switch

47:06.930 --> 47:10.690
switch 什么 so search option

47:11.330 --> 47:14.610
根据了search option 对吧 你这边呢如果case

47:15.170 --> 47:16.850
它是一个issue

47:18.530 --> 47:23.650
那我这边呢 就应该去搜索什么 是不是搜索问题啊 然后接下来这边case

47:24.850 --> 47:26.050
如果是一个book

47:28.130 --> 47:32.370
啊 是一个book 那这边他就搜索什么 是不是搜索书记

47:33.570 --> 47:35.090
搜索书记

47:36.370 --> 47:40.450
对吧 好 那接下来我们这边 我们这边是搜索

47:41.730 --> 47:45.570
搜索这个问题啊 搜索问题的话 我们这边呢就search

47:46.530 --> 47:52.210
search parmars啊 这边的话就是issue title 哦 这边都是同意以这个title啊

47:53.090 --> 47:56.850
以这个标题啊 作为搜索 这边要等一个value

47:58.450 --> 48:02.050
ok 等于你这个value 好 然后回头的话 这边的话我们就

48:02.610 --> 48:06.050
嗯get issue by page 这边把那个api 引一下

48:08.130 --> 48:08.770
import

48:10.530 --> 48:12.130
我们之前这个issue

48:13.810 --> 48:16.530
issue啊 这边有一个get issue

48:17.490 --> 48:19.250
by page 把这个引一下

48:20.450 --> 48:27.650
按到这边 然后from api 然后这个下面的issue

48:29.970 --> 48:31.490
get issue by page

48:32.290 --> 48:38.450
ok get issue by page 好 然后下这边的这个把你的这个search parmars

48:38.850 --> 48:44.290
传进去 好 这边await一下 等待 等待 然后接下这边const

48:44.770 --> 48:50.050
解构 把这个data拿到 拿到之后 然后这边咱们来看一下啊

48:50.770 --> 48:53.010
看一下能不能搜索出来 保存

48:54.690 --> 48:59.970
好 然后接下来这边 哎 出来了吗 是不是已经出来了 这边五条

49:00.050 --> 49:05.890
五条 你看我们这边搜的是123 我就是那个服务习断那边 我做了一个模糊查询

49:06.690 --> 49:09.730
啊 做了一个模糊查询 这边是不是出来了123

49:10.290 --> 49:15.010
是不是出来了 对吧 我们这边再来一个搜索一个什么呢 搜索一个实践对象

49:16.290 --> 49:19.650
比如说实践对象 把这清空啊

49:22.450 --> 49:25.490
就是起个实践啊 可以了 出来了吧

49:26.370 --> 49:32.290
这边 是不是实践 对不对 就出来了 出来了 剩下工作简单吧

49:33.330 --> 49:38.450
剩下会做了吧 剩下是不是就是渲染的问题了 对不对 好 那这边的话

49:39.090 --> 49:43.730
set search result 啊 这边data.data

49:44.930 --> 49:49.250
ok 这个是设置 设置那个搜索结果 然后你那个

49:50.130 --> 49:55.650
那个什么 分页不要忘了更新哈 分页往这边了 把他拿过来

49:57.410 --> 50:03.010
啊 这是分页 两个东西啊 一个是更新这个搜索结果

50:04.290 --> 50:05.890
一个是什么呢 一个是更新

50:07.330 --> 50:08.610
更新分页信息

50:10.050 --> 50:14.450
对吧 这个不要忘了 好 完事之后 然后去 后面就简单了呗

50:15.570 --> 50:18.770
后面简单了呗 后面的话 你这里的话是不是

50:19.970 --> 50:22.450
干嘛 这边的话你就判断一下

50:24.910 --> 50:25.390
这边

50:27.230 --> 50:29.950
啊 这边首先先根据你的这个search

50:30.590 --> 50:31.470
search result

50:32.350 --> 50:36.350
他默认是什么 默认是空数组吗 对不对 然后接下来你如果搜索了 他里面就有

50:37.070 --> 50:39.950
啊 说反正他都是数组 我们这边直接调这个map

50:40.830 --> 50:44.030
对不对 不管你有没有值 你没有值的话 我这边调map也不会错

50:44.590 --> 50:48.190
啊 也不会错 好 这边调map让家拿到你的

50:48.910 --> 50:49.470
每一项

50:50.430 --> 50:53.710
对吧 啊 拿到每一项之后 然后将我们这边返回

50:55.070 --> 50:57.870
返回什么呢 我们之前是不是写了一个search item啊

50:58.910 --> 51:01.390
有没有写啊 不是是那个

51:02.190 --> 51:02.750
我看一下

51:04.110 --> 51:05.390
这边应该是一样的吧

51:06.910 --> 51:08.030
我看一下啊稍等啊

51:08.590 --> 51:12.910
这个是问答列表吗 问答列表是这个 然后接下来啊 这边比如说债

51:13.470 --> 51:14.510
就搜索一个债

51:18.990 --> 51:20.030
啊 这边一样的吗

51:20.910 --> 51:26.670
一样的话 这边理论上来讲的话 这边就直接通过那个exu item

51:27.950 --> 51:29.470
我们之前写了一个exu item

51:30.670 --> 51:34.590
在这里 对不对 直接选了他就可以了啊 稍等 我看一下

51:35.470 --> 51:41.230
啊 等一下 这里的话我还不能写死 我这边的话还不能直接写这个exu item

51:41.790 --> 51:46.350
为什么 为什么 因为你这边的话有可能是什么 有可能是书籍啊

51:46.350 --> 51:49.150
对啊 我比如说我这边书籍书籍的话 我这边的话

51:49.710 --> 51:51.390
啊 随便写一个啊 css

51:52.430 --> 51:55.790
走 你看 这边呢 是不是有可能是这个书籍

51:56.990 --> 52:01.630
对不对啊 所以这边还不能写死啊 这边的话我又新建了一个主键

52:02.190 --> 52:04.750
新建了一个叫做这个search result item

52:07.070 --> 52:10.590
这边search result

52:13.070 --> 52:13.710
item

52:14.430 --> 52:20.110
点接是差 okay rsf啊 这个是什么呢 这个是存储

52:22.460 --> 52:24.940
存储这个搜索 搜索结果

52:27.100 --> 52:34.060
存储搜索结果啊的项目啊 你这边的话 你这个

52:34.860 --> 52:38.940
这两个长的还是有点不一样的 对不对 你看这个呢 它这儿是有图片的

52:38.940 --> 52:44.060
然后标题然后就在这边简介啊 你如果是这个书 这个是问答的话 它这边就是长

52:45.980 --> 52:48.140
啊 比如说这边css吗

52:49.740 --> 52:50.860
它就是长这个样子的

52:52.700 --> 52:58.140
对不对 它长这个样子 两个长的还不一样啊 所以我们这边呢 需要有个这么公共的这个主键

52:58.940 --> 53:07.440
好 让我把这个主键 我把它引入一下 import from

53:09.760 --> 53:12.880
component 下面的这个 okay

53:13.440 --> 53:16.560
好 然后接下来换我这里 这里的话我就return

53:17.840 --> 53:18.480
这个主键

53:21.360 --> 53:26.000
好 这边呢 就返回这个主键 好这个主键的话 我这边就把这个info

53:26.960 --> 53:30.800
这边把它传过去啊 这边呢 就是你便利到的这个item

53:31.440 --> 53:32.800
好 大家这边把这个key

53:33.600 --> 53:36.320
把它传过去 key的话就是item

53:37.600 --> 53:39.120
点下滑线id

53:40.480 --> 53:45.280
ok 把这两个看 传过去 好 传过去之后 然后接下来咱们把这个主键

53:46.080 --> 53:48.800
咱们把它写一写 ok 来到这边

53:49.840 --> 53:54.320
像这个主键啊 像这种主键的话 它就是一个什么呢 它只是就是

53:55.280 --> 54:03.040
呃 要么返回你这个 issue item 要么返回那个就是我们后面 如果你写了书籍的话 它会有一个这个书籍item

54:03.600 --> 54:09.600
什么意思 你说如果你搜索的是问题 那接下来它这边的话这个里面 它就返回的是这个

54:10.320 --> 54:12.320
对不对 如果你搜索的是书籍

54:13.040 --> 54:16.400
书籍的话它返回的就是这个 这个是不是后期也会封装成一个主键

54:17.200 --> 54:19.520
对不对 封装成一个叫做book item

54:20.640 --> 54:27.040
那你这边的话 这边的话 就这个search without item 它就是根据什么呢 根据条件

54:28.080 --> 54:28.720
该主键

54:30.880 --> 54:33.440
该主键是根据

54:34.800 --> 54:37.280
搜索的类型 搜索的类型

54:38.000 --> 54:42.880
返回不同类型的搜索项目主键

54:43.600 --> 54:49.680
对吧 你有可能是这个 issue item

54:50.560 --> 54:55.840
或者什么呢 或者就是如果你自己写的话 这边大概那会有一个book item

54:56.880 --> 55:00.240
对不对 像这样的主键 它没有自己的这个接下来

55:01.120 --> 55:03.280
像这一类主键

55:04.080 --> 55:06.080
这一类主键没有

55:07.600 --> 55:12.400
没有自己的这个接下来 我没有自己的试图吗 他不像你这些主键

55:13.120 --> 55:16.720
我相信这些主键 我这些主键的话 是不是有自己的这个试图 对不对

55:17.440 --> 55:20.640
那我这个的话没有自己的这个gesa试图

55:22.240 --> 55:27.600
试图 而是什么呢 而是充当一个容器

55:28.880 --> 55:34.480
一般的存在 它更像是一个容器啊 对不对啊 这一类主键

55:35.360 --> 55:41.200
这一类主键 我们称之为容器主键

55:42.960 --> 55:47.040
没有吧 称之为容器主键啊 像这一种

55:47.680 --> 55:55.440
这种就是有自己对吧 有自己的这种试图的啊 通过gesa来描述这种试图了 这种的话就是这种展示类型主键

55:56.160 --> 55:58.160
啊 这种就是展示类型的 ok

55:59.200 --> 56:05.760
能去分清楚吧 区别还是很明显啊 我在这边我把它写完嘛 写完这边你看到区别就更明显了

56:06.320 --> 56:08.320
好 这边那就把什么呢 我就把那个

56:09.280 --> 56:14.480
我把那个就是我们之前的那个 issue issue item

56:15.040 --> 56:18.640
把它引进来啊 这边呢 就是component

56:19.600 --> 56:21.760
下面的 issue item

56:22.400 --> 56:25.760
来引进来好 引进来之后 然后接下来这边

56:28.320 --> 56:30.560
这边这边就是判断一下

56:32.800 --> 56:33.200
probs

56:35.120 --> 56:36.880
probs 你的这个info

56:37.440 --> 56:39.840
info如果他有什么呢 有 issue info

56:41.200 --> 56:43.360
啊 有 issue 表 issue title

56:44.960 --> 56:51.680
ok 那说明什么 说明你这边你的这个搜索结果是一个什么 是不是是一个问题

56:52.320 --> 56:56.960
对不对 是一个问答啊 是个问答的话呢 我们这边呢就展示什么呢 展示这个主键

56:58.880 --> 57:04.240
对不对 就应该展示这个主键 展示这个主键 然后接下来把这个你这边拿到的这个信息

57:04.960 --> 57:07.920
issue info 是不是继续往下面传

57:09.040 --> 57:13.520
probs 点 info 对不对 好否则的话

57:14.400 --> 57:16.480
否则的话呢 我们这边就先是空吧

57:17.440 --> 57:22.080
因为我们现在那边还没写完 那个那个不可 item 还没写 这边怎么了

57:24.400 --> 57:28.640
嗯 我看一下啊 这边的话 语法应该是对的呀

57:29.600 --> 57:38.670
这边他怎么报错了呢 啊 这里这里啊 这里 ok

57:39.950 --> 57:43.230
可不可以啊 我们就这样子 好来我们来看一下好不好使

57:44.350 --> 57:50.030
保存 保存之后然后接下回到我们这边 回到我们这边 我们搜索

57:51.470 --> 57:51.710
嗯

57:53.470 --> 57:57.950
找不出来呢 不出来啊 是不是我们这边还没写完啊

57:59.070 --> 58:02.350
这边啊 这边的话他就是返回一个数组

58:02.910 --> 58:07.150
返回一个数组 然后让我想想啊 这边啊 返回一个数组

58:09.150 --> 58:12.190
瑞特 整个这个返回一个数组 然后

58:13.950 --> 58:21.630
这边应该就出来了呀 这边为什么没出来呢 好再试一下 这边123搜索

58:22.990 --> 58:27.550
我去的时候还没出来啊 还没出来 我找一下啊

58:31.040 --> 58:35.040
这边 这边呢 就是一个一个的

58:36.400 --> 58:39.840
主键啊 一个一个的I show issue item

58:44.100 --> 58:50.980
嗯 这里啊 这儿写错了啊 这里是这个小写的 ok issue title啊 保存

58:52.740 --> 59:00.420
出来了 可不可以啊 出来了 这就搞定了 对了 你的搜索功能也就写完了啊 再来一个

59:01.140 --> 59:04.580
事件是啊 走

59:05.700 --> 59:12.900
看到没有 是搜索出来了啊 有事的 ok 这就是关于搜索啊 你如果这边点击这个 点击这个

59:13.620 --> 59:16.660
这个删除 他是不是就重新回到这个问答力表

59:17.780 --> 59:21.220
对不对 ok 我们整个这一块

59:21.940 --> 59:28.180
也就写完了啊 也就写完了 写完了之后 然后咱们这一块我看要不要再讲一个

59:28.340 --> 59:33.460
这个现在讲了一个小时了 是吧 讲了一个小时 怎么要么把那个讲了吧

59:34.500 --> 59:39.300
把那个就是导航所谓讲了 好吧 导航所谓我想一想

59:40.100 --> 59:45.380
放到这节课讲还是后面讲啊 算了 后面吧 后面放到最后一节课 最后一节课

59:45.380 --> 59:49.540
然后把导航所谓一讲 讲了之后然后对这个项目进行一个总结

59:50.260 --> 59:52.740
差不多了 ok 行 那最后来讲

59:53.380 --> 01:00:00.580
好 这些课就到这里啊 大家下去了 把整个这个完成一下 我们整个这个问答啊 整个问答的话就做完了

01:00:00.900 --> 01:00:04.980
完整的功能 对吧 选了这个问答 大家这边我要发问

01:00:05.700 --> 01:00:10.820
对吧 我这边可以添加一个这个问答 好 大家这边的话我可以干嘛 可以这边的话就是

01:00:12.340 --> 01:00:15.140
呃分类 对吧 根据分类啊

01:00:15.780 --> 01:00:19.780
那显示不同的问答 好 然后在这边的话就是可以搜索这个问答

01:00:20.260 --> 01:00:27.460
对吧 可以搜索问答 好 大家这边可以干嘛 可以进去进去的话 大家这边可以添加这个评论

01:00:28.100 --> 01:00:30.100
是完整的就写完了 ok

01:00:30.820 --> 01:00:31.300
好

01:00:32.420 --> 01:00:39.060
然后下节课的话 大家就我就直接下节课我就讲面试题了就讲这个模块了啊 书籍的话我这边就不讲了

01:00:39.780 --> 01:00:43.540
ok 书籍的话我已经说过很多次了啊 就你问答能做出来

01:00:44.020 --> 01:00:48.260
只要你问答能做出来书籍的话你一定能够做出来了书籍一模一样

01:00:48.740 --> 01:00:54.980
对不对 有啥嘛 这么一样的 对吧 把每本书算出来 这个写出来 只不过你这边啊这个你要自己写一下

01:00:55.780 --> 01:01:00.500
啊 这个组件 这个肯定很明显是不是要封通成一个组件 对不对 这你要自己写一下

01:01:02.260 --> 01:01:03.940
然后其他的话就没什么了

01:01:04.580 --> 01:01:08.820
其他的就没什么了 这边的话啊 这边我说一下 这边的话他就是一个

01:01:09.620 --> 01:01:14.820
就是你这边你不是跳转到想起吗 跳转到想起你这边他能够拿到这个的

01:01:15.380 --> 01:01:18.340
我们来看一下这个书籍 书籍这个想起

01:01:20.100 --> 01:01:22.820
你这边是不是可以拿到一个叫做download link

01:01:23.620 --> 01:01:32.260
看到没有 你这边他能拿到一个download link 能拿到download link之后 然后加这边你就是一个A标签 然后这边点开给大家看一下

01:01:33.060 --> 01:01:36.900
看一下大家就知道了 这个很简单啊 这边呢就是一个A标签

01:01:38.740 --> 01:01:38.980
哦

01:01:40.580 --> 01:01:45.550
哎 嗯 百度云下载

01:01:46.750 --> 01:01:53.230
哎 我这边是咋写的 稍等 稍等 稍等 我看一下我的这个代码啊 看我代码

01:01:54.030 --> 01:01:57.630
哦 我这边是这样子的 给他绑定了一个点击事件

01:01:58.190 --> 01:02:04.910
点击事件 然后接下来的话 这边对应的就是一个反反正就是个跳转 跳转的话 然后接下来这边 你就写这个链接就可以了

01:02:06.030 --> 01:02:07.150
就写这个链接就可以了

01:02:07.790 --> 01:02:12.750
知道吧 你这边反正就是一个跳转 跳转让你写这个链接 他就会自动的进行一个跳转

01:02:13.470 --> 01:02:16.750
ok 你不信了 你把这个链接你把拿到吗 给我们这边

01:02:18.030 --> 01:02:20.750
把这链接把拿到 这个是download的

01:02:22.350 --> 01:02:26.430
把这链接拿到啊 拿到之后 然后加我们这边直接在浏览器里面打开

01:02:27.390 --> 01:02:30.110
就在这里 直接在浏览器打开 走

01:02:33.040 --> 01:02:38.160
你看 这边是不是直接就拿到了 对不对啊 说这边呢 实际上就是个跳转

01:02:39.040 --> 01:02:43.120
啊 就是个跳转 里面点击之后 让他跳转到这个链接就可以了

01:02:43.840 --> 01:02:50.640
啊 其他的话就没什么了 其他的没什么 你这边评论评论也讲了 对吧 评论也讲了

01:02:51.360 --> 01:02:57.200
啊 这书籍书籍其实还简单一些 还简单一些 相比那个问答 ok

01:02:58.240 --> 01:03:00.720
好 那这期课就到这里 再见

