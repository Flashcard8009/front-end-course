WEBVTT

00:00.180 --> 00:02.480
OK 欢迎回来

00:02.740 --> 00:09.900
咱们继续 咱们这边的话上节课的话已经把这个问答详情

00:10.160 --> 00:12.980
包括这个问答详情下面的这个评论

00:13.240 --> 00:15.020
已经把它做了 对吧

00:15.280 --> 00:19.900
这个评论的话 我记得评论列表好像是渲染出来的

00:20.400 --> 00:21.180
对不对

00:21.420 --> 00:24.500
我们这边找一下呢 找一个有评论的 比如这个

00:25.020 --> 00:26.800
OK 这个是渲染出来的

00:27.060 --> 00:28.600
这样我们还差什么

00:29.000 --> 00:34.480
还差一个就是这边的话就是你能够添加评论 比较这边用户点击这个添加评论的时候

00:34.740 --> 00:39.100
你这边的话是需要有具体的动作的 这边需要把这评论添加上去的

00:39.360 --> 00:40.640
比如我们这边来看一下

00:41.400 --> 00:42.160
我们同样的

00:43.200 --> 00:44.720
这里我们找到

00:45.240 --> 00:46.520
找到这个

00:47.040 --> 00:49.340
好 现在我们因为没有登录 我们登录一下

00:49.840 --> 00:50.620
比我们这边

00:50.880 --> 00:53.440
user2 随便登录一个账号

00:54.200 --> 00:55.480
然后接下来这边

00:56.760 --> 00:58.560
k2

00:58.800 --> 00:59.840
然后bd

01:00.100 --> 01:01.620
记住啊 走

01:02.640 --> 01:04.700
登录了 登录了 比如说

01:05.980 --> 01:06.740
把这个

01:07.260 --> 01:08.280
比如说

01:08.540 --> 01:09.820
this is a test

01:11.860 --> 01:13.140
OK 添加评论

01:13.920 --> 01:18.000
你看 这边是可以快速的 这边是不是就是更新你的评论

01:18.260 --> 01:20.820
但我这边的话没有做那个审核

01:21.340 --> 01:23.900
你要做审核的话 你把那个审核添加一下就可以了

01:24.880 --> 01:29.220
审核的话 等那个后面讲后台管理系统的时候再说

01:29.480 --> 01:30.520
现在的话 这边的话

01:30.760 --> 01:32.560
反正就直接就出来了

01:32.820 --> 01:36.140
我这边那个是做了审核的 就这个问答是做了审核的

01:36.400 --> 01:38.440
这个之前大家看到了的 对吧

01:38.700 --> 01:42.800
点击那个我要发问 添加提问之后它不是说立即就出现了

01:43.300 --> 01:47.660
它是需要那个后台管理系统那边进行个审核 审核通过了之后

01:47.920 --> 01:49.460
接下来才那个

01:49.720 --> 01:51.760
这边才会出现 OK

01:52.220 --> 01:54.980
这个当时我们写的时候 这边写了的吧 我记得

01:55.220 --> 01:57.340
我们当时有一个漂亮条件就是什么

01:57.600 --> 01:59.900
这必须是那个enable是q的

02:00.680 --> 02:01.700
我看一下啊

02:02.460 --> 02:05.140
我记得我们是写了的 就这里

02:05.380 --> 02:07.420
必须是q

02:07.840 --> 02:11.420
对不对 这个其实就是看你那个审核的状态

02:11.680 --> 02:13.340
审核通过就把设置为q

02:13.580 --> 02:15.020
没有通过就是force

02:15.280 --> 02:18.100
你看我们这边在查询的时候 我们查询了这个都是q的

02:18.580 --> 02:23.050
OK 好 接下来回到我们的discuss

02:23.250 --> 02:27.130
我们一个一个来做 我们首先的话我们来做这个

02:27.890 --> 02:30.450
先做添加吧 先做添加

02:30.690 --> 02:34.290
添加的话对应的就是应该是说这个button

02:35.050 --> 02:38.130
对吧 它应该的话是应该有一个点击事件的

02:39.410 --> 02:42.330
好 那我们这边给它绑定一个点击事件

02:43.250 --> 02:44.210
click

02:44.650 --> 02:45.810
等于一个

02:46.330 --> 02:47.610
比如说这边

02:47.850 --> 02:49.650
我们写一个比较submit

02:50.610 --> 02:52.210
submit

02:53.490 --> 02:56.010
OK 好 然后再在这上面

02:57.130 --> 02:58.610
上面的话这边function

02:59.690 --> 03:01.410
function on submit

03:01.970 --> 03:03.530
这个就是添加评论

03:05.570 --> 03:09.570
添加评论的回调函数

03:10.930 --> 03:13.170
好了 这边的话还是老规矩 其实就是什么

03:13.170 --> 03:17.010
是不是就是获取用户的这个评论的这个信息

03:17.250 --> 03:18.610
那接下来发送请求

03:19.130 --> 03:23.130
对吧 但是这边的话你要注意 这边的话需要进行一个判断

03:23.590 --> 03:27.430
判断什么呢 因为我们这边的话 除了这个问答列表

03:28.110 --> 03:31.070
有这个评论 比如说你看这里 除了它

03:31.790 --> 03:35.750
除了它这边的话 你有评论 我们的输击是不是也可以进行评论

03:37.110 --> 03:40.310
对了 输击这边也是可以进行评论的 用评论个123

03:41.190 --> 03:42.470
这边是不是 也有评论

03:43.190 --> 03:46.950
所以这边的话你在添加评论的时候 这边实际上是有个判断的

03:47.830 --> 03:52.270
有个判断 你注意这边输击的话 其实我这边 两个看上去不一样 对吧

03:52.650 --> 04:01.130
一个的话是 这边的话 用的是那个markdown的编辑器 这边输击 输击的话 我这边就单纯的是用了一个这个text area

04:01.850 --> 04:04.810
两个看上去不一样 但实际上的话 用的是一个组件

04:05.610 --> 04:09.850
用的是一个组件 ok 好 那我们这边回到这里

04:10.690 --> 04:16.770
回到这边啊 那这里 这里的话我首先net一个这个new content

04:17.590 --> 04:19.110
new comment

04:20.870 --> 04:25.950
一条新的评论 先等于一个这个闹 好 然后接下来我这边判断一下

04:26.630 --> 04:31.430
衣服什么呢 衣服你的这个probs 点这个comment type

04:32.310 --> 04:38.350
我们之前是不是通过这个来判断的 在这里 对吧 你这边呢 如果是一的话 那就说明是问答

04:39.390 --> 04:46.150
如果是二的话 就是输击 只不过我们这边还没写 这里 这里的话 应该是交给大家自己写了 自己来完成了

04:47.150 --> 04:48.670
ok 好 我回到这边

04:49.710 --> 04:56.870
好 如果你的这个comment type全等于一个一 说明什么 是说明是

04:57.710 --> 05:02.030
新增这个问答 问答的评论

05:02.950 --> 05:04.670
对了 问答评论

05:06.630 --> 05:07.630
lcif

05:08.950 --> 05:11.350
如果你的这个probs 点comment

05:12.130 --> 05:17.130
然后type 如果全等于二 说明什么了 说明是新增

05:18.130 --> 05:20.250
新增书籍的评论

05:21.250 --> 05:25.850
今天下午也很安静啊 我以为今天星期一那个装修的会继续装修

05:26.490 --> 05:30.490
没想到今天也很安静 好 新增这个啊 说明

05:31.570 --> 05:33.970
说明是新增书籍的评论

05:34.890 --> 05:40.090
ok 好 然后接下来的话 咱们这里的话就来获取一下 那这边呢 这个new

05:40.830 --> 05:43.630
comment new comment

05:45.670 --> 05:52.270
new comment 就应该等于什么 是不是等于你这边 这边我是不是用riff引了的 那就应该是他

05:54.850 --> 05:56.490
他 然后接下来话点

05:57.890 --> 06:01.610
current 点get instance 啊 不要写错了

06:02.490 --> 06:07.490
instance 啊 它是个方法 点get html

06:08.190 --> 06:10.590
当然有的同学可能会很好奇 为什么你这个

06:11.470 --> 06:18.590
就是问答 问答你这边要用这个markdown的编辑器 然后书籍的话 你用的就是这个普通的这个text area

06:19.190 --> 06:21.870
啊 因为书籍的评论的话 基本上就是文字

06:22.790 --> 06:25.870
纯文字 ok 你看一下这些书籍的评论 我们找一个

06:26.830 --> 06:32.990
找一个有评论的 评论比较多的比较这个啊 那书籍的评论基本就是像这样子的纯文字

06:33.610 --> 06:39.970
对不对 那是问答不一样 问答的话 你这边这个评论的话 他有可能是什么呢 有可能是这边有这个代码

06:41.290 --> 06:41.810
这个没有

06:43.490 --> 06:44.290
比我们找一个

06:46.090 --> 06:47.690
找一个是后面的啊 比较这个

06:48.850 --> 06:49.410
这个也没有

06:50.450 --> 06:54.250
好 我们这边 第二 第二我们找一个啊 比较这个

06:54.930 --> 07:01.010
你看 他有可能是什么 有可能是这边人家评论 因为你这个是 你这个是关于什么 关于这个代码的问题

07:01.470 --> 07:05.550
关于代码的问题 那人家在评论的时候 人家是不是有可能这边就要写这个代码呀

07:06.550 --> 07:10.870
对不对啊 所以这边用的是一个markdown的编辑器 做了一些区别

07:12.750 --> 07:16.390
好 回到我们这边 这边的get html 先获取的

07:17.350 --> 07:20.310
对吧 如果是书籍评论 书籍评论的话 那就是获取那个

07:21.310 --> 07:28.870
你那个text area 他的那个字 ok 好 大家这边稍微判断一下 if 你这个new comment

07:29.730 --> 07:32.570
啊 他微空 微空的话 让我们这边的message

07:33.170 --> 07:35.010
message 点这个warring

07:36.130 --> 07:40.490
啊 就是请输入评论 请输入评论内容

07:42.090 --> 07:45.450
对吧 就比如说你现在这里 这里的话 我比如说

07:47.130 --> 07:49.290
我什么都不写啊 我就直接评论

07:52.370 --> 07:52.570
我

07:54.330 --> 07:57.170
我这边的话 应该是做了判断了才对啊

07:58.150 --> 07:59.430
说等啊 我看一下

08:00.510 --> 08:05.230
new comment 然后哦 这边的话 也不对啊 我这个是成品啊

08:06.510 --> 08:07.990
这个是成品啊 我看一下

08:08.990 --> 08:14.590
这是成品 成品 然后接下来我这边 我直接写啊 不不不 我直接不写

08:15.950 --> 08:20.830
啊 重新来 重新来 我这边进来 进来 然后接下来 这里

08:22.310 --> 08:25.430
哦 这里 这里还有个bug 是吧

08:26.410 --> 08:27.370
这里还有个bug

08:28.450 --> 08:29.810
这边的话 应该是

08:30.970 --> 08:33.290
嗯 我看一下 这边让我打一下

08:34.530 --> 08:35.370
clg

08:37.250 --> 08:37.930
new comment

08:39.250 --> 08:39.970
啊 打印这里

08:41.850 --> 08:44.250
啊 打印这里是我们来这边 来我们这边来看啊

08:45.090 --> 08:46.290
啊 把那个控制台打开

08:48.410 --> 08:50.010
控制台我们这边放到下面来

08:52.320 --> 08:53.680
啊 我们这里的话

08:54.500 --> 08:58.740
啊 我们这个是空

09:00.620 --> 09:04.700
哦 他这边默认有难怪不得 他这边默认有个东西

09:05.900 --> 09:08.620
可不可以啊 比如说我这边随便进来一个

09:09.460 --> 09:13.700
进来一个周他这边默认 默认有个换行

09:15.820 --> 09:18.260
默认有个换行 那这个的话得处理一下

09:19.180 --> 09:22.260
啊 不过你这边啥都没输入 你这边听下评论这边是不对的

09:23.120 --> 09:25.000
对不对啊 我这边的话在那个

09:26.000 --> 09:29.920
苏级那边你这样子好死 但是在这边的话这边不好死

09:31.240 --> 09:32.560
嗯 让我想一下啊

09:34.960 --> 09:40.160
那我们这边就这样子吧 我们这边复制 我们这边是不是给他复制啊 复制这我们这边简单做一个判断

09:40.160 --> 09:41.840
如果你的new comment

09:42.520 --> 09:46.320
如果全等于什么呢 全等于这个制服串 就你只有这个制服串

09:46.840 --> 09:50.120
对吧 你如果里面输入内容那肯定不一样 不用你这边输入一点内容

09:50.620 --> 09:56.980
听下评论啊 那你这边呢是有东西的对不对 你如果的话你这边就是只是等于这个

09:57.700 --> 09:58.540
全等于这个

09:59.980 --> 10:03.580
那我们这边呢让这个new comment等于一个空之串

10:05.220 --> 10:07.220
ok啊 来我们来看一下这种好不好死啊

10:08.140 --> 10:12.540
好 我们这边把它干掉 听下评论啊 这边抱错了啊

10:13.700 --> 10:16.260
没啊 这个这个错 这个错是没引入

10:17.580 --> 10:19.940
这个的小问题 反正说明他进去了 是吧

10:20.420 --> 10:23.780
说明他进去了 应该是ok的 保存

10:25.180 --> 10:29.740
啊 说我这个的话 因为当时做的急啊 很多东西的话就会有一些这些小bug

10:30.100 --> 10:35.500
包括你们做到后面的话 可能拿到我之前的那个成品 啊 仍然会遇到一些啊 可以了

10:36.340 --> 10:41.420
是可以了 对吧 啊 就你拿到拿到我这个成品之后依然就是可能比如说

10:41.980 --> 10:49.220
我的成品里面会有一些这个bug之类的 到时候你把修改一下就可以了 ok 我这个的话这个测试时间没有那么多

10:50.380 --> 10:55.460
好 让我这边输入一些东西 这样子是比较ok的 对不对 这样就ok了啊

10:56.580 --> 10:59.780
好 然后接下来的话会到我们这边

11:01.500 --> 11:05.700
回到我们这边啊 没有进一步 没有进一步是不说明有类的 对不对

11:06.980 --> 11:09.820
啊 没有进入上面的衣服啊 这边就直接return了

11:12.110 --> 11:18.510
这边就直接return啊 这边就不需要往后面再走了啊 没有进入上面的衣服说明什么 什么说明是ok的

11:19.050 --> 11:21.570
ok的话 那我们就该干嘛了 提交评论了

11:22.850 --> 11:28.490
提交评论啊 那提交评论的话 这边涉及到什么 新增一个api

11:29.850 --> 11:32.250
对的 这边的话提交评论

11:33.850 --> 11:34.250
提交

11:36.410 --> 11:38.490
提交评论啊

11:39.970 --> 11:43.130
好 我们这边的话把那个打开 把那个api文档打开

11:44.570 --> 11:46.330
这边api文档

11:49.420 --> 11:50.540
好 稍等一下啊

11:52.380 --> 11:53.660
怎么这个网络这么慢呢

11:54.860 --> 11:59.700
好 出来了 好 然后接下来这边过来 让我们找到那个评论

12:01.740 --> 12:04.500
找到评论 评论的话 然后加这边新增评论

12:05.820 --> 12:10.380
新增评论来看一下 而这边呢 是api comment 是个poss请求

12:11.740 --> 12:17.980
啊 这边呢 需要你填写这些东西 首先你user的id 你哪个用户添加的评论 对吧

12:18.040 --> 12:23.360
那type id 让你评论的内容 把评论的类型 然后接下来的话你这边

12:24.640 --> 12:27.920
这是什么不可id 书籍id

12:29.040 --> 12:32.640
等一下让我想想啊 这边的话type id内容

12:33.680 --> 12:40.400
啊 这边的话我可能还少写了一个 这里还少写了一个 这边的话应该是有一个e-shoot id

12:41.520 --> 12:44.440
啊 这边的话应该还有一个e-shoot id 把这个编辑一下

12:45.420 --> 12:51.940
这边的话 新增一个 然后e-shoot id

12:52.860 --> 12:57.140
这边比如说假设啊 这个是你的问答问答 id

12:58.260 --> 13:02.060
ok 那这个书籍id和你问答 id 这个东西的话应该是什么

13:02.540 --> 13:07.300
是二选一的关系啊 对吧 比如说你现在是问答 那他就有问答 id 那书籍id就是没有的

13:07.780 --> 13:12.660
你现在的话是针对某本书来进行这个评论 那书籍id是有的 那他就应该是没有的

13:13.400 --> 13:16.760
对不对 ok 这边了 保存一下

13:18.280 --> 13:20.400
保存之后 然后加这边来看一下啊

13:21.800 --> 13:27.560
啊 这边这边这个数据是个数据有点不对 这个回头我把这改一下啊 这边我应该做个说明

13:28.720 --> 13:32.240
那等一下编辑的时候 这边应该做个说明啊 这边背住

13:33.520 --> 13:39.400
新增评论的时候 新增评论的时候 然后这个book

13:39.580 --> 13:48.820
book id和 issue id啊 二选一对不对

13:51.380 --> 13:58.420
好 然后回到我们这边 回到我们代码 这边呢 我们就新增一个提交的提交这个评论的

13:59.300 --> 14:00.180
export

14:01.300 --> 14:04.140
function 然后 and comment

14:06.140 --> 14:08.780
啊 这边应该传什么是传以的这个新评论

14:09.460 --> 14:12.580
new comment 啊 这边的话return

14:13.980 --> 14:18.260
return recruit url url的话对应的应该是

14:20.990 --> 14:27.390
应该是他对吧 应该是他好 那过来好 然后加message

14:28.150 --> 14:32.110
message的应该是post好 然后加这边的这个data

14:32.830 --> 14:37.070
data对应的应该是new comment对不对 保存一下

14:38.050 --> 14:42.970
好 保存之后再回到这个discuss这个组件 那这边呢 仍然是什么

14:43.370 --> 14:48.970
就直接在这个组件里面发琴球就可以啊 对吧 因为我这个不需要存到这个数据仓库里面

14:49.970 --> 14:55.370
我们这边呢 import import 然后from

14:56.650 --> 15:00.130
这个 api 下面的这个comment

15:01.610 --> 15:02.970
好 然后接下来在这里

15:04.170 --> 15:07.480
在在

15:08.380 --> 15:15.340
评论 我们这边在哪里啊 在这对吧 好在这里 这里的话是不是就是调用对了

15:15.580 --> 15:19.980
and comment 好把这个对象把它传过去 首先的话 这边user id

15:23.260 --> 15:28.140
user id 那user id的话应该是等于什么 我们这边user 拿到没有

15:28.940 --> 15:33.460
user 啊 拿了的对吧 user info 好 那这边呢 就是应该是user info

15:34.220 --> 15:36.140
电脑怎么又想起来了 真的是

15:36.920 --> 15:45.440
烦死了 我又没做什么 对吧 我们开电脑挖矿啊 动不动觉得这个风扇就转起了 烦死了

15:46.320 --> 15:50.760
好 这边的话这个user info 点id好 然后接下来的话这边

15:52.880 --> 15:53.160
嗯

15:54.880 --> 15:57.320
好 接下来还有什么 来看一下这个接口

15:58.360 --> 16:01.560
看这接口啊user id 人家type id

16:02.640 --> 16:05.960
type id的话我们应该是从哪里了 type id

16:06.760 --> 16:11.720
type id的话 我们看一下啊 这边的话你想拿这个type id

16:12.760 --> 16:14.800
type id 这边的话

16:16.240 --> 16:22.480
这边还没有啊 就你这个具体是哪个类型的问题 因为我们问题是不是有个类型啊

16:23.440 --> 16:27.440
对不对啊 比如说我这边针对这个问题 这个问题啊 它是有一个分类的

16:28.080 --> 16:31.240
啊 比如这边 它是唯有意义的问题 对不对

16:32.040 --> 16:34.800
type id 啊type id 我们这边可以这样子

16:35.380 --> 16:38.420
可以这样子 我们这个在哪用的 是不是在这个

16:40.300 --> 16:43.780
嗯 detail issue detail 是不是在这个位置用的

16:45.140 --> 16:52.020
在在哪个位置 在这里 是不是在这用的 对吧 在这用的话 但我这边让我把整个这个 issue info 我再传给你

16:52.980 --> 16:54.260
issue info

16:55.580 --> 16:56.820
啊 等于一个

16:57.660 --> 16:59.260
你这边的话这个 issue info

17:02.500 --> 17:06.900
我把整个这个的话 我再把它传递过来 因为这个 issue info 上面是不是就有type id

17:08.020 --> 17:14.940
对了 原 issue info 上面 啊 它肯定是有的啊 issue info 上面 因为它是一条具体的问答信息

17:15.420 --> 17:18.020
问答信息上面是有的 我们把那个数据库也打开吗

17:19.620 --> 17:25.320
数据库也打开 这边的话 issue

17:27.560 --> 17:28.040
issue

17:29.840 --> 17:33.240
你看 它是不是肯定是有type id 了 对不对 OK

17:33.960 --> 17:37.160
好 那我们这边要把这个 issue info 把它传过去

17:37.700 --> 17:43.660
回头的话 你那个就是如果是做数据的话 数据的话 那这边是不是book这个book info

17:44.060 --> 17:45.860
那把那个book info 传递过去

17:46.820 --> 17:51.180
对不对啊 好 那我们这边回到这里

17:52.980 --> 17:58.100
嗯 回到这边 好 那接下来的话 这边这个type id

17:59.060 --> 18:04.260
type id 那type id 的话 这边就要判断一下啊 看你这个probs

18:05.900 --> 18:06.380
probs

18:07.660 --> 18:10.340
probs是否有这个 issue info

18:12.380 --> 18:15.380
是否有啊 如果有的话 那这边就是probs

18:17.420 --> 18:25.020
点 issue info 点type id 那否则是什么呢 否则的话是这个probs

18:26.180 --> 18:27.260
然后book info

18:28.820 --> 18:33.380
这个是 这这后面的话 是后面就是你做那个数据评论的时候

18:34.120 --> 18:40.120
啊 你做数据评论的时候 你到时候这边 这边你肯定是在那个数据detail嘛 对吧book detail

18:40.680 --> 18:49.320
啊 这边简单说一下啊 因为数据的话我就不带这些了 你这边数据数据点进去 那这个是不是肯定是数据book detail这个插件

18:50.000 --> 18:52.480
对不对 这个插件里面 然后这边是不是有个这个评论

18:53.400 --> 19:00.560
对不对啊 所以你到时候的话 你的这个discuss 这个是我们的这个整个这个啊 整个这个是我们的discuss组件

19:01.220 --> 19:04.540
对不对啊 你这边再用的时候 你这边就传book info

19:05.300 --> 19:10.220
ok book info 然后book对应的就是你数据的这个信息啊

19:11.900 --> 19:13.420
好 然后回到这边

19:15.900 --> 19:20.180
困到这边啊 这边呢 就是book info 点type id

19:23.050 --> 19:30.530
type id啊 type id就搞定了 type id搞定之后 然后接下来还有什么 还有就是con这个comment content

19:31.270 --> 19:35.270
comment 这个content对应的就是什么什么new comment

19:36.670 --> 19:42.710
对啊 好 然后还有什么 还有这个type 啊 这些都简单 这边呢 是不是我们传了个props

19:44.830 --> 19:49.150
pr o ps props props 然后接下来我们这边有个什么

19:49.870 --> 19:53.230
我们这边是传了一个这个comment type comment type

19:54.870 --> 19:58.630
对啊 好 然后接下来这边呢 还有一个book id book id 它没有

19:59.570 --> 20:03.970
没有的话 我记得我这边你还是要传啊 传的话我记得这边它就传一个

20:06.730 --> 20:12.050
这传个捞就可以了 我记得一会看一下吗 能不能听我看这表我就知道了

20:12.970 --> 20:15.330
我看一下表我就知道了 然后这边comment

20:17.920 --> 20:21.760
你看对吧 你这边这条评论如果是那个

20:22.840 --> 20:29.160
问答的评论 那他book id就是那你如果是那个数据的评论 那你的e should id就是那

20:29.760 --> 20:32.760
ok 好 大家这边e should id

20:34.300 --> 20:39.300
e should id 那e should id 呢 这边就等于什么 所以就等于这个props 点

20:40.500 --> 20:40.900
target

20:42.740 --> 20:46.500
我们这边有个target id吧 这边target id

20:48.580 --> 20:50.820
这个target id 对吧

20:52.660 --> 20:58.260
ok 好 点target id 好对的 好 这边呢就添加评论

20:58.880 --> 21:02.280
好 添加评论完了之后来我们来试一下 我们这边保存

21:03.400 --> 21:06.280
啊 你这边呢 肯定是需要有一个提示内容

21:07.920 --> 21:10.000
需要有个提示内容啊 不要sick sense

21:11.440 --> 21:13.120
sick sense啊 评论成功

21:16.030 --> 21:21.710
评论成功 对吧 好来我们这边保存一下 来看一下好不好使

21:22.710 --> 21:27.190
好 然后接下来回到这里 我们这边的话 重新进来啊 这边过来

21:28.130 --> 21:34.970
来啊 再来试一下 这边请说评论内容 对吧 好 大家我们这边 随便写一点

21:35.850 --> 21:41.690
这是一条测试评论啊 评论于

21:43.130 --> 21:51.290
评论于什么呢 2022年11月14日啊 然后下午

21:52.270 --> 22:02.350
下午2点16分啊 天气勤了 随便写点啊 复制一下 万一没有成功 以后懒得敲了

22:02.990 --> 22:08.830
啊 复制完了 好 添加评论 说成功 对吧 成功了之后 然后接下这边的话 来看一下

22:10.590 --> 22:16.630
到数据库这边来看一下 这边重新刷新一下 刷新之后 让我们看一下下面 是不 ok 了

22:17.410 --> 22:21.330
这边 对吧 把这条数据打开看一下

22:23.290 --> 22:31.570
是不是 ok 了 对吧 这里一块评论就评论成功了 ok 好 这些的话都是记录了的 对吧 好 然后

22:32.850 --> 22:39.570
接下来 接下来的话 你需要把那个有些该清空的 你把它清空一下 比如说你这边

22:40.390 --> 22:48.230
不要你这边 这边让你是不是你应该把它清空一下啊 再加这边那评论成功之后 然后还有一个啊 还有一个很重要的

22:49.190 --> 22:53.710
啊 把刚才那两条删了哈 这两条 这两条应该对应的是

22:55.470 --> 22:58.270
应该是这两条吧 应该是这三条吧 这三条都删了

22:59.670 --> 23:07.080
delete ok 好 删了 好 让大家这边重新刷新一下

23:09.950 --> 23:15.630
ok 出来了 好 然后既然这边还有一个问题 比如我这边写个123走

23:16.870 --> 23:21.150
啊 一个是什么呢 一个是实实这边的话 我是不是应该是实实的出现

23:22.550 --> 23:23.670
这边是实实的出现

23:24.590 --> 23:31.030
对不对 好 他这边为什么没有实实的出现 你这边的话 添加成功 添加成功之后 然后

23:31.750 --> 23:35.670
我们这边要想他实实出现的话 这边是不是应该是重新

23:36.410 --> 23:38.490
调用你这个use effect

23:39.930 --> 23:43.290
因为他就是干嘛 他是不是就是获取你的这个评论列表的

23:44.130 --> 23:46.290
对不对 所以他的话是不是应该是重新执行

23:47.210 --> 23:50.570
对不对 好 所以说我们这边要稍微设置一下啊

23:51.930 --> 23:54.650
好 我们这边这个样子 我们这边来写一个状态

23:55.530 --> 23:56.130
const

23:57.250 --> 23:58.570
一个这个refresh

24:01.520 --> 24:04.440
啊 这个倒是刷新的意思啊 set refresh

24:07.560 --> 24:08.880
ref

24:10.880 --> 24:15.160
啊 要等于一个use state 他是一个什么呢 他是一个布尔滋

24:15.880 --> 24:19.080
啊 一开始是真假无所谓 你设真也可以 设假也可以

24:19.480 --> 24:22.320
好 然后接下来的话 我这边的话 我就依赖于什么呢

24:22.920 --> 24:28.040
我这边use effect 他是不是重新发送这个请求 去获取你的评论列表

24:28.600 --> 24:31.840
对不对 好 然后既然我在这边 我就依赖于你这个状态

24:32.620 --> 24:38.260
看到没有 也就是你回头你这个状态发生变化的时候 我这个是不是也要重新执行

24:39.100 --> 24:44.700
对不对 好 那接下来的话后面就简单了 后面我这边的话我就干嘛 我这边是不是就

24:46.060 --> 24:48.260
是不是set refresh

24:49.420 --> 24:53.260
啊 那他等于一个就当前的这个refresh 是不是取个反就可以了

24:54.260 --> 24:56.460
对吧 好 来我们这边 我来看一下

24:59.410 --> 25:03.130
好 这边比如说123123123 走

25:04.210 --> 25:07.930
搞定没有 这就搞定了 对不对 搞定了

25:09.010 --> 25:15.330
好 搞定归搞定了 这边的话应该要把它清除一下啊 我看我成品 成品这边清除没有

25:16.890 --> 25:23.290
不用我这边 啊 清楚了的 是吧 好 那我们这边要把它清除一下 好 这边的话怎么清楚

25:24.690 --> 25:28.530
啊 其实也很简单 就是把你的那个你首先的话要获取到

25:29.510 --> 25:35.990
获取到那个就是你的那个马克档那个编辑器 对不对 获取到之后 这样你把它清空下就可以了

25:39.680 --> 25:44.360
好 那这边这边的话就是啊 是不是就是他呀 对不对 整个这一块

25:45.320 --> 25:51.160
这一块的话 那现在他就不是说是get html 而应该是什么呢 应该是set html

25:52.160 --> 25:54.440
啊 我就不把那个ap文档打开给大家看了啊

25:55.280 --> 25:59.200
这个你不信的话 你自己去查一下 他这边话会有个set html的方法

25:59.660 --> 26:02.500
好 把它设置成空之串就可以了 好 来试一下

26:04.980 --> 26:08.100
啊 比如说我们这边的话asd 啊 这边走

26:09.060 --> 26:17.540
做搞定 对吧 就搞定了啊 听到评论 请说评论内容 ok 可以啊 这边其实还有个功能没错

26:18.220 --> 26:22.940
怎么功能 你看一下 比如说我这边让我写走 这边有个什么

26:23.620 --> 26:29.020
是激分啊 对不对 有个这个激分 激分的话这个大家有没有失落

26:30.000 --> 26:36.680
有没有失落这个激分 这个激分的话 实际上就是我们这边可以拿到就是你评论了这个user 的这个id

26:37.400 --> 26:45.040
好 那我这边的话就是应该是发起一个请求去修改啊 干净这个user id 去修改他的这个激分

26:46.120 --> 26:52.160
啊 修改了之后 既然你本地的这个激分 还得编一下 ok 好 来 我们就让我们把它做一下吧

26:53.440 --> 26:56.720
特别啊 接下来还需要这个激分的变化

27:00.550 --> 27:05.710
接下来还需要激分的变化

27:09.390 --> 27:15.630
这里其实不仅仅是激分的变化 还有个东西是什么 是评论数的变化 对不对 还有就是

27:16.270 --> 27:19.510
这边我们来写一下啊 就是更新激分的变化

27:20.870 --> 27:27.910
更新激分的变化 还需要什么 还需要更新这个该问答评论数

27:29.710 --> 27:35.670
对不对 所以有两个东西需要更新啊 好 那我们这边的话就我们来看一下这边有没有那个更新

27:36.430 --> 27:43.950
这边apn 我们来看一下这个e数e数的新增啊 这边没有更新 是吧 我们把这个apn把它补充一下

27:45.790 --> 27:49.550
好 我们这边的话 我们来看一下这里 这里话关于这个问答

27:50.630 --> 27:56.910
关于问答问答的话这里啊 这里的话 然后有一个这个修改问答

27:57.290 --> 28:03.850
修改问答在这里 看没有 你这边传个id 传个id之后 然后就在这边你这个body里面

28:04.330 --> 28:10.170
就是你要修改修改这个问答 那我们这边要修改的是什么 所以要修改的就是它的那个

28:11.050 --> 28:13.970
呃comment number 来看一下

28:15.370 --> 28:18.170
来看一下问答问答在这里

28:20.170 --> 28:22.570
我们要修改的是什么 是不是就是个comment number

28:23.270 --> 28:29.710
对不对 ok 好 那我们这边回到这里 这边呢 就是更新问答

28:31.630 --> 28:36.910
我这次用的都是patch 啊 用的是patch patch的话 它就是可以更新这个局部

28:37.670 --> 28:41.470
啊 比方我这边它就不会传整个对象啊 就是你这边的话

28:42.190 --> 28:48.630
你如果用那个put put的话 比如说我只更新这一项 它最终要求你传什么 传整个完整的对象

28:49.270 --> 28:51.950
而patch patch的话 你只需要传这其中一个就可以

28:52.590 --> 28:53.070
啊

28:54.750 --> 28:56.350
好 然后我们这边来export

28:57.350 --> 29:00.710
port function 大家这边我们就叫做update

29:02.790 --> 29:04.390
update issue

29:05.430 --> 29:11.150
啊 这边呢 需要你传一个 issue id 啊 大家这边new issue

29:12.590 --> 29:13.910
new issue info

29:15.830 --> 29:19.230
对吧 好 大家这边return 然后request

29:20.050 --> 29:25.290
好 把那个url 把它过来 url 在这里对吧

29:28.210 --> 29:28.890
url

29:30.570 --> 29:32.850
拿过来 啊 这边呢 downer

29:34.250 --> 29:36.650
啊 把这个 issue id 把它过来

29:38.450 --> 29:41.690
好 大家这个message message 是啊 patch

29:43.370 --> 29:47.370
pat ch patch 好 大家这边有个data

29:48.230 --> 29:50.710
data的话 对那是new issue info

29:52.470 --> 29:58.510
ok 好 然后完事之后回到你的这个我们看一下那个顺便把那个写了 这个user

29:59.310 --> 30:03.550
user的话 我们也需要根据这个id 去修改它

30:04.230 --> 30:10.550
啊 所以我们这边呢 也有一个 就是更新用户 它的这个信息 我这边有没有

30:11.510 --> 30:12.270
用户注册

30:13.350 --> 30:16.870
用户 没有 是吧 没有 我们这边呢 我们写一下

30:17.510 --> 30:20.030
这边来 根据id 修改用户

30:22.270 --> 30:25.790
根据id 修改用户

30:27.030 --> 30:31.310
好了 这边呢 就是啊 export function

30:32.590 --> 30:34.390
然后edit user

30:36.510 --> 30:41.350
啊 这边呢 你给我传一个user id 还有就是新的这个user info

30:41.950 --> 30:45.070
你给我传过来 传过来之后 然后将我这边return

30:45.570 --> 30:49.370
request 啊 这边来看一下 关于用户

30:51.010 --> 30:58.650
用户这边是不是修改用户啊 对吧 应该是他 啊 这边传个id 那既然这边呢 你需要修改的条目啊

30:59.610 --> 31:04.770
啊 这边呢 ur al 对应是个这个啊 这边呢downer

31:06.050 --> 31:08.930
啊 这user写错了啊 user id

31:09.910 --> 31:16.670
把user id 放过来 放过来之后 然后就在这边这个message 等于一个patch

31:17.550 --> 31:19.150
patch

31:19.950 --> 31:25.030
然后有一个什么data 是吧 data 对于的是new user info

31:25.990 --> 31:31.790
ok 把这两个接口 你把它添加一下啊 添加了之后 然后回到这个discuss这边

31:33.390 --> 31:37.030
回到这边 好 这边的话 我们一个一个来 首先的话是更新积分

31:37.370 --> 31:39.450
啊 更新积分的话 那我们就把刚才的那个

31:40.930 --> 31:48.110
import 我看一下 更新积分 我们先先更新这个吧 先更新问答

31:49.350 --> 31:50.350
先更新问答

31:51.870 --> 31:55.550
好 更新问答的话 是不是应该是把刚才那个update

31:56.630 --> 31:58.470
issue 然后from

31:59.350 --> 32:01.870
然后api 这个issue

32:03.310 --> 32:06.990
对吧 把引进来 引进来之后 然后接下来的话 这边

32:07.970 --> 32:08.970
是不是直接调要

32:10.690 --> 32:17.810
对吧 你也不需要去等待啊 需要等待 你这边就调用他就可以了 因为我们不需要等待更新之后 要依赖他的这个新的

32:18.610 --> 32:27.890
这个数据要做什么 我们不需要啊 所以我们这边就直接更新就可以了 更新的时候你这边需要把这个他的id 传过去一下啊 这边就是probs

32:28.730 --> 32:34.770
点 我们有一个那个target id吧 这个啊 这个就是你issue id

32:35.590 --> 32:40.950
啊 把这个target id 传过去 传过去之后 然后接下来的话 你这边你要更新什么

32:41.990 --> 32:44.830
要更新什么 你是不是要更新这个comment number

32:45.830 --> 32:47.430
对吧 这边的话comment

32:48.670 --> 32:52.790
number common number 你要把他更新成什么呢 更新成就是原来的

32:53.630 --> 32:55.150
啊 这边原来的probs

32:56.310 --> 32:57.350
我们这边的话有一个

32:58.270 --> 32:59.630
issue info

33:00.610 --> 33:09.010
啊 啊 这边照理说你这边是要判断啊 你这边在更新这个评论的时候 其实也是要进行这个状态的判断的

33:09.730 --> 33:11.090
ok 你是1还是2

33:12.450 --> 33:14.690
我们这边干脆就把它放在哪里

33:16.170 --> 33:18.370
干脆我们就把它放这吧 放这里面吧

33:20.890 --> 33:22.290
更新评论的回答数

33:23.210 --> 33:24.690
放这里面吧 好吧

33:25.850 --> 33:28.250
ok 那你放这里面的话就可以确认他是一个什么

33:29.230 --> 33:33.510
啊 但也不行啊 你这边他回头你这边还要判断他有没有数东西的吗

33:34.750 --> 33:35.990
我们这边的话

33:39.510 --> 33:40.070
义父

33:42.070 --> 33:44.070
这个放到里面又有点麻烦

33:44.950 --> 33:47.430
啊 让我想想啊 有没有好一点的方式

33:49.030 --> 33:50.350
啊 算了 还是放到下面算了

33:51.550 --> 33:52.270
还是放到下面

33:53.250 --> 34:00.890
还是放到这下面啊 总之你记住这边他也需要做一个判断啊 这边一样的和上面一样的

34:00.890 --> 34:02.890
就是义父你的这个props

34:04.010 --> 34:04.490
点

34:05.330 --> 34:06.050
这个

34:06.050 --> 34:08.050
props.comment type

34:09.050 --> 34:11.050
comment type全等于1

34:11.930 --> 34:14.570
啊 说明是书籍 说明是问答

34:16.850 --> 34:20.800
说明是问答

34:21.460 --> 34:22.860
对吧

34:25.790 --> 34:32.910
或者这样子啊 我知道了 这样子 因为你这边的话如果是问答的话啊 问答的话你这边是不是

34:32.910 --> 34:33.590
issue info

34:34.310 --> 34:36.990
如果是那个书籍的话 这边是不可info

34:37.710 --> 34:41.190
对不对 好 那我这边那我就判断一下你这边首先有没有这个

34:42.190 --> 34:46.990
issue info 啊 如果有的话 那我这边就是props.issue info

34:47.490 --> 34:52.850
props.issue info 点什么 点这个comment

34:54.450 --> 34:58.170
comment number 对吧 大家这边的这个加加

34:59.690 --> 35:03.850
否则的话 这边就是什么 这边就是加加这个props

35:04.730 --> 35:06.410
然后这边的是不可info

35:09.100 --> 35:17.780
不可info 还不可以这样子 对吧 我怕你有没有issue info 如果你传了issue info 那就是issue info 这个comment number 加加

35:18.240 --> 35:24.160
否则的话就是不可info这个comment number 加加 对吧 哎呀 我这样子来写啊

35:24.960 --> 35:31.280
好 这是关于这个问答 就是这个评论数 评论数 他就更新了

35:31.840 --> 35:37.600
好 大家还有一个积分的变化 积分的变化的话 咱们就不能在这个组件直接发请求了

35:38.240 --> 35:45.360
因为我们这边用户的状态是不是存在这个数据仓库了的 对不对 啊 所以我们这边的话其实应该是更新

35:46.340 --> 35:49.700
这边他应该是派发一个action

35:51.740 --> 35:56.460
好 那我们这边的话来到我们的redux 这边 啊 users nice

35:57.180 --> 36:02.180
来到这边 好 这边的话咱们就来写一个 啊 这边的就是

36:03.100 --> 36:08.180
export constant 比我们这边叫做这个update user

36:09.100 --> 36:09.500
info

36:10.480 --> 36:11.680
啊 这边加个sync

36:12.400 --> 36:14.400
sync

36:15.360 --> 36:21.320
等于一个这边这个 啊 这边需要引入一下 引入一下这个create a sync drunk

36:22.520 --> 36:22.720
好

36:25.280 --> 36:31.240
然后调用这个方法 啊 这边这边的话啊 老规矩 这边是他的名字 user

36:31.680 --> 36:34.240
那一般的话 这边就该对应着 user

36:34.800 --> 36:39.960
那update user info sync 好 然后这边是一个异步的方法

36:40.820 --> 36:46.460
好 这边是你传递过来的啊 你这边外部在派发这个sync的时候 是不可以派发

36:47.060 --> 36:53.300
传递额外的数据过来 对吧 我这边接收一下 接收之后 然后接下来这边 drunk api

36:54.340 --> 37:00.900
啊 我们一会儿的话就直接在这儿派发了啊 就更新这个仓库状态的时候 更新这个仓库状态的时候 我们就直接在这里啊 dispatch

37:01.980 --> 37:06.980
好 然后接下来的话 这里 这里的话是不是应该是import

37:07.280 --> 37:10.600
这个 我该写的三边来着

37:12.000 --> 37:14.000
按照做edit啊 edit user

37:14.920 --> 37:21.120
好 那接下回到这边 引入edit user from这个 api 下面的

37:22.240 --> 37:26.640
user 对吧 好 然后接下来这里 这里的话

37:27.720 --> 37:31.000
edit user 这边呢 就是payload

37:33.120 --> 37:36.000
payload啊 回头让我们这边会传一个点

37:36.900 --> 37:37.780
user id

37:38.900 --> 37:45.140
好 然后在这边呢 会把这个新的数据把传过去啊payload点 new info

37:46.340 --> 37:53.420
给他传过去啊 传过去之后 然后在这边呢 等待啊 更新完毕 更新完毕之后 让我们直接dispatch

37:54.220 --> 38:01.960
所以这边呢 就是 drunk drunk api.dispatch

38:01.960 --> 38:09.380
dispatch 这边dispatch 什么呢 我们这边需要有一个更新用户状态

38:12.610 --> 38:16.210
更新用户 用户信息

38:18.250 --> 38:24.010
更新用户信息 这边就叫做update user info

38:25.090 --> 38:27.810
ok 这边对应的这一块

38:28.310 --> 38:37.010
好 这边多了一个 ok 好 大家这边让生成对应的action

38:39.090 --> 38:40.050
生成对应的action

38:41.770 --> 38:48.570
好 大家这边派发的话就派发他 对吧 派发他 然后接下来把什么 把你的这个

38:49.810 --> 38:52.450
payload点new info 数传过去

38:53.250 --> 38:56.690
payload点new info 就是回头是你这个用户新的信息

38:57.670 --> 39:05.510
新的信息啊 我们这边除了就是远端这边发过去以外 我们这边在这个dispatch这个action的时候啊

39:05.830 --> 39:11.230
这边 是不是直接给他派发过来就可以了 对吧 好 所以我们这边把他放过来

39:12.230 --> 39:18.710
放过来之后 然后接下来的话 这边 我们这边我们先看一下嘛 这样子 给大家先看一下 先看一下这个payload

39:19.210 --> 39:20.010
啊 这边是啥

39:21.890 --> 39:22.330
payload

39:24.720 --> 39:28.720
payload是啥 啊 这边后面的话 先都先不着急做啊

39:29.720 --> 39:35.640
好 然后我们这边把这个这个导出出去了的 导出出去的话 然后我们在这边discuss这边 是吧 引入一下

39:37.880 --> 39:45.600
这边的话 我们看一下啊 api 有没有有没有snice 没有是吧 没有 咱们这边引入一下

39:48.040 --> 39:49.120
好 这边是from

39:50.080 --> 39:53.120
这个redux 下面的user snice

39:54.400 --> 39:58.000
ok 好 然后接下来在在这边

39:59.720 --> 40:05.120
嗯 这边说派发是吧 派发这边说有一个dispatch dispatch好像也没有

40:07.040 --> 40:07.920
import

40:08.920 --> 40:14.800
use dispatch 那就这边的话 from 什么 red to redux

40:15.800 --> 40:19.760
对吧 use dispatch 好 然后接下来话这边

40:20.920 --> 40:23.960
const一个use dispatch 啊 这个

40:25.500 --> 40:27.860
dispatch 然后这边是dispatch

40:29.460 --> 40:36.420
啊 const dispatch 用use dispatch 啊 先生成这个dispatch 拿到这个dispatch的函数 好 大家在这里

40:37.140 --> 40:38.220
来派发这个action

40:38.280 --> 40:45.680
对不对 好 那就这边传餐 这边传餐的话 这边的话我就应该传什么呢

40:46.680 --> 40:50.520
嗯 这边呢 就应该传一个对象 对象里面应该有两个东西

40:51.320 --> 40:54.720
你看这里对应者这边应该有两个东西 一个是user id

40:56.000 --> 41:01.240
你要修改哪个user啊 那这个user id的话对应的就应该是

41:02.400 --> 41:07.280
我们刚才的话有个user info 对不对 啊 就他说对应的就应该是他

41:10.170 --> 41:15.690
对不对 好 然后接下来话还会有个什么呢 还会有一个你看这里还会有个new info

41:16.010 --> 41:22.090
啊 那我们这边就是一个new info new info应该是个对象啊 对象里面就是你要改哪些

41:22.690 --> 41:27.890
我们要改的是什么 我们要改的是不是就他的这个g分 我们来看一下这个g分

41:29.370 --> 41:31.610
这边所对应的这个界名叫什么

41:32.450 --> 41:35.490
g分poins 是吧 对应的是poins

41:36.470 --> 41:42.190
对应的是poins 啊这poins就应该是等于什么 是吧 你之前的这个poins

41:43.630 --> 41:46.870
probs 不用probs 这边我看一下

41:47.790 --> 41:51.550
这边是直接拿到user info 我看对的 直接拿到user info

41:52.830 --> 41:58.630
直接拿到user info 好 你之前的poins 然后加这边你要加多少分

41:59.590 --> 42:01.230
啊 比我们这边评论一个加四分

42:01.970 --> 42:07.730
所以你之前的分 然后加一个这个四分 那这个是不是你新的分数啊 对不对 好 然后加这边他

42:08.170 --> 42:10.970
传递到哪里 传递到这里来 好 那我们这边我们来看一下

42:14.890 --> 42:17.290
好 然后接下来我们来试一下

42:20.910 --> 42:24.190
好 这个不管他 好 大家这边123走

42:25.150 --> 42:29.390
可不可以啊 这边是不是你的user id 已经你的这个new info

42:30.550 --> 42:34.830
对不对 新的分数啊 新的分数呢 大家这边首先调这个

42:35.810 --> 42:42.330
调API 把服务器那边的更新了 更新之后 然后加这边 这边的派发一个action 把这个new info

42:42.810 --> 42:47.010
把拿过来 拿过来之后 然后接下来这边 这边的话就是去便利

42:48.090 --> 42:53.130
因为我们后期的我们还会用到这个 还会用到的这个 在哪用的 在这个地方

42:54.250 --> 43:00.010
就这边 个人星星这 个人中心这 个人中心这边我会设计到是不是修改你个人的这个

43:01.250 --> 43:04.330
对你的一些资料 对不对 修改一些这个资料

43:05.130 --> 43:08.330
那你这边上也是什么 也是就是要首先要发请求

43:09.130 --> 43:14.170
对吧 发请求 然后去更新 然后加这边dispatch 说你更新的哪一项我并不知道

43:14.810 --> 43:16.290
啊 所以我这边呢 需要复讯环

43:17.530 --> 43:20.010
复讯环 net 什么的 key

43:21.250 --> 43:22.690
硬这个payload

43:25.720 --> 43:27.720
啊 我这边要去便利 你的payload

43:28.960 --> 43:34.960
你看这边的话 拿过来 这边拿过来是payload的点info 啊 拿到了 也就是这边的payload

43:35.380 --> 43:43.660
这个payload 拿到了是什么 拿到了是刚才这个对象 拿到了是这个对象 给大家看一下啊 一步一步看一下

43:45.060 --> 43:45.540
这边的话

43:47.660 --> 43:49.740
payload ok

43:51.420 --> 43:55.110
来看一下 啊 不要走

43:56.390 --> 44:01.790
看到没有 他拿到了是这个对象 好 那这样我就这边的话我就去便利这个对象

44:02.770 --> 44:08.250
因为后期的话 你这个对象可能就是里面对应的这个键 有多个除了point 以外啊 就是你看这边

44:08.810 --> 44:12.170
我这边在修改的时候 对呀 我可能好几项都修改了

44:12.970 --> 44:17.370
好几项都修改了之后 你这边拿到到时候拿到对象就什么了 是不是就是有好几个这个啊

44:18.010 --> 44:24.090
有point 刺有比如说这个email 对不对 有你的qq有vchart有好几项啊

44:24.490 --> 44:27.890
所以这边你需要去便利 便利之后 然后接下来这边

44:28.670 --> 44:32.630
stat.userinfo 然后接下来这个key

44:35.350 --> 44:38.950
就等于什么呢 等于这个payload的啊 这边的key

44:40.470 --> 44:44.070
这边啊 应该是这样子的 好 让大家这边保存一下

44:45.310 --> 44:46.990
保存之后呢 叫我们这边来试一下

44:48.390 --> 44:51.750
来试一下啊 比如我现在这个人 现在这个人是谁啊

44:53.350 --> 44:55.790
现在这个好像就是这个卸截这个账号是吧

44:56.770 --> 45:02.530
先解这个账号 好 现在有124几分 对吧 刷新一下 128

45:04.010 --> 45:09.410
128 ok 好 让大家这边咱们来评论一个啊 随便添加一个 走

45:10.290 --> 45:15.890
好 评论成功 评论成功之后 让大家这边来看一下 刷新一下 ok吧 没问题吧

45:17.250 --> 45:20.530
没问题 好 让大家你这边再来看一下这个数据仓库

45:21.890 --> 45:22.890
数据仓库

45:23.790 --> 45:29.520
user info 没问题 对吧 更新了的啊

45:30.600 --> 45:34.520
好 这是关于这个整个这个评论 咱们就讲完了

45:35.320 --> 45:39.720
好 评论讲完之后 然后接下来还有一个是什么 还有一个是这个分页

45:40.400 --> 45:45.000
分页就简单了 分页就简单了 分页就基本上和我们之前是一样的

45:46.160 --> 45:48.200
这边的话 你首先的话 需要引入一下

45:49.120 --> 45:53.280
引入一下这个pagination 我们把这把这边关了

45:54.960 --> 45:55.600
关闭其他

45:56.920 --> 46:03.680
好 这边呢 需要引入 我看是在discuss里面啊 对了 你这边呢 首先需要把这个pagination 你把它引入一下

46:05.520 --> 46:06.360
pagination

46:08.920 --> 46:17.040
pagination啊 就这个 把这个组件引一下 引了之后 然后接下来把他放到这下面

46:19.120 --> 46:23.600
放到这里 我们这边下面 下面这边有个分页 对吧

46:24.320 --> 46:25.800
好 这边呢 你需要判断一下

46:26.200 --> 46:29.120
看你的这个comment list 他的这个认识

46:30.160 --> 46:31.920
首先的话 他这边comment list

46:32.640 --> 46:34.960
comment list 我们这边一开始给的是什么

46:37.700 --> 46:42.940
一开始给的是空速组 是吧 空速组 好 那你这边呢 去对他的这个认识 进行一个判断

46:43.540 --> 46:49.780
看他是否大大于一个零 如果大于零的话 我们这边才渲染什么呢 才渲染这个

46:51.260 --> 46:52.060
分页这个组件

46:52.880 --> 46:56.200
ok 否则的话 咱们这边就渲染一个战无评论

46:57.120 --> 46:58.960
啊 这战无评论我就直接拿过来了啊

47:00.160 --> 47:00.880
战无评论

47:02.480 --> 47:03.120
直接把他拿过来

47:04.160 --> 47:08.440
ok 他得渲染一个战无评论啊 就像这边一样 比如说我这里

47:09.800 --> 47:12.800
好吧 这个关了啊 不用我这边来到这个

47:13.960 --> 47:15.480
这战无评论 对不对

47:16.280 --> 47:21.480
好 那如果这边认识大于零 大于零的话 那我这边这里面就应该是分页组件

47:22.360 --> 47:24.520
那我这边呢 有一个class name

47:26.080 --> 47:31.960
啊 这边有个样式类啊 我把它画上去styles.pagination 然后container

47:33.000 --> 47:35.720
好 人家这里 这里的话就是你的

47:37.080 --> 47:38.080
这个pagination

47:40.080 --> 47:42.840
pagination 啊 这边用一个单标签就可以了

47:44.960 --> 47:51.160
ok 这边呢 就是啊 一些配置啊 一些配置就是一样的 你这边呢 比如说这个秀

47:52.440 --> 47:56.680
秀creek jumper 啊 大家这边这个default

47:57.560 --> 48:00.720
default current 啊 默认是第一

48:01.280 --> 48:05.160
对吧 啊 这边这个toto toto的话就应该是等于什么

48:06.600 --> 48:09.680
toto toto的话就应该是等于你这边

48:11.120 --> 48:15.960
在更新的时候 我看一下之前这边是不是有一个这个toto page

48:16.900 --> 48:18.340
就是应该是paginfo

48:19.260 --> 48:24.980
paginfo.toto 应该是toto啊paginfo.toto 应该是这个

48:26.060 --> 48:31.300
你这边数据回来了 你这边是把把更新了的 说起来这边还更新错了是吧 看一下

48:32.220 --> 48:33.420
current page

48:34.740 --> 48:35.580
current

48:37.740 --> 48:38.380
set

48:39.980 --> 48:43.460
设置分页数据 这边我还是写错了吗

48:43.760 --> 48:52.600
嗯 这边的话设置的是toto page 但这边是toto 啊 这边current page size total

48:53.440 --> 48:56.080
这边呢 变成了current page 我看我手页呢

48:57.400 --> 48:58.840
看一下这边 手页

49:01.750 --> 49:03.270
嗯 手页在这里 是吧

49:04.270 --> 49:08.750
这里的话啊 设置错了啊 设置错了 这边应该是current page size

49:09.230 --> 49:12.030
这边位置 好 那这边呢 就是应该是current

49:12.530 --> 49:14.330
current

49:14.850 --> 49:17.170
然后接下来这边呢 是pagin size

49:19.280 --> 49:20.080
pagin size

49:20.720 --> 49:21.680
啊 然后count

49:23.480 --> 49:24.000
count

49:24.760 --> 49:27.080
count就应该是你的这个toto

49:28.200 --> 49:30.320
对  count就应该是你的这个toto

49:30.960 --> 49:33.280
啊 data.count 这个就没有

49:35.860 --> 49:39.700
ok 好 那接下来这边呢 就是应该是pagin.toto

49:41.620 --> 49:42.380
来到这下面

49:43.360 --> 49:46.880
好 来到这边 这边呢 就应该是pagin.toto

49:49.620 --> 49:50.740
pagin4

49:52.100 --> 49:53.020
是叫pagin4吧

49:54.140 --> 49:54.940
pagin4

49:56.460 --> 49:58.740
pagin4.toto

49:59.540 --> 50:03.100
ok 好 保存 保存这边来看一下

50:04.900 --> 50:05.660
好 看一下这边

50:06.980 --> 50:07.740
好 出错了啊

50:09.180 --> 50:09.820
这边看一下

50:10.540 --> 50:12.580
styles is not defined

50:13.560 --> 50:14.320
styles

50:15.320 --> 50:17.640
嗯 然后这边一直没有影样是吗

50:18.040 --> 50:18.680
还真的是

50:19.480 --> 50:21.240
好 我这边把这个样式把拿过来

50:24.170 --> 50:26.290
样式把拿过来啊 保存

50:27.170 --> 50:28.370
啊 保存之后再看一下

50:31.050 --> 50:31.650
啊 这边

50:33.490 --> 50:34.130
啊 有了吗

50:35.130 --> 50:35.650
是不是有了

50:36.210 --> 50:37.570
对了 这分析就有了

50:37.810 --> 50:40.130
啊 因为我们现在这个评论很少

50:40.290 --> 50:41.250
啊 这边就一

50:42.170 --> 50:42.490
ok

50:44.370 --> 50:46.250
好 这就是关于这个

50:46.810 --> 50:49.170
整个这个评论的这个详情啊

50:49.570 --> 50:50.850
这边咱们就做完了

50:51.890 --> 50:53.250
ok 这就做完了

50:54.050 --> 50:55.170
好 这个做完之后

50:55.170 --> 50:58.130
然后接下来咱们整个这个问答的话也就做完了

50:58.690 --> 51:00.290
哦 这个问答这边其实还有个东西

51:02.010 --> 51:03.210
还有个东西是吗

51:03.650 --> 51:05.570
就你这边的话这个关于分类

51:06.330 --> 51:06.850
你看我们这边

51:08.210 --> 51:08.490
这边

51:09.050 --> 51:10.050
这边那是不是有个分类

51:10.690 --> 51:11.930
分类咱们还没做啊

51:12.330 --> 51:15.010
分类的话我其实是单独分了一个组件

51:15.910 --> 51:16.950
单独分了一个组件

51:17.990 --> 51:19.390
好 我看这个分类马上稍等

51:19.390 --> 51:21.670
我看一下这个分类的话这个代码多不懂

51:22.910 --> 51:23.310
看一下

51:24.670 --> 51:29.190
哦 这样子我把这个分类和那个搜索

51:30.350 --> 51:33.110
和搜索放到这个下节课一起来讲

51:33.990 --> 51:35.830
好吧 放到下节课一起来讲

51:35.830 --> 51:37.350
啊 下节课的话咱们把这个

51:37.910 --> 51:38.550
把这个分类

51:39.550 --> 51:40.110
把它讲了

51:40.310 --> 51:41.390
然后把这个搜索

51:41.390 --> 51:42.910
就问答部分的这个搜索

51:43.010 --> 51:44.770
好 先让我搜索一个123

51:46.170 --> 51:47.010
啊 这边是不是有

51:47.570 --> 51:48.450
对不对 搜索出来

51:48.770 --> 51:50.050
把这个对应的搜索

51:50.810 --> 51:51.330
把它讲了

51:52.090 --> 51:53.970
OK 讲了之后的话

51:53.970 --> 51:56.170
那我们整个这个问答就结束了

51:56.570 --> 51:58.130
结束了之后大家下去的话

51:58.130 --> 51:59.050
自己把这个

51:59.610 --> 52:00.730
书籍把它做出来哦

52:01.330 --> 52:03.090
我说了这个书籍的话我就不讲了

52:03.570 --> 52:05.490
书籍的话基本就和问答一模一样

52:06.050 --> 52:08.210
对不对 首先把这个书籍列表宣传出来

52:08.690 --> 52:10.250
是不是就和你这边问答是一样的

52:10.770 --> 52:12.010
把问答列表宣传出来

52:12.190 --> 52:13.110
怎么长的不一样

52:13.630 --> 52:15.110
对吧 怎么这边长的不一样

52:15.430 --> 52:15.750
OK

52:16.470 --> 52:17.470
好 点击进去

52:17.790 --> 52:19.550
点击进去是不是就是问答的这个

52:19.550 --> 52:20.710
这个书籍的详情

52:21.350 --> 52:22.430
对吧 把拿到

52:22.630 --> 52:24.470
拿到之后这边的话是一个评论组件

52:25.270 --> 52:25.910
一模一样

52:26.430 --> 52:27.750
一模一样 说什么呢

52:27.750 --> 52:28.670
说这边这个下载

52:29.310 --> 52:31.310
下载的话这个也简单

52:31.710 --> 52:32.950
这个其实就是个链接了

52:33.910 --> 52:35.670
到时候我给大家说一下

52:35.670 --> 52:37.110
这个其实就是个链接了

52:37.550 --> 52:38.070
没什么的

52:38.750 --> 52:39.110
OK

52:39.790 --> 52:41.590
好 那这节课的话就先到这里

52:41.970 --> 52:42.770
大家下去的话

52:42.770 --> 52:45.170
把这个咱们这边这个评论组件

52:45.890 --> 52:46.770
把它完善一下

52:47.450 --> 52:47.770
好吧

52:48.290 --> 52:48.610
OK

52:48.890 --> 52:49.930
好 这节课就到这里

52:50.490 --> 52:50.770
再见

