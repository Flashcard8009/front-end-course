WEBVTT

00:00.370 --> 00:02.370
好 我们继续讲解NPU案例

00:02.370 --> 00:05.370
那么从这结果开始呢 给大家讲解一下

00:05.370 --> 00:09.370
我们的一个云开发和我们的NPU的结合

00:09.370 --> 00:11.370
我们很多时候都会涉及到一些

00:11.370 --> 00:13.370
我们的数据的存储

00:13.370 --> 00:15.370
数据的增三改查

00:15.370 --> 00:17.370
但是对于我们小程序原生的时候呢

00:17.370 --> 00:19.370
我们也学过一点

00:19.370 --> 00:22.370
但是怎么样去利用模板组建的方式

00:22.370 --> 00:24.370
甚至利用NPU的方式

00:24.370 --> 00:26.370
这种框架来进行开发呢

00:26.370 --> 00:29.370
这个呢 我们至少来讲

00:29.370 --> 00:32.370
之前啊 我们只是做过一个下载

00:32.370 --> 00:34.370
那么上传这个事情

00:34.370 --> 00:36.370
其实我们还没有在NPU里面讲过

00:36.370 --> 00:39.370
那这节课呢 就给大家来讲解一下

00:39.370 --> 00:44.370
怎么样 上传下载对云开发云空间的一些使用

00:46.370 --> 00:49.370
好 我们先建了一个我们的项目

00:49.370 --> 00:53.370
然后呢 我们在项目中进行我们的一个测试

00:53.370 --> 00:55.370
首先 我们做一个启动

00:55.370 --> 01:07.380
好 启动以后的话呢

01:07.380 --> 01:11.380
我们现在就在我们的src中

01:11.380 --> 01:15.890
改变我们的app.json

01:15.890 --> 01:19.890
首先 咱们叫做云图库

01:20.890 --> 01:22.890
然后我们的云图库

01:22.890 --> 01:25.890
我们经常线上有非常多的图库对吧

01:25.890 --> 01:28.890
其实都是用这种形式云端准做

01:28.890 --> 01:31.890
第二 我们修改线有的

01:31.890 --> 01:33.890
我们本来是添加对吧

01:33.890 --> 01:35.890
我们这次呢 修改一下

01:35.890 --> 01:37.890
把线有的index打开

01:37.890 --> 01:40.890
原有的这个main里面的内容呢

01:40.890 --> 01:42.890
我们暂时可以不动

01:42.890 --> 01:45.890
但是呢 我们修改我们的index.view的内容

01:45.890 --> 01:48.890
首先把最外层的这一部分全删掉

01:48.890 --> 01:51.890
我们换成最原最简单的div

01:51.890 --> 01:54.890
第二呢 我们本身也不用导入模板

01:54.890 --> 01:57.890
它至少现在这个card不用

01:57.890 --> 02:00.890
然后在现在的expert里面

02:00.890 --> 02:03.890
把里面的这一块全删掉

02:03.890 --> 02:09.390
把come on 组建集合删掉

02:10.390 --> 02:13.390
里面两个方法删掉

02:13.390 --> 02:19.180
great 里面根本就没有东西对吧

02:19.180 --> 02:22.180
我们就直接在这儿保存

02:22.180 --> 02:26.700
好了 样式结构

02:26.700 --> 02:29.700
我们把里面原有的几个全删掉

02:29.700 --> 02:35.150
是不是这样的话

02:35.150 --> 02:38.150
这个程序就非常的干净了

02:38.150 --> 02:41.150
甚至干净到的是没有一些东西

02:42.150 --> 02:44.150
好了 我们现在开始

02:44.150 --> 02:47.150
我们就在它原有的这个上面进行开发

02:48.150 --> 02:51.150
那么首先我们打开我们的小程序

02:53.150 --> 02:56.150
我们导入的地盘下的一个叫cloud photo

02:56.150 --> 02:58.150
这样的一个项目

02:58.150 --> 03:02.150
我们注意小程序要用云端的话

03:02.150 --> 03:06.150
我们一定要用到它的一个真实的abid

03:07.150 --> 03:09.150
那么我这边就有一个

03:09.150 --> 03:13.870
我们就拿它来

03:13.870 --> 03:15.870
你一定要真实

03:15.870 --> 03:17.870
不然你云开发会有问题

03:17.870 --> 03:55.750
那你稍等一会儿它就打开了

03:55.750 --> 03:56.750
好 我们看到

03:56.750 --> 03:57.750
现在它正式打开了

03:57.750 --> 03:58.750
打开以后的话

03:58.750 --> 04:00.750
整个页面中就是空内容

04:00.750 --> 04:02.750
啥都没有

04:02.750 --> 04:03.750
对吧 OK的

04:03.750 --> 04:08.260
然后它下面有一个

04:08.260 --> 04:11.260
我们看到它下面是有一个

04:11.260 --> 04:13.260
菜单的 就是我们的taper bar

04:13.260 --> 04:15.260
这个都没有关系

04:15.260 --> 04:18.260
我们只要是中间这一块内容

04:18.260 --> 04:19.260
如果你不要的话

04:19.260 --> 04:20.260
我们也可以把它给删了

04:20.260 --> 04:22.260
我们把它给删掉也可以

04:23.260 --> 04:25.260
我们把它删掉的话

04:25.260 --> 04:27.260
它其实是在app.json里面

04:27.260 --> 04:29.260
在这 taper bar

04:29.260 --> 04:32.260
我们往下把它整体的给删除掉

04:32.260 --> 04:34.630
对 删除掉

04:34.630 --> 04:36.630
这个也不可以不要

04:36.630 --> 04:41.160
就这样方式

04:41.160 --> 04:43.160
这样的话你再来看一下

04:43.160 --> 04:45.470
这个到真的

04:45.470 --> 04:48.470
到最后就是特别的干净了

04:48.470 --> 04:50.470
好了 我们来看

04:51.470 --> 04:52.470
回到页面中

04:52.470 --> 04:54.470
我们首先

04:54.470 --> 04:56.470
我们需要做一个页面

04:56.470 --> 04:58.470
这个页面主要的就是

04:58.470 --> 05:00.470
我们上传图片所使用的

05:00.470 --> 05:02.470
它本身里面的内容

05:02.470 --> 05:03.470
其实特别简单

05:03.470 --> 05:05.470
简单到就是一个按钮

05:05.470 --> 05:07.470
好 所以我们页面

05:07.470 --> 05:09.470
简单做一个小排吧

05:09.470 --> 05:19.580
class container

05:19.580 --> 05:22.580
class container

05:22.580 --> 05:25.580
div我们订一下

05:25.580 --> 05:29.220
就把它做成一个

05:29.220 --> 05:31.220
非常简单的

05:31.220 --> 05:34.980
pader

05:34.980 --> 05:36.980
然后里面就是一个button

05:36.980 --> 05:38.980
就是一个button按钮

05:38.980 --> 05:41.980
我们上传图片

05:41.980 --> 05:43.980
上传图片

05:43.980 --> 05:45.980
type

05:45.980 --> 05:46.980
我们给的是

05:46.980 --> 05:48.980
primary

05:48.980 --> 05:50.980
然后按钮

05:50.980 --> 05:52.980
我们给的是叫做

05:52.980 --> 05:57.820
uploader

05:57.820 --> 05:59.820
这样起名

05:59.820 --> 06:01.820
ok 这就是我们这边

06:01.820 --> 06:03.820
所看到的第一个按钮

06:03.820 --> 06:05.820
它本身就是一个上传图片

06:05.820 --> 06:07.820
它有个uploader操作

06:07.820 --> 06:09.820
它可以是一个绿色的结构

06:09.820 --> 06:11.820
然后第二个

06:11.820 --> 06:13.820
那么我们下面有一个图片

06:13.820 --> 06:15.820
我们可以做一个图片

06:15.820 --> 06:24.220
rmg

06:24.220 --> 06:26.220
rmg 然后这个rmg

06:26.220 --> 06:28.220
其实是一个我们的预览图片

06:28.220 --> 06:29.220
可以是

06:29.220 --> 06:31.220
所以我们把

06:31.220 --> 06:33.220
里面的内容

06:33.220 --> 06:36.220
做成一个动态的叫做madeurl

06:36.220 --> 06:39.300
然后呢

06:39.300 --> 06:40.300
它是否隐藏

06:40.300 --> 06:42.300
我们做一个hidden

06:42.300 --> 06:50.180
我们做一个hidden

06:50.180 --> 06:51.180
然后呢

06:51.180 --> 06:52.180
这个时候呢

06:52.180 --> 06:53.180
我们想

06:53.180 --> 06:54.180
刚打开的时候

06:54.180 --> 06:55.180
它一定不显示的

06:55.180 --> 06:57.180
那么在上传完成以后

06:57.180 --> 06:58.180
它再显示出来

06:58.180 --> 06:59.180
是吧

06:59.180 --> 07:03.900
所以我们到这边来

07:03.900 --> 07:05.900
hidden

07:05.900 --> 07:14.360
隐藏吗

07:14.360 --> 07:15.360
好了

07:15.360 --> 07:16.360
那么此时的话呢

07:16.360 --> 07:17.360
我们这个图标

07:17.360 --> 07:24.230
我们把它变量也定在这儿

07:24.230 --> 07:25.230
对吧

07:25.230 --> 07:26.230
就这样定好

07:26.230 --> 07:27.230
然后接下去

07:27.230 --> 07:29.230
我们做它简单的样式

07:29.230 --> 07:30.230
设定一下

07:30.230 --> 07:32.230
它其实样式不需要很复杂

07:32.230 --> 07:36.890
同学们看到一直有这个

07:36.890 --> 07:37.890
在首页进来的时候

07:37.890 --> 07:39.890
有这个scarperd

07:39.890 --> 07:41.890
scarperd在view里面的要求

07:41.890 --> 07:42.890
就是告诉我们

07:42.890 --> 07:45.890
它当前定义的样式

07:45.890 --> 07:47.890
只作用于当前模块

07:47.890 --> 07:48.890
就这意思

07:48.890 --> 07:52.710
pader section

07:52.710 --> 07:57.430
pader section

07:57.430 --> 07:59.430
宽度

07:59.430 --> 08:01.430
90%

08:02.430 --> 08:03.430
display

08:03.430 --> 08:04.430
flex

08:05.430 --> 08:06.430
flex

08:07.430 --> 08:08.430
direction

08:08.430 --> 08:12.450
background color

08:12.450 --> 08:13.450
我们给一个

08:13.450 --> 08:15.890
白色

08:15.890 --> 08:19.840
border radius

08:19.840 --> 08:26.390
我们给一个10个像素

08:27.390 --> 08:28.390
padding

08:28.390 --> 08:30.390
我们给一个10个像素

08:30.390 --> 08:32.390
然后merge

08:32.390 --> 08:37.980
我们给一个4%

08:37.980 --> 08:55.090
里面有个按钮

08:55.090 --> 08:57.090
我们只给按钮的宽度

08:57.090 --> 08:59.090
不要顶到

08:59.090 --> 09:01.090
整个屏幕就可以

09:01.090 --> 09:03.090
100%就是

09:03.090 --> 09:09.560
有个图片

09:09.560 --> 09:10.560
图片的概念是一样

09:10.560 --> 09:11.560
图片的话

09:11.560 --> 09:13.560
只要称满屏幕

09:14.560 --> 09:15.560
好了

09:15.560 --> 09:16.560
那么我们的container

09:16.560 --> 09:17.560
注意一下

09:17.560 --> 09:19.560
我们是有一个container的

09:19.560 --> 09:20.560
这container是在哪儿

09:20.560 --> 09:21.560
在我们的

09:21.560 --> 09:23.560
因为我们前面用到了一次

09:23.560 --> 09:24.560
对吧

09:24.560 --> 09:25.560
那我们去看一下

09:25.560 --> 09:27.560
在我们的app

09:27.560 --> 09:29.560
在我们的app.view里面

09:29.560 --> 09:30.560
这里边在

09:30.560 --> 09:31.560
我们看一下基本上

09:31.560 --> 09:32.560
这里

09:32.560 --> 09:33.560
我们高度100%

09:33.560 --> 09:34.560
display

09:34.560 --> 09:35.560
column

09:35.560 --> 09:36.560
聚钟

09:36.560 --> 09:37.560
然后

09:37.560 --> 09:38.560
just a container

09:38.560 --> 09:39.560
改一下吧

09:39.560 --> 09:40.560
just a container

09:40.560 --> 09:42.560
我们不要做成space between

09:42.560 --> 09:44.560
我们做成flex start

09:45.560 --> 09:46.560
然后

09:46.560 --> 09:47.560
这边小一点

09:47.560 --> 09:49.560
这边做成50

09:50.560 --> 09:51.560
然后其他的话

09:51.560 --> 09:52.560
应该没什么大问题

09:52.560 --> 09:54.560
我们来看一下页面

09:54.560 --> 09:59.620
就这个按钮出来了

09:59.620 --> 10:00.620
对吧

10:00.620 --> 10:01.620
就这样一个就可以了

10:01.620 --> 10:02.620
然后呢

10:02.620 --> 10:03.620
我们紧接着

10:03.620 --> 10:04.620
来

10:04.620 --> 10:05.620
有一个按钮了

10:05.620 --> 10:06.620
接下去

10:06.620 --> 10:07.620
我们就应该对他

10:07.620 --> 10:09.620
进行上传图片的操作

10:09.620 --> 10:10.620
我们在这边

10:10.620 --> 10:11.620
选择了一个up

10:11.620 --> 10:12.620
uploader

10:12.620 --> 10:13.620
所以呢

10:13.620 --> 10:14.620
我们在这边里面

10:14.620 --> 10:18.900
就写上一个uploader的方法

10:18.900 --> 10:20.900
写上这样一个方法

10:20.900 --> 10:21.900
然后呢

10:21.900 --> 10:22.900
我们对于这个方法

10:22.900 --> 10:23.900
来进行

10:23.900 --> 10:24.900
我们是那个

10:24.900 --> 10:25.900
叫什么

10:25.900 --> 10:26.900
点击以后的

10:26.900 --> 10:27.900
处理模型

10:27.900 --> 10:28.900
到uploader里面

10:28.900 --> 10:29.900
要做的事情

10:29.900 --> 10:30.900
比如说

10:30.900 --> 10:32.900
要选择图片

10:32.900 --> 10:33.900
从你本地选择

10:33.900 --> 10:35.900
那么微信的选择图片呢

10:35.900 --> 10:40.680
choice and major

10:40.680 --> 10:41.680
选择的时候

10:41.680 --> 10:43.680
你需要去做一个事情

10:43.680 --> 10:44.680
就是

10:44.680 --> 10:45.680
让用户

10:45.680 --> 10:47.680
进行上传图片

10:47.680 --> 10:48.680
并且呢

10:48.680 --> 10:49.680
我们可以开启一个叫做

10:49.680 --> 10:50.680
修loading的

10:50.680 --> 10:53.680
上传中的一个文本显示

10:53.680 --> 10:55.680
我们称之为

10:55.680 --> 10:57.680
用户

10:57.680 --> 10:59.680
等待操作

10:59.680 --> 11:00.680
等待用户操作

11:00.680 --> 11:01.680
我们写一个

11:01.680 --> 11:03.680
微信点

11:03.680 --> 11:06.630
修

11:06.630 --> 11:07.630
loading

11:07.630 --> 11:09.630
做一个修loading

11:09.630 --> 11:11.630
等待

11:11.630 --> 11:13.940
然后呢

11:13.940 --> 11:14.940
我们写上title

11:14.940 --> 11:19.730
上传中

11:19.730 --> 11:21.730
写上这个词

11:21.730 --> 11:22.730
对吧

11:22.730 --> 11:23.730
这样的话呢

11:23.730 --> 11:25.730
我们基本上能够

11:25.730 --> 11:27.730
把整个

11:27.730 --> 11:28.730
这一串内容

11:28.730 --> 11:29.730
可以写到

11:29.730 --> 11:30.730
但是呢

11:30.730 --> 11:31.730
上传图片

11:31.730 --> 11:32.730
有几个参数需要设定

11:32.730 --> 11:33.730
比如说

11:33.730 --> 11:34.730
我们要做一个

11:34.730 --> 11:35.730
count

11:35.730 --> 11:37.730
这是一步步来的

11:37.730 --> 11:39.730
count

11:39.730 --> 11:42.100
我们设定它

11:42.100 --> 11:44.100
同时上传几张图片

11:44.100 --> 11:45.100
你可以设置为

11:45.100 --> 11:55.200
当然还有success

11:55.200 --> 12:04.530
那么当你现在要执行

12:04.530 --> 12:05.530
你现在的一个

12:05.530 --> 12:06.530
用户等待

12:06.530 --> 12:07.530
上传

12:07.530 --> 12:08.530
操作的过程中

12:08.530 --> 12:10.530
它的过程是在哪里

12:10.530 --> 12:11.530
它一定是

12:11.530 --> 12:12.530
你把图片拿过来了

12:12.530 --> 12:14.530
进行上传

12:14.530 --> 12:15.530
所以我们把这段代码

12:15.530 --> 12:17.530
就写在这里边了

12:17.530 --> 12:22.500
这个success

12:22.500 --> 12:23.500
它是一个回调

12:23.500 --> 12:24.500
但是这个回调呢

12:24.500 --> 12:25.500
它基本上是

12:25.500 --> 12:26.500
针对于内部

12:26.500 --> 12:27.500
也就是说

12:27.500 --> 12:28.500
我们手机端的

12:28.500 --> 12:29.500
所以呢

12:29.500 --> 12:30.500
我们只需要

12:30.500 --> 12:32.500
把你图片选择好以后

12:32.500 --> 12:34.500
它自动的会进入这个success

12:34.500 --> 12:36.500
然后进行上传

12:36.500 --> 12:38.500
但是上传过程中的前面

12:38.500 --> 12:39.500
我们做一个

12:39.500 --> 12:40.500
show loading

12:40.500 --> 12:41.500
这个动作

12:41.500 --> 12:42.500
然后接下来

12:42.500 --> 12:43.500
咱们做一个

12:45.500 --> 12:47.500
多图片的

12:47.500 --> 12:48.500
处理

12:50.500 --> 12:51.500
forage

12:51.500 --> 12:52.500
循环

12:52.500 --> 12:54.500
我们做成

12:54.500 --> 12:58.820
res.temp5

13:00.820 --> 13:02.820
pass.forage

13:05.580 --> 13:06.580
我们在这里面的话

13:06.580 --> 13:07.580
我们写成

13:07.580 --> 13:10.580
item.index

13:10.580 --> 13:15.060
注意啊

13:15.060 --> 13:16.060
我们去写一个

13:16.060 --> 13:18.060
我们对于当前

13:18.060 --> 13:19.060
你通过res

13:19.060 --> 13:20.060
拿过来

13:20.060 --> 13:22.060
所有路径的循环forage

13:22.060 --> 13:24.060
里面用的是我们的

13:24.060 --> 13:26.060
这边是个doh

13:26.060 --> 13:28.060
item.index

13:28.060 --> 13:29.060
两个元素

13:29.060 --> 13:30.060
然后这里边

13:30.060 --> 13:31.060
我们每次都可以

13:31.060 --> 13:32.060
拿出当前的item

13:32.060 --> 13:33.060
所以呢

13:33.060 --> 13:36.060
我们的做法是先是

13:36.060 --> 13:39.060
定义存储名称

13:39.060 --> 13:41.060
我们可以做一个

13:41.060 --> 13:43.060
let

13:43.060 --> 13:44.060
img

13:44.060 --> 13:46.060
net

13:46.060 --> 13:48.060
mass.randow

13:48.060 --> 13:52.140
然后随便给一个

13:52.140 --> 13:53.140
给一个1000

13:53.140 --> 13:55.140
然后去乘上值

13:55.140 --> 13:56.140
1000

13:56.140 --> 13:57.140
它去加上值

13:57.140 --> 13:59.140
我们的.png

13:59.140 --> 14:00.140
这是我们

14:00.140 --> 14:02.140
待会儿要起的一个名称

14:02.140 --> 14:03.140
接下去

14:03.140 --> 14:05.140
我们要使用云了

14:05.140 --> 14:07.140
那么云的使用的话呢

14:07.140 --> 14:08.140
我们来看一下

14:08.140 --> 14:11.290
云端使用

14:11.290 --> 14:12.290
我们有几个步骤

14:12.290 --> 14:13.290
需要去做的是

14:13.290 --> 14:14.290
云不取

14:14.290 --> 14:15.290
我们要记住

14:15.290 --> 14:16.290
第一步呢

14:16.290 --> 14:18.290
就是云的初始化

14:18.290 --> 14:19.290
云的初始化

14:19.290 --> 14:20.290
是在我们微信的

14:20.290 --> 14:22.290
app.js里面

14:22.290 --> 14:23.290
但是对于我们来讲呢

14:23.290 --> 14:25.290
就在app.view

14:25.290 --> 14:27.290
这个文件中

14:27.290 --> 14:28.290
初始化

14:28.290 --> 14:29.290
在哪呢

14:29.290 --> 14:30.290
在我们把这个

14:30.290 --> 14:31.290
给它给删了

14:31.290 --> 14:32.290
一大段

14:32.290 --> 14:34.290
在这完成

14:34.290 --> 14:39.290
微信.cloud.init

14:39.290 --> 14:41.290
我们这样写

14:41.290 --> 14:43.290
微信.cloud.init

14:43.290 --> 14:44.290
然后呢

14:44.290 --> 14:45.290
这里边写上

14:45.290 --> 14:50.490
trace

14:50.490 --> 14:52.490
trace2

14:52.490 --> 14:54.990
第二个

14:54.990 --> 14:55.990
desd

14:55.990 --> 14:56.990
然后呢

14:56.990 --> 14:58.990
jj55w

14:58.990 --> 15:01.990
之前大家应该听过这样的一个

15:01.990 --> 15:03.990
环境变相名称

15:03.990 --> 15:04.990
如果没有的话呢

15:04.990 --> 15:05.990
我们再说一下

15:05.990 --> 15:07.990
就是云开发环境里面

15:07.990 --> 15:08.990
云开发环境里面

15:08.990 --> 15:10.990
它可以建立两个

15:10.990 --> 15:11.990
开发环境

15:11.990 --> 15:13.990
那么这两个开发环境的话呢

15:13.990 --> 15:15.990
相互不干扰

15:15.990 --> 15:16.990
但是呢

15:16.990 --> 15:17.990
我们如果默认状态下

15:17.990 --> 15:19.990
大家可以就直接

15:19.990 --> 15:20.990
像数据云数据一样

15:20.990 --> 15:21.990
我们比如说

15:21.990 --> 15:23.990
开设一个环境

15:23.990 --> 15:25.990
一个环境的话呢

15:25.990 --> 15:26.990
环境名称

15:26.990 --> 15:27.990
你可以设定

15:27.990 --> 15:28.990
但是环境ID

15:28.990 --> 15:29.990
它后面的是自动生成的

15:29.990 --> 15:30.990
所以呢

15:30.990 --> 15:31.990
我们这边

15:31.990 --> 15:33.990
每次和我们的

15:33.990 --> 15:34.990
微信小证据有关的操作

15:34.990 --> 15:36.990
你必须用到这个

15:36.990 --> 15:37.990
环境ID

15:37.990 --> 15:39.990
我这是TESTA JJ55W

15:39.990 --> 15:41.990
这个是不会变的

15:41.990 --> 15:42.990
那么现在呢

15:42.990 --> 15:43.990
我们就拿这个过来

15:43.990 --> 15:45.990
作为初始化的一个条件

15:45.990 --> 15:47.990
作为Trace Use

15:47.990 --> 15:48.990
代表的是

15:48.990 --> 15:49.990
你现在是否用户有跟踪的

15:49.990 --> 15:51.990
这样的一个

15:51.990 --> 15:52.990
调试权限

15:52.990 --> 15:53.990
第二个

15:53.990 --> 15:54.990
你所连接到的

15:54.990 --> 15:55.990
是不是应该设定一个

15:55.990 --> 15:56.990
我们的名称

15:56.990 --> 15:57.990
OK

15:57.990 --> 15:58.990
两步做完

15:58.990 --> 15:59.990
这是第一步

15:59.990 --> 16:00.990
初始化

16:00.990 --> 16:04.650
我们称之为

16:04.650 --> 16:05.650
云

16:05.650 --> 16:06.650
初始化

16:06.650 --> 16:10.940
第二步

16:10.940 --> 16:11.940
去到哪呢

16:11.940 --> 16:13.940
去到它的配置文件

16:13.940 --> 16:15.940
去到配置文件

16:15.940 --> 16:16.940
这个配置文件

16:16.940 --> 16:17.940
叫做

16:17.940 --> 16:18.940
project config json

16:18.940 --> 16:19.940
找

16:19.940 --> 16:20.940
project config json

16:20.940 --> 16:21.940
是不是它

16:22.940 --> 16:23.940
这个文件呢

16:23.940 --> 16:24.940
主要是小程序的

16:24.940 --> 16:25.940
配置文件结构

16:25.940 --> 16:26.940
那我们在这里呢

16:26.940 --> 16:28.940
我们去写一下

16:28.940 --> 16:29.940
我们把

16:29.940 --> 16:31.940
现在的云端的

16:31.940 --> 16:32.940
一个路径

16:32.940 --> 16:33.940
我们写上

16:33.940 --> 16:34.940
就是你本地

16:34.940 --> 16:35.940
如果之后

16:35.940 --> 16:36.940
有云开发的

16:36.940 --> 16:37.940
一些目录的话

16:37.940 --> 16:39.940
那么它设置在哪里

16:39.940 --> 16:40.940
我们可以叫做

16:40.940 --> 16:41.940
它的名称叫做

16:48.580 --> 16:50.580
你说我云开发的路径

16:50.580 --> 16:51.580
你可以设置在

17:01.580 --> 17:02.580
这样保存

17:02.580 --> 17:03.580
第二步呢

17:03.580 --> 17:04.580
这是第二步

17:04.580 --> 17:05.580
设定云的

17:05.580 --> 17:07.580
方法路径

17:07.580 --> 17:11.020
第三步

17:11.020 --> 17:12.020
那么你就直接

17:12.020 --> 17:13.020
去到页面中

17:13.020 --> 17:14.020
你可以去

17:14.020 --> 17:16.020
调用云的操作方法了

17:17.020 --> 17:18.020
那么云的操作方法呢

17:18.020 --> 17:19.020
我们打开

17:19.020 --> 17:20.020
我们的

17:22.020 --> 17:23.020
浏览器

17:23.020 --> 17:24.020
我们去找到

17:24.020 --> 17:25.020
我们的微信小程序

17:25.020 --> 17:33.770
就找微信小程序

17:33.770 --> 17:34.770
找到后置

17:34.770 --> 17:35.770
二字官网

17:35.770 --> 17:42.110
进来

17:42.110 --> 17:43.110
找到云开发

17:43.110 --> 17:44.110
云开发里面

17:44.110 --> 17:45.110
打开

17:45.110 --> 17:46.110
数据

17:46.110 --> 17:47.110
开发指引

17:47.110 --> 17:48.110
这里边呢

17:48.110 --> 17:49.110
有一个

17:49.110 --> 17:51.110
数据库的操作

17:51.110 --> 17:52.110
数据库操作

17:52.110 --> 17:53.110
我们发现

17:53.110 --> 17:54.110
数据库

17:54.110 --> 17:55.110
它所需要的动作

17:55.110 --> 17:56.110
是有哪些

17:56.110 --> 17:57.110
第一步

17:57.110 --> 17:58.110
它需要

17:58.110 --> 17:59.110
cloud database

17:59.110 --> 18:01.110
也就是云端的一个

18:01.110 --> 18:02.110
所谓的数据指引

18:02.110 --> 18:03.110
告诉它

18:03.110 --> 18:04.110
你现在

18:04.110 --> 18:06.110
所连接的数据指引对象

18:06.110 --> 18:07.110
第二个

18:07.110 --> 18:09.110
你需要去做到一个 collection

18:09.110 --> 18:10.110
指向于

18:10.110 --> 18:11.110
哪一个

18:11.110 --> 18:12.110
所谓的

18:12.110 --> 18:13.110
我们的集合

18:13.110 --> 18:14.110
我们称之为

18:14.110 --> 18:15.110
当然

18:15.110 --> 18:16.110
你如果想

18:16.110 --> 18:17.110
直接指定到

18:17.110 --> 18:18.110
某一个字段的话

18:18.110 --> 18:20.110
那么你 dock

18:20.110 --> 18:21.110
用这样的方式

18:21.110 --> 18:22.110
所以呢

18:22.110 --> 18:23.110
我们第三步操作

18:23.110 --> 18:24.110
其实是

18:24.110 --> 18:26.110
我们需要去到页面中

18:26.110 --> 18:27.110
页面中你哪里

18:27.110 --> 18:29.110
需要使用我现在的

18:29.110 --> 18:30.110
这个的话

18:30.110 --> 18:31.110
那我们就直接拿

18:31.110 --> 18:32.110
这个过来

18:32.110 --> 18:33.110
理解吧

18:33.110 --> 18:34.110
好

18:34.110 --> 18:35.110
那么我们来做一下

18:35.110 --> 18:36.110
走页的最上面

18:36.110 --> 18:38.110
也就是我们的

18:38.110 --> 18:39.110
expert default

18:39.110 --> 18:40.110
外面

18:40.110 --> 18:41.110
我们做一两个指

18:41.110 --> 18:42.110
第一个

18:42.110 --> 18:43.110
conster

18:43.110 --> 18:44.110
db

18:44.110 --> 18:45.110
所以设定一个db

18:45.110 --> 18:46.110
出来

18:46.110 --> 18:48.110
微信点

18:48.110 --> 18:49.110
微信有这个词

18:49.110 --> 18:50.110
clouder

18:50.110 --> 18:51.110
默认会出现

18:51.110 --> 18:52.110
微信是默认对象

18:52.110 --> 18:54.110
它有一个clouder

18:54.110 --> 18:55.110
点

18:55.110 --> 18:56.110
delay

18:56.110 --> 18:58.110
刚才我们前面说到的

18:58.110 --> 19:00.110
第二个呢

19:00.110 --> 19:02.110
我们写上db

19:02.110 --> 19:04.110
然后呢

19:04.110 --> 19:06.110
a major list

19:06.110 --> 19:08.110
也就是图片的列表

19:08.110 --> 19:11.700
你存在哪

19:11.700 --> 19:12.700
collection

19:12.700 --> 19:14.700
我们建立一个

19:14.700 --> 19:17.700
a major list

19:17.700 --> 19:18.700
好

19:18.700 --> 19:20.700
我们去留我们的

19:20.700 --> 19:24.080
云开发看一下

19:24.080 --> 19:29.630
在你的云开发控制台里面

19:29.630 --> 19:30.630
找到数据库

19:30.630 --> 19:31.630
这个数据库

19:31.630 --> 19:33.630
其实指的是我们的

19:33.630 --> 19:35.630
这边的数据集合名称

19:35.630 --> 19:36.630
这些集合名称呢

19:36.630 --> 19:38.630
就是我们所谓的collection

19:38.630 --> 19:39.630
在这个里面

19:39.630 --> 19:40.630
我们去找

19:40.630 --> 19:41.630
我们有一个叫

19:41.630 --> 19:43.630
major list

19:43.630 --> 19:44.630
找一下

19:44.630 --> 19:45.630
我们这里边呢

19:45.630 --> 19:46.630
有简单的

19:46.630 --> 19:47.630
三个文件

19:47.630 --> 19:48.630
有简单的

19:48.630 --> 19:49.630
三个文件

19:49.630 --> 19:51.630
那么这三个文件

19:51.630 --> 19:52.630
就是我们说

19:52.630 --> 19:53.630
之前建立的

19:53.630 --> 19:54.630
我们也把之前的数据

19:54.630 --> 19:56.630
放进去一样的

19:57.630 --> 19:58.630
没问题

19:58.630 --> 19:59.630
我们现在也能自己放

19:59.630 --> 20:01.630
那么你注意一下

20:01.630 --> 20:03.630
那么我们之前强调过

20:03.630 --> 20:05.630
如果是通过我代码进去的

20:05.630 --> 20:07.630
也就是通过我前端的程序

20:07.630 --> 20:10.630
通过它自动进行添加的

20:10.630 --> 20:12.630
你就会有一个open ID

20:12.630 --> 20:13.630
在这个里面

20:13.630 --> 20:15.630
你是很容易发现的

20:15.630 --> 20:17.630
比如说我们前面的

20:17.630 --> 20:18.630
输

20:18.630 --> 20:19.630
看到吗

20:19.630 --> 20:20.630
一本输的话呢

20:20.630 --> 20:21.630
那么我们看到

20:21.630 --> 20:22.630
它其实这边里面

20:22.630 --> 20:24.630
都和输有关

20:24.630 --> 20:26.630
并且没有一个open ID

20:26.630 --> 20:28.630
那么这条记录就很明显

20:28.630 --> 20:31.630
是我手工在这边进行添加记录的

20:31.630 --> 20:33.630
像这个你看到

20:33.630 --> 20:34.630
channel list

20:34.630 --> 20:36.630
这是我们之前做的

20:36.630 --> 20:38.630
它里面就是也没有那个

20:38.630 --> 20:39.630
所谓的open ID

20:39.630 --> 20:40.630
那么但是呢

20:40.630 --> 20:42.630
我们在我们的这个

20:42.630 --> 20:44.630
也就是我们刚刚看到的

20:44.630 --> 20:45.630
image list里面

20:45.630 --> 20:46.630
至少来说

20:46.630 --> 20:47.630
哎

20:47.630 --> 20:49.630
你看我今天添加的

20:49.630 --> 20:51.630
这个就有代表的是什么

20:51.630 --> 20:52.630
这个内容

20:52.630 --> 20:54.630
是我通过前端程序添加的

20:54.630 --> 20:55.630
ok

20:55.630 --> 20:56.630
这个理解啊

20:56.630 --> 20:58.630
凡是我们这个表image list

20:58.630 --> 20:59.630
我们的设计权限

20:59.630 --> 21:02.630
也做成了是仅创建这颗毒

21:02.630 --> 21:03.630
仅创建这颗毒

21:03.630 --> 21:05.630
所以我自己创建的

21:05.630 --> 21:08.630
我可以在这里面之后读取出来

21:09.630 --> 21:10.630
好

21:10.630 --> 21:12.630
我们先做了两步的读入

21:12.630 --> 21:13.630
那么如果你说

21:13.630 --> 21:15.630
老师我自己想创建可以吗

21:15.630 --> 21:16.630
当然可以

21:16.630 --> 21:19.630
你自己在这边开发语音的时候

21:19.630 --> 21:21.630
然后点击我们的数据库

21:21.630 --> 21:23.630
然后这边有一个加号

21:23.630 --> 21:25.630
你在这边添加一下

21:25.630 --> 21:26.630
你自己写成名称

21:26.630 --> 21:28.630
叫做my image list

21:28.630 --> 21:29.630
都可以

21:30.630 --> 21:31.630
image list

21:31.630 --> 21:34.630
建立好以后你点击确定

21:34.630 --> 21:36.630
然后他告诉你创建成功对吧

21:36.630 --> 21:37.630
创建成功以后

21:37.630 --> 21:39.630
你在这边添加记录

21:39.630 --> 21:40.630
添加记录的方式呢

21:40.630 --> 21:41.630
我们说行

21:41.630 --> 21:43.630
你一般需要在这边

21:43.630 --> 21:44.630
我们去写上

21:44.630 --> 21:48.630
你现在究竟添加的是哪一个文档

21:48.630 --> 21:50.630
或者说名称你集合里面吗

21:50.630 --> 21:52.630
然后再往下的话

21:52.630 --> 21:53.630
你就是属于

21:53.630 --> 21:55.630
你现在这个集合里面的内容

21:55.630 --> 21:58.630
这是一集一集往里添加记录的

21:58.630 --> 22:00.630
那么你也可以进行导入

22:00.630 --> 22:02.630
你可以把数据进行直接的

22:02.630 --> 22:04.630
一次性的往里面灌输

22:04.630 --> 22:05.630
这个都可以

22:05.630 --> 22:07.630
那么我们看到的是

22:07.630 --> 22:08.630
我们现在的程序

22:08.630 --> 22:11.630
当我选择一张图片以后的话

22:11.630 --> 22:12.630
我要把这张图片

22:12.630 --> 22:15.630
上传到我们的云端曲

22:15.630 --> 22:16.630
是这个逻辑

22:16.630 --> 22:18.630
所以我们来看一下

22:18.630 --> 22:19.630
我们之前这边有了

22:19.630 --> 22:21.630
但是我这是首页

22:21.630 --> 22:22.630
我们分成两个页面

22:22.630 --> 22:23.630
一个页面

22:23.630 --> 22:26.630
专门是可以查看到云端回来的数据

22:26.630 --> 22:27.630
一个页面呢

22:27.630 --> 22:29.630
主要查看的是

22:29.630 --> 22:30.630
制作的是

22:30.630 --> 22:32.630
我们要传送数据给云端

22:32.630 --> 22:33.630
好了

22:33.630 --> 22:34.630
现在我们Image List

22:34.630 --> 22:35.630
导入进来了

22:35.630 --> 22:36.630
紧接着

22:36.630 --> 22:37.630
继续往下

22:38.630 --> 22:39.630
下面我是先选图片

22:39.630 --> 22:41.630
图片选好以后的话

22:41.630 --> 22:43.630
让页面呈现一个上传中

22:43.630 --> 22:45.630
然后我现在开始循环图片

22:45.630 --> 22:48.630
每个图片的名称我已经拿到了

22:48.630 --> 22:50.630
就是我表示我之后

22:50.630 --> 22:52.630
这个图片会在服务质上

22:52.630 --> 22:54.630
以这个名存存储

22:54.630 --> 22:55.630
是这个逻辑

22:55.630 --> 22:57.630
然后使用云端结构

22:57.630 --> 22:58.630
我们来看一下

22:58.630 --> 22:59.630
云端结构的话

22:59.630 --> 23:01.630
它主要的做的是

23:01.630 --> 23:03.630
我们去使用微信点

23:05.630 --> 23:06.630
Cloud

23:06.630 --> 23:07.630
微信点Cloud

23:07.630 --> 23:09.630
在上传内容的时候

23:09.630 --> 23:10.630
我们要注意一下

23:10.630 --> 23:12.630
特别是在云端存储

23:12.630 --> 23:13.630
在其他数据库里面

23:13.630 --> 23:14.630
其实好办

23:14.630 --> 23:15.630
云端存储里面

23:15.630 --> 23:17.630
其实它并非是存在

23:17.630 --> 23:19.630
目前的这个所谓的集合数据库里

23:19.630 --> 23:21.630
你要做一个图片的话

23:21.630 --> 23:23.630
它其实在这个上面叫做存储

23:23.630 --> 23:25.630
那我们所有的内容

23:25.630 --> 23:27.630
所有的这种所谓的图片级的

23:27.630 --> 23:29.630
或者说是以媒体型的

23:29.630 --> 23:31.630
它最后都会存在

23:31.630 --> 23:33.630
这个所谓的存储结构中

23:33.630 --> 23:34.630
存在这个里面

23:34.630 --> 23:36.630
那我们从运营上面可以看到

23:36.630 --> 23:38.630
它的存储空间给我开闭的大小

23:38.630 --> 23:40.630
是5G

23:40.630 --> 23:41.630
5G空间大小

23:41.630 --> 23:42.630
那这样的话呢

23:42.630 --> 23:44.630
我们只是里面存点图片

23:44.630 --> 23:45.630
那是措手有余

23:45.630 --> 23:48.630
我的图片小到只有30GK

23:48.630 --> 23:49.630
OK吧

23:49.630 --> 23:51.630
那么你存在这里以后的话

23:51.630 --> 23:53.630
服务器会给你一个路径

23:53.630 --> 23:55.630
这个是比较OK的

23:55.630 --> 23:58.630
所以它也称之为5ID

23:58.630 --> 24:01.630
那么这个是我们看到的

24:01.630 --> 24:03.630
我们完整复习一下吧

24:03.630 --> 24:04.630
这就是数据库

24:04.630 --> 24:05.630
云端数据库

24:05.630 --> 24:06.630
非常简单的

24:06.630 --> 24:08.630
类似于NoSQL这概念

24:08.630 --> 24:09.630
云端存储相当于

24:09.630 --> 24:11.630
我们的服务器空间一样

24:11.630 --> 24:13.630
我们可以存一些图片

24:14.630 --> 24:16.630
比如视频和音频

24:16.630 --> 24:17.630
还有个云函数

24:17.630 --> 24:20.630
是你自己可以写一些函数在这边

24:20.630 --> 24:23.630
好比你自己在服务器的空间中

24:23.630 --> 24:24.630
去写了一些

24:24.630 --> 24:26.630
我们服务器代码一样的概念

24:26.630 --> 24:29.630
所以它这个控制台

24:29.630 --> 24:31.630
就很容易让我们幻想

24:31.630 --> 24:32.630
或者联想到

24:32.630 --> 24:33.630
我们服务器

24:33.630 --> 24:34.630
也就是后台

24:34.630 --> 24:35.630
程序员

24:35.630 --> 24:36.630
后台数据库管理员

24:36.630 --> 24:38.630
后台网站管理员

24:38.630 --> 24:40.630
他们一起做的事情

24:40.630 --> 24:41.630
那么对于微信小整理

24:41.630 --> 24:43.630
前段同学来讲的话

24:43.630 --> 24:45.630
我们不是要去学他们

24:45.630 --> 24:47.630
不是要让他们能够教我们

24:47.630 --> 24:49.630
而是我们用最简单的方式

24:49.630 --> 24:50.630
能够去完成

24:50.630 --> 24:52.630
我们所需要的三大操作

24:52.630 --> 24:53.630
自己写个方法

24:53.630 --> 24:55.630
数据往服务器存

24:55.630 --> 24:57.630
然后数据库有数据库的操作

24:57.630 --> 24:58.630
是不是

24:58.630 --> 24:59.630
这三者

24:59.630 --> 25:00.630
好了我们来

25:00.630 --> 25:02.630
微信点uploader

25:02.630 --> 25:04.630
然后我们写上

25:05.630 --> 25:06.630
更新文件

25:08.630 --> 25:09.630
我们来做啊

25:09.630 --> 25:11.630
微信点更新文件

25:11.630 --> 25:19.170
做这样一个操作

25:19.170 --> 25:20.170
第一步

25:20.170 --> 25:21.170
我们需要的是

25:21.170 --> 25:22.170
当前的

25:22.170 --> 25:26.630
你要做的图片的名称

25:26.630 --> 25:28.630
我们把它放在

25:29.630 --> 25:30.630
parts上面

25:30.630 --> 25:31.630
那么图片名称是什么

25:31.630 --> 25:32.630
就是它

25:32.630 --> 25:35.970
第二个

25:35.970 --> 25:37.970
我们要往哪

25:38.970 --> 25:39.970
fi-parts

25:39.970 --> 25:40.970
云端路径

25:40.970 --> 25:42.970
这是当前路径

25:42.970 --> 25:46.110
当前路径

25:46.110 --> 25:48.110
当前路径是res

25:48.110 --> 25:50.110
下面的template-fi

25:50.110 --> 25:51.110
它的0

25:51.110 --> 25:55.450
当你现在把这张图片

25:57.450 --> 25:59.450
传到云端这样命名以后

25:59.450 --> 26:02.450
那么它会返回一个success

26:03.450 --> 26:04.450
res

26:04.450 --> 26:08.660
表示你成功的操作

26:09.660 --> 26:11.660
成功已经上传完成以后

26:11.660 --> 26:12.660
那么我们这边来

26:12.660 --> 26:14.660
首先第一件事情

26:15.660 --> 26:16.660
隐藏

26:17.660 --> 26:18.660
别忘了

26:18.660 --> 26:19.660
我这还开着呢

26:19.660 --> 26:21.660
隐藏修老领

26:21.660 --> 26:22.660
所以呢

26:22.660 --> 26:23.660
现在我们做的是

26:23.660 --> 26:32.180
隐藏老领

26:32.180 --> 26:33.180
微信

26:33.180 --> 26:34.180
点

26:34.180 --> 26:35.180
我们做

26:35.180 --> 26:37.180
微信点

26:37.180 --> 26:38.180
我们做 hidden

26:38.180 --> 26:48.440
微信点 hidden

26:48.440 --> 26:50.820
隐藏

26:50.820 --> 26:51.820
第二步

26:52.820 --> 26:53.820
我们去

26:53.820 --> 26:54.820
设定

26:54.820 --> 26:55.820
我们现在

26:55.820 --> 26:57.820
在这个data里面

26:57.820 --> 26:59.820
我们去做我们的data数据

26:59.820 --> 27:00.820
data里面的

27:00.820 --> 27:01.820
imager

27:01.820 --> 27:02.820
shu-imager

27:02.820 --> 27:03.820
imager-ul

27:03.820 --> 27:05.820
把这两个字给设定一下

27:05.820 --> 27:06.820
那么这呢

27:06.820 --> 27:07.820
需要你先知道一下

27:07.820 --> 27:10.820
我们从这个所谓的res中

27:10.820 --> 27:12.820
它得到了什么

27:13.820 --> 27:14.820
它得到了什么

27:14.820 --> 27:15.820
我们来看一下吧

27:15.820 --> 27:16.820
首先我们看一下

27:16.820 --> 27:17.820
这段代码的

27:17.820 --> 27:19.820
到现在微信的执行情况

27:20.820 --> 27:21.820
是否有爆错

27:24.380 --> 27:25.380
点击图片

27:25.380 --> 27:27.380
选择去到图片文件家

27:27.380 --> 27:28.380
随便选择一个

27:28.380 --> 27:30.380
比如说这个

27:30.380 --> 27:31.380
科学实验

27:32.380 --> 27:33.380
它会爆一个出来

27:33.380 --> 27:34.380
然后呢

27:34.380 --> 27:35.380
我们看消失了

27:35.380 --> 27:36.380
这时候它里面

27:36.380 --> 27:38.380
会有一个这样的一个内容出现

27:38.380 --> 27:39.380
我们看一下

27:39.380 --> 27:41.380
arromessager代表的是

27:41.380 --> 27:42.380
现在是ok的

27:42.380 --> 27:44.380
它给了我们一个id

27:44.380 --> 27:46.380
主要给了一个fiid

27:46.380 --> 27:47.380
这是它现在已经

27:47.380 --> 27:49.380
上传到服务器的一个名称

27:49.380 --> 27:50.380
我们看到

27:50.380 --> 27:52.380
它的名称呢

27:52.380 --> 27:53.380
这个名称还无余

27:53.380 --> 27:54.380
27.169

27:54.380 --> 27:56.380
我们到云端看一下

27:56.380 --> 28:00.300
存储

28:00.300 --> 28:04.630
27.169

28:04.630 --> 28:05.630
是不是

28:05.630 --> 28:06.630
在这里已经有了

28:07.630 --> 28:09.630
表示我们刚才的这些操作

28:09.630 --> 28:11.630
已经成功完成了

28:11.630 --> 28:13.630
把你已经送上了服务器

28:13.630 --> 28:15.630
把你的图片送上了服务器

28:15.630 --> 28:16.630
然后呢

28:16.630 --> 28:18.630
我们这边已经可以拿到

28:18.630 --> 28:20.630
你现在服务器的路径了

28:20.630 --> 28:21.630
就是说

28:21.630 --> 28:22.630
你把你送上去以后

28:22.630 --> 28:23.630
你得告诉我

28:23.630 --> 28:24.630
你住哪

28:25.630 --> 28:26.630
ok

28:26.630 --> 28:28.630
当你已经告诉我以后的话

28:28.630 --> 28:29.630
那后面的事

28:29.630 --> 28:30.630
外乎就是

28:30.630 --> 28:31.630
我们需要把它

28:31.630 --> 28:33.630
显示在我当前的

28:33.630 --> 28:34.630
玉兰区里面

28:34.630 --> 28:35.630
对不对

28:35.630 --> 28:48.800
显示玉兰区里面

28:49.800 --> 28:51.800
那么玉兰区我要做的是

28:51.800 --> 28:53.800
要调到我们的这两个

28:53.800 --> 28:54.800
所以我们在

28:54.800 --> 28:56.800
进到这个时候的话

28:56.800 --> 28:57.800
先做一个

28:57.800 --> 29:03.180
that

29:03.180 --> 29:05.180
把this先放出来

29:05.180 --> 29:06.180
然后接手我们

29:06.180 --> 29:08.180
到里面随便哪一层

29:08.180 --> 29:09.180
我们去调

29:09.180 --> 29:13.290
that

29:13.290 --> 29:16.660
里边的

29:16.660 --> 29:17.660
emater

29:17.660 --> 29:18.660
url

29:19.660 --> 29:20.660
等于

29:20.660 --> 29:22.660
看一下我们返回给你的数据

29:24.660 --> 29:25.660
不是这个啊

29:25.660 --> 29:27.660
我们看一下返回给你的数据

29:27.660 --> 29:29.660
它是属于一个叫做

29:30.660 --> 29:31.660
fiid

29:31.660 --> 29:32.660
是不是

29:32.660 --> 29:33.660
它是有个叫fiid的

29:33.660 --> 29:36.980
在emater上面

29:36.980 --> 29:37.980
所以我们做法是

29:37.980 --> 29:39.980
res.fiid

29:39.980 --> 29:40.980
gamer

29:42.980 --> 29:43.980
第二

29:43.980 --> 29:44.980
我们说

29:44.980 --> 29:45.980
把当前的

29:45.980 --> 29:47.980
这个显示出来

29:47.980 --> 29:48.980
把它显示出来

29:48.980 --> 29:49.980
显出来的代码

29:49.980 --> 29:51.980
也就打上的是

29:51.980 --> 29:52.980
that

29:52.980 --> 29:53.980
点

29:54.980 --> 29:56.980
showemater

29:56.980 --> 29:57.980
把它设置成

29:57.980 --> 29:58.980
first

29:59.980 --> 30:01.980
把它设置成force

30:02.980 --> 30:03.980
这样设置

30:03.980 --> 30:04.980
那么这样

30:04.980 --> 30:05.980
我们再来看一下

30:06.980 --> 30:07.980
现在注意哦

30:07.980 --> 30:08.980
现在它一旦

30:08.980 --> 30:10.980
爆出这句话以后的话

30:10.980 --> 30:12.980
那么它已经把这两个内容

30:12.980 --> 30:13.980
改变了

30:13.980 --> 30:14.980
并且呢

30:14.980 --> 30:15.980
我们改变以后的话

30:15.980 --> 30:17.980
应该在我们的界面中

30:17.980 --> 30:18.980
因为这边

30:18.980 --> 30:19.980
showemater

30:19.980 --> 30:20.980
这边是

30:20.980 --> 30:21.980
ematerurl

30:21.980 --> 30:22.980
两个都呈现出来

30:22.980 --> 30:25.350
不是这个啊

30:26.350 --> 30:27.350
打开

30:27.350 --> 30:28.350
图片

30:29.350 --> 30:30.350
我们选择小孩

30:30.350 --> 30:31.350
上传

30:32.350 --> 30:33.350
出来了

30:33.350 --> 30:34.350
对吧

30:34.350 --> 30:36.350
这样图片在这已经预览到了

30:36.350 --> 30:37.350
然后呢

30:37.350 --> 30:38.350
我们也可以啊

30:38.350 --> 30:40.350
对于这张图片预览以后

30:40.350 --> 30:41.350
然后我们下面

30:41.350 --> 30:42.350
还有可以做个按钮

30:42.350 --> 30:43.350
我们说

30:43.350 --> 30:45.350
可以去查看

30:45.350 --> 30:47.350
历史上传内容

30:47.350 --> 30:48.350
啊

30:48.350 --> 30:50.350
查看历史上传内容

30:50.350 --> 30:51.350
也就是我们

30:51.350 --> 30:52.350
做一个调整页面嘛

30:52.350 --> 30:53.350
对吧

30:53.350 --> 30:54.350
查看我的图库

30:54.350 --> 30:55.350
可以去这样设定

30:56.350 --> 30:58.350
我们把这个给删了

30:58.350 --> 31:00.980
紧接着

31:00.980 --> 31:01.980
我们来

31:01.980 --> 31:02.980
我们到这

31:03.980 --> 31:04.980
图片以后

31:04.980 --> 31:05.980
我们做一个

31:06.980 --> 31:07.980
button

31:07.980 --> 31:08.980
叫做

31:09.980 --> 31:11.980
查看我的图库

31:11.980 --> 31:15.490
查看我的图库

31:16.490 --> 31:17.490
class

31:18.490 --> 31:19.490
呃

31:19.490 --> 31:20.490
我们直接做吧

31:20.490 --> 31:22.490
我们直接给他做一个

31:22.490 --> 31:23.490
因为这个页面

31:23.490 --> 31:24.490
上面有绿色的

31:24.490 --> 31:25.490
所以这个按钮呢

31:25.490 --> 31:27.490
我们就不要再做type

31:27.490 --> 31:29.490
我们直接利用他的default概念

31:29.490 --> 31:30.490
然后呢

31:30.490 --> 31:31.490
查看我图库的话呢

31:31.490 --> 31:33.490
我们给一个按钮

31:33.490 --> 31:34.490
我们让他可以点击

31:34.490 --> 31:38.180
是一个事件

31:39.180 --> 31:41.180
我们把它叫做啥呢

31:41.180 --> 31:42.180
我们查看我的图库

31:42.180 --> 31:43.180
它其实是个跳转啊

31:44.180 --> 31:45.180
show

31:45.180 --> 31:46.180
my

31:46.180 --> 31:54.230
photos

31:54.230 --> 32:07.530
我们把它写上去

32:07.530 --> 32:08.530
啊

32:08.530 --> 32:15.380
查看跳转

32:15.380 --> 32:16.380
npbue

32:16.380 --> 32:17.380
点

32:17.380 --> 32:21.680
nevigate

32:21.680 --> 32:25.440
我们做一个这个

32:25.440 --> 32:26.440
然后的话呢

32:26.440 --> 32:28.440
我们里面写上url

32:28.440 --> 32:31.200
里面写上url

32:31.200 --> 32:33.200
然后我们跳转到

32:33.200 --> 32:35.200
我们所需要的一个新页面具

32:35.200 --> 32:37.200
我们现在是在他

32:37.200 --> 32:39.200
已经完成的这个里面

32:39.200 --> 32:41.200
我们跳转到他的logs

32:41.200 --> 32:42.200
里去

32:42.200 --> 32:43.200
咋样

32:43.200 --> 32:44.200
我们就回到logs

32:44.200 --> 32:45.200
把logs改造一下

32:47.200 --> 32:48.200
logs.me

32:48.200 --> 32:51.280
啊

32:51.280 --> 32:53.280
直接让他进行跳转

32:53.280 --> 32:54.280
因为我本身

32:54.280 --> 32:56.280
就是我一个人的图库对吧

32:56.280 --> 32:57.280
我的云端图库

32:57.280 --> 32:58.280
所以我不需要说

32:58.280 --> 33:00.280
我在传哪个餐过去

33:00.280 --> 33:01.280
啊

33:01.280 --> 33:02.280
因为我上传了一个以后

33:02.280 --> 33:03.280
我在那边

33:03.280 --> 33:04.280
我可以很好的去看到

33:04.280 --> 33:06.280
我所有的图库的内容对吧

33:06.280 --> 33:07.280
好

33:07.280 --> 33:09.280
再来看一下

33:09.280 --> 33:14.510
编译一下

33:14.510 --> 33:16.510
点击上传

33:16.510 --> 33:17.510
选个放大镜

33:17.510 --> 33:18.510
加载

33:18.510 --> 33:20.510
完成了

33:20.510 --> 33:21.510
哎

33:21.510 --> 33:26.040
下面咱们那一按钮呢

33:26.040 --> 33:28.040
这边他报了一个错

33:28.040 --> 33:29.040
他说实了

33:29.040 --> 33:30.040
啊

33:30.040 --> 33:31.040
原因在于

33:31.040 --> 33:32.040
他跨界

33:32.040 --> 33:34.040
跨到了我们的跟目录以外

33:34.040 --> 33:36.040
我们就放进去一个

33:36.040 --> 33:46.800
哎

33:46.800 --> 33:47.800
他没有

33:47.800 --> 33:48.800
出来了

33:48.800 --> 33:49.800
查看我的图库

33:49.800 --> 33:50.800
啊

33:50.800 --> 33:51.800
你点查跟我图库

33:51.800 --> 33:53.800
他就直接跳到了我们

33:53.800 --> 33:54.800
图库界面

33:54.800 --> 33:55.800
啊

33:55.800 --> 33:56.800
现在你跳过去的话

33:56.800 --> 33:57.800
其实没有东西

33:57.800 --> 33:58.800
现在是

33:58.800 --> 33:59.800
那么这样的话呢

33:59.800 --> 34:00.800
我们就可以来做

34:00.800 --> 34:01.800
首先

34:01.800 --> 34:02.800
当前页面

34:02.800 --> 34:03.800
我们已经完成了

34:03.800 --> 34:04.800
去进行

34:04.800 --> 34:05.800
远程的

34:05.800 --> 34:06.800
数据的

34:06.800 --> 34:07.800
呃

34:07.800 --> 34:08.800
呃

34:08.800 --> 34:09.800
那个层层之为

34:09.800 --> 34:10.800
加载

34:10.800 --> 34:13.370
预览

34:13.370 --> 34:14.370
好

34:14.370 --> 34:15.370
我们完成了这样的

34:15.370 --> 34:16.370
一个跳转语句以后的话

34:16.370 --> 34:17.370
我们把它啊

34:17.370 --> 34:19.370
修改一下logs

34:19.370 --> 34:22.370
我们把logs里面改一改

34:22.370 --> 34:23.370
我们可以看到

34:23.370 --> 34:25.370
logs的man里面不用动

34:25.370 --> 34:26.370
logs的这个

34:26.370 --> 34:27.370
我们改一下

34:27.370 --> 34:30.370
咱们称之为就是

34:30.370 --> 34:35.860
图库列表

34:35.860 --> 34:36.860
图库列表

34:36.860 --> 34:38.860
咱们把这个里面也改掉

34:38.860 --> 34:44.340
我们把这个都不要了

34:44.340 --> 34:50.860
他也不需要你去倒入

34:50.860 --> 34:52.860
他也不需要你car

34:53.860 --> 34:54.860
delete保留

34:54.860 --> 34:55.860
我们几个内容

34:56.860 --> 34:58.860
quit里面清掉你里面

34:58.860 --> 34:59.860
所有的数据

34:59.860 --> 35:07.260
把样式的取掉

35:07.260 --> 35:11.110
ok

35:11.110 --> 35:12.110
那这样的话呢

35:12.110 --> 35:13.110
我们就可以到

35:13.110 --> 35:14.110
这个页面来了

35:14.110 --> 35:15.110
我们就写上

35:15.110 --> 35:16.110
首先先写一下

35:16.110 --> 35:18.110
这个是logs

35:18.110 --> 35:21.060
对吧

35:21.060 --> 35:22.060
然后呢

35:22.060 --> 35:23.060
因为我没有新建页面

35:23.060 --> 35:24.060
所以呢

35:24.060 --> 35:25.060
我们直接点这个图库啊

35:25.060 --> 35:27.060
他其实是可以过来的

35:28.060 --> 35:29.060
看到的是

35:29.060 --> 35:31.060
我们点击我的图库

35:31.060 --> 35:32.060
他可以跳转过来

35:32.060 --> 35:33.060
是吧

35:33.060 --> 35:34.060
那么这个其实很简单

35:34.060 --> 35:36.060
我们只要做一个

35:36.060 --> 35:37.060
npview的navigate2

35:37.060 --> 35:39.060
让他进行跳转就行了

35:39.060 --> 35:40.060
然后呢

35:40.060 --> 35:41.060
我们现在去到

35:41.060 --> 35:42.060
我们的新页面

35:42.060 --> 35:44.060
也就是我们的navigate2

35:44.060 --> 35:46.060
其实我们是用logs改造的

35:46.060 --> 35:47.060
在这个页面中呢

35:47.060 --> 35:49.060
我们要去查看

35:49.060 --> 35:50.060
我们现在的

35:50.060 --> 35:52.060
所有的一些数据

35:52.060 --> 35:53.060
那么这种时候的话呢

35:53.060 --> 35:54.060
该怎么玩呢

35:54.060 --> 35:55.060
我们来看一下

35:56.060 --> 35:58.060
我们需要从线上

35:58.060 --> 36:00.060
去下载你现在所有数据

36:01.060 --> 36:02.060
前面我们看到了

36:02.060 --> 36:04.060
我们在这边的话呢

36:04.060 --> 36:05.060
我们db imagers

36:05.060 --> 36:07.060
我们在这边是

36:07.060 --> 36:08.060
把你的这个数据啊

36:08.060 --> 36:10.060
传到了我们的线上去

36:10.060 --> 36:12.060
并且把它存储到了

36:12.060 --> 36:14.060
线上所有的一个文件位置

36:14.060 --> 36:15.060
上面

36:15.060 --> 36:16.060
这就是我们所有的存储位置

36:16.060 --> 36:17.060
然后现在呢

36:17.060 --> 36:19.060
我们把它给拿下来

36:19.060 --> 36:20.060
那么需要在这个页面

36:20.060 --> 36:22.060
形成我们现在的一个

36:22.060 --> 36:24.060
数据下载过程

36:24.060 --> 36:26.060
在数据下载过程里面的话呢

36:26.060 --> 36:27.060
我们需要的是

36:27.060 --> 36:28.060
把它做一个排版

36:28.060 --> 36:29.060
所以我们现在

36:29.060 --> 36:30.060
先做第一步

36:30.060 --> 36:32.060
我们现在下载下来啊

36:32.060 --> 36:33.060
只有下载下来了

36:33.060 --> 36:34.060
我们可能才会做

36:34.060 --> 36:35.060
后面的事情

36:35.060 --> 36:36.060
对吧

36:36.060 --> 36:37.060
好

36:37.060 --> 36:38.060
那我们来做一下

36:38.060 --> 36:39.060
我们的下载动作呢

36:39.060 --> 36:40.060
我们想这样

36:40.060 --> 36:42.060
就是我们不坐在

36:42.060 --> 36:43.060
就要

36:43.060 --> 36:44.060
这边我们要去想一下

36:44.060 --> 36:45.060
你坐在哪个里面

36:46.060 --> 36:48.060
你如果把它坐在

36:48.060 --> 36:49.060
on louder里面的话

36:49.060 --> 36:50.060
那他只有第一次

36:50.060 --> 36:51.060
那么你下载

36:51.060 --> 36:52.060
你你

36:52.060 --> 36:53.060
上传一张以后

36:53.060 --> 36:54.060
你就看不见了

36:54.060 --> 36:56.060
那你再上传

36:56.060 --> 36:57.060
再过来

36:57.060 --> 36:58.060
他不会继续执行他

36:58.060 --> 36:59.060
所以呢

36:59.060 --> 37:00.060
我们需要每次

37:00.060 --> 37:01.060
都看到这个数据

37:01.060 --> 37:02.060
所以我们写的是

37:04.060 --> 37:05.060
在他里面

37:06.060 --> 37:07.060
每次加载

37:07.060 --> 37:08.060
翻译出来的时候的话

37:08.060 --> 37:10.060
他都会执行一次

37:10.060 --> 37:11.060
所以我们

37:11.060 --> 37:12.060
this.get

37:13.060 --> 37:14.060
major

37:14.060 --> 37:15.060
list

37:15.060 --> 37:16.060
我们去这样的

37:17.060 --> 37:18.060
然后呢

37:18.060 --> 37:19.060
跑到当前的

37:19.060 --> 37:20.060
message里面

37:21.060 --> 37:22.060
我们去建一个message

37:23.060 --> 37:30.050
在他里面

37:30.050 --> 37:31.050
我就写上这个方法

37:32.050 --> 37:33.050
对吧

37:33.050 --> 37:34.050
我们只有在

37:34.050 --> 37:35.050
这个里面

37:35.050 --> 37:36.050
把这方法写全了

37:36.050 --> 37:37.050
那我们现在

37:37.050 --> 37:38.050
就可以去执行这样的

37:38.050 --> 37:39.050
一个功能

37:39.050 --> 37:40.050
这功能其实执行

37:40.050 --> 37:41.050
起来的话呢

37:41.050 --> 37:42.050
他不复杂

37:42.050 --> 37:43.050
首先第一点

37:43.050 --> 37:46.870
我们把他的注释写一下

37:46.870 --> 37:50.180
他叫做

37:50.180 --> 37:51.180
获取

37:51.180 --> 37:52.180
图库

37:52.180 --> 37:53.180
数据

37:56.970 --> 37:59.660
列表

37:59.660 --> 38:01.660
我们先完成一个

38:01.660 --> 38:02.660
latt

38:05.170 --> 38:06.170
然后

38:06.170 --> 38:07.170
我们去拿这个数据

38:07.170 --> 38:08.170
当然

38:08.170 --> 38:09.170
拿他数据的时候呢

38:09.170 --> 38:10.170
我们别忘了

38:10.170 --> 38:11.170
我们还需要在

38:11.170 --> 38:12.170
当前页面

38:12.170 --> 38:13.170
去完成

38:15.540 --> 38:17.540
db和db list的创建

38:17.540 --> 38:18.540
微信点

38:19.540 --> 38:20.540
clouder点

38:21.540 --> 38:22.540
database

38:23.540 --> 38:29.440
再来

38:29.440 --> 38:32.330
conster

38:32.330 --> 38:34.330
我们把它放在上面

38:34.330 --> 38:37.660
conster

38:38.660 --> 38:41.100
db

38:41.100 --> 38:42.100
lister

38:42.100 --> 38:52.020
db.clouder.db.collection

38:59.520 --> 39:00.520
imager list

39:00.520 --> 39:06.480
完成两个常量的操作

39:06.480 --> 39:07.480
然后

39:07.480 --> 39:08.480
然后

39:08.480 --> 39:09.480
这个就是我要去操作

39:09.480 --> 39:10.480
imager list

39:10.480 --> 39:12.480
数据集合的一个对象

39:12.480 --> 39:13.480
然后

39:13.480 --> 39:14.480
我们利用这个对象

39:14.480 --> 39:15.480
去完成你现在的

39:15.480 --> 39:17.480
里面简单的一个数据的下载

39:18.480 --> 39:19.480
数据下载动作

39:19.480 --> 39:21.480
外乎就是去执行

39:21.480 --> 39:23.480
我们放到这儿来

39:23.480 --> 39:25.480
让他执行一个get操作

39:25.480 --> 39:27.480
拿到里面的数据

39:27.480 --> 39:36.040
运数据

39:37.040 --> 39:41.530
下载

39:41.530 --> 39:42.530
success

39:42.530 --> 39:51.760
我们不需要他

39:51.760 --> 39:52.760
然后

39:52.760 --> 39:54.760
我们把当前的

39:54.760 --> 39:58.520
datalist

39:58.520 --> 40:00.520
我们在里面写一个datalist

40:00.520 --> 40:10.360
我们把它放进去

40:10.360 --> 40:12.360
它的res里面来的

40:13.360 --> 40:15.360
它的res里面来的data

40:15.360 --> 40:21.830
好

40:21.830 --> 40:23.830
获取数据的时候呢

40:23.830 --> 40:25.830
我们直接通过现在的

40:25.830 --> 40:27.830
一个collection的方法

40:27.830 --> 40:28.830
然后的话

40:28.830 --> 40:29.830
它有个get

40:29.830 --> 40:31.830
完成数据的获取

40:31.830 --> 40:32.830
那我们在这边呢

40:32.830 --> 40:34.830
我们把这个dlister

40:34.830 --> 40:35.830
我们拿出来看一下

40:35.830 --> 40:40.360
不是这个this

40:40.360 --> 40:47.320
它应该是that

40:47.320 --> 40:55.390
dlister

40:55.390 --> 40:56.390
有一个错

40:56.390 --> 40:57.390
我们看一下

40:57.390 --> 40:59.390
dlister没有被定义

40:59.390 --> 41:03.110
它说是

41:03.110 --> 41:05.110
我们看一下

41:05.110 --> 41:07.110
我们在这边定义了一个dlister

41:07.110 --> 41:11.960
它这里边还有吗

41:11.960 --> 41:16.170
这个值

41:16.170 --> 41:18.170
此时我们再来看一下

41:18.170 --> 41:22.570
就ok了

41:22.570 --> 41:24.570
然后我们点击查看我的图库

41:24.570 --> 41:25.570
我们不用看界面

41:25.570 --> 41:26.570
我们就看这边

41:26.570 --> 41:28.570
这边它会返回三个内容

41:28.570 --> 41:29.570
是不是

41:29.570 --> 41:30.570
这三个数据

41:30.570 --> 41:32.570
其实就是我之前

41:32.570 --> 41:33.570
在云端里面的

41:33.570 --> 41:35.570
imager list里面的三条数据

41:35.570 --> 41:36.570
咱们从这儿看

41:36.570 --> 41:38.570
是不是imager list

41:38.570 --> 41:39.570
找一下imager list里面

41:39.570 --> 41:41.570
是不是一二三条数据

41:41.570 --> 41:42.570
好 ok

41:42.570 --> 41:44.570
我们拿到了三条数据在这里

41:44.570 --> 41:46.570
那么三条数据的获取呢

41:46.570 --> 41:48.570
意味着我们其实可以把这个数据

41:48.570 --> 41:50.570
显示在我们页面上面了

41:50.570 --> 41:52.570
我们已经把它放在了

41:52.570 --> 41:54.570
我们的dlister里面

41:54.570 --> 41:55.570
所以我们最后

41:55.570 --> 41:57.570
我们来做一下页面

41:57.570 --> 41:59.570
你可以把页面上面

41:59.570 --> 42:01.570
形成我们所需要的一个固定结构

42:01.570 --> 42:02.570
我们可以想象得到

42:02.570 --> 42:04.570
页面本身来讲的话呢

42:04.570 --> 42:06.570
它形成一个小格式以后

42:06.570 --> 42:08.570
那就可以做成我们的磨那个组件

42:08.570 --> 42:11.570
首先我们先在整页面中去做

42:11.570 --> 42:14.570
我们写上class

42:14.570 --> 42:16.570
container

42:16.570 --> 42:23.050
block

42:23.050 --> 42:25.490
block

42:25.490 --> 42:26.490
用循环

42:26.490 --> 42:27.490
v4

42:27.490 --> 42:33.840
item in

42:33.840 --> 42:34.840
datalist

42:34.840 --> 42:42.860
index

42:42.860 --> 42:43.860
里边的话呢

42:43.860 --> 42:44.860
我们这样啊

42:44.860 --> 42:45.860
首先

42:45.860 --> 42:46.860
这一行的话

42:46.860 --> 42:48.860
我们写上span

42:48.860 --> 42:50.860
然后class

42:50.860 --> 42:52.860
item

42:52.860 --> 42:53.860
念

42:53.860 --> 42:55.860
我们写上

42:55.860 --> 42:56.860
这是谁

42:56.860 --> 43:00.870
我们就直接写名字了

43:00.870 --> 43:02.870
item里面的

43:02.870 --> 43:05.310
念

43:05.310 --> 43:07.310
然后我们把图片拿出来

43:07.310 --> 43:09.310
把时间给拿出来吧

43:09.310 --> 43:11.310
我们拿一个时间

43:11.310 --> 43:13.310
item

43:13.310 --> 43:15.750
念

43:15.750 --> 43:16.750
一样的

43:16.750 --> 43:20.280
这个呢

43:20.280 --> 43:21.280
只不过就是

43:21.280 --> 43:22.280
我们把时间

43:22.280 --> 43:24.280
时间我们把它定为

43:24.280 --> 43:29.320
item

43:29.320 --> 43:30.320
有一个

43:30.320 --> 43:32.320
X

43:32.320 --> 43:33.320
再有呢

43:33.320 --> 43:35.320
就是图片

43:35.320 --> 43:37.320
我们把图片拿出来

43:37.320 --> 43:41.980
图片的格式呢

43:41.980 --> 43:46.120
我们从imager里面

43:46.120 --> 43:47.120
UIL

43:47.120 --> 43:48.120
当然

43:48.120 --> 43:57.580
需要强解析

43:57.580 --> 43:59.580
我们可以给它一个按钮

43:59.580 --> 44:01.580
代表这是一个删除

44:01.580 --> 44:02.580
imager

44:02.580 --> 44:10.300
它是一个删除

44:10.300 --> 44:12.300
那么这个路径的话呢

44:12.300 --> 44:14.680
我们说

44:14.680 --> 44:15.680
我们待会儿给

44:15.680 --> 44:16.680
它其实不是属于

44:16.680 --> 44:17.680
我们要用的功能

44:17.680 --> 44:19.680
它只是一个删除按钮

44:19.680 --> 44:21.680
所以我们在这边打上

44:21.680 --> 44:22.680
class

44:22.680 --> 44:26.080
删除

44:26.080 --> 44:30.160
这张图片的话呢

44:30.160 --> 44:31.160
我们注意

44:31.160 --> 44:33.160
我们在static里面

44:33.160 --> 44:35.160
static的imager里面

44:35.160 --> 44:37.160
我们把它待会儿放在这里面

44:37.160 --> 44:39.160
放了一些图片进来

44:39.160 --> 44:40.160
所以呢

44:40.160 --> 44:42.160
我们把它做一个小插

44:42.160 --> 44:43.160
static

44:44.160 --> 44:45.160
imagers

44:45.160 --> 44:48.660
然后里面做一个

44:48.660 --> 44:50.660
delete.png

44:50.660 --> 44:52.660
以这样的格式方式

44:52.660 --> 44:53.660
那么这样的话呢

44:53.660 --> 44:54.660
我们就能做到的是

44:54.660 --> 44:55.660
data list里面

44:55.660 --> 44:57.660
我们首先名称

44:57.660 --> 44:58.660
时间

44:58.660 --> 45:00.660
然后再加上你现在的图片

45:00.660 --> 45:02.660
那么这个的话呢

45:02.660 --> 45:03.660
是你现在

45:03.660 --> 45:05.660
已经上传的那张图片

45:05.660 --> 45:08.170
看一下

45:09.170 --> 45:10.170
三张

45:11.170 --> 45:12.170
我们关了它啊

45:12.170 --> 45:14.170
我们看效果

45:15.170 --> 45:16.170
查看我的图固

45:16.170 --> 45:19.120
是不是

45:19.120 --> 45:21.120
这个是插插出来了

45:21.120 --> 45:22.120
这里他告诉我说

45:22.120 --> 45:24.120
我找不到那两张图片

45:24.120 --> 45:25.120
但这个能找到

45:25.120 --> 45:26.120
对吧

45:26.120 --> 45:27.120
这个

45:27.120 --> 45:28.120
那么这样的话呢

45:28.120 --> 45:30.120
我把那两个文件先给删了

45:30.120 --> 45:31.120
我们重新来做一下

45:31.120 --> 45:34.750
我把里面的都删掉吧

45:34.750 --> 45:38.470
那我们

45:38.470 --> 45:40.470
做它的删除处罪

45:40.470 --> 45:43.420
删除记录

45:43.420 --> 45:46.740
删除记录

45:46.740 --> 45:49.050
删除记录

45:49.050 --> 45:51.050
没记录了

45:51.050 --> 45:53.050
然后我回去

45:53.050 --> 45:54.050
上传

45:55.050 --> 45:56.050
这时候我选择

45:56.050 --> 45:57.050
我的图片起

45:57.050 --> 45:58.050
第一个飞机

45:58.050 --> 46:00.420
好

46:01.420 --> 46:02.420
再上传

46:03.420 --> 46:04.420
电视

46:06.930 --> 46:07.930
查看我的图固

46:07.930 --> 46:14.570
我们到云中看一下

46:15.570 --> 46:16.570
首先看一下mg list里面

46:16.570 --> 46:17.570
有没有我的数据

46:18.570 --> 46:20.940
到mg list

46:20.940 --> 46:24.090
哦

46:24.090 --> 46:25.090
他这边没有数据

46:25.090 --> 46:27.090
那我们在刚才上传的地

46:27.090 --> 46:28.090
以后的话

46:28.090 --> 46:29.090
我们查一下

46:29.090 --> 46:30.090
我们在这查一下

46:30.090 --> 46:32.090
因为上传图片的话呢

46:32.090 --> 46:33.090
他应该是把数据传上去了

46:33.090 --> 46:34.090
对吧

46:34.090 --> 46:36.090
我们来看一下整个结构

46:36.090 --> 46:44.520
我们到这来看一下啊

46:44.520 --> 46:45.520
这边的话呢

46:45.520 --> 46:46.520
他得到图片以后

46:46.520 --> 46:48.520
然后完成一个循环

46:48.520 --> 46:49.520
然后取一个图片名称

46:49.520 --> 46:51.520
这边是做云上传操作

46:51.520 --> 46:52.520
那就是你这边

46:52.520 --> 46:54.520
如果给了一个res

46:54.520 --> 46:56.520
那么我们到这边来看啊

46:56.520 --> 46:57.520
我们这边直接传上去

46:57.520 --> 46:58.520
我们看

46:58.520 --> 47:00.520
它的文件名叫62

47:00.520 --> 47:01.520
后面是716

47:01.520 --> 47:04.520
我们从云控制台来看一下

47:06.520 --> 47:07.520
在存储里面

47:08.520 --> 47:09.520
我们找一下

47:09.520 --> 47:11.520
像这个2728

47:11.520 --> 47:14.520
我们找那个62

47:14.520 --> 47:15.520
在这看到吗

47:15.520 --> 47:16.520
62 716

47:16.520 --> 47:18.520
它是传上来了

47:18.520 --> 47:19.520
但是呢

47:19.520 --> 47:21.520
整个这个叫做

47:21.520 --> 47:23.520
appled file的动作

47:23.520 --> 47:24.520
appled file的动作

47:24.520 --> 47:26.520
他没有办法把你的数据

47:26.520 --> 47:28.520
直接关联到数据库

47:28.520 --> 47:30.520
这不是他的特点

47:30.520 --> 47:31.520
所以导致的是

47:31.520 --> 47:32.520
你看到这边图片

47:32.520 --> 47:34.520
已经上传成功

47:34.520 --> 47:35.520
但他没有帮你

47:35.520 --> 47:36.520
把他存到数据库

47:36.520 --> 47:38.520
怎么我们就要需要额外

47:38.520 --> 47:39.520
在你做完

47:39.520 --> 47:40.520
这条语句之后

47:40.520 --> 47:41.520
我们在手动的

47:41.520 --> 47:43.520
让他往数据库里

47:43.520 --> 47:44.520
进行插入

47:44.520 --> 47:45.520
因为你已经拿到了

47:45.520 --> 47:47.520
现在图片的路径了

47:47.520 --> 47:48.520
那么我们往数据库插入

47:48.520 --> 47:50.520
今天稍微变得非常简单了

47:50.520 --> 47:51.520
理解了

47:51.520 --> 47:52.520
好

47:52.520 --> 47:53.520
那我们来看一下

47:53.520 --> 47:54.520
首先

47:54.520 --> 47:55.520
我们在success

47:55.520 --> 47:57.520
一旦你完成

47:57.520 --> 47:58.520
这个操作以后

47:58.520 --> 47:59.520
我们这边做一下

47:59.520 --> 48:00.520
就是

48:00.520 --> 48:08.160
插入数据库

48:08.160 --> 48:09.160
插入数据库

48:09.160 --> 48:12.160
我们直接写一个方法

48:12.160 --> 48:14.160
我们直接写一个方法

48:14.160 --> 48:18.160
that.add a major list

48:18.160 --> 48:26.160
我们把res.fiid

48:26.160 --> 48:28.160
给你放进去

48:28.160 --> 48:29.160
那我们再写一个

48:29.160 --> 48:30.160
这个方法出来

48:30.160 --> 48:33.160
叫做add a major list

48:33.160 --> 48:45.660
add a major list

48:45.660 --> 48:46.660
那么

48:46.660 --> 48:47.660
它的话

48:47.660 --> 48:48.660
首先接收一个参数

48:48.660 --> 48:52.660
我们称为imgurl

48:52.660 --> 48:53.660
然后

48:53.660 --> 48:55.660
先组织一个

48:55.660 --> 48:57.660
我们的存储对象

48:57.660 --> 48:59.660
db adder data

48:59.660 --> 49:07.160
念

49:07.160 --> 49:09.160
我们就写上

49:09.160 --> 49:10.160
比如说

49:10.160 --> 49:11.160
握的一个信息

49:11.160 --> 49:13.160
咱们称之为

49:13.160 --> 49:16.300
jc

49:16.300 --> 49:17.300
这名称后期的话

49:17.300 --> 49:18.300
你可以得到

49:18.300 --> 49:19.300
对吧

49:19.300 --> 49:20.300
我们现在先写一下

49:20.300 --> 49:21.300
看存入方式

49:21.300 --> 49:23.300
imgurl

49:24.300 --> 49:26.300
你需要的图片就是

49:26.300 --> 49:27.300
imgurl

49:27.300 --> 49:29.300
外边拿进来的

49:29.300 --> 49:30.300
第三个

49:30.300 --> 49:32.300
时间

49:32.300 --> 49:33.300
时间

49:33.300 --> 49:34.300
那我们就写上

49:34.300 --> 49:38.450
new data

49:38.450 --> 49:39.450
就这样

49:39.450 --> 49:40.450
好

49:40.450 --> 49:41.450
当然时间的话

49:41.450 --> 49:43.450
我们可以给它另外一个格式

49:43.450 --> 49:44.450
我们自己

49:44.450 --> 49:46.450
我们可以去定义一个

49:46.450 --> 49:47.450
时间的格式

49:47.450 --> 49:49.450
这个的话

49:49.450 --> 49:50.450
是可以这么做的

49:50.450 --> 49:53.450
我们有时候也是这么干

49:53.450 --> 49:54.450
那么

49:54.450 --> 49:55.450
就是这么干一下吧

49:55.450 --> 49:56.450
就是

49:56.450 --> 49:57.450
你可以直接这么给

49:57.450 --> 49:58.450
也可以按照固定的格式

49:58.450 --> 50:00.450
格式的做法是这样

50:00.450 --> 50:02.450
that.get

50:02.450 --> 50:03.450
当前的

50:03.450 --> 50:05.450
按固定格式来

50:05.450 --> 50:07.450
给出一个时间

50:07.450 --> 50:08.450
好

50:08.450 --> 50:10.450
如果你刚才那做法的话

50:10.450 --> 50:11.450
就系统默认的一个格式

50:11.450 --> 50:12.450
那么现在

50:12.450 --> 50:13.450
我们可以固定的一个格式

50:13.450 --> 50:14.450
给出

50:14.450 --> 50:15.450
从这边来

50:15.450 --> 50:17.450
我们把这个方方名

50:17.450 --> 50:18.450
写出来

50:18.450 --> 50:26.620
然后我们这边

50:26.620 --> 50:28.620
写上

50:28.620 --> 50:29.620
let

50:29.620 --> 50:30.620
that

50:30.620 --> 50:31.620
that

50:31.620 --> 50:32.620
then new

50:32.620 --> 50:35.770
首先给出

50:35.770 --> 50:36.770
that

50:36.770 --> 50:37.770
然后

50:37.770 --> 50:38.770
separate

50:38.770 --> 50:44.130
给它第1个

50:44.130 --> 50:45.130
中钢

50:45.130 --> 50:46.130
第2个

50:46.130 --> 50:51.100
给出第2个

50:51.100 --> 50:52.100
冒号

50:52.100 --> 50:58.490
that.get months

50:58.490 --> 51:03.020
我们加义

51:03.020 --> 51:05.020
再来

51:05.020 --> 51:07.840
that

51:07.840 --> 51:09.840
日期

51:09.840 --> 51:11.840
给的是that.get data

51:11.840 --> 51:15.410
再来

51:15.410 --> 51:17.410
如果

51:17.410 --> 51:18.410
month

51:18.410 --> 51:23.450
大于等于1

51:23.450 --> 51:25.450
并且

51:25.450 --> 51:28.340
month

51:28.340 --> 51:30.340
小于等于9

51:30.340 --> 51:32.340
在这个范围内的话

51:32.340 --> 51:33.340
那我month

51:33.340 --> 51:37.860
等于

51:37.860 --> 51:38.860
0

51:39.860 --> 51:40.860
去加上

51:40.860 --> 51:43.240
9

51:43.240 --> 51:44.240
这个操作呢

51:44.240 --> 51:45.240
就代表着

51:45.240 --> 51:46.240
我们现在

51:46.240 --> 51:47.240
在单位数前

51:47.240 --> 51:48.240
补了一个0

51:48.240 --> 51:50.240
如果

51:50.240 --> 51:51.240
str

51:51.240 --> 51:52.240
data

51:52.240 --> 51:54.240
大于等于0

51:54.240 --> 51:55.240
并且

51:55.240 --> 51:56.240
这个数

51:56.240 --> 51:57.240
str

51:57.240 --> 51:58.240
data

51:58.240 --> 52:00.240
小于等于9

52:00.240 --> 52:05.640
那我们在日期前补上

52:05.640 --> 52:09.100
这是月份对吧

52:09.100 --> 52:10.100
这是日期

52:10.100 --> 52:13.480
在日期前

52:13.480 --> 52:14.480
等于

52:14.480 --> 52:15.480
0

52:15.480 --> 52:16.480
加

52:16.480 --> 52:17.480
str

52:17.480 --> 52:18.480
data

52:18.480 --> 52:19.480
补上

52:19.480 --> 52:21.920
然后完成整个

52:21.920 --> 52:22.920
这个操作以后

52:22.920 --> 52:23.920
那么接下去

52:23.920 --> 52:25.920
我们做一个拼接

52:26.920 --> 52:27.920
我们拼接一下

52:27.920 --> 52:32.280
拼接方式

52:32.280 --> 52:34.280
我们直接拿一个便量

52:34.280 --> 52:36.280
接收到你当前的

52:36.280 --> 52:37.280
current

52:37.280 --> 52:38.280
data

52:39.280 --> 52:40.280
等于

52:40.280 --> 52:42.280
我们直接来拼了

52:42.280 --> 52:43.280
然后我们拿data

52:45.280 --> 52:47.280
整个在data

52:47.280 --> 52:48.280
时间内

52:48.280 --> 52:49.280
点

52:49.280 --> 52:50.280
get

52:50.280 --> 52:51.280
for

52:51.280 --> 52:52.280
year

52:52.280 --> 52:53.280
扩号

52:53.280 --> 52:54.280
加上

52:55.280 --> 52:56.280
我们把它换下来

52:56.280 --> 52:57.280
一行行怎么加

52:58.280 --> 53:01.300
加上

53:01.300 --> 53:02.300
separate

53:02.300 --> 53:03.300
1

53:03.300 --> 53:04.300
1

53:04.300 --> 53:05.300
再加上

53:05.300 --> 53:06.300
month

53:07.300 --> 53:08.300
再加杠

53:09.300 --> 53:10.300
再加上

53:10.300 --> 53:11.300
separate

53:11.300 --> 53:12.300
1

53:13.300 --> 53:14.300
再加上

53:14.300 --> 53:18.020
str

53:18.020 --> 53:19.020
data

53:20.020 --> 53:21.020
再加上

53:21.020 --> 53:23.580
一个空

53:23.580 --> 53:28.840
加上

53:28.840 --> 53:35.180
data

53:35.180 --> 53:36.180
点

53:36.180 --> 53:37.180
get

53:37.180 --> 53:38.180
house

53:38.180 --> 53:43.890
再加上

53:43.890 --> 53:45.890
这是hours

53:46.890 --> 53:47.890
separate

53:47.890 --> 53:48.890
to

53:48.890 --> 53:49.890
冒号

53:50.890 --> 53:51.890
加上

53:51.890 --> 53:52.890
data

53:52.890 --> 53:53.890
点

53:53.890 --> 53:55.890
咱们加上

53:55.890 --> 53:57.890
data.getminutes

53:57.890 --> 53:58.890
getminutes

53:59.890 --> 54:00.890
然后

54:00.890 --> 54:01.890
再加上

54:02.890 --> 54:03.890
这是时间了

54:03.890 --> 54:05.890
然后再加上separate

54:05.890 --> 54:07.890
我们把这个这样的拼接

54:08.890 --> 54:10.890
然后再加上

54:10.890 --> 54:14.200
data.get

54:15.200 --> 54:16.200
second

54:16.200 --> 54:20.110
好

54:20.110 --> 54:21.110
最后

54:21.110 --> 54:23.870
返回

54:26.250 --> 54:27.250
current date

54:27.250 --> 54:30.260
对

54:30.260 --> 54:32.260
我们把这段东西

54:32.260 --> 54:34.260
全部组织好以后

54:34.260 --> 54:35.260
我们进行返回

54:35.260 --> 54:37.260
那么在这个点上

54:37.260 --> 54:39.260
我们应该就能看到的

54:39.260 --> 54:42.260
它应该就返回给我的是当前的一个

54:42.260 --> 54:44.260
连接好的自付串结构

54:44.260 --> 54:47.020
紧接着

54:47.020 --> 54:49.020
我们把这个连接好以后

54:49.020 --> 54:50.020
那么我们下面

54:50.020 --> 54:51.020
就可以进行

54:52.020 --> 54:55.230
向

54:55.230 --> 54:56.230
服务器

54:58.230 --> 54:59.230
的

54:59.230 --> 55:00.230
发送数据

55:01.230 --> 55:03.230
向服务器的发送数据

55:03.230 --> 55:04.230
我们来

55:04.230 --> 55:05.230
向服务器发送

55:05.230 --> 55:06.230
首先

55:06.230 --> 55:07.230
你依然要得到

55:07.230 --> 55:10.230
我们现在的这个dbimglist

55:10.230 --> 55:11.230
对吧

55:12.230 --> 55:13.230
然后你来

55:13.230 --> 55:14.230
这边来

55:14.230 --> 55:18.230
dbimglist.tn

55:18.230 --> 55:19.230
我们是

55:20.230 --> 55:22.230
从云端数据结构来讲的话

55:22.230 --> 55:25.230
它用添加方式来解决这个

55:25.230 --> 55:27.230
我们可以从云端来看一下

55:29.230 --> 55:30.230
打开微信的

55:30.230 --> 55:34.590
小程序

55:48.040 --> 55:49.040
插入语句

55:50.040 --> 55:52.040
咱们得到当前的这个集合

55:52.040 --> 55:54.040
集合里面完成一个add

55:54.040 --> 55:57.040
然后add里面再完成的是你现在

55:57.040 --> 55:58.040
数据结构

55:58.040 --> 55:59.040
看到吗有个data

55:59.040 --> 56:00.040
不管

56:00.040 --> 56:01.040
不关心里面存什么

56:01.040 --> 56:03.040
我们只关心它的结构是data

56:05.480 --> 56:07.480
然后这边是我们看到的

56:07.480 --> 56:08.480
就是

56:08.480 --> 56:09.480
一是data

56:09.480 --> 56:11.480
二是你现在这边的数据结构

56:11.480 --> 56:12.480
数据内容

56:12.480 --> 56:14.480
等你全部把这个内容全部写好

56:14.480 --> 56:16.480
这是属于一个数据

56:16.480 --> 56:19.480
你看一二三四五个数据

56:19.480 --> 56:22.480
然后他会做一个success的数据返回

56:22.480 --> 56:23.480
返回是个对象

56:23.480 --> 56:24.480
会告知你

56:24.480 --> 56:26.480
现在这个是否成功

56:26.480 --> 56:28.480
以及我们返回一个

56:28.480 --> 56:30.480
我们的对象值

56:30.480 --> 56:31.480
我们来看一下

56:31.480 --> 56:32.480
我们来做一下

56:32.480 --> 56:34.480
当然我们可以用这样的方式

56:34.480 --> 56:36.480
这是我们的Promise的结构

56:37.480 --> 56:38.480
我们来写一下

56:39.480 --> 56:41.480
首先我们之前已经得到了

56:41.480 --> 56:42.480
它的对象

56:42.480 --> 56:44.480
所以我们用add的这样的方式写上了

56:45.480 --> 56:48.480
紧接着我们这边去写上

56:48.480 --> 56:50.480
你现在的这个数据

56:50.480 --> 56:51.480
对吧

56:51.480 --> 56:52.480
我们把数据带上

56:52.480 --> 56:55.480
本身的数据相对而言

56:55.480 --> 56:58.480
就是一个我们的写好的dbdata

56:59.480 --> 57:00.480
data

57:00.480 --> 57:01.480
第一个写上

57:01.480 --> 57:03.480
db add

57:03.480 --> 57:05.480
data

57:05.480 --> 57:06.480
带上

57:06.480 --> 57:08.480
直接success

57:08.480 --> 57:10.480
把数据返回res

57:10.480 --> 57:14.200
我们写一下

57:14.200 --> 57:16.200
我们把这个数据

57:16.200 --> 57:18.200
如果说我们成功的话

57:18.200 --> 57:19.200
看一下它的返回

57:20.200 --> 57:26.100
res

57:27.100 --> 57:28.100
无论怎么样

57:28.100 --> 57:29.100
返回结果

57:29.100 --> 57:30.100
只要是成功

57:30.100 --> 57:32.100
应该就有一个suitosed

57:33.100 --> 57:34.100
提示用户

57:35.100 --> 57:36.100
title

57:36.100 --> 57:38.790
上传

57:39.790 --> 57:40.790
成功

57:41.790 --> 57:42.790
并且时间

57:43.790 --> 57:44.790
duration

57:44.790 --> 57:45.790
我们做

57:45.790 --> 57:46.790
一秒钟的提示

57:47.790 --> 57:48.790
一秒钟好以后

57:48.790 --> 57:50.790
我们当然理论上

57:50.790 --> 57:51.790
上传成功了

57:52.790 --> 57:53.790
有两种做法

57:54.790 --> 57:55.790
第一种

57:55.790 --> 57:56.790
我们成功以后

57:56.790 --> 57:58.790
这边你可以直接跳转

57:59.790 --> 58:00.790
你可以跳转

58:01.790 --> 58:02.790
跳转到

58:02.790 --> 58:03.790
首页

58:04.790 --> 58:05.790
第二种做法就是

58:06.790 --> 58:07.790
不跳转

58:11.260 --> 58:13.260
它其实是利用当前页面的

58:13.260 --> 58:20.500
其他

58:20.500 --> 58:21.500
连接来做

58:21.500 --> 58:25.000
是这两种结构

58:25.000 --> 58:26.000
我们来看一下

58:26.000 --> 58:27.000
首先这边res

58:27.000 --> 58:29.000
每次输出内容的时候

58:29.000 --> 58:30.000
我们最好前面

58:30.000 --> 58:31.000
跟上一个标识

58:31.000 --> 58:32.000
代表这是一个

58:32.000 --> 58:33.000
什么地方的输出

58:34.000 --> 58:35.000
请接着我们来看

58:36.000 --> 58:39.660
我们上传图片

58:40.660 --> 58:41.660
随便选一张

58:41.660 --> 58:42.660
比如说

58:42.660 --> 58:43.660
这里边

58:44.660 --> 58:45.660
选一张这个图片

58:46.660 --> 58:47.660
打开

58:48.660 --> 58:49.660
它上传了

58:49.660 --> 58:50.660
然后呢

58:51.660 --> 58:52.660
我们来看一下这边

58:54.660 --> 58:55.660
它已经告诉我们

58:55.660 --> 58:57.660
现在的上传的

58:57.660 --> 58:59.660
一个路径了

58:59.660 --> 59:00.660
99对吧

59:00.660 --> 59:01.660
那我们在云端这边

59:01.660 --> 59:03.660
一定会看到一个99

59:04.660 --> 59:05.660
成处里面

59:05.660 --> 59:09.540
它是不是按那个

59:09.540 --> 59:10.540
结构来排的

59:10.540 --> 59:12.540
所以无论是顺序的话

59:12.540 --> 59:13.540
就在这儿

59:13.540 --> 59:14.540
你可以看到99

59:14.540 --> 59:15.540
有一个

59:15.540 --> 59:16.540
会有了

59:16.540 --> 59:17.540
那么此时

59:17.540 --> 59:18.540
我们来看一下

59:18.540 --> 59:19.540
我们的调试器

59:19.540 --> 59:21.540
调我们的云开发的

59:21.540 --> 59:22.540
数据库

59:23.540 --> 59:24.540
再看一下

59:24.540 --> 59:26.540
再看一下它整体的操作

59:26.540 --> 59:28.540
我们再来一次

59:28.540 --> 59:29.540
上传

59:29.540 --> 59:34.140
上传火箭

59:34.140 --> 59:35.140
上传成功

59:36.140 --> 59:38.140
云开发再看一看

59:38.140 --> 59:39.140
首先看一下

59:39.140 --> 59:40.140
这张图的名称

59:40.140 --> 59:43.140
它是19.819

59:43.140 --> 59:47.370
我们找一找

59:47.370 --> 59:48.370
819

59:48.370 --> 59:49.370
看到吗

59:49.370 --> 59:50.370
819

59:50.370 --> 59:51.370
19.819

59:51.370 --> 59:52.370
这张图已经有了

59:52.370 --> 59:53.370
对吧

59:53.370 --> 59:54.370
就是这张

59:54.370 --> 59:57.320
我们说

59:57.320 --> 59:58.320
OK

59:58.320 --> 59:59.320
紧接着

59:59.320 --> 01:00:00.320
我们再看一下

01:00:00.320 --> 01:00:04.530
云开发的数据库

01:00:04.530 --> 01:00:05.530
找一下

01:00:06.530 --> 01:00:07.530
里面就有了

01:00:07.530 --> 01:00:08.530
找一下

01:00:09.530 --> 01:00:10.530
这张

01:00:10.530 --> 01:00:11.530
是不是19.819

01:00:12.530 --> 01:00:13.530
对吧

01:00:13.530 --> 01:00:14.530
好

01:00:14.530 --> 01:00:15.530
那么这样的话

01:00:15.530 --> 01:00:16.530
我就把数据存进来了

01:00:16.530 --> 01:00:19.840
存进来以后的话

01:00:19.840 --> 01:00:21.840
那么我们就可以

01:00:21.840 --> 01:00:22.840
咱们看到

01:00:22.840 --> 01:00:23.840
数据一旦完成

01:00:23.840 --> 01:00:25.840
这部分的一个存储以后

01:00:25.840 --> 01:00:27.840
那我们就可以把

01:00:27.840 --> 01:00:29.840
这个数据直接显示出来

01:00:29.840 --> 01:00:30.840
我们跳到

01:00:30.840 --> 01:00:34.660
查看我的图库

01:00:34.660 --> 01:00:35.660
看到吗

01:00:35.660 --> 01:00:36.660
是不是出来了

01:00:37.660 --> 01:00:38.660
对吧

01:00:38.660 --> 01:00:40.660
我们把这个叉叉小一点

01:00:40.660 --> 01:00:45.190
我们把这个叉叉小一点

01:00:45.190 --> 01:00:46.190
叉叉太大了

01:00:46.190 --> 01:00:47.190
对吧

01:00:47.190 --> 01:00:48.190
就是这个

01:00:48.190 --> 01:00:50.190
我们把这个小一点

01:00:50.190 --> 01:00:51.190
叫做山厨

01:01:00.160 --> 01:01:01.160
山厨

01:01:01.160 --> 01:01:08.760
它大小为

01:01:08.760 --> 01:01:09.760
40

01:01:09.760 --> 01:01:13.290
高度为

01:01:13.290 --> 01:01:14.290
40

01:01:14.290 --> 01:01:19.930
Position

01:01:21.930 --> 01:01:22.930
Absolutive

01:01:23.930 --> 01:01:24.930
Right

01:01:24.930 --> 01:01:25.930
40

01:01:26.930 --> 01:01:28.930
给一个这样的叉叉山厨

01:01:28.930 --> 01:01:30.930
然后我们再来看一下效果

01:01:36.220 --> 01:01:37.220
打开

01:01:38.220 --> 01:01:43.350
刷新一下

01:01:43.350 --> 01:01:44.350
查看我的图库

01:01:48.710 --> 01:01:49.710
我们看一下

01:01:49.710 --> 01:01:50.710
它是山厨

01:01:50.710 --> 01:01:52.710
就是在这个按钮上面的

01:01:57.840 --> 01:01:58.840
SRC

01:01:58.840 --> 01:01:59.840
按钮上面

01:01:59.840 --> 01:02:01.840
我们给它一个

01:02:01.840 --> 01:02:02.840
针对复原素

01:02:02.840 --> 01:02:04.840
那么咱们再做一个

01:02:04.840 --> 01:02:05.840
相对的

01:02:05.840 --> 01:02:10.970
这两个也伤了

01:02:10.970 --> 01:02:12.970
就让它直接是最小的

01:02:12.970 --> 01:02:13.970
出现在中间

01:02:13.970 --> 01:02:14.970
这样的话

01:02:14.970 --> 01:02:15.970
我们只要看到图片

01:02:15.970 --> 01:02:16.970
点击下面这个

01:02:16.970 --> 01:02:17.970
就这个看到吗

01:02:17.970 --> 01:02:18.970
刷掉了它

01:02:19.970 --> 01:02:21.970
那么我们就出现在下面

01:02:21.970 --> 01:02:22.970
放这个最小的在下面

01:02:22.970 --> 01:02:23.970
看到吗

01:02:24.970 --> 01:02:25.970
那么接下来

01:02:25.970 --> 01:02:26.970
我们说

01:02:26.970 --> 01:02:28.970
我们现在已经做到的是什么

01:02:28.970 --> 01:02:29.970
我们已经把这个图片

01:02:29.970 --> 01:02:31.970
能够上传

01:02:31.970 --> 01:02:33.970
传送到我们的云端的存储的

01:02:33.970 --> 01:02:35.970
这个服务器里面

01:02:35.970 --> 01:02:37.970
也可以把它存储到

01:02:37.970 --> 01:02:38.970
数据库里面

01:02:38.970 --> 01:02:39.970
回忆一下

01:02:39.970 --> 01:02:41.970
上传是Ablautify

01:02:41.970 --> 01:02:43.970
存到数据库是Add

01:02:43.970 --> 01:02:44.970
添加

01:02:44.970 --> 01:02:45.970
那么接下来

01:02:45.970 --> 01:02:46.970
我们要做的一件事是

01:02:46.970 --> 01:02:48.970
我们要把它给山除掉

01:02:48.970 --> 01:02:49.970
我们把它给山除掉

01:02:49.970 --> 01:02:51.970
所以你点击这个X的时候

01:02:51.970 --> 01:02:52.970
得有反馈

01:02:52.970 --> 01:02:55.970
点X的时候有做什么动作呢

01:02:55.970 --> 01:02:57.970
我们把数据库里的这个数据

01:02:57.970 --> 01:02:58.970
山除了

01:02:59.970 --> 01:03:00.970
我们来看一下

01:03:00.970 --> 01:03:04.730
首先你去找到那个X

01:03:06.730 --> 01:03:07.730
同时再注意一下

01:03:07.730 --> 01:03:09.730
在整个这个过程中

01:03:10.730 --> 01:03:11.730
如果你觉得

01:03:11.730 --> 01:03:12.730
比如说

01:03:12.730 --> 01:03:13.730
排版

01:03:13.730 --> 01:03:14.730
你还可以自己再美化一下

01:03:14.730 --> 01:03:15.730
我这边的话

01:03:15.730 --> 01:03:16.730
就直接呈现

01:03:16.730 --> 01:03:17.730
效果了

01:03:20.680 --> 01:03:21.680
点X

01:03:22.680 --> 01:03:23.680
点X的话

01:03:23.680 --> 01:03:25.680
我们先去到X的这个页面

01:03:25.680 --> 01:03:26.680
然后呢

01:03:26.680 --> 01:03:28.680
找到X的这个位置

01:03:29.680 --> 01:03:31.680
它需要去点击实践

01:03:31.680 --> 01:03:32.680
我们就加上

01:03:32.680 --> 01:03:33.680
Add

01:03:33.680 --> 01:03:34.680
Click

01:03:35.680 --> 01:03:36.680
做一个

01:03:36.680 --> 01:03:37.680
DEL

01:03:38.680 --> 01:03:39.680
Delete

01:03:39.680 --> 01:03:43.660
IMG

01:03:44.660 --> 01:03:46.660
它需要传一个参给它

01:03:48.660 --> 01:03:50.660
IMG URL

01:03:50.660 --> 01:03:53.220
整语

01:03:53.220 --> 01:03:54.220
你可以把你之前

01:03:54.220 --> 01:03:56.220
所写的一个图片的地址

01:03:56.220 --> 01:03:57.220
给到它

01:03:58.220 --> 01:04:00.220
ITEM.IMG

01:04:01.220 --> 01:04:02.220
URL

01:04:03.220 --> 01:04:04.220
传给它

01:04:04.220 --> 01:04:08.750
同时你也可以传一个ID给它

01:04:09.750 --> 01:04:17.350
你传的是ITEM.ID

01:04:17.350 --> 01:04:18.350
这两个字

01:04:18.350 --> 01:04:19.350
你都可以传给它

01:04:20.350 --> 01:04:21.350
那么此时

01:04:21.350 --> 01:04:22.350
我们来点击这个事件

01:04:23.350 --> 01:04:28.520
我们点击Date IMG

01:04:29.520 --> 01:04:46.100
山除图片

01:04:47.100 --> 01:04:48.100
我们拿到内容

01:04:48.100 --> 01:04:57.970
先来看一下

01:04:58.970 --> 01:05:06.270
插看我的图库

01:05:09.350 --> 01:05:10.350
看到两张图片

01:05:11.350 --> 01:05:12.350
点击X

01:05:13.350 --> 01:05:14.350
这是这张图片的内容

01:05:15.350 --> 01:05:16.350
我们来看一下

01:05:22.630 --> 01:05:24.630
这里面它没有数据传送过来

01:05:24.630 --> 01:05:25.630
那么这时候呢

01:05:25.630 --> 01:05:26.630
我们就要注意一下

01:05:27.630 --> 01:05:29.630
在这边传输的时候

01:05:29.630 --> 01:05:30.630
我们加上Data

01:05:32.630 --> 01:05:33.630
这样的话

01:05:33.630 --> 01:05:34.630
它就会把数据过来

01:05:34.630 --> 01:05:35.630
第二点

01:05:35.630 --> 01:05:36.630
再注意一下

01:05:36.630 --> 01:05:37.630
你在看这边

01:05:37.630 --> 01:05:39.630
在数据之前得到的时候

01:05:39.630 --> 01:05:40.630
它里面

01:05:40.630 --> 01:05:42.630
其实有一个叫下杠ID

01:05:43.630 --> 01:05:44.630
这个值的话

01:05:44.630 --> 01:05:45.630
是系统自动生成

01:05:45.630 --> 01:05:47.630
类似于我们在数据库的

01:05:47.630 --> 01:05:48.630
那个自增组件一样

01:05:49.630 --> 01:05:50.630
下杠ID

01:05:50.630 --> 01:05:51.630
所以呢

01:05:51.630 --> 01:05:53.630
这边我们在传输的时候

01:05:53.630 --> 01:05:55.630
也应该是一个下杠ID

01:05:56.630 --> 01:05:57.630
好了

01:05:57.630 --> 01:05:58.630
现在你再来看一下

01:05:58.630 --> 01:05:59.630
我们点击按钮以后

01:05:59.630 --> 01:06:00.630
我应该在程序中

01:06:00.630 --> 01:06:02.630
能得到的是一个叫做

01:06:02.630 --> 01:06:03.630
IMG UAR

01:06:03.630 --> 01:06:04.630
跟一个ID

01:06:04.630 --> 01:06:05.630
两个内容

01:06:06.630 --> 01:06:09.780
点击查看我的图库

01:06:10.780 --> 01:06:13.600
出来了

01:06:13.600 --> 01:06:14.600
对吧

01:06:14.600 --> 01:06:15.600
点击一下

01:06:15.600 --> 01:06:16.600
我们来看

01:06:16.600 --> 01:06:17.600
打开

01:06:17.600 --> 01:06:18.600
这里面

01:06:18.600 --> 01:06:19.600
是不是有一个ID

01:06:19.600 --> 01:06:20.600
跟IMG UAR

01:06:20.600 --> 01:06:22.600
我拿到了图片的整个路径

01:06:22.600 --> 01:06:23.600
以及当前

01:06:23.600 --> 01:06:25.600
这个图片的ID

01:06:25.600 --> 01:06:27.600
那我就可以对它

01:06:27.600 --> 01:06:29.600
进行一定的操作了

01:06:30.600 --> 01:06:32.600
我们需要删除数据库的数据

01:06:33.600 --> 01:06:34.600
我们

01:06:35.600 --> 01:06:37.600
把这个写一下

01:06:37.600 --> 01:06:39.600
它叫做delete

01:06:39.600 --> 01:06:43.060
在下面

01:06:43.060 --> 01:06:44.060
我们看到这边

01:06:44.060 --> 01:06:45.060
我们有接收

01:06:45.060 --> 01:06:46.060
那么我们从这边

01:06:46.060 --> 01:06:47.060
就开始删除

01:06:47.060 --> 01:06:49.060
首先我们强调一下

01:06:49.060 --> 01:06:50.060
所谓的删除

01:06:50.060 --> 01:06:52.060
那么在我们现在的

01:06:52.060 --> 01:06:53.060
这个结构上面

01:06:53.060 --> 01:06:54.060
特别是数据库

01:06:54.060 --> 01:06:55.060
这一块的话

01:06:55.060 --> 01:06:57.060
那么它一定会需要

01:06:57.060 --> 01:06:58.060
有一个询问过程

01:06:59.060 --> 01:07:00.060
需要询问

01:07:00.060 --> 01:07:01.060
因为一旦你真的删了

01:07:01.060 --> 01:07:03.060
那么从用户角度来说

01:07:03.060 --> 01:07:04.060
它是肯定拿不回来的

01:07:04.060 --> 01:07:05.060
对吧

01:07:05.060 --> 01:07:06.060
首先第一点

01:07:06.060 --> 01:07:07.060
我们前面

01:07:07.060 --> 01:07:08.060
先做预备工作

01:07:08.060 --> 01:07:10.060
预备工作的话

01:07:10.060 --> 01:07:11.060
其实很简单

01:07:11.060 --> 01:07:13.060
我们把三个东西写好

01:07:13.060 --> 01:07:14.060
Z

01:07:15.060 --> 01:07:16.060
第二个

01:07:16.060 --> 01:07:18.060
我们这边写的是

01:07:19.060 --> 01:07:20.060
然后呢

01:07:28.060 --> 01:07:29.060
第三个呢

01:07:29.060 --> 01:07:30.060
我们这边写的是

01:07:35.060 --> 01:07:36.060
再来那一次

01:07:45.060 --> 01:07:46.060
是不是这样拿到

01:07:46.060 --> 01:07:47.060
三个内容

01:07:48.060 --> 01:07:49.060
然后呢

01:07:49.060 --> 01:07:50.060
开始询问

01:07:56.060 --> 01:07:57.060
问一下

01:07:57.060 --> 01:07:59.060
现在是不是警告

01:07:59.060 --> 01:08:00.060
警告你

01:08:00.060 --> 01:08:01.060
你现在做的动作

01:08:01.060 --> 01:08:02.060
是删除

01:08:03.060 --> 01:08:04.060
警告

01:08:05.060 --> 01:08:06.060
然后呢内容

01:08:06.060 --> 01:08:07.060
我们写一个

01:08:07.060 --> 01:08:08.060
content

01:08:09.060 --> 01:08:10.060
叫做

01:08:11.060 --> 01:08:12.060
确定要

01:08:13.060 --> 01:08:14.060
删除吗

01:08:14.060 --> 01:08:16.440
是这个结构

01:08:16.440 --> 01:08:17.440
然后

01:08:17.440 --> 01:08:21.480
success

01:08:23.480 --> 01:08:24.480
success

01:08:24.480 --> 01:08:26.480
当你真的确定要删除

01:08:26.480 --> 01:08:28.480
那我们来得到你的数据

01:08:28.480 --> 01:08:29.480
得到数据的时候

01:08:29.480 --> 01:08:30.480
is.conf

01:08:31.480 --> 01:08:32.480
它会有两个

01:08:32.480 --> 01:08:33.480
conf是true and false

01:08:33.480 --> 01:08:34.480
对吧

01:08:34.480 --> 01:08:35.480
我们得到true

01:08:35.480 --> 01:08:36.480
代表你现在

01:08:36.480 --> 01:08:37.480
确定要删除

01:08:38.480 --> 01:08:40.480
确定要删除

01:08:40.480 --> 01:08:41.480
这时候呢

01:08:41.480 --> 01:08:42.480
我们做一个

01:08:43.480 --> 01:08:44.480
纪录删除

01:08:44.480 --> 01:08:46.480
云纪录删除

01:08:47.480 --> 01:08:49.480
云纪录删除

01:08:49.480 --> 01:08:50.480
db

01:08:50.480 --> 01:08:51.480
继续调用

01:08:52.480 --> 01:08:54.480
找一条纪录

01:08:54.480 --> 01:08:55.480
这条纪录

01:08:55.480 --> 01:08:56.480
就是拿我们上面的id

01:08:56.480 --> 01:08:58.480
拿这个id来找

01:08:58.480 --> 01:08:59.480
doc是找

01:08:59.480 --> 01:09:01.480
就是我们平时讲的where

01:09:01.480 --> 01:09:02.480
找到以后

01:09:02.480 --> 01:09:04.480
remove删除

01:09:04.480 --> 01:09:05.480
直接写这个remove

01:09:06.480 --> 01:09:07.480
删除成功以后

01:09:07.480 --> 01:09:09.480
它会调用这个success

01:09:09.480 --> 01:09:12.920
它会调用这个success

01:09:12.920 --> 01:09:13.920
rs

01:09:14.920 --> 01:09:15.920
然后

01:09:15.920 --> 01:09:16.920
注意

01:09:16.920 --> 01:09:19.920
我们除了删除云端的

01:09:19.920 --> 01:09:20.920
这个纪录以外

01:09:20.920 --> 01:09:21.920
还要去

01:09:21.920 --> 01:09:22.920
同步

01:09:22.920 --> 01:09:25.920
删除云存储文件

01:09:25.920 --> 01:09:26.920
因为你把数字故事

01:09:26.920 --> 01:09:28.920
上了云文件还在

01:09:28.920 --> 01:09:29.920
你记得吗

01:09:29.920 --> 01:09:30.920
云文件我没有做过

01:09:30.920 --> 01:09:31.920
任何的改动

01:09:31.920 --> 01:09:32.920
所以呢

01:09:32.920 --> 01:09:33.920
这边我们要做

01:09:33.920 --> 01:09:34.920
再写一个方法

01:09:35.920 --> 01:09:36.920
delete

01:09:38.920 --> 01:09:39.920
cloudify

01:09:41.920 --> 01:09:42.920
cloudify

01:09:42.920 --> 01:09:43.920
我们要删除这个文件

01:09:43.920 --> 01:09:45.920
那么删除的时候呢

01:09:45.920 --> 01:09:47.920
我们要传给它一个值

01:09:47.920 --> 01:09:48.920
这个值呢

01:09:48.920 --> 01:09:49.920
我们说

01:09:49.920 --> 01:09:50.920
我们就可以是你上面

01:09:50.920 --> 01:09:52.920
拿过来的这个

01:09:52.920 --> 01:09:53.920
fiid

01:09:53.920 --> 01:09:54.920
就这个图片

01:09:55.920 --> 01:09:56.920
传给它

01:09:57.920 --> 01:09:58.920
好

01:09:58.920 --> 01:09:59.920
传给它以后的话呢

01:09:59.920 --> 01:10:01.920
我们去写这个文件出来

01:10:01.920 --> 01:10:04.920
我们在下面单独再写一个

01:10:04.920 --> 01:10:11.770
叫做delete

01:10:12.770 --> 01:10:13.770
cloudify

01:10:20.180 --> 01:10:21.180
我们称为

01:10:21.180 --> 01:10:25.190
删除云文件

01:10:28.720 --> 01:10:30.720
接收一个参数它

01:10:30.720 --> 01:10:34.440
fiid

01:10:36.440 --> 01:10:37.440
微信点

01:10:38.440 --> 01:10:39.440
cloud

01:10:40.440 --> 01:10:41.440
delete

01:10:41.440 --> 01:10:42.440
fi

01:10:42.440 --> 01:10:44.440
从云端删除一个文件

01:10:44.440 --> 01:10:45.440
delete

01:10:45.440 --> 01:10:46.440
fi

01:10:46.440 --> 01:10:47.440
fi list

01:10:47.440 --> 01:10:49.440
删除列表

01:10:49.440 --> 01:10:53.750
把你这个fiid放进去

01:10:53.750 --> 01:10:54.750
success

01:10:54.750 --> 01:10:55.750
删除

01:10:55.750 --> 01:11:00.340
console.log

01:11:00.340 --> 01:11:04.770
我们称之为

01:11:04.770 --> 01:11:05.770
delete

01:11:05.770 --> 01:11:06.770
我们看一下

01:11:06.770 --> 01:11:07.770
cloud

01:11:07.770 --> 01:11:08.770
fi

01:11:08.770 --> 01:11:12.080
删除成功

01:11:13.080 --> 01:11:15.080
当然这个是不会告诉用户的

01:11:15.080 --> 01:11:17.080
我们自己可以看一下

01:11:17.080 --> 01:11:20.350
fi

01:11:20.350 --> 01:11:21.350
s

01:11:21.350 --> 01:11:24.660
console.log

01:11:25.660 --> 01:11:26.660
delete

01:11:27.660 --> 01:11:28.660
cloud

01:11:28.660 --> 01:11:32.060
fi

01:11:32.060 --> 01:11:33.060
s

01:11:34.060 --> 01:11:36.060
形成这样的一个文件

01:11:36.060 --> 01:11:38.060
我们来看到现在的操作

01:11:38.060 --> 01:11:44.190
首先看一下我们现在的

01:11:44.190 --> 01:11:46.190
整个这个文件内容

01:11:47.190 --> 01:11:48.190
然后找到

01:11:48.190 --> 01:11:50.190
我们去找到我们的一个

01:11:50.190 --> 01:11:52.190
图片路径的话

01:11:52.190 --> 01:11:53.190
咱们找这个

01:11:54.190 --> 01:11:55.190
19819

01:11:59.100 --> 01:12:01.100
去到我们的存储里面

01:12:01.100 --> 01:12:02.100
找一下

01:12:02.100 --> 01:12:04.100
这篇19819

01:12:05.100 --> 01:12:07.100
然后到数据库里看一下

01:12:07.100 --> 01:12:10.860
在这边我们

01:12:10.860 --> 01:12:11.860
不是这个啊

01:12:11.860 --> 01:12:12.860
咱们的images里面

01:12:13.860 --> 01:12:15.860
这篇看到吗

01:12:15.860 --> 01:12:16.860
19819

01:12:17.860 --> 01:12:19.860
好我们对它进行

01:12:19.860 --> 01:12:20.860
不要动

01:12:20.860 --> 01:12:21.860
我们对它进行

01:12:21.860 --> 01:12:22.860
所谓的删除

01:12:26.460 --> 01:12:27.460
确定要删除吗

01:12:27.460 --> 01:12:28.460
取消

01:12:28.460 --> 01:12:29.460
啥事都没有

01:12:30.460 --> 01:12:31.460
点击确定

01:12:33.460 --> 01:12:35.460
它告诉我是参数类型

01:12:35.460 --> 01:12:37.460
删除云文件失败

01:12:37.460 --> 01:12:39.460
它说是有一个删除类型

01:12:39.460 --> 01:12:41.460
第一个文件需要自幅创

01:12:41.460 --> 01:12:43.460
代替空内容

01:12:43.460 --> 01:12:44.460
代表的是我们有一个

01:12:44.460 --> 01:12:45.460
直媒传进去

01:12:45.460 --> 01:12:47.460
没关系我们来看一下

01:12:48.460 --> 01:12:49.460
我们会发现

01:12:49.460 --> 01:12:51.460
这边传输过来数据的时候

01:12:51.460 --> 01:12:53.460
这个应该是小写

01:12:54.460 --> 01:12:55.460
应该是小写

01:12:55.460 --> 01:12:56.460
我们可以看一下

01:12:57.460 --> 01:12:59.460
我们利用console的方式

01:12:59.460 --> 01:13:00.460
来看一下它整个

01:13:00.460 --> 01:13:01.460
这个传输过来的数据

01:13:01.460 --> 01:13:02.460
对吧

01:13:02.460 --> 01:13:07.200
用意

01:13:08.200 --> 01:13:10.200
这边我们只要点的是取消

01:13:10.200 --> 01:13:11.200
就可以了

01:13:12.200 --> 01:13:14.200
云端数据先到会儿看

01:13:14.200 --> 01:13:19.300
首先上传一个数据

01:13:19.300 --> 01:13:23.150
随便

01:13:24.150 --> 01:13:25.150
上传成功

01:13:26.150 --> 01:13:27.150
查看我的图库

01:13:30.360 --> 01:13:31.360
过来

01:13:31.360 --> 01:13:32.360
点击按钮的时候

01:13:32.360 --> 01:13:34.360
注意点取消就可以了

01:13:34.360 --> 01:13:35.360
我们看这个纸

01:13:36.360 --> 01:13:37.360
它是我刚才

01:13:37.360 --> 01:13:38.360
由于点击按钮时

01:13:38.360 --> 01:13:40.360
想后台传输的纸

01:13:40.360 --> 01:13:41.360
传输的纸里面一共两个

01:13:41.360 --> 01:13:42.360
一个是ID

01:13:42.360 --> 01:13:43.360
一个是Imager URL

01:13:43.360 --> 01:13:44.360
是不是小写

01:13:45.360 --> 01:13:46.360
所以这边的话

01:13:46.360 --> 01:13:47.360
我们要给一个小写

01:13:47.360 --> 01:13:49.360
不然大写它是空

01:13:49.360 --> 01:13:50.360
它是空的话

01:13:50.360 --> 01:13:52.360
我们给它delete传的话

01:13:52.360 --> 01:13:53.360
传过来

01:13:53.360 --> 01:13:55.360
那么这边的删除语句

01:13:55.360 --> 01:13:57.360
这边删除语句就会是空

01:13:58.360 --> 01:14:00.360
然后再往下

01:14:00.360 --> 01:14:01.360
这个时候的话就出问题了

01:14:01.360 --> 01:14:03.360
它没有办法进行删除文件

01:14:03.360 --> 01:14:04.360
对吧

01:14:04.360 --> 01:14:05.360
它就报到这里来了

01:14:06.360 --> 01:14:08.360
现在我们给它传入了一个纸

01:14:08.360 --> 01:14:09.360
这个纸的话

01:14:09.360 --> 01:14:11.360
就是现在小写的Imager URL

01:14:11.360 --> 01:14:12.360
所给到的

01:14:12.360 --> 01:14:14.360
然后这个先不用了

01:14:14.360 --> 01:14:16.360
然后给它传好纸以后

01:14:16.360 --> 01:14:18.360
然后它经过你判断

01:14:18.360 --> 01:14:19.360
你给了一个空缝

01:14:19.360 --> 01:14:21.360
确认是去的话

01:14:21.360 --> 01:14:22.360
那么它就完成

01:14:22.360 --> 01:14:24.360
首先把云端的

01:14:24.360 --> 01:14:26.360
所谓的数据库记录

01:14:26.360 --> 01:14:28.360
我们写强细一点

01:14:29.360 --> 01:14:31.360
数据库的记录删除掉

01:14:31.360 --> 01:14:32.360
删除数据库以后的话

01:14:32.360 --> 01:14:34.360
在同步云端删除

01:14:34.360 --> 01:14:35.360
就是文件删除

01:14:35.360 --> 01:14:37.360
数据库记录要的是ID

01:14:37.360 --> 01:14:39.360
云端删除需要的是文件的

01:14:39.360 --> 01:14:40.360
File ID

01:14:40.360 --> 01:14:42.360
就是文件图名名

01:14:42.360 --> 01:14:44.360
我们把File Lister文件名写在这

01:14:44.360 --> 01:14:45.360
那么这样的话

01:14:45.360 --> 01:14:46.360
删除以后就可以了

01:14:46.360 --> 01:14:48.360
我们来看一下效果

01:14:48.360 --> 01:14:50.360
首先这张图片上传了

01:14:50.360 --> 01:14:51.360
这样图片我们看一下

01:14:51.360 --> 01:14:54.360
它的整个的名称

01:14:54.360 --> 01:14:58.380
我们还是要在这把那个

01:14:58.380 --> 01:14:59.380
e打一下

01:14:59.380 --> 01:15:00.380
我们来看

01:15:00.380 --> 01:15:01.380
整个这e的话

01:15:01.380 --> 01:15:03.380
它的名称

01:15:03.380 --> 01:15:05.380
我们可以去找一下

01:15:05.380 --> 01:15:06.380
它的名称是

01:15:06.380 --> 01:15:08.380
93891

01:15:08.380 --> 01:15:09.380
对吧

01:15:09.380 --> 01:15:10.380
93891

01:15:10.380 --> 01:15:11.380
我们去云端看一下

01:15:11.380 --> 01:15:12.380
93开头

01:15:12.380 --> 01:15:14.380
891结尾的一张图片

01:15:14.380 --> 01:15:16.820
找一下

01:15:16.820 --> 01:15:18.820
93891

01:15:18.820 --> 01:15:25.460
在这

01:15:25.460 --> 01:15:26.460
是不是93开头

01:15:26.460 --> 01:15:28.460
891

01:15:28.460 --> 01:15:30.460
同时我们看一下数据库

01:15:30.460 --> 01:15:32.460
在MadeList里面

01:15:32.460 --> 01:15:33.460
是不是有一张图片

01:15:33.460 --> 01:15:34.460
咱们再看一下

01:15:34.460 --> 01:15:36.460
是不是93891

01:15:36.460 --> 01:15:37.460
好

01:15:37.460 --> 01:15:38.460
都是了

01:15:38.460 --> 01:15:39.460
先下去

01:15:39.460 --> 01:15:41.460
我们开始点它的删除

01:15:41.460 --> 01:15:43.460
刚才我们是点了个取消

01:15:43.460 --> 01:15:46.960
现在我们点一下确定

01:15:46.960 --> 01:15:48.960
看它的这个

01:15:48.960 --> 01:15:49.960
我刚没保存

01:15:49.960 --> 01:15:51.960
我们把它保存一下

01:15:51.960 --> 01:15:52.960
看到吗

01:15:52.960 --> 01:15:54.960
这边还是没保存

01:15:54.960 --> 01:15:55.960
存一下

01:15:55.960 --> 01:15:56.960
好了存好了

01:15:56.960 --> 01:16:02.190
现在再来一次

01:16:02.190 --> 01:16:03.190
查看我图库

01:16:03.190 --> 01:16:06.190
这时候数据库会有一些问题

01:16:06.190 --> 01:16:07.190
我们之后的话

01:16:07.190 --> 01:16:09.190
把这种所谓的测试数据

01:16:09.190 --> 01:16:10.190
都可以删除掉

01:16:10.190 --> 01:16:12.190
这个小绿色图片

01:16:12.190 --> 01:16:13.190
上了成功

01:16:13.190 --> 01:16:14.190
我们再来对照一下

01:16:14.190 --> 01:16:17.190
它这张图片是45

01:16:17.190 --> 01:16:18.190
646

01:16:18.190 --> 01:16:19.190
45646

01:16:19.190 --> 01:16:24.680
存储里面

01:16:24.680 --> 01:16:25.680
找一下

01:16:25.680 --> 01:16:26.680
45646

01:16:26.680 --> 01:16:30.080
在这

01:16:30.080 --> 01:16:32.080
45646

01:16:32.080 --> 01:16:35.080
取数据库

01:16:35.080 --> 01:16:36.080
MadeList

01:16:36.080 --> 01:16:38.080
一条记录

01:16:38.080 --> 01:16:39.080
45646

01:16:39.080 --> 01:16:43.100
查看我的图库

01:16:43.100 --> 01:16:44.100
过来

01:16:44.100 --> 01:16:46.100
有一张图片

01:16:46.100 --> 01:16:47.100
此时

01:16:47.100 --> 01:16:49.100
我们对它进行点击

01:16:50.100 --> 01:16:51.100
确定删除吗

01:16:51.100 --> 01:16:52.100
取消

01:16:52.100 --> 01:16:53.100
没反应

01:16:53.100 --> 01:16:54.100
确定吗

01:16:54.100 --> 01:16:55.100
确定

01:16:55.100 --> 01:16:57.100
此时来看

01:16:57.100 --> 01:16:59.100
我们提示给你的是

01:16:59.100 --> 01:17:01.100
Delete Cloud File

01:17:01.100 --> 01:17:03.100
然后Success完成

01:17:03.100 --> 01:17:04.100
它告诉你

01:17:04.100 --> 01:17:06.100
并且你完成删除了一个

01:17:06.100 --> 01:17:08.100
你删除的这个图片的路径

01:17:08.100 --> 01:17:09.100
是这样的

01:17:09.100 --> 01:17:10.100
45646

01:17:10.100 --> 01:17:13.100
我们再到云端来查看一下

01:17:13.100 --> 01:17:14.100
首先

01:17:14.100 --> 01:17:15.100
你来看一下

01:17:15.100 --> 01:17:16.100
MadeList里面

01:17:16.100 --> 01:17:18.100
这个数据库的记录

01:17:19.100 --> 01:17:20.100
然后

01:17:20.100 --> 01:17:21.100
到云端里面

01:17:21.100 --> 01:17:22.100
我们这时候

01:17:22.100 --> 01:17:23.100
刷新一下

01:17:23.100 --> 01:17:24.100
你来找一下

01:17:24.100 --> 01:17:26.100
有没有那个45646

01:17:26.100 --> 01:17:28.100
3484

01:17:28.100 --> 01:17:29.100
5

01:17:29.100 --> 01:17:30.100
50

01:17:30.100 --> 01:17:31.100
6

01:17:31.100 --> 01:17:32.100
61

01:17:32.100 --> 01:17:34.100
6710

01:17:34.100 --> 01:17:35.100
有吗

01:17:35.100 --> 01:17:36.100
没有了

01:17:36.100 --> 01:17:37.100
对吧

01:17:37.100 --> 01:17:38.100
所以我们讲的是

01:17:38.100 --> 01:17:39.100
我们的确

01:17:39.100 --> 01:17:41.100
利用了刚才的这几个方法

01:17:41.100 --> 01:17:44.100
完成了现在的一个图式的删除

01:17:44.100 --> 01:17:46.100
删除以后不应该在这个界面

01:17:46.100 --> 01:17:48.100
我们应该让它再跳转回

01:17:48.100 --> 01:17:49.100
这样的界面来

01:17:49.100 --> 01:17:52.100
再跳转回这个界面

01:17:52.100 --> 01:17:53.100
好

01:17:53.100 --> 01:17:55.100
我们再做一把

01:17:55.100 --> 01:17:58.100
我们直接让它完成以后

01:17:58.100 --> 01:18:04.030
进行跳转

01:18:04.030 --> 01:18:06.030
跳转回

01:18:06.030 --> 01:18:08.030
界面

01:18:08.030 --> 01:18:10.030
上传

01:18:10.030 --> 01:18:11.030
界面

01:18:11.030 --> 01:18:19.540
跳转回上传界面

01:18:19.540 --> 01:18:31.350
mpve.navigate

01:18:31.350 --> 01:18:32.350
pl

01:18:32.350 --> 01:18:33.350
getu

01:18:33.350 --> 01:18:51.160
redirect to

01:18:51.160 --> 01:18:53.160
patres.

01:18:53.160 --> 01:18:55.470
我们的叫做

01:18:55.470 --> 01:18:57.470
首页是我们的

01:18:57.470 --> 01:19:00.470
index

01:19:00.470 --> 01:19:02.980
下的面

01:19:02.980 --> 01:19:06.930
回首页以后的话

01:19:06.930 --> 01:19:07.930
我们回过头来

01:19:07.930 --> 01:19:09.930
一旦你回到首页

01:19:09.930 --> 01:19:10.930
首页里面的话

01:19:10.930 --> 01:19:12.930
我们要做几件事情

01:19:12.930 --> 01:19:14.930
我们直接来试一下

01:19:14.930 --> 01:19:15.930
首先

01:19:15.930 --> 01:19:18.930
我们选择一张图片上传

01:19:18.930 --> 01:19:19.930
上传成功以后

01:19:19.930 --> 01:19:21.930
它的预览区有一张呈现

01:19:21.930 --> 01:19:23.930
查看我的图库

01:19:23.930 --> 01:19:25.930
图库中有一张

01:19:25.930 --> 01:19:28.930
不用关心点击删除

01:19:28.930 --> 01:19:29.930
确定

01:19:29.930 --> 01:19:30.930
又回来了

01:19:30.930 --> 01:19:31.930
是吧

01:19:31.930 --> 01:19:33.930
这时候的话就OK了

01:19:33.930 --> 01:19:34.930
我们看到的界面

01:19:34.930 --> 01:19:35.930
就是一个很轻的

01:19:35.930 --> 01:19:37.930
很空的一个结构

01:19:37.930 --> 01:19:38.930
你可以继续进行删除

01:19:38.930 --> 01:19:39.930
理解吧

01:19:39.930 --> 01:19:40.930
这结构

01:19:40.930 --> 01:19:41.930
你会发现

01:19:41.930 --> 01:19:43.930
它这时候报了一个错

01:19:43.930 --> 01:19:44.930
它告诉你

01:19:44.930 --> 01:19:46.930
它去加载这张图片的时候

01:19:46.930 --> 01:19:48.930
是为空的

01:19:48.930 --> 01:19:49.930
那么这个时候

01:19:49.930 --> 01:19:50.930
我们就说一下

01:19:50.930 --> 01:19:52.930
当你打开这个界面的时候的话

01:19:52.930 --> 01:19:54.930
就出实话

01:19:54.930 --> 01:19:55.930
在安秀的时候

01:19:55.930 --> 01:19:56.930
我们去做一下

01:19:56.930 --> 01:19:57.930
干嘛

01:19:57.930 --> 01:19:59.930
把我们这两个里面的数据

01:19:59.930 --> 01:20:00.930
全部清掉

01:20:00.930 --> 01:20:01.930
也就是说

01:20:01.930 --> 01:20:03.930
我们不再在秀的时候

01:20:03.930 --> 01:20:05.930
显示这两个数据里面内容

01:20:05.930 --> 01:20:06.930
所以呢

01:20:06.930 --> 01:20:07.930
我们这边

01:20:07.930 --> 01:20:11.500
我们做一下安秀

01:20:11.500 --> 01:20:12.500
安秀的区别

01:20:12.500 --> 01:20:13.500
大家应该

01:20:13.500 --> 01:20:14.500
能理解了吧

01:20:14.500 --> 01:20:15.500
它是指

01:20:15.500 --> 01:20:16.500
每次打开

01:20:16.500 --> 01:20:17.500
从

01:20:17.500 --> 01:20:18.500
我们称之为

01:20:19.500 --> 01:20:20.500
后台

01:20:20.500 --> 01:20:21.500
或者称之为

01:20:21.500 --> 01:20:22.500
未激活

01:20:22.500 --> 01:20:23.500
非激活

01:20:24.500 --> 01:20:25.500
状态

01:20:26.500 --> 01:20:28.500
改变为

01:20:28.500 --> 01:20:29.500
前台

01:20:30.500 --> 01:20:32.500
也就是激活状态

01:20:32.500 --> 01:20:37.790
然后这边我们写上

01:20:37.790 --> 01:20:43.370
把我们里面

01:20:43.370 --> 01:20:44.370
两个纸给清掉

01:20:44.370 --> 01:20:45.370
首先

01:20:45.370 --> 01:20:46.370
第一个纸的话呢

01:20:46.370 --> 01:20:47.370
就是我们的

01:20:49.370 --> 01:20:50.370
Made in URL

01:20:52.370 --> 01:20:53.370
我们看一下

01:20:53.370 --> 01:20:55.370
在我们的显示区域中

01:20:55.370 --> 01:20:57.370
我们本身来讲

01:20:57.370 --> 01:20:58.370
有几个

01:20:59.370 --> 01:21:00.370
这个Made in URL

01:21:00.370 --> 01:21:01.370
是占求我的一个

01:21:01.370 --> 01:21:03.370
预览区的内容

01:21:03.370 --> 01:21:05.370
所以对它来讲

01:21:05.370 --> 01:21:07.940
清空

01:21:07.940 --> 01:21:08.940
对它来讲清空

01:21:09.940 --> 01:21:10.940
当然

01:21:10.940 --> 01:21:11.940
你也可以去做一个

01:21:11.940 --> 01:21:12.940
所谓的

01:21:12.940 --> 01:21:13.940
默认

01:21:13.940 --> 01:21:14.940
我们可以做一个

01:21:14.940 --> 01:21:15.940
比如说

01:21:15.940 --> 01:21:16.940
Peters

01:21:16.940 --> 01:21:23.260
或者Static

01:21:23.260 --> 01:21:24.260
Static下面

01:21:24.260 --> 01:21:25.260
我们不是之前

01:21:25.260 --> 01:21:27.260
有过一个默认图片吗

01:21:27.260 --> 01:21:29.260
我们这里面有一个

01:21:30.260 --> 01:21:31.260
User

01:21:31.260 --> 01:21:32.260
对不对

01:21:32.260 --> 01:21:33.260
这有一个右手图片

01:21:33.260 --> 01:21:35.260
你可以让它进行加载

01:21:35.260 --> 01:21:36.260
默认图片

01:21:36.260 --> 01:21:38.260
你就可以做这种操作

01:21:42.260 --> 01:21:43.260
默认只要默认

01:21:43.260 --> 01:21:44.260
打开这个界面的时候

01:21:44.260 --> 01:21:45.260
你就能看到

01:21:45.260 --> 01:21:46.260
这张图片

01:21:47.260 --> 01:21:48.260
好

01:21:48.260 --> 01:21:54.470
我们来看一下

01:21:55.470 --> 01:21:56.470
上传图片

01:21:56.470 --> 01:22:00.170
图片上传成功

01:22:00.170 --> 01:22:02.170
预览成功

01:22:02.170 --> 01:22:06.120
查看我的图库

01:22:06.120 --> 01:22:07.120
图库数据显示

01:22:08.120 --> 01:22:10.120
把图片小一点

01:22:10.120 --> 01:22:11.120
这样图片

01:22:11.120 --> 01:22:12.120
太大了

01:22:12.120 --> 01:22:13.120
这样看上去

01:22:13.120 --> 01:22:14.120
实在不舒服

01:22:14.120 --> 01:22:15.120
然后Logs

01:22:15.120 --> 01:22:16.120
点面

01:22:16.120 --> 01:22:17.120
我们在面中改一改

01:22:18.120 --> 01:22:19.120
而Logs

01:22:19.120 --> 01:22:20.120
Logs 点面

01:22:20.120 --> 01:22:21.120
index

01:22:21.120 --> 01:22:22.120
稍微小一点点

01:22:22.120 --> 01:22:23.120
我们不是说

01:22:23.120 --> 01:22:27.780
样式一定要做成多少

01:22:27.780 --> 01:22:28.780
这样图片是

01:22:28.780 --> 01:22:32.300
这里为止

01:22:32.300 --> 01:22:33.300
加一下

01:22:33.300 --> 01:22:36.190
这是

01:22:38.700 --> 01:22:39.700
Pesh O2

01:22:39.700 --> 01:22:47.260
宽度

01:22:47.260 --> 01:22:52.940
200Apx

01:22:52.940 --> 01:22:55.500
高度

01:22:56.500 --> 01:22:58.500
我们都做180Apx

01:22:58.500 --> 01:23:10.490
稍微小一点

01:23:10.490 --> 01:23:11.490
查看我图库

01:23:11.490 --> 01:23:15.700
就这样就行了

01:23:15.700 --> 01:23:16.700
然后点击一下

01:23:16.700 --> 01:23:17.700
是否要删除

01:23:17.700 --> 01:23:18.700
否

01:23:18.700 --> 01:23:19.700
点击一下

01:23:19.700 --> 01:23:20.700
删除

01:23:21.700 --> 01:23:22.700
删掉了

01:23:22.700 --> 01:23:23.700
然后回来

01:23:23.700 --> 01:23:26.260
我们这边

01:23:26.260 --> 01:23:28.260
我们再来看一下效果

01:23:28.260 --> 01:23:30.260
我们传一个图片上去

01:23:31.260 --> 01:23:32.260
点击

01:23:33.260 --> 01:23:34.260
查看一下

01:23:36.260 --> 01:23:37.260
删除

01:23:37.260 --> 01:23:38.260
是不是出来了

01:23:39.260 --> 01:23:41.260
这就是我们刚才说的

01:23:41.260 --> 01:23:43.260
我给它补充了一张

01:23:43.260 --> 01:23:45.260
这样的图格是在这边

01:23:45.260 --> 01:23:46.260
就可以了

01:23:46.260 --> 01:23:47.260
云端的

01:23:47.260 --> 01:23:48.260
我们的一个图片

01:23:48.260 --> 01:23:50.260
有时候我们会把它

01:23:50.260 --> 01:23:52.260
做测试时候的删除

01:23:52.260 --> 01:23:54.260
我们有时候在测试时

01:23:54.260 --> 01:23:55.260
把它给删掉了

01:23:55.260 --> 01:23:56.260
是这个意图

01:23:56.260 --> 01:23:57.260
所以我们这边

01:23:57.260 --> 01:23:58.260
其实你不用了

01:23:58.260 --> 01:23:59.260
后来的测试

01:23:59.260 --> 01:24:00.260
你全部给它删掉

01:24:00.260 --> 01:24:01.260
就可以了

01:24:01.260 --> 01:24:02.260
我们看到

01:24:02.260 --> 01:24:03.260
我们已经完成了

01:24:03.260 --> 01:24:04.260
图片的上传

01:24:04.260 --> 01:24:05.260
下载

01:24:05.260 --> 01:24:06.260
这样的功能

01:24:06.260 --> 01:24:08.260
同时查看图片也有了

01:24:08.260 --> 01:24:10.260
那么这里一般的数据

01:24:10.260 --> 01:24:11.260
说明一下

01:24:11.260 --> 01:24:12.260
就是

01:24:12.260 --> 01:24:14.260
我们从云端的存储

01:24:14.260 --> 01:24:16.260
有一些条件限制

01:24:16.260 --> 01:24:18.260
有一些条件限制

01:24:18.260 --> 01:24:19.260
为什么有

01:24:19.260 --> 01:24:21.260
包括小程序也有

01:24:21.260 --> 01:24:23.260
因为这两者之间的配合

01:24:25.260 --> 01:24:26.260
相对来源

01:24:26.260 --> 01:24:27.260
云端

01:24:27.260 --> 01:24:29.260
特别是我们的小程序微信云

01:24:29.260 --> 01:24:31.260
和我们微信之间

01:24:31.260 --> 01:24:33.260
是不需要任何的

01:24:33.260 --> 01:24:35.260
授权的

01:24:35.260 --> 01:24:36.260
如果你小程序

01:24:36.260 --> 01:24:37.260
可以登录的话

01:24:37.260 --> 01:24:38.260
小程序可以

01:24:38.260 --> 01:24:39.260
Weber的开发者工具

01:24:39.260 --> 01:24:40.260
可以用的话

01:24:40.260 --> 01:24:42.260
你的云端可以直接用

01:24:42.260 --> 01:24:44.260
它是既方便了

01:24:44.260 --> 01:24:45.260
我们现在的开发

01:24:45.260 --> 01:24:47.260
但是它又限制了

01:24:47.260 --> 01:24:49.260
很多的一些功能

01:24:49.260 --> 01:24:52.260
因为本身小程序的云端处理

01:24:52.260 --> 01:24:55.260
它并非是一个数据固

01:24:55.260 --> 01:24:58.260
它顶多是一个集合模块

01:24:58.260 --> 01:25:00.260
它是个集合模块

01:25:00.260 --> 01:25:02.260
所以在这种时候

01:25:02.260 --> 01:25:04.260
我们很多的数据固的命令

01:25:04.260 --> 01:25:05.260
在这上面

01:25:05.260 --> 01:25:07.260
是不可实用的

01:25:07.260 --> 01:25:08.260
你看到

01:25:08.260 --> 01:25:10.260
我们在对云操作的时候

01:25:10.260 --> 01:25:11.260
增三改差

01:25:11.260 --> 01:25:13.260
都用的是方法

01:25:13.260 --> 01:25:15.260
在我们以前讲数据固的时候

01:25:15.260 --> 01:25:17.260
无论是Oracle

01:25:17.260 --> 01:25:19.260
还是什么SQL Server

01:25:19.260 --> 01:25:23.260
还是属于我们什么NoSQL的

01:25:23.260 --> 01:25:25.260
只要你听说过数据固的部分

01:25:25.260 --> 01:25:28.260
它都会有SQL与据

01:25:28.260 --> 01:25:31.260
因为那是属于数据固的完整结构

01:25:31.260 --> 01:25:32.260
关系型

01:25:32.260 --> 01:25:34.260
对象型

01:25:34.260 --> 01:25:35.260
对吧

01:25:35.260 --> 01:25:37.260
然后非对象型

01:25:37.260 --> 01:25:39.260
但是对于微信小程序来讲

01:25:39.260 --> 01:25:41.260
它是一个集合模块

01:25:41.260 --> 01:25:44.260
所以它并非是数据固

01:25:44.260 --> 01:25:46.260
包括你以前所讲的

01:25:46.260 --> 01:25:47.260
触发器

01:25:47.260 --> 01:25:49.260
数据固函数

01:25:49.260 --> 01:25:50.260
这些

01:25:50.260 --> 01:25:53.260
那么实现都可以用代码来完成

01:25:53.260 --> 01:25:54.260
但是

01:25:54.260 --> 01:25:55.260
没有办法

01:25:55.260 --> 01:25:56.260
在这里面

01:25:56.260 --> 01:25:58.260
直接去以数据固的方式

01:25:58.260 --> 01:26:00.260
进行定义

01:26:00.260 --> 01:26:01.260
明白

01:26:01.260 --> 01:26:02.260
第二呢

01:26:02.260 --> 01:26:04.260
在这样的一个数据固里面

01:26:04.260 --> 01:26:06.260
我们顶多

01:26:06.260 --> 01:26:08.260
是给当前的

01:26:08.260 --> 01:26:09.260
这样的一个

01:26:09.260 --> 01:26:10.260
当前的一个列表

01:26:10.260 --> 01:26:12.260
我们称之为集合Galaxy

01:26:12.260 --> 01:26:14.260
加一个锁影

01:26:14.260 --> 01:26:16.260
最多是加一个锁影

01:26:16.260 --> 01:26:18.260
你没有办法在这里边

01:26:18.260 --> 01:26:20.260
再去给它做所谓的

01:26:20.260 --> 01:26:22.260
连接联合仔查询

01:26:22.260 --> 01:26:24.260
这种东西是不可能的

01:26:24.260 --> 01:26:25.260
那你非得做的话呢

01:26:25.260 --> 01:26:26.260
比如说

01:26:26.260 --> 01:26:27.260
我现在

01:26:27.260 --> 01:26:30.260
就想把两个表连接起来做

01:26:30.260 --> 01:26:32.260
就得通过程序来完成

01:26:32.260 --> 01:26:34.260
通过程序来完成

01:26:34.260 --> 01:26:36.260
你比如像我刚才这个操作

01:26:36.260 --> 01:26:38.260
我在山厨

01:26:38.260 --> 01:26:39.260
我们珠阳

01:26:39.260 --> 01:26:41.260
我们在山厨云文件的时候

01:26:41.260 --> 01:26:43.260
当它山厨成功了

01:26:43.260 --> 01:26:45.260
再删另外一个

01:26:45.260 --> 01:26:46.260
再删另外一个

01:26:46.260 --> 01:26:47.260
咱们看到吗

01:26:47.260 --> 01:26:48.260
那么

01:26:48.260 --> 01:26:50.260
这里面就会形成一个概念

01:26:50.260 --> 01:26:53.260
也就是我们的非原子形

01:26:53.260 --> 01:26:55.260
如果你现在

01:26:55.260 --> 01:26:56.260
第一个命令删除了

01:26:56.260 --> 01:26:58.260
而第二个失败了

01:26:58.260 --> 01:26:59.260
那这时候怎么办

01:26:59.260 --> 01:27:00.260
因为

01:27:00.260 --> 01:27:01.260
两个操作

01:27:01.260 --> 01:27:02.260
两个数据

01:27:02.260 --> 01:27:04.260
是非雷绑在一起的

01:27:04.260 --> 01:27:05.260
那么

01:27:05.260 --> 01:27:07.260
给大家一个建议

01:27:07.260 --> 01:27:08.260
就是

01:27:08.260 --> 01:27:10.260
我们可以在我们现在的

01:27:10.260 --> 01:27:12.260
整个这个操作过程中

01:27:12.260 --> 01:27:15.260
给它加一个我们的tri-catch

01:27:15.260 --> 01:27:17.260
你可以抓一个tri-catch

01:27:17.260 --> 01:27:18.260
叫做

01:27:18.260 --> 01:27:21.260
异常数据补货

01:27:21.260 --> 01:27:23.260
你可以同这儿来

01:27:23.260 --> 01:27:25.260
你可以抓一个tri

01:27:25.260 --> 01:27:29.600
然后在结束位之前

01:27:29.600 --> 01:27:31.600
在你的结束位之前

01:27:31.600 --> 01:27:33.600
你可以抓一个catch

01:27:33.600 --> 01:27:41.140
你可以去做这样的动作

01:27:41.140 --> 01:27:43.140
tri-catch

01:27:43.140 --> 01:27:47.180
那么

01:27:47.180 --> 01:27:48.180
tri-catch的作用

01:27:48.180 --> 01:27:49.180
我们是

01:27:49.180 --> 01:27:50.180
帮助我们

01:27:50.180 --> 01:27:51.180
形成一个

01:27:51.180 --> 01:27:53.180
相对原子性的

01:27:53.180 --> 01:27:55.180
一个工作环境

01:27:55.180 --> 01:27:56.180
或者

01:27:56.180 --> 01:27:58.180
手工完成这样的一个

01:27:58.180 --> 01:28:00.180
双数据的一个

01:28:00.180 --> 01:28:02.180
共同生死

01:28:02.180 --> 01:28:03.180
如果说

01:28:03.180 --> 01:28:05.180
你第一个操作

01:28:05.180 --> 01:28:06.180
出问题了

01:28:06.180 --> 01:28:07.180
那么没问题

01:28:07.180 --> 01:28:09.180
第二个肯定不做

01:28:09.180 --> 01:28:10.180
如果第一个没问题

01:28:10.180 --> 01:28:12.180
执行到了success

01:28:12.180 --> 01:28:14.180
然后把第一条数据

01:28:14.180 --> 01:28:15.180
已经删除了

01:28:15.180 --> 01:28:17.180
这时候你第二条出问题以后

01:28:17.180 --> 01:28:18.180
注意

01:28:18.180 --> 01:28:19.180
不要给用户抱错

01:28:19.180 --> 01:28:20.180
而直接

01:28:20.180 --> 01:28:22.180
通过tri-catch的方式

01:28:22.180 --> 01:28:23.180
进行补货

01:28:23.180 --> 01:28:26.180
补货以后的作用是什么

01:28:26.180 --> 01:28:27.180
其他时候

01:28:27.180 --> 01:28:28.180
我们只是提示用户

01:28:28.180 --> 01:28:29.180
这儿

01:28:29.180 --> 01:28:30.180
错了

01:28:30.180 --> 01:28:31.180
但是

01:28:31.180 --> 01:28:32.180
在数据户

01:28:32.180 --> 01:28:33.180
你要做

01:28:33.180 --> 01:28:35.180
原子性概念的时候

01:28:35.180 --> 01:28:38.180
需要把原来的那条数据

01:28:38.180 --> 01:28:39.180
插入进去

01:28:39.180 --> 01:28:44.560
一旦

01:28:44.560 --> 01:28:46.560
try的

01:28:46.560 --> 01:28:49.560
多数据

01:28:49.560 --> 01:28:50.560
操作

01:28:50.560 --> 01:28:54.450
失败后

01:28:54.450 --> 01:28:59.210
需要再catch

01:28:59.210 --> 01:29:11.990
完成

01:29:11.990 --> 01:29:12.990
还原操作

01:29:12.990 --> 01:29:14.990
你需要去做这一步操作

01:29:14.990 --> 01:29:17.370
为了做还原

01:29:17.370 --> 01:29:18.370
所以

01:29:18.370 --> 01:29:19.370
你要把你前面

01:29:19.370 --> 01:29:20.370
所需要

01:29:20.370 --> 01:29:21.370
首先第一步

01:29:21.370 --> 01:29:22.370
那么这里面

01:29:22.370 --> 01:29:24.370
做起来就很有意思了

01:29:24.370 --> 01:29:27.370
你不是直接的删除

01:29:27.370 --> 01:29:28.370
你先要去

01:29:28.370 --> 01:29:30.370
获取

01:29:30.370 --> 01:29:32.370
第一步

01:29:32.370 --> 01:29:33.370
获取

01:29:33.370 --> 01:29:36.810
这条

01:29:36.810 --> 01:29:39.630
记录的

01:29:39.630 --> 01:29:40.630
所有内容

01:29:40.630 --> 01:29:44.350
干嘛呢

01:29:44.350 --> 01:29:48.390
代

01:29:48.390 --> 01:29:49.390
catch使用

01:29:49.390 --> 01:29:52.150
第二步

01:29:52.150 --> 01:29:53.150
才是删除

01:29:53.150 --> 01:29:58.410
是做这条东西

01:29:58.410 --> 01:30:00.410
你先要完成你的

01:30:00.410 --> 01:30:01.410
那个

01:30:01.410 --> 01:30:03.410
叫做我们的所有记录内容

01:30:03.410 --> 01:30:04.410
一旦你错误以后的话

01:30:04.410 --> 01:30:06.410
我需要利用你原始的这些数据

01:30:06.410 --> 01:30:08.410
然后重新还原一条出来

01:30:09.410 --> 01:30:11.410
形成这个结构

01:30:11.410 --> 01:30:12.410
提示

01:30:12.410 --> 01:30:13.410
就可以了

01:30:13.410 --> 01:30:14.410
正常的

01:30:14.410 --> 01:30:15.410
我们的操作

01:30:15.410 --> 01:30:16.410
这边都OK

01:30:16.410 --> 01:30:18.410
能够看到云端的

01:30:18.410 --> 01:30:19.410
那么

01:30:19.410 --> 01:30:20.410
这个案例

01:30:20.410 --> 01:30:21.410
我们就完成了

01:30:21.410 --> 01:30:23.410
云端的一个存储

01:30:23.410 --> 01:30:24.410
还有就是

01:30:24.410 --> 01:30:27.410
我们云端的一个数据库的

01:30:27.410 --> 01:30:28.410
增减

01:30:28.410 --> 01:30:29.410
这过程

01:30:29.410 --> 01:30:30.410
这两个的话

01:30:30.410 --> 01:30:32.410
在现实开发中都可以用

01:30:32.410 --> 01:30:33.410
额外

01:30:33.410 --> 01:30:34.410
再说一下

01:30:34.410 --> 01:30:36.410
这个云只用于数据库

01:30:36.410 --> 01:30:37.410
用于小程序

01:30:37.410 --> 01:30:38.410
云端

01:30:38.410 --> 01:30:40.410
它无法给外部

01:30:40.410 --> 01:30:41.410
再去完成

01:30:41.410 --> 01:30:43.410
它现在的一个调用的

01:30:43.410 --> 01:30:44.410
你外部还得自个儿

01:30:44.410 --> 01:30:46.410
你想做其他的后台的话

01:30:46.410 --> 01:30:47.410
那你还得自个儿

01:30:47.410 --> 01:30:48.410
去做我们所谓的

01:30:48.410 --> 01:30:50.410
服务器数据库的开发

01:30:50.410 --> 01:30:51.410
好

01:30:51.410 --> 01:30:52.410
那么这个势力

01:30:52.410 --> 01:30:53.410
就先讲到这里了

