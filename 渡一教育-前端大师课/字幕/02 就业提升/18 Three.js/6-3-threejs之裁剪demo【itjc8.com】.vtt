WEBVTT

00:00.370 --> 00:03.810
好 本堂课咱们接着来讲

00:03.810 --> 00:08.430
我们先把善良堂课这个小demo做一下优化

00:08.430 --> 00:11.130
可以吧 我让它动起来

00:11.130 --> 00:13.450
现在我们发现我们写的这个

00:13.450 --> 00:16.050
现在还没有写动画 对不对

00:16.050 --> 00:17.130
我现在让它动起来

00:17.130 --> 00:18.890
可以吧 让它进行一个旋转

00:18.890 --> 00:21.890
大家会发现它有点特殊

00:21.890 --> 00:24.570
怎么特殊呢 我们来看一下

00:24.570 --> 00:26.370
我现在先让它旋转一下

00:26.370 --> 00:29.810
然后我这块有个函数叫animate代表旋转一个函数

00:29.850 --> 00:32.810
然后我们来看一下 怎么来旋转呢

00:32.810 --> 00:33.930
我应该让谁来旋转

00:33.930 --> 00:36.650
之前我们只有一个几合体的时候

00:36.650 --> 00:39.490
我是让的是当前这个几合体

00:39.490 --> 00:40.770
调用它的一个rotation

00:40.770 --> 00:42.730
改变它的一个rotation就可以了 对吧

00:42.730 --> 00:46.450
但我现在里头有15个这样的一个demo吹 对吧

00:46.450 --> 00:48.690
我场景里面有15个demo吹

00:48.690 --> 00:50.410
那我怎么来移动啊

00:50.410 --> 00:52.970
我是不是没有办法一个一个的进行移动

00:52.970 --> 00:54.370
我要一个一个的移动的话

00:54.370 --> 00:56.730
我就需要把所有的几合体都保存一下

00:56.730 --> 00:58.210
然后在我们这个animate里面

00:58.250 --> 00:59.970
一个一个进行操作 对吧

00:59.970 --> 01:01.650
那很麻烦 对不对

01:01.650 --> 01:04.050
那告诉大家一种方式啊

01:04.050 --> 01:05.490
我不知道大家还记不记着

01:05.490 --> 01:09.130
咱们在学几合体的时候

01:09.130 --> 01:12.610
上一堂课吧 在学几合体的时候

01:14.450 --> 01:16.090
我提到过一个概念

01:16.090 --> 01:20.130
就是把所有的几合体都放在一个组里面

01:20.130 --> 01:23.090
对吧 把所有的几合体可以放在一个组里面

01:23.090 --> 01:26.170
这样的话我们是不是可以一次性渲染这一个组里面

01:26.170 --> 01:27.570
所有的几合体 对不对

01:27.570 --> 01:30.210
我们就不需要一个几合体一个几合体渲染了吧

01:30.210 --> 01:33.290
不需要把一不需要一个几合体一个几合体的

01:33.290 --> 01:35.210
放在我的场景当中去 对吧

01:35.210 --> 01:39.290
我只需要把整个组搬到我的场景当中去就可以了

01:39.290 --> 01:39.730
对不对

01:39.730 --> 01:41.530
那这个组是不是就相当于

01:41.530 --> 01:45.010
我给这些几合体外层加一个盒子 对不对

01:45.010 --> 01:48.050
我把这个几合把所有的几合体先放在盒子里

01:48.050 --> 01:51.330
然后整个盒子拿到场景当中去 对吧

01:51.330 --> 01:52.970
是比较方便的 对不对

01:52.970 --> 01:55.330
那我们就可以先定一个几合体

01:55.330 --> 01:57.410
先定一个组 对吧

01:57.410 --> 01:59.690
握一个group

01:59.690 --> 02:05.390
然后等于你有一个3.group

02:05.390 --> 02:06.550
来

02:06.550 --> 02:09.910
然后我们把所有的几合体都添加到组里面 对吧

02:09.910 --> 02:12.110
然后最后把整个组握

02:12.110 --> 02:14.710
把组握添加到我们的场景当中去 对吧

02:14.710 --> 02:19.030
2.i的jr-oup 对吧

02:19.030 --> 02:22.030
然后最后我们去渲染这个场景就可以了 对吧

02:22.030 --> 02:25.910
然后它的样式应该跟我们之前的样式是一样的 对不对

02:25.910 --> 02:28.670
然后这回我是不是就可以操作我的这个组了

02:28.670 --> 02:31.710
我让我的整个组进行旋转就可以了 对不对

02:31.710 --> 02:33.470
那我们怎么让组旋转呢

02:33.470 --> 02:36.470
我是不是只需要调用它身上的rotation这个方法

02:36.470 --> 02:38.950
ROTATiO1 对吧

02:38.950 --> 02:43.910
2.y加等于0.01 可以吧

02:43.910 --> 02:49.070
然后我们就再重新的渲染一下这个页面是不是就可以了

02:49.070 --> 02:53.470
来重新渲染一下这个场景 不是页面 场景

02:53.470 --> 02:54.310
可以吧

02:54.310 --> 02:57.350
然后我们调用一下这个animate这个方法

02:57.350 --> 03:00.580
大家可以看一下

03:00.580 --> 03:02.580
来看一下

03:02.580 --> 03:03.780
我们刷新

03:03.780 --> 03:07.780
我们现在确实在旋转

03:07.780 --> 03:10.180
我们来看一下它是不是旋转了

03:10.180 --> 03:12.580
我这样我在这里面打印一下

03:12.580 --> 03:13.980
group

03:13.980 --> 03:16.180
稍微搜点log一下

03:16.180 --> 03:19.380
jr-oup 点rotation

03:19.380 --> 03:19.980
可以吧

03:19.980 --> 03:22.620
然后可以看一下它的一个group

03:22.620 --> 03:26.380
jr-oup 对吧

03:26.380 --> 03:27.420
刷新

03:27.420 --> 03:29.820
发现只调用了一次 是不是

03:29.820 --> 03:31.820
我现在是不是没有让它旋转

03:31.820 --> 03:32.820
我怎么让它旋转

03:32.820 --> 03:34.220
是不是每隔一段时间

03:34.220 --> 03:36.820
我让它进行出发一次这个函数

03:36.820 --> 03:37.420
对吧

03:37.420 --> 03:40.620
那我是不是又可以用animate requestanimate frame

03:40.620 --> 03:42.020
这个方法

03:42.020 --> 03:42.620
对吧

03:42.620 --> 03:47.620
这个方法是不是在每一次页面刷新的时候

03:47.620 --> 03:50.620
页面刷新的时候不是我们手动的刷新

03:50.620 --> 03:52.020
而是页面

03:52.020 --> 03:56.220
我们页面渲染它有一个刷新的频率 对吧

03:56.220 --> 04:02.420
它的默认频率大概在16.66毫秒

04:02.420 --> 04:03.220
对吧

04:03.220 --> 04:06.220
16.66毫秒左右刷新一次

04:06.220 --> 04:07.420
然后这回我们看一下

04:07.420 --> 04:08.620
这回它是不是刷新了

04:08.620 --> 04:10.620
那我们发现裁剪的这一部分

04:10.620 --> 04:12.020
是不是一直都在这

04:12.020 --> 04:12.620
对不对

04:12.620 --> 04:16.020
也就是说我们不管怎么去旋转我的左

04:16.020 --> 04:18.220
不管我们怎么去旋转我们左

04:18.220 --> 04:21.220
我的裁剪平面它是不变的

04:21.220 --> 04:21.620
对不对

04:21.620 --> 04:24.020
因为我的裁剪平面我没有动它

04:24.020 --> 04:24.420
对不对

04:24.420 --> 04:26.020
所以它会不变 对吧

04:26.220 --> 04:28.220
那我们想要实现这样的一个

04:28.220 --> 04:32.220
可以这个裁剪平面也跟随着我们的球体

04:32.220 --> 04:33.820
进行一个运动的一个效果

04:33.820 --> 04:35.420
怎么来做呢

04:35.420 --> 04:38.420
如何来进行这样的一个运动效果呢

04:38.420 --> 04:40.820
我们现在是不是动的是我们这个物体

04:40.820 --> 04:43.220
物体动我们可以看到它是一个运动的

04:43.220 --> 04:43.820
对吧

04:43.820 --> 04:45.820
那我们如果想要这个裁剪平面

04:45.820 --> 04:48.420
也跟着物体动怎么来做呢

04:48.420 --> 04:50.820
我们是不是就可以

04:50.820 --> 04:55.620
我们是不是就可以去改变我们的

04:55.620 --> 04:57.220
一个相机的一个位置

04:57.220 --> 04:57.520
对吧

04:57.520 --> 04:59.620
我们相机一直现在是一直在这的

04:59.620 --> 04:59.820
对不对

04:59.820 --> 05:02.420
一直定在我们这个垂直于自己轴

05:02.420 --> 05:04.220
垂直于这是哪个轴

05:04.220 --> 05:05.220
自己轴的这一部分

05:05.220 --> 05:05.620
对吧

05:05.620 --> 05:07.520
在自己轴出来的

05:07.520 --> 05:08.020
对不对

05:08.020 --> 05:08.820
这一块

05:08.820 --> 05:09.420
对不对

05:09.420 --> 05:11.220
那我如果让我的相机绕着

05:11.220 --> 05:12.820
我们这个物体进行一个运动

05:12.820 --> 05:14.220
是不是就可以运动了

05:14.220 --> 05:14.820
对不对

05:14.820 --> 05:16.220
你看到的

05:16.220 --> 05:19.020
你看到的是不是就是这个物体在运动

05:19.020 --> 05:19.820
那我们接下来

05:19.820 --> 05:22.420
是不是就可以来通过改变

05:22.420 --> 05:24.020
我们相机的一个位置

05:24.020 --> 05:25.420
通过改变相机的位置

05:25.420 --> 05:28.420
然后去渲染我们这样的一个

05:28.420 --> 05:29.620
动画的一个效果

05:29.620 --> 05:30.720
对吧

05:30.720 --> 05:31.620
那相机的位置

05:31.620 --> 05:33.520
我们来改变一下相机的位置

05:33.520 --> 05:35.220
possession.set

05:35.220 --> 05:36.220
那我们可以思考一下

05:36.220 --> 05:38.320
相机的一个运动轨迹

05:38.320 --> 05:39.220
来画个图

05:39.220 --> 05:40.020
可以吧

05:40.020 --> 05:42.220
我们来画个图

05:42.220 --> 05:44.120
画图

05:44.120 --> 05:45.120
可以思考一下

05:45.120 --> 05:46.820
现在我是腐蚀

05:46.820 --> 05:48.420
我腐蚀我这个物体

05:48.420 --> 05:49.720
腐蚀我这个物体

05:49.720 --> 05:50.620
我这个球体

05:50.620 --> 05:52.620
我腐蚀的这个球体是不是应该这样的

05:52.620 --> 05:55.420
然后它裁剪的应该是这一部分

05:55.420 --> 05:56.520
对吧

05:56.520 --> 05:57.020
诶

05:57.020 --> 05:58.420
我把这个

05:58.420 --> 05:59.220
捆成自己下

05:59.220 --> 06:00.420
这应该是这个图形

06:00.420 --> 06:02.820
对吧

06:02.820 --> 06:05.020
它剪掉的应该是这样的

06:05.020 --> 06:05.420
对不对

06:05.420 --> 06:06.420
这是我腐蚀啊

06:06.420 --> 06:08.420
腐蚀

06:08.420 --> 06:09.920
那我们再接照

06:09.920 --> 06:10.420
再接照

06:10.420 --> 06:11.620
我们的相机应该在哪

06:11.620 --> 06:13.520
相机是不是腐蚀应该是在这

06:13.520 --> 06:14.320
对不对

06:14.320 --> 06:15.020
在外面

06:15.020 --> 06:15.420
对吧

06:15.420 --> 06:16.620
我腐蚀这个场景

06:16.620 --> 06:18.620
这个场景

06:18.620 --> 06:19.520
那相机在这

06:19.520 --> 06:20.920
那我是不是只需要让相机

06:20.920 --> 06:23.920
绕着我这个球体进行一个运动就可以了

06:23.920 --> 06:24.320
对吧

06:24.320 --> 06:26.220
那也就是说我相机的运动轨迹

06:26.220 --> 06:27.420
应该也是一个圆

06:27.420 --> 06:28.120
对不对

06:28.120 --> 06:29.220
也是一个圆吧

06:29.220 --> 06:30.820
来画一下

06:30.820 --> 06:32.820
这可能是我相机的一个运动轨迹

06:32.820 --> 06:33.220
对不对

06:33.220 --> 06:34.820
这是我相机的一个运动轨迹

06:34.820 --> 06:35.820
那我相机

06:35.820 --> 06:38.120
我把这个相机拿着

06:38.120 --> 06:38.620
在这

06:38.620 --> 06:39.220
可以吧

06:39.220 --> 06:41.620
这个相机就是绕着这个球

06:41.620 --> 06:42.520
这个圆

06:42.520 --> 06:43.420
进行一个运动

06:43.420 --> 06:43.920
对吧

06:43.920 --> 06:44.720
那这样的话

06:44.720 --> 06:45.820
我们可以看一下

06:45.820 --> 06:48.020
相机运动的一个轨迹是什么样子的

06:48.020 --> 06:50.120
我是不是就可以以它为原心

06:50.120 --> 06:51.520
最开始它在这对吧

06:51.520 --> 06:53.520
那这个点可能是自己轴

06:53.520 --> 06:54.620
我们可以看一下

06:54.620 --> 06:57.620
这个点到这个中心的距离是多少

06:57.620 --> 06:58.920
我们刚才设置的是多少

06:58.920 --> 07:00.020
我们看一下啊

07:00.020 --> 07:01.820
设置的是200i对吧

07:01.820 --> 07:02.920
那也就是说

07:02.920 --> 07:04.420
这里

07:04.420 --> 07:06.320
这里

07:06.320 --> 07:07.920
这里是200i对吧

07:07.920 --> 07:10.520
也就是说这整个半径是200i对不对

07:10.520 --> 07:13.720
那我就让这个球体进行运动

07:13.720 --> 07:14.620
不是球体

07:14.620 --> 07:17.220
是我这个相机进行运动对吧

07:17.220 --> 07:17.920
这是相机

07:17.920 --> 07:19.120
相机进行运动

07:19.120 --> 07:21.520
那就是以200万半径

07:21.520 --> 07:22.720
以200万半径

07:22.720 --> 07:24.120
以原心

07:24.120 --> 07:24.720
这个

07:24.720 --> 07:26.520
这一点原心

07:26.520 --> 07:27.320
为原心

07:27.320 --> 07:30.520
然后进行一个圆的一个轨迹运动

07:30.520 --> 07:30.920
对吧

07:30.920 --> 07:31.620
那这样的话

07:31.620 --> 07:32.320
这身上

07:32.320 --> 07:33.720
这个圆身上的每一个点

07:33.720 --> 07:35.720
是不是就是我这个

07:35.720 --> 07:37.820
相机的一个位置

07:37.820 --> 07:38.720
对吧

07:38.720 --> 07:39.820
圆身上的每一个点

07:39.820 --> 07:41.020
就是我相机的一个位置

07:41.020 --> 07:43.020
那我就只需要去看一下

07:43.020 --> 07:44.820
这个圆身上每一个点的作标

07:44.820 --> 07:45.720
怎么来球就可以了

07:45.720 --> 07:46.320
对不对

07:46.320 --> 07:47.120
那我们

07:47.120 --> 07:49.020
可以知道旋转的一个角度吧

07:49.020 --> 07:51.020
这个角度可以知道对不对

07:51.020 --> 07:53.320
例如这个角度是alpha

07:53.320 --> 07:54.320
或者dg

07:54.320 --> 07:56.620
我来握一个dg

07:56.620 --> 07:58.320
在上面握一个dg

07:58.320 --> 07:59.520
最开始让它微丁

07:59.520 --> 08:00.520
可以吧

08:00.520 --> 08:01.720
最开始微丁

08:01.720 --> 08:02.520
那我们

08:02.520 --> 08:04.920
这个轴我们来画一下

08:04.920 --> 08:05.820
我们俯视的话

08:05.820 --> 08:06.620
这个轴

08:06.620 --> 08:07.820
整个横向的

08:07.820 --> 08:09.520
这个轴应该是什么轴

08:09.520 --> 08:11.320
应该是x轴对吧

08:11.320 --> 08:13.020
那纵向的这个轴呢

08:13.020 --> 08:14.520
应该是g轴对不对

08:14.520 --> 08:15.120
来

08:21.780 --> 08:23.280
这是x轴

08:23.280 --> 08:23.880
可以吧

08:23.880 --> 08:25.080
那我这一点

08:25.080 --> 08:26.080
这一点怎么来球

08:26.080 --> 08:27.680
是不是用这个半径

08:27.680 --> 08:28.880
可以可以做垂线

08:28.880 --> 08:29.180
对吧

08:29.180 --> 08:30.280
往这做垂线

08:30.280 --> 08:31.680
然后我们旋转角度

08:31.680 --> 08:33.480
你可以认为这个角为alpha角

08:33.480 --> 08:35.280
也可以因为认为这个角是alpha角

08:35.280 --> 08:35.980
都可以啊

08:35.980 --> 08:38.080
那我如果这个角是alpha角呢

08:38.080 --> 08:39.580
这个角如果是alpha角

08:39.580 --> 08:41.080
就是我们这个dg的话

08:41.080 --> 08:43.480
那我这一点作标怎么来球

08:43.480 --> 08:44.280
这一点作标

08:44.280 --> 08:45.780
是不是应该用半径乘以

08:45.780 --> 08:47.780
口3alpha是我们的x值

08:47.780 --> 08:49.780
半径乘以3alpha是它的y值

08:49.780 --> 08:50.280
对吧

08:50.280 --> 08:52.180
那我们来写一下吧

08:52.180 --> 08:55.280
来set伙号

08:55.280 --> 08:56.480
半径200i对吧

08:56.480 --> 09:00.780
200i乘以一个myster

09:00.780 --> 09:03.880
myster

09:03.880 --> 09:05.980
乘以一个多少e

09:05.980 --> 09:06.980
这个角度对吧

09:06.980 --> 09:08.480
乘以一个myster

09:08.480 --> 09:09.880
口3这个角度

09:09.880 --> 09:13.380
口3伙号

09:13.380 --> 09:16.980
这个角度dg乘以myster pi对吧

09:16.980 --> 09:18.180
除以一个180

09:18.180 --> 09:19.880
注意一定要转换成派进制啊

09:19.880 --> 09:21.480
派进制的一个数

09:21.480 --> 09:22.180
然后y转

09:22.180 --> 09:23.780
然后y转我们自己随便写吧

09:23.780 --> 09:24.880
y转就设为0

09:24.880 --> 09:25.680
可以吧

09:25.680 --> 09:26.580
然后自己转

09:26.580 --> 09:28.680
是不是应该是200乘以一个3

09:28.680 --> 09:31.080
myster 3值

09:31.080 --> 09:32.580
sn对吧

09:32.580 --> 09:33.880
来个dg

09:33.880 --> 09:37.580
乘以一个myster pi

09:37.580 --> 09:39.880
ti除以一个180

09:39.880 --> 09:40.880
对吧

09:40.880 --> 09:42.080
然后这样的话

09:42.080 --> 09:43.580
这是我们的相机的一个位置

09:43.580 --> 09:43.980
对吧

09:43.980 --> 09:45.380
然后我们现在来看一下

09:45.380 --> 09:46.580
刷新

09:46.580 --> 09:47.080
刷新

09:47.080 --> 09:51.680
现在好像这相机的位置

09:51.680 --> 09:53.280
好像进去了对不对

09:53.280 --> 09:55.180
它进到我们的球体里面去了

09:55.180 --> 09:55.880
那怎么办呢

09:55.880 --> 09:58.080
我不让这相机再往外移一点呗

09:58.080 --> 09:59.280
移动到500的一个位置

09:59.280 --> 10:00.480
看一下啊

10:00.480 --> 10:01.680
或者是500的一个位置

10:01.680 --> 10:05.080
看一下

10:05.080 --> 10:06.780
可能我们的球体搬进太大了

10:06.780 --> 10:08.280
是不是

10:08.280 --> 10:09.280
还是不行是不是

10:09.280 --> 10:10.180
500也不行

10:10.180 --> 10:12.080
我们看一下啊

10:12.080 --> 10:13.580
500

10:13.580 --> 10:15.680
我们改成200回去

10:15.680 --> 10:16.580
改成200啊

10:16.580 --> 10:17.380
还是改成200

10:17.380 --> 10:19.280
刷新一下

10:19.280 --> 10:21.180
这个位置变化了对不对

10:21.180 --> 10:23.680
现在我们的这个位置啊

10:23.680 --> 10:28.510
刷新

10:28.510 --> 10:30.610
好像我们的这个位置变了

10:30.610 --> 10:32.110
但是它的一个样式没有变

10:32.110 --> 10:33.210
对吧

10:33.210 --> 10:34.810
我们再接着就是

10:34.810 --> 10:36.310
还有一个问题是什么问题呢

10:36.310 --> 10:38.410
就是我们这个相机

10:38.410 --> 10:39.710
它的一个朝向啊

10:39.710 --> 10:41.510
它的朝向我们也给它设一下

10:41.510 --> 10:43.510
但朝向我默认让它设

10:43.510 --> 10:46.210
我默认让它朝向这个

10:46.210 --> 10:47.110
00这一点

10:47.110 --> 10:47.510
可以吧

10:47.610 --> 10:49.510
look at

10:49.510 --> 10:52.110
00

10:52.110 --> 10:52.510
ok吧

10:52.510 --> 10:53.610
我们现在刷新一下

10:53.610 --> 10:54.910
是不是可以了对吧

10:54.910 --> 10:56.910
我们一直朝向的是00

10:56.910 --> 10:58.710
它是不是就出现这样的一个效果了

10:58.710 --> 11:00.210
然后我们再接着

11:00.210 --> 11:01.110
现在它

11:01.110 --> 11:04.210
这个相机确实在旋转对不对

11:04.210 --> 11:06.310
现在相机好像没有动对吧

11:06.310 --> 11:08.710
因为它的这个dg有没有加对不对

11:08.710 --> 11:10.910
接下来让这个dg加等于1

11:10.910 --> 11:11.810
是不是就可以了

11:11.810 --> 11:13.810
每次让它进行一个旋转就可以了

11:13.810 --> 11:14.710
这回来看

11:14.710 --> 11:16.310
是不是进行旋转了

11:16.510 --> 11:18.610
这回可以了

11:18.610 --> 11:21.010
没什么问题对不对

11:21.010 --> 11:22.010
ok吧

11:22.010 --> 11:23.710
是不是这回我这个裁剑平面

11:23.710 --> 11:26.410
就跟着我的这个物体转了

11:26.410 --> 11:28.510
其实我们真正实现的

11:28.510 --> 11:30.310
是不是我们相机进行运动

11:30.310 --> 11:31.110
当然我们的视角

11:31.110 --> 11:32.910
是不是一直都是在相机这个位置

11:32.910 --> 11:34.410
我们是跟着相机动的呀

11:34.410 --> 11:35.610
那我们看到的这个物体

11:35.610 --> 11:37.010
是不是就在动对吧

11:37.010 --> 11:38.510
其实就是相对运动的一个问题

11:38.510 --> 11:40.710
谁是参考系的一个问题对不对

11:40.710 --> 11:42.110
谁是参照物类一个问题

11:42.110 --> 11:44.210
谁是参照物类一个问题

11:44.210 --> 11:46.110
现在是不是实现了这样的一个效果

11:46.110 --> 11:47.010
对吧

11:47.010 --> 11:47.610
那好

11:47.610 --> 11:50.910
那这就是我们这个球体这样的一个旋转

11:50.910 --> 11:51.610
对吧

11:51.610 --> 11:52.910
ok

11:52.910 --> 11:56.010
那咱补充这堂课就先到这

11:56.010 --> 11:57.210
咱们歇一会

11:57.210 --> 11:58.410
然后我们下一堂课

11:58.410 --> 12:00.610
接着来讲一下我们的这个球体

12:00.610 --> 12:01.610
要不要再讲

12:01.610 --> 12:03.210
接着来讲一下我们的这个

12:05.610 --> 12:07.510
这个材质的其他的属性

