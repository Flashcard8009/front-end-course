WEBVTT

00:00.500 --> 00:05.980
OK 欢迎回来 把这节课的话 我们来看一下这个列表组件啊

00:06.620 --> 00:11.180
RN的话也给我们提供了很多的这个列表组件 也不是很多啊 就两个

00:11.900 --> 00:17.620
啊 它主要包含什么呢 包含这个一个是flat list 一个是section list

00:18.260 --> 00:23.460
啊 这两个的话其实我们都接触过 对吧 在之前这个快速入门的时候我们接触过

00:24.020 --> 00:29.940
好 这边的话 这个列表组件其实主要是想给大家讲一下 就是关于这个咱们移动端开发

00:30.340 --> 00:35.860
两个很重要的操作 一个是下拉刷新 另外一个是上拉夹仔

00:36.460 --> 00:40.140
这两个操作是不是就是在移动端的话 非常非常常见

00:40.900 --> 00:44.980
对吧 是说我们这边让我们回头一会 我们会写一个这个案例啊

00:45.940 --> 00:50.620
我们这边先看一下嘛 先回顾一下这个flat list 这个之前接触过的

00:51.500 --> 00:57.580
实际上在RN里面啊 在这个flat list的组件出现之前 它其实还有一个列表组件

00:58.060 --> 01:03.740
叫做list view 啊 叫做list view 但是这个list view的话 它其实是第一代

01:04.300 --> 01:10.860
这个列表组件 但是它的话性能不是很好啊 就是你如果这个数据很多的情况下

01:11.220 --> 01:17.740
它就会越来越卡越来越卡越来越卡啊 所以说到了后面就是0.43点零版本之后

01:18.180 --> 01:21.140
RN的话 它就引入了一个这个flat list

01:22.100 --> 01:27.300
那么它相比这个list view的话 它更加适用于加载这个长列表数据

01:27.740 --> 01:33.020
而且性能也更加这个的话 我们在这个快速入门的时候 我们也说过了

01:33.500 --> 01:39.100
啊 它相比那个scroll view 它是不是只会这个渲染当前屏幕里面的内容

01:39.900 --> 01:44.620
对不对啊 你没有 如果没有出现在当前屏幕 它会先补渲染啊

01:46.060 --> 01:53.340
好 然后和这个list view组件类似啊 但这个list view大家都没接触过啊 这个就不管它了啊 我们就直接看后面

01:53.820 --> 02:00.420
嗯 这个flat list 它使用非常简单 它就两个属性是必传的 一个是data

02:00.980 --> 02:04.820
一个是render item 啊 这个我们之前是不是也接触到的

02:05.260 --> 02:11.220
一个是data data是不是就是我们这边这个列表要渲染的数据 它对应的是一个数组

02:12.020 --> 02:16.580
好 然后接下来的话这个render item render item的话 这里面对应的就是什么

02:17.060 --> 02:21.940
是不是对应的是一个函数 这个函数会返回一段接下

02:23.020 --> 02:28.580
对不对 然后函数的话 然后现在它这边会把那个就是你上面那个data里面数组里面的每一项

02:29.100 --> 02:36.060
啊 然后作为函数的参数 传入进来啊 大家这边的渲染这个这个接下啊 具体的这个

02:36.700 --> 02:39.900
用法啊 它其实一个简单的用法就是这样子用的

02:40.580 --> 02:44.500
对不对 我们之前在那个快速入门试历的时候 我们已经见过了

02:45.460 --> 02:53.300
那我们这节课的话 我们先来写一个啊 写一个这个实战的这个案例 我们来写一个什么呢 我们来写一个使用这个flatlist

02:53.980 --> 02:58.380
渲染这个电影列表的这个案例啊 我们这边我们来看一下

02:59.620 --> 03:02.460
最终写出来的效果啊 我们这边把效果看一下

03:03.420 --> 03:05.380
马上我把这边投屏投一下

03:06.700 --> 03:11.380
我这边一投屏啊 我这个电脑就会夸夸夸夸夸 赚得很厉害

03:14.360 --> 03:14.560
啊

03:17.560 --> 03:18.880
好 然后接下来啊 这边

03:20.080 --> 03:25.200
看到没有 就是这么一个效果 ok 你看这边那是不是就是一个电影那边啊

03:25.840 --> 03:28.840
这个在我们的这个app里面是不是一个很常见的

03:29.960 --> 03:35.120
对不对 ok 好来我们把这个案例我们把它写一下啊 这节课我们把这个案例写一下

03:36.560 --> 03:42.000
好 然后回到我们这边代码这边 代码这边的话 然后我把这个写好的我就把它删掉了

03:42.920 --> 03:46.520
啊 然后包括这里 这里我就把它删掉了啊

03:46.840 --> 03:54.560
回头我们把这写一下 好 首先介绍一下啊 就是我们这里 这里的话我们新增了一个什么呢 新增了一个这个data目录

03:55.720 --> 03:58.960
看到没有 那这个很明显就是什么呢 就是我们的数据

03:59.800 --> 04:07.160
对吧 我们把它展开 展开里面 然后接下来有两个文件 一个是叫做movice.json 那这个的话就是数据

04:07.880 --> 04:10.400
啊 本来的话我其实应该是发这个请求的

04:10.960 --> 04:15.720
但是现在他这个二人他更新了 他必须要是那个https

04:16.360 --> 04:23.600
这个我们之前说过的 对吧 而且本地签名他还不行啊 所以比较麻烦啊 所以我这边呢就是

04:24.360 --> 04:25.760
直接做了一个这个节省

04:26.480 --> 04:29.840
看到没有 做了一个节省 然后数据的话就在这里面啊

04:30.520 --> 04:37.440
好 然后这边的话还有一个这个service.json service.json的话 这边的话就导出了两个函数

04:38.160 --> 04:40.400
一个的话是叫做query movies

04:41.600 --> 04:50.840
分页查询电影一个是什么呢 一个是叫做这个rundable refresh movies 啊 这个是随机刷新两部电影

04:51.360 --> 04:55.200
这个的话我们这节可用不到 这个我们后面 后面做那个

04:57.040 --> 05:01.840
下拉 下拉加载的时候 我们到时候 我看这个是

05:02.160 --> 05:03.160
这个

05:03.360 --> 05:06.160
一个是上来一个是下来啊 到时候我们就是做那个

05:07.120 --> 05:11.120
下下拉刷新啊 对对下拉刷新的时候啊 我们到时候会用到这个

05:11.840 --> 05:17.280
ok 那我们这几个的话先用这个分页查询 那这个分页查询你看一下这个代码啊 这个代码很简单

05:17.920 --> 05:23.680
这边就是什么 首先的话是不是从那个节省文件里面把那个整个这个data把它引进来

05:24.400 --> 05:26.640
这个他整个是一个什么 整个是一个数组

05:27.600 --> 05:34.240
可没有 整个是个数组 数组里面是一个一个的这个对象 每一个对象就是一部电影的信息

05:34.960 --> 05:41.200
啊 而这边呢 把那个数组引过来 引过来之后 这边通过这个slice 是不是进行一个结局

05:42.240 --> 05:46.880
可没有 好 大家这边的话 然后这个函数接收两个参数 一个是这个

05:47.480 --> 05:55.840
当前的夜码数 一个是每一页写词多少条 如果你不传不传的话 默认就是什么呢 默认就是第一页 然后接下来十条

05:56.400 --> 06:00.880
好 ok 然后接下来这边呢 是不是通过这个slice来进行一个结局

06:02.160 --> 06:06.080
ok啊 然后接下来的话 我们在这边

06:07.040 --> 06:16.080
在这个components里面 components里面 然后这些是我们之前写的啊 之前讲那个基础组件的时候写的啊 这边新增的其实就这一个

06:17.040 --> 06:25.200
可没有 这个move item sale这个的话是一个组件 这个组件对应的是怎么了 对应的是整个这一块

06:27.630 --> 06:36.990
整个这一块 可没有 整个这一块 我把它封装成了一个组件 这个组件的名称叫做什么呢 叫做move item

06:37.630 --> 06:41.870
好了 到时候这个move item 这个组件的话要不要接受参数啊

06:43.310 --> 06:47.950
要不接受参数啊 这肯定要 对不对 肯定要接受参数 他接受参数就是什么

06:48.510 --> 06:53.230
他接受了参数是不是就是应该是这边一步一步这个电影的这个数据

06:54.190 --> 06:59.710
是不是就是应该是这个 对不对 就应该是这个ok 好 那我们这边先把这个

07:00.910 --> 07:05.710
move item sale 我们先把它写下吧 好 我们这边的话 import

07:06.830 --> 07:09.950
import 这里的话我们引入

07:11.870 --> 07:16.670
pracable啊 上级课才学的 对吧 然后还有什么呢 还有这个view

07:17.390 --> 07:23.870
还有image 还有text 还有style shit

07:24.670 --> 07:29.870
啊 先把这几个组件先把它引进来 引进来之后 然后接下来的话 这边

07:31.150 --> 07:35.470
export default 然后function

07:36.670 --> 07:38.430
然后这边是这个movie

07:39.630 --> 07:42.430
movie item sale

07:43.310 --> 07:49.310
啊 要不要接受参数啊 这边要接受啊 接受一个这个对象啊 这边prop

07:51.390 --> 07:52.910
props 接受

07:54.270 --> 08:00.110
ok 好 然后接下来这边关于这个样式 关于样式的话 我把这个样式我就直接拿过来了啊

08:00.670 --> 08:07.420
样式的话就不行了 样式对应的在这里

08:08.220 --> 08:13.580
ok 就样式我就直接把拿过来了 这边有一个container啊 有一个这个simnail

08:13.980 --> 08:17.740
然后rightcontainer 就是右边啊 就是这边

08:18.620 --> 08:20.460
就这边啊 右边这一块

08:21.340 --> 08:26.300
ok啊 然后这边有个title一二啊 就是很简单的一些样式

08:27.020 --> 08:30.060
好 然后接下来在这里面 说一下

08:31.900 --> 08:36.460
啊 在这里面 在这里面的话我首先的话我获取一下这个

08:37.820 --> 08:39.580
获取一下这个电影的这个

08:40.540 --> 08:45.820
嗯 对象啊 到时候这边传过来的话这个props props他上面

08:47.100 --> 08:50.460
props上面他会有一个什么呢 有一个movie

08:51.100 --> 08:57.500
movie上面有一个item啊 到时候的话我们就通过这个props点movie点item

08:57.980 --> 09:03.420
得到什么呢 得到这个电影对象 就是这边整个这个对象

09:04.300 --> 09:04.620
ok

09:05.340 --> 09:11.100
得到这个对象啊 得到这个对象之后 让我们把它存一下

09:13.360 --> 09:16.640
这边呢 我们就const一个movie

09:18.720 --> 09:20.400
movie 然后infer

09:22.160 --> 09:26.000
ok 把它存一下存一下之后 然后接下来的话这里

09:29.340 --> 09:32.460
然后我们这边的话就应该是反挥一段

09:33.020 --> 09:38.220
什么ges差 对不对 反挥一段ges差 然后这边呢 一个这个prisable

09:39.340 --> 09:44.940
ok 啊 这边呢 我们绑定一个这个事件 on price

09:46.700 --> 09:53.500
他就等于什么呢 等于一个这个props啊 到时候你这个props上面会给我传一个这个on price

09:55.980 --> 09:58.140
ok 好 然后接下来的话

09:59.260 --> 10:01.980
呃 其他就没什么了 就一个点击事件

10:02.940 --> 10:09.180
啊 这边大家可以看一下 这边比如说我点一下看到没有 这边是不是点击电影我不是要神

10:09.420 --> 10:14.300
然后这边点一下 这不点击电影动物事件 对吧 其实就一个点击事件

10:14.860 --> 10:17.260
其他的话没什么啊 然后接下来里面

10:18.460 --> 10:25.420
里面的话是不是就是应该是包裹你这边想要整体 就是包裹什么 是包裹整体这个东西

10:26.380 --> 10:30.140
对不对 把整个这一块包在这个prisable里面

10:30.620 --> 10:34.860
啊 这个是上几个可以说讲的 其实就和那个touchable是不是是一样的

10:35.740 --> 10:41.980
好 说说我们这边的话一个view 然后接下来的话 这边这个style 等于一个

10:43.740 --> 10:49.260
styles 点container啊 这个是外层的容器

10:52.480 --> 10:55.520
外层的容器

10:56.080 --> 11:04.000
好 外层的容器 然后接下来里面 里面是不是就是分为左边和右边 对不对 左边是一个什么

11:04.800 --> 11:06.640
我来看一下 左边

11:08.640 --> 11:10.560
和右边

11:12.000 --> 11:14.160
左边是什么 左边是不是它是一张图片

11:14.800 --> 11:18.000
所以这边那是应该是一个image

11:20.900 --> 11:25.860
对吧 这边那应该是一个image image 然后接下来的话 这边这个source

11:26.580 --> 11:28.180
source

11:28.820 --> 11:34.100
它的这个图片资源 然后图片资源的话 这边就应该是什么 这边的话ui

11:35.220 --> 11:39.460
就应该从哪去取啊 是不是就是你的这个movey infer

11:40.260 --> 11:46.100
对吧 movey infer 是你的整个电影对象 电影对象里面有一个什么 是不是有一个movey image

11:47.540 --> 11:54.180
对不对啊 这边movey image 你看一下啊 这些图片的话都是访问得到的啊 比如说我们这边来看一下

11:57.490 --> 11:57.890
这边

11:59.650 --> 12:05.570
是不是这边是拿得到的啊 这是以前从那个豆瓣上面啊 把它爬从爬下来的

12:06.690 --> 12:10.530
好 然后这个是图片啊 然后这边它有一个这个style

12:11.890 --> 12:15.250
style就等于一个styles

12:16.210 --> 12:22.050
点这个symbolio啊 这个是左边好 然后接下来我们来看一下右边

12:22.850 --> 12:33.090
右边其实也很简单 对不对 右边的话就是无外乎就是标题 然后什么时候上映的 然后加这边平分啊 你注意平分 这边有个细节

12:34.210 --> 12:40.370
这里有个细节 这个平分是不是9.7分 这是8.5分 但是你看这个 这个是不是暂无平分

12:41.330 --> 12:44.530
啊 那这个的话 这个是什么 这个你看一下 这边这个平分

12:45.330 --> 12:48.290
这边的话 这个是这个arrange 是不是9.7

12:49.090 --> 12:50.530
然后接下来这个画是

12:52.210 --> 12:56.050
我看是不是鞋不压震啊 对 鞋不压震啊 让它这边等于什么

12:56.610 --> 12:59.570
是不是等于一个0啊 等于一个0的话我就显示一个什么

13:00.210 --> 13:02.530
是不是显示一个暂无平分

13:03.330 --> 13:10.690
对啊 这边有个细节啊 来我们这边我们一个一个来写嘛 首先的话这边外层是一个view

13:13.840 --> 13:17.200
是一个view 好 然后接下来的话 这边style

13:18.000 --> 13:22.720
style 等于一个style 点这个writer container

13:23.440 --> 13:29.520
就是右边的盒子 好 右边的盒子里面 里面的话就是一个部分一个部分来写 首先是什么

13:30.320 --> 13:37.120
首先是不是标题啊 对不对 我们这边来看一下标题过了是什么 是不是上映时间

13:37.840 --> 13:43.120
对不对 上映时间完了之后是什么 是平分

13:46.300 --> 13:49.660
对吧 平分完了是什么 然后导演 主演

13:51.020 --> 13:54.140
导演 还有什么 主演

13:55.100 --> 13:59.420
对不对 那你一个一个写就好了呗 好 那首先的话这边这边就应该用什么

13:59.820 --> 14:00.860
所以用这个text

14:03.900 --> 14:07.660
用text 对吧 应该用text 然后接下来这里面

14:08.380 --> 14:13.580
这里面的话就应该是movie info 什么 是不是title 我看一下

14:14.780 --> 14:16.300
title 对吧 应该是title

14:16.860 --> 14:24.460
ok 好 然后接下来的话 这边这边呢 把这个样式给一下 这边的话style 等于一个

14:25.420 --> 14:30.780
style 点title ok 好 然后在这边复制一份

14:31.580 --> 14:39.740
接下来的话是上映时间 上映时间的话 这边对应的是上映时间 这里是不一二

14:41.260 --> 14:45.900
对吧 这边应该是对应的是一二啊 这边那也是一二

14:46.460 --> 14:50.540
好 然后加这个平分 平分这边的话你就要判断一下

14:51.500 --> 14:54.620
ok 你这边让你叫判断啊 这边的话

14:55.020 --> 14:58.940
这里的话就是什么呢 这边的话你就通过这个movie

14:59.660 --> 15:03.260
movie info 它有一个什么呢 有一个这个arrange

15:05.020 --> 15:07.180
arrange 写对秒

15:08.540 --> 15:14.380
就arrange这个对的 是吧 好 然后接下来这个arrange

15:14.380 --> 15:19.820
然后你要看它是否不等于什么呢 不等于一个这个0字付串

15:20.780 --> 15:26.300
ok 那比如说像这个上面 上面的话它是不是就不等于这个0这个字付串 它是不是这边是有分数的

15:26.780 --> 15:31.740
像这个这个的话它是不是就是等于0 对不对 所以我们这边要看要做一个判断

15:33.180 --> 15:34.540
ok 那如果

15:35.500 --> 15:41.820
是不等于0 那我返回这一段ges差 否则我返回这一段ges差

15:42.380 --> 15:48.540
对不对 我根据你这边不同 我返回不同的这个ges差啊 好 然后接下来的话这边

15:49.900 --> 15:58.880
这边的话就是一个view 一个view 啊view里面然后加这边的这个style 等于一个

16:00.640 --> 16:04.480
style 点这个horizontal view

16:05.600 --> 16:08.080
然后里面里面的话就是这个text

16:10.460 --> 16:12.860
啊啊 这边是评分

16:13.740 --> 16:17.180
我这边现在这个风扇啊 转的夸夸夸的

16:18.060 --> 16:23.100
啊 这个大家理解一下 我这边因为开的东西太多了啊 因为我这边还有录视频呢

16:23.100 --> 16:29.100
那又开了这个这个就是投屏的开的东西太多了 啊 但这些东西呢又必须要开

16:29.420 --> 16:36.460
你看我已经就尽量的啊 尽量的不开就不需要开的东西 我已经不开了 你看我把微信那些都退了

16:36.860 --> 16:40.540
啊 但它这边的话就是这个风扇啊 还会转起来

16:41.180 --> 16:41.500
ok

16:42.700 --> 16:48.140
啊 这边style style的话等于一个style 点这个title

16:48.860 --> 16:56.460
title tag啊 这个是评分 大家下面下面的话对应的是不是就是具体的这个分数啊 啊 这边呢就是应该是movie

16:57.900 --> 17:02.540
arrange 对吧 ok 大家这边对应一个score

17:03.180 --> 17:08.940
好 然后接下来如果这边呢进后面这个 后面这个呢是不是就是写什么 是不是写战无评分

17:10.460 --> 17:14.940
对不对 格式画一下啊 然后这个就不要了

17:15.340 --> 17:18.540
这里的话就是应该是什么呢 战无

17:20.060 --> 17:24.780
战无评分 ok 然后最后最后的话 这边呢是这个

17:25.900 --> 17:32.540
导演 然后还有什么呢 还有主演 ok 那导演的话这边也是一样 这边的话一个view

17:35.390 --> 17:37.150
好 然后接下来这边的话style

17:38.990 --> 17:43.790
等于一个style是点horizontal view

17:44.750 --> 17:47.870
好 然后接下来的话 这边这个text

17:50.700 --> 17:57.340
啊 这边的是导演啊 下面下面的话对应的是movie

17:58.700 --> 18:03.100
movie info点这个 我记得有一个director's

18:05.630 --> 18:10.830
嗯 这是主演啊 这里可以没有director's啊 这是导演

18:11.470 --> 18:15.070
ok 然后这边呢 把这个对应的样式内

18:16.030 --> 18:20.030
把他挂上去一下 style 等于一个styles

18:21.150 --> 18:21.790
点这个

18:23.150 --> 18:24.110
嗯 title talk

18:25.070 --> 18:29.310
好 然后接下来这边呢 style 等于一个styles

18:30.350 --> 18:37.630
点这个name ok 这是导演啊 主演的话其实差不多的啊 你这边你复制一份

18:38.350 --> 18:46.510
拿过来啊 拿过来之后然后把这改成这边改成主演好 这边这边的话把他改成什么呢 改成这个cost

18:48.780 --> 18:53.740
改成cost ok好 然后接下来这边这边又有个细节

18:54.300 --> 18:59.820
什么呢 就是你看我们这边主演的话 有些时候他有些电影他主演很多啊 比如这个还好是吧

19:00.380 --> 19:03.900
有些的话他主演啊 比如这个 你看这是不是很长呀

19:04.620 --> 19:12.220
这不这部电影 这什么电影 诸罗 诸罗级世界二 你看这是不是很长 那很长的话我们要做一个什么

19:12.700 --> 19:17.100
做一个这个省略啊 对不对啊 所以说我们这边的话

19:18.300 --> 19:22.300
这边的话我们不是说直接这个就显示这个cost 我们这边呢是根据

19:23.020 --> 19:24.620
啊 我们这边把他换个行吧

19:26.140 --> 19:29.740
ok啊 我们这边呢根据什么呢 根据他的nence

19:32.340 --> 19:36.740
认识 我看这个认识是否大于一个比如说十三啊

19:37.380 --> 19:42.980
如果大于十三的话我这边就干嘛呢 我这边就结取啊 结取0到

19:43.780 --> 19:49.220
十三对不对 我这边通过slice 结取 结取了之后然后

19:51.220 --> 19:54.420
这边的话 然后再加一个这个省略号

19:54.980 --> 20:00.900
对吧 然后否则的话是什么 否则的话这边的话这个movie就直接显示什么 显示这个cost

20:02.340 --> 20:07.380
怎么样啊 这边其实不需要作用 你看我这边啊 你看一下这个效果啊

20:08.580 --> 20:13.460
要不要作用啊 还是要一个作用吧 还是要一个作用 我看这边有没有

20:14.340 --> 20:19.860
啊 这这边就没有那个了 这边就没有都好 这边是不是就没有都好 所以这边呢不需要这个作用

20:20.740 --> 20:27.220
这个算了 ok 这边呢 如果你大于十三 我这边就结取0到十三 然后加一个什么

20:27.700 --> 20:30.020
加一个省略号啊 否则的话就显示全

20:30.740 --> 20:32.740
可能没有啊 让我整个这个

20:33.940 --> 20:37.060
movie item 也 sale 啊 这边就是

20:37.860 --> 20:42.180
就写好了 ok 就写好了 写好了之后 然后接下来的话

20:43.220 --> 20:46.500
回到这边 app 这边好 app 这边的话现在什么都没有

20:47.060 --> 20:52.900
对吧 那接下来我们在app 这边的话我们就需要来 是不是来引入这个movie item sale

20:53.540 --> 20:56.500
啊 这个组件 然后接下来他是不是做一些测试啊

20:57.380 --> 21:00.100
对吧啊 那我们这边呢 我们就 import

21:01.380 --> 21:02.180
啊 先引入

21:02.980 --> 21:07.220
view 然后这边的话 flat list

21:08.020 --> 21:11.220
对吧啊 大家这边呢 还有一个是这个demo

21:11.940 --> 21:13.300
啊 dimensions

21:14.980 --> 21:16.980
dimensions

21:17.780 --> 21:19.540
这个啊 from

21:21.300 --> 21:21.780
react

21:22.500 --> 21:28.100
lative 啊 除了这这个demo形式 然后还有什么呢 还有这个text

21:29.860 --> 21:35.140
还有一个啊 其他的先不要了啊 还有style sheets style sheets

21:35.700 --> 21:39.700
我们这边要这个样子啊 其他的先不要了 先就引入这些

21:40.180 --> 21:42.740
引入这些之后 然后加这边一样的 export

21:44.020 --> 21:44.660
default

21:45.940 --> 21:50.210
这个 function app

21:50.530 --> 21:54.930
对吧 好 然后加这边呢 我们把这个样式 我们把拿过来

21:56.690 --> 22:02.100
样式在这边啊 把这个样式拿过来

22:04.540 --> 22:09.660
ok 好 拿过来之后 然后接下来哈 我们这边是不是应该是反回一段gs差

22:11.260 --> 22:13.660
对吧 好 让我们这边呢 我们就return

22:14.940 --> 22:16.620
return一段gs差

22:18.060 --> 22:21.180
在这里面啊 这里面的话 首先一个这个view

22:25.040 --> 22:28.080
首先一个view view的话 然后加这边呢这个style

22:28.640 --> 22:29.680
等于一个

22:30.720 --> 22:34.800
styles点flex啊 就这个啊 就这个

22:35.520 --> 22:42.640
好 然后加在里面 里面的话 我们叫挨着挨着来干嘛呢 里面的话 我们这边的话 就是要分为这么几个部分

22:43.200 --> 22:46.000
首先的话 这边的话是这个标题区域

22:46.720 --> 22:51.360
啊标题区域 然后接下来的话会有一个什么呢 会有一个这个夹仔的这个进度条

22:51.920 --> 22:55.520
啊 然后接下来才是什么呢 接下来才是这个列表区域

22:56.240 --> 22:57.840
ok 才是这个列表区域

22:58.720 --> 23:02.080
好 那我们这边的话 我们这边就把它拆开啊

23:02.400 --> 23:05.200
那我这边呢 就拆成什么呢 拆成几个函数

23:05.680 --> 23:07.520
一个是什么呢 一个是这个render

23:10.160 --> 23:10.640
方形

23:12.000 --> 23:13.040
render title

23:14.560 --> 23:16.880
这个是什么呢 这个是渲染这个标题的

23:17.600 --> 23:18.640
就是渲染这个的

23:19.520 --> 23:23.120
个没有 渲染这个啊 就是渲染标题

23:25.280 --> 23:29.120
啊 然后接下来还有什么呢 还有就是渲染这个夹仔条的

23:30.560 --> 23:31.040
方形

23:33.870 --> 23:35.710
方形 render node

23:38.110 --> 23:40.910
ok 这个是这个夹仔条

23:42.590 --> 23:47.230
夹仔条 还有最后一个是什么呢 还有最后一个就是列表

23:50.340 --> 23:52.580
啊 就是渲染列表

23:53.140 --> 23:53.700
这边的话

23:54.260 --> 23:54.820
方形

23:55.780 --> 23:57.700
这个 render list

24:00.780 --> 24:06.300
ok 那每一个每一个这个方形他都会干嘛呢 都会返回一段接下

24:06.860 --> 24:09.100
啊 所以说我们在这里面的话 我们就挨着挨着

24:09.660 --> 24:13.020
这边来调用这几个 一个是render title

24:13.660 --> 24:16.300
啊 这边呢 是渲染标题

24:19.580 --> 24:20.220
渲染

24:21.260 --> 24:24.300
标题 对吧 然后接下来这边的话是渲染

24:24.940 --> 24:26.060
这个夹仔

24:28.720 --> 24:29.360
夹仔

24:29.920 --> 24:30.640
夹仔条

24:31.520 --> 24:32.320
那还有一个什么

24:33.120 --> 24:33.680
渲染

24:34.560 --> 24:34.960
列表

24:36.240 --> 24:37.920
对吧 渲染列表

24:37.920 --> 24:40.560
ok 好 这边啊 这个 iser 调用

24:41.280 --> 24:42.560
这样就是应该是 render

24:45.260 --> 24:46.460
render node

24:49.300 --> 24:52.100
对吧 好 最后一个 最后一个是 render list

24:52.660 --> 24:55.940
ok 好 在这里面 在这里面的话你就 iser 来做

24:56.500 --> 24:58.260
这个首先是这个 render title

24:58.260 --> 25:01.140
render title的话他就是返回什么呢 返回这个标题

25:01.940 --> 25:04.580
啊 所以说我们这边的话 我看看他这边提示已经出来了

25:05.220 --> 25:07.620
return 然后返回了一个view

25:07.620 --> 25:10.660
view的话 然后接下来的话 这边电影列表

25:11.140 --> 25:13.220
啊 对的 把这个样式改一下就可以了

25:13.700 --> 25:14.660
这边呢 是一个

25:17.600 --> 25:18.640
嗯 一个这个

25:19.200 --> 25:19.840
这个style

25:20.480 --> 25:21.680
这边应该是叫做bar

25:24.110 --> 25:24.990
这边应该叫做bar

25:25.630 --> 25:26.430
bar style

25:28.620 --> 25:31.340
ok 啊 这边 这边呢 就是这个 text

25:32.860 --> 25:33.660
text style

25:35.660 --> 25:37.580
ok 啊 来 我们这边我们保存一下

25:38.380 --> 25:39.020
全部保存

25:39.660 --> 25:41.340
保存之后 大家这样你这边看一下

25:42.540 --> 25:45.340
啊 这边报错了啊 can't find the variable

25:46.220 --> 25:46.620
wise

25:50.620 --> 25:51.900
wise 等于wise

25:52.620 --> 25:55.740
哦 这个wise的话 我是直接从这个设备上去拿的

25:56.220 --> 26:00.780
啊 啊 这边的话 这边我们刚才是不是导入了一个这个 demotions

26:01.260 --> 26:03.740
对不对 这个是后面要学的哈 这个是一个 api

26:04.460 --> 26:07.820
啊 二人给你提供了一个 api 他是什么呢 他是获取

26:09.180 --> 26:12.140
获取屏幕的宽度

26:12.940 --> 26:16.540
ok 所以我们这边呢 我们export导出一个

26:17.740 --> 26:19.500
const一个wise

26:20.060 --> 26:22.780
等于一个什么呢 等于一个这边 demotions

26:23.580 --> 26:26.540
点get window

26:28.540 --> 26:29.500
window.wise

26:30.060 --> 26:35.260
ok 这个是获取屏幕的这个宽度 获取了之后把它导出出去啊

26:35.580 --> 26:38.540
好 然后接下来这边 这边这个设置这个宽度的时候

26:38.780 --> 26:43.340
wise 就直接设置的wise 就是哪里 是不是就这个wise啊 对不对

26:43.900 --> 26:50.380
我们这边再来保存一下 保存 保存了 我们再来看一下 有没有问题

26:52.220 --> 26:55.820
啊 还有问题 是吧 然后这边那是什么 是 demotions

26:57.660 --> 27:00.620
demotions 我看一下这里是哪里写错了吗

27:01.900 --> 27:03.580
这边的话是 demotions

27:04.540 --> 27:07.580
啊 这边这边是写错了 这边是 demotions

27:11.410 --> 27:16.720
啊 保存啊 这次就ok了

27:17.680 --> 27:21.200
看到没有 这次就ok了 好 你看这个标题是不是就出来了

27:21.760 --> 27:27.760
对了 整个背景的话是一个蓝色啊 是一个这个这个颜色 f 5 f c f f

27:27.760 --> 27:31.360
啊 其实就是一个这个蓝色 好 然后这边呢 是不是有一个这个

27:32.480 --> 27:35.520
电影列表 是不是这几个字啊 对吧

27:36.080 --> 27:40.720
好 然后接下来的话 这边下面 下面的话就是一个这个进度条啊

27:40.880 --> 27:46.000
那进度条的话 它这边呢 不是一直显示啊 我们先先把它写出来嘛 写出来我们再说

27:46.720 --> 27:54.420
啊 这边呢 这边return 这边进度条的话 我们这边涉及到一个这个新的组件 叫做

27:56.100 --> 28:00.260
也是这个rn给我们提供了啊 叫做activity indicator

28:01.940 --> 28:10.820
activity 就类似的activity 然后indicator就这个 这个的话你可以在哪找到呢 你可以在这个api这边

28:11.780 --> 28:16.340
um activity indicator

28:17.620 --> 28:24.980
哎 他是组件吗 哦 他是组件啊 这边可不可以啊 就这里啊 就就这个样子

28:25.860 --> 28:31.940
可不可以啊 他是一个这种夹仔的这种啊 夹仔条啊 一个等待一个loading 是吧 一个loading

28:32.660 --> 28:37.140
OK 好 我们这边要把它引进来 引进来之后 然后接下来我们这边的话

28:38.100 --> 28:41.460
我把它写上去 这边返回一段gs差 这边view

28:42.820 --> 28:46.420
view 然后这边的话 style 等于一个

28:47.300 --> 28:54.740
styles 然后感觉现在这个电脑 风扇的声音已经让我麻木了哈 但我就害怕影响你们听课

28:55.700 --> 28:59.460
知道吧 OK 这边就是使用这个

29:00.100 --> 29:06.980
activity indicator 啊 这边呢 你把这个它可以设置比较这个size size 这边snarge 然后再把这个颜色

29:07.780 --> 29:12.980
颜色这些可以设置一下啊 你自己设置好 然后接下来的话 这边这个text

29:16.190 --> 29:18.750
text 啊 这边的话 写个努力

29:19.550 --> 29:23.150
夹仔中 对吧 啊 这边呢 给一个style

29:25.790 --> 29:29.950
然后加这边的话 设置一下 给一个颜色 color

29:30.990 --> 29:32.750
对应的请号666

29:34.750 --> 29:37.630
然后给一个我这边给了一个piling lift

29:38.350 --> 29:41.150
piling lift 给了一个10

29:41.870 --> 29:45.790
OK 好 来我们来看一下效果啊 来看一下效果 保存

29:50.770 --> 29:53.810
啊 这边报错 我看一下style

29:55.010 --> 30:01.070
啊style 写错了 啊 这个风扇已经转的我已经麻木了

30:01.790 --> 30:06.510
以前我还非常在意啊 啊 出来了 这边出来了 你看呀

30:07.230 --> 30:11.470
出来了 对不对啊 你觉得这个颜色没对颜色没对 你把这个颜色

30:11.950 --> 30:15.870
调的和这个一样吧 我们调的和这个颜色一样 好不好

30:17.790 --> 30:25.540
然后这边的话 这个颜色啊 保存一下啊 这边

30:28.500 --> 30:35.970
哎 就是换了颜色怎么没出来了 这边

30:37.890 --> 30:43.090
我看呀 换换一个颜色 换个颜色怎么没出来了

30:43.810 --> 30:48.130
哦 这个颜色应该是白色 刚那个颜色应该是白色

30:48.690 --> 30:51.890
应该是这个颜色 这个颜色应该是那个蓝色啊 OK

30:52.690 --> 30:59.570
看到没有 这边是不是要努力加在这 对不对 但你这个东西 你这个东西是不是一直存在

31:00.450 --> 31:03.570
不是吧 是不是只有刚开始的时候存在

31:04.290 --> 31:07.090
对不对 他不是说一直存在的啊

31:07.650 --> 31:12.610
所以说我们这边的话 我们到时候的话会做一个这个状态 然后我们这边的话我们来做一下

31:13.810 --> 31:16.530
呃 这边让我们使用那个UserState

31:17.730 --> 31:21.890
ImportUserState

31:22.610 --> 31:23.650
然后from

31:25.330 --> 31:28.850
react 这个是什么 这个的话是不是要加状态

31:29.570 --> 31:32.610
对不对 还有什么呢 除了UserState我们这边还有一个

31:33.650 --> 31:38.050
呃UserEffect啊 因为一会的话要去拿那个数据

31:39.010 --> 31:42.290
OK 我看我 然后接下来下一步

31:43.650 --> 31:47.250
这里 这里的话我们就来定一下 首先的话这边

31:48.770 --> 31:49.410
Const

31:50.290 --> 31:51.490
一个这个data

31:52.210 --> 31:55.890
等于一个什么呢 我们这边呢 就是要把那个service

31:56.450 --> 31:59.730
这边这个clarimovice 我们把它导入进来

32:00.530 --> 32:09.390
OK 好 那我们这边回到这边啊回到这边 那我们这边呢就Import

32:10.190 --> 32:17.070
Import然后from什么 当前目录下面的data 下面的什么

32:18.030 --> 32:23.470
有一个 诶 它这个提示卡没出来呢 这边有一个service

32:24.750 --> 32:28.750
对不对 好 这边要通过这个解构 把什么呢 把这个clarimovice

32:29.870 --> 32:31.310
clarimovice

32:32.750 --> 32:37.310
是把这个方法解构出来 解构出来之后 然后接下来这边呢 我们就调用这个方法

32:38.030 --> 32:38.990
clarimovice

32:42.610 --> 32:46.690
对吧 调用这个方法 好了 调用这个方法之后的 而且我们这边我们来打一下

32:47.730 --> 32:50.130
log log这个data

32:51.650 --> 32:54.450
保存啊 看一下数据怎么样

32:56.980 --> 33:01.060
是不是有了 对不对 你看这边啊 这边的数据是不是已经有了

33:01.620 --> 33:04.740
好 有了之后 然后接下来的话 我们这边初始化两个变量

33:07.060 --> 33:07.700
初始化

33:09.380 --> 33:12.660
初始化两个该组件的

33:13.300 --> 33:18.420
状态变两 一个是什么呢 一个是拿来放这个

33:19.380 --> 33:22.020
放这个电影数据的 这边const

33:22.980 --> 33:27.780
一个是movlist 然后还有一个是set

33:28.820 --> 33:32.900
movlist等于一个uset

33:33.860 --> 33:35.220
一开始是空

33:36.020 --> 33:40.580
对吧 这个的话是一会儿存放这个电影数据的 好 然后这样还有一个什么呢

33:40.660 --> 33:43.540
还有一个就是是否显示这个load

33:44.740 --> 33:48.100
是否显示它啊 这边就是const

33:48.980 --> 33:52.980
is loading 然后set is loading 默认 默认的话这边是一个force

33:55.460 --> 33:56.260
说是一个force

33:57.220 --> 34:00.980
ok 好 然后接下来的话 再我们这个进度调这边

34:01.540 --> 34:04.580
进度调这边 这边的话我们是不是就要做一个这个判断

34:05.380 --> 34:11.220
对不对 意思 什么意思 你这边的话这个is loading

34:11.700 --> 34:12.180
取反

34:14.180 --> 34:16.660
你一直loading默认是什么 默认是不是一个force

34:17.460 --> 34:19.380
或者我们这个叫做什么呢 叫做loading的吧

34:21.140 --> 34:24.660
loading的 大家这边是set loaded

34:26.420 --> 34:32.900
就是否加载好 默认是force 因为一开始没有数据嘛 对不对 说这边的话 如果你这边

34:34.340 --> 34:39.140
是这个非loading的 那我才干嘛呀 我是不是才显示这个

34:39.860 --> 34:43.860
加载中 对不对 这边才返回这段ges差

34:44.900 --> 34:48.020
ok 那你现在的话你保存一下 全部保存

34:48.820 --> 34:55.860
啊 保存之后现在效果是一样的 对不对 这边努力加载中啊 等一下他这边重新努力加载中

34:55.860 --> 34:59.860
当淌入我这边的话 我一换我会把它设置为什么呢 设置为q

35:00.660 --> 35:02.820
设置为q之后 然后现在你这边看一下

35:05.260 --> 35:10.300
设置为q之后你看 他这边的话是不是就是不会再显示那个正在加载中了

35:10.780 --> 35:13.580
他就该显示什么了 是不是显示电影列表了呀

35:14.860 --> 35:18.140
对不对 他就应该显示电影列表了 ok

35:19.020 --> 35:23.660
好 这是关于这个加载条 好 这样回头接下来我们该做什么

35:24.300 --> 35:27.420
接下来的话 我们这边是不是就是来模拟这个异部

35:28.700 --> 35:33.950
模拟异部获取数据 模拟

35:35.870 --> 35:36.510
发送

35:38.780 --> 35:46.060
发送请求获取数据 对吧 这边就是user effect

35:48.960 --> 35:50.560
ok 好 在这边

35:51.840 --> 35:56.400
在这边的话 我们这边他有第二个参数啊 第二个参数 我们这边就是一个空速主

35:56.800 --> 36:00.160
好 在这边 这边呢 我们是不是就是用一个set timeout

36:02.430 --> 36:06.030
对吧 set timeout 这样我们让他干嘛呢 让他一秒钟后

36:06.750 --> 36:10.430
一秒钟后 然后这样这边做什么事情呢 那这边的话就是

36:11.950 --> 36:15.710
set move movie list 把data放进去

36:16.270 --> 36:21.230
然后set loaded 把它设置为什么 是不是设置为这个

36:22.430 --> 36:27.070
这边应该是设置为true 那这边一开始应该是什么 一开始应该是 false

36:28.270 --> 36:30.270
对不对 那你现在的话你这个

36:31.230 --> 36:36.430
这边这个loaded 他现在的话是这个true了 true的话他这边是不是就不会进这

36:36.430 --> 36:40.270
不会进这个衣服了 那这个加载条自然而然是不是就不会加载了

36:41.310 --> 36:47.550
对不对 ok 好 然后接下来的话下面 下面的话是这个

36:48.510 --> 36:56.910
underlist 啊 这里这个函数 那这个函数的话就是应该是返回一个什么呢 是返回一个flat list

36:57.950 --> 36:59.870
对不对 这边呢 就是return

37:01.470 --> 37:05.470
他就是应该是返回一个flat list

37:05.870 --> 37:10.830
ok 他这边是一个单标签啊 单标签

37:11.470 --> 37:15.630
好 然后接下来这里这里的话就应该是data 就应该等于什么

37:16.190 --> 37:21.950
这不等于你这边设置的movie list 好 然后接下来的话还有个什么还有个必填的

37:22.430 --> 37:24.350
是一个render item

37:25.470 --> 37:26.350
啊 render item

37:27.790 --> 37:32.990
render item的话 这边的话就是应该是拿到每一个这个item

37:33.630 --> 37:37.550
拿到item之后再渲染什么 是不是渲染这个movie item这个sale

37:38.830 --> 37:42.750
对不对啊 然后接下来的话 这边的话这个有一个这个movie

37:43.150 --> 37:47.070
movie的话 然后把这个item传过去 然后加这边还有一个什么呢 还有一个点击事件

37:48.030 --> 37:54.940
on price on price啊 这边的话等于一个

37:57.310 --> 38:02.000
这边呢 就是anert 然后点击

38:02.960 --> 38:08.800
点击的电影啊 点击的电影名

38:11.040 --> 38:13.440
然后加上一个item

38:16.020 --> 38:19.140
ok 这边是这样子 对不对

38:19.780 --> 38:25.460
ok 好 大家这边你还可以再给他加一个什么 我们之前说了就是你的这个flat list

38:25.460 --> 38:27.540
是不是还要给他加一个唯一的key

38:28.500 --> 38:32.740
对吧 所以我们这边的key extractor item item id

38:32.740 --> 38:37.300
ok 好来保存一下来看一下 这边的话效果应该已经出来了哈

38:41.920 --> 38:44.560
好 这边报了一个错 我们来看一下 这错是什么

38:45.360 --> 38:49.200
can the find a variable 哦 这边是找不到 我们这边呢是不是还没引啊

38:49.840 --> 38:54.320
我们把这个组件我们把它引一下 我刚才以为他自动引了 结果他没有引

38:54.880 --> 38:56.240
这边呢 就是import

38:57.200 --> 38:58.240
import

39:01.100 --> 39:03.500
叫做mov item seal

39:06.750 --> 39:07.870
然后front

39:09.230 --> 39:16.830
当前目录下面的components 下面的这个对吧 好 再来

39:17.870 --> 39:18.270
保存

39:23.710 --> 39:27.230
哦 这边报错了哈 这边报的是什么

39:30.900 --> 39:35.220
这边的话 嗯 这边的话 他报了一个是

39:37.620 --> 39:39.220
mov infer item

39:41.300 --> 39:46.660
undefine undefine 我看一下啊 我漏一眼

39:48.260 --> 39:50.500
这边的话mov infer item

39:52.100 --> 39:55.460
然后对应的话是他的mov infer

39:56.660 --> 39:58.900
然后mov image

40:00.260 --> 40:06.530
mov movie image 对的吗 对的

40:07.330 --> 40:11.330
对的话呢 你这边你就要干嘛了 你这边让你打印一下这个pops

40:12.530 --> 40:18.850
console props 啊 这边pops 我们把那边那个就把它删了

40:19.410 --> 40:25.170
就那个哦 这data这已经删了啊 来我们这边我们来看一下 我们保存

40:26.450 --> 40:29.890
我看一下这pops 拿到没有 拿到没有

40:30.850 --> 40:38.850
哎 我刚才看到拿到了 怎么在这里 拿到了没有 拿到了

40:39.730 --> 40:44.770
拿到了的话 他是在哪里 他说对应有一个mov这个对象

40:45.970 --> 40:51.970
啊 然后mov这个对象 下面然后对应的又是一个对象 哦 这边其实就是什么呀

40:52.530 --> 40:55.970
就是你这边的话这个路径 是不是稍微有点问题

40:57.090 --> 40:59.490
对吧 我们这边让我们把它调一下嘛

41:00.130 --> 41:02.930
我们这边的话这个样子

41:04.770 --> 41:11.250
underlist 我们这边那传一个什么呢 传一个item 然后点mov

41:12.930 --> 41:19.740
啊 okay 大家我们这边再来看保存

41:25.620 --> 41:31.140
好 然后这一次的话不是这个错误啊 这次错误又不一样了

41:31.700 --> 41:36.100
这次的话那边应该已经找到了啊 这一次的话是这里

41:37.140 --> 41:40.420
undefine is not object movie

41:41.700 --> 41:43.460
哦 我们在这边的话已经写了

41:44.980 --> 41:48.260
我们在这边是不是已经是通过这个mov

41:49.220 --> 41:52.660
点item来拿了 对不对

41:53.860 --> 41:57.700
嗯 我看一下 那这边的话应该是把这个去掉

41:58.660 --> 41:59.780
然后这边的话

42:00.340 --> 42:09.940
啊 这边的话就直接是item啊 啊 这边调一下啊 这是小问题 就是那个对象没对象没对上的问题

42:11.780 --> 42:17.780
啊 出来了 出来了 okay 这边已经出来了 可不可以啊 效果是不是就出来了

42:18.820 --> 42:25.380
啊 okay 啊 这边啊 传的是一个这个item item 然后再这边啊 这边是pops.mov

42:26.020 --> 42:29.940
ok 这边是不是就出来了啊 整体效果的话就出来了

42:30.580 --> 42:37.700
可不可以啊 你看这个的话就是一个flat list的一个实际的这个案例啊 我们这边一个电影的列表

42:38.340 --> 42:41.460
那你在真实开发的时候是不是也会遇到各种各样的列表

42:42.180 --> 42:46.020
对不对 一般来讲的话 我们这边就是列表里面的每一项啊

42:46.580 --> 42:49.540
每一项我们会单独的封装一个组件

42:50.500 --> 42:56.340
面包啊 就好比我们这边的mov item sale 啊 我们会单独封装一个组件

42:57.300 --> 43:05.540
ok 好 然后大家下来的话 把这个例子把它写一写 好不好 这节课的话 我就把整个这个文件家发给大家吧

43:06.500 --> 43:10.180
就整个这个文件家啊 我把那个load module 我把这个删了

43:11.060 --> 43:18.260
我把这个删了 然后我把整个这个发给大家 好不好 okay 好 这节课就先到这里啊 再见

