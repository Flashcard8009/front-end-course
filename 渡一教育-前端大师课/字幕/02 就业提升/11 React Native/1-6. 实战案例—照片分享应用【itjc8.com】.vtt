WEBVTT

00:00.560 --> 00:09.280
OK 在上一节课的话 我们已经就是把这个RN里面的一些这个最基本的一些知识

00:09.680 --> 00:16.200
好 我们把它快速过了一遍 那么这一小节的话算是给我们这个章节哈就我们这个第一个章节

00:16.600 --> 00:22.320
我们给他收一个尾 那收尾的话 那我们这边的话就来做一个实战的这个案例

00:23.120 --> 00:27.920
也算是为我们整个这个目前的学习增加一点小小的这个成就感

00:28.440 --> 00:36.400
那我们来做一个什么呢 我们来做一个简单的这个照片分享了这个应用啊 这边大家可以看一下 最终做出来是这个样子的

00:37.080 --> 00:41.880
而这边的话会有一个按钮 按钮的话 然后你可以选择你手机上的照片

00:42.720 --> 00:47.920
比如说我先让我点击一下 点击了之后 然后现在这边就会来到你手机的这个相册

00:48.440 --> 00:53.320
来到相册之后 然后既然你这边的话 你就可以选择照片 比方随便选一张

00:54.320 --> 01:02.520
你看这里 这里的话就可以选择你的图片 选择了就是你手机上的这个图片之后 下面的话有两个按钮 一个是

01:04.080 --> 01:05.240
这个分享照片

01:06.120 --> 01:14.200
一个是重新选择 我们先来看这个分享照片 点击之后 然后现在这边的话就会弹出啊 你要分享到哪个地方

01:15.120 --> 01:17.800
可不可以啊 这边会弹出这个啊 点取消

01:17.800 --> 01:26.440
好 然后这样这边这边是重新选择 重新选择的话就回到之前的那个页面 然后你又可以重新开始选这个照片

01:27.080 --> 01:34.120
ok 这边可以重新选择 图片啊之类的微信啊 这边可以重新选择 ok

01:37.080 --> 01:42.920
好 随便选一个 ok 好 我们要做的就是这么一个应用啊 这么一个应用

01:43.480 --> 01:49.640
好 然后我们这边我现在的话 这边是已经把那个代码写好了 我把它全部删掉

01:50.600 --> 01:55.960
全部删掉 然后整个这个代码的话 在这个笔记里面也有啊 你也可以看这个笔记

01:56.520 --> 02:04.200
ok 这个笔记的话 你把它拿过去 它也是一个这个完整 就我们这个应用啊 会用到的所有代码也在这个笔记里面 ok

02:05.240 --> 02:11.160
好 然后既然我们这边我们开始吧 我们从头来写一遍 好 首先的话 这边的话 import

02:12.120 --> 02:13.640
import一个这个

02:15.400 --> 02:20.920
啊 use state 因为我们一会儿要存储状态啊 然后我们这边 from

02:21.960 --> 02:22.440
react

02:23.800 --> 02:29.240
ok 好 react 好 然后既然我们需要引入一些组件

02:29.880 --> 02:33.320
import 引入了一些组件呢 这边是from

02:34.040 --> 02:38.520
这个reducts react or不是reducts react let you

02:38.840 --> 02:46.840
ok 我们这边需要引入哪些组件呢 我们首先的话是不是有图片 要展示图片 所以首先肯定会有image

02:47.560 --> 02:51.560
然后我们会涉及到一些样式啊 所以这边的话style sheet

02:52.360 --> 02:56.840
那接下来的话最基本的这个view 然后text

02:57.800 --> 03:01.320
ok 好 然后接下来的话有一个什么呢 有一个这个touchable

03:02.920 --> 03:07.240
touchable obsidian ok 我们先引入这么几个组件

03:07.720 --> 03:11.560
好 引入这么几个组件之后 然后接下来的话 我们这边export

03:13.000 --> 03:16.760
export default 然后function

03:17.960 --> 03:25.080
app 好 导出一个组件 对吧 基本的结构就出来了 好 那下面 下面的话 这边的话就

03:26.120 --> 03:32.680
const 一个styles 等于什么呢 等于一个style sheets 点create

03:33.400 --> 03:35.720
那里面是不是就是书写相应的这个样式

03:36.520 --> 03:41.960
对吧 样式的话 我这边就不带着写了啊 样式的话 我就把这个样式我把拿过来

03:42.920 --> 03:45.000
样式啊 从这儿到

03:46.280 --> 03:49.720
到这儿 是吧 这是整个样式 我把拿过来

03:50.680 --> 03:54.200
啊 格式画一下 好 这是样式啊 我把它折起来

03:54.840 --> 04:01.720
好 接下来的话 到这边 这边的话就该干嘛呢 这边的话是不是应该是反回一段ges他

04:03.400 --> 04:08.280
对吧 反回一段ges他 那反回一段ges他的话 那我们这边我们来观察一下啊

04:09.000 --> 04:13.800
这边的话 首先 首先有一个什么 首先这边是不是应该是有一个这个图片

04:14.680 --> 04:16.840
有一个图片 然后不是这个

04:17.800 --> 04:21.640
呃 重新选择 这边 首先这边是不是有一张图片

04:22.760 --> 04:25.320
那这个图片应该是什么呢 这个图片应该是固定的

04:26.280 --> 04:29.160
啊 固定的这个图片来自于哪里呢 来自于这边

04:29.880 --> 04:33.000
这边我们有个assets assets里面有一个logo

04:33.640 --> 04:38.760
看到没有 有个logo.png啊 这么一张图片 我放在这里了啊

04:39.240 --> 04:45.400
有这么一张图片 而且下面的话有这个一行文字 以及一个什么呢 以及一个按钮

04:45.880 --> 04:49.960
ok 好 所以回到我们这边 我们这边的话就view

04:50.760 --> 04:57.000
啊 首先最外层这个view 好 这边呢 这个style style等于一个

04:57.800 --> 05:01.960
style.container啊 就最外层这个啊

05:02.920 --> 05:07.720
好 里面里面一次是什么 里面一次是logo图片

05:09.400 --> 05:13.480
对吧 然后什么 然后接下来的话是这个提示文字

05:14.840 --> 05:22.440
提示文字 以及一个什么 是不是分享照片的按钮

05:23.400 --> 05:27.480
对不对 好 那你一个一个来 那首先呢 这边呢 是image

05:28.200 --> 05:36.840
它是一个呃 单标圈对吧 ok 好 然后里面里面的话通过什么呢 通过这个sauce

05:38.040 --> 05:43.320
sauce 指定什么呢 指定你的这个图片 它的这个位置

05:43.880 --> 05:46.280
那这个图片的话 我们这个位置应该是在哪里

05:47.160 --> 05:49.400
这边的话就是应该是require

05:52.620 --> 05:57.980
require啊 当前目录下面的sets 下面的

05:58.780 --> 06:06.460
是logo片件 对不对啊 好 然后接下来 这边它有一个这个样式 所以这边我们给一个style

06:07.260 --> 06:09.660
style等于一个styles

06:11.020 --> 06:16.700
styles.logo 好 这个的话就有了 有了之后 然后我们这边保存一下

06:16.940 --> 06:23.180
保存了 然后接下来我们这边我们来看一下 来到这边 你看 这图片是不是就有了

06:23.900 --> 06:33.580
对不对 依照这个图片 好 然后接下来的话是提示文字 提示文字的话你注意 它必须得放在什么呢 必须得放在这个text里面

06:34.060 --> 06:36.700
啊 你注意 所以我们这边的话就是text

06:38.380 --> 06:42.620
好 这边这边就是按下按钮 然后

06:42.780 --> 06:44.780
然后与朋友

06:46.380 --> 06:50.540
分享这个手机中的图片

06:52.540 --> 06:55.980
ok 好 然后接下来这边 这边让我们给它一个

06:57.100 --> 06:59.900
给它一个样式 样式的话对应的就是

07:01.180 --> 07:03.020
这里styles

07:04.460 --> 07:08.460
点styles点这个instruction

07:09.340 --> 07:10.780
ok 保存一下

07:12.700 --> 07:16.940
保存 保存了之后 然后过来漏眼 这个文字是不是也有了

07:17.820 --> 07:21.820
对不对 这文字也有了 好有了之后 然后接下来的话

07:22.940 --> 07:25.180
下面应该是什么呢 下面是不是应该是按钮

07:25.900 --> 07:31.980
对吧 我看它这边提示已经出来了 这边它是用的是touchableobcity

07:32.300 --> 07:34.220
对了 我们引的是不是就是touchableobcity

07:34.860 --> 07:41.100
对不对 ok touchableobcity 然后里面的话我们要嵌套一个什么呢 我们要嵌套一个text

07:43.020 --> 07:45.100
我们要嵌套一个text

07:45.980 --> 07:50.300
啊 然后这个text是不是就可以写一些文字啊 这边的话就是啊

07:51.020 --> 07:51.900
选择

07:52.860 --> 07:54.140
照片

07:54.140 --> 08:00.220
ok 这个text的话有一些这个样式 style等于一个styles

08:01.180 --> 08:03.020
点buttontext

08:03.740 --> 08:09.500
这个样式提前写好了的啊 这个样式就不再多说了 好 这边这边的styles等于一个

08:11.180 --> 08:17.580
button 对的 它这个智能提示还是挺牛的啊 好 然后接下来的话 这边的话这个unpressed

08:17.980 --> 08:21.260
这个什么对应的是我们按钮的点击事件

08:21.900 --> 08:26.860
对吧 好 那我这边对应一个什么呢 这边这边的话就对应一个open

08:27.820 --> 08:30.540
这个image 然后picker

08:31.580 --> 08:35.340
然后async 就一步的选取这个图片

08:36.060 --> 08:41.820
好 那你接下来你在这边写了之后你在上面 上面是不是就应该有这么一个function

08:42.620 --> 08:46.300
对不对 这边的话就需要有这么一个function

08:46.940 --> 08:53.500
那这个方式主要是用来干什么的呢 这个方式的话主要就是用来选择这个图片的

08:53.980 --> 08:54.300
啊

08:56.220 --> 09:03.340
该函数为下方按钮的什么呢 就是事件

09:04.380 --> 09:05.020
回掉

09:06.860 --> 09:11.820
函数 ok 我们这边我们可以来试一下啊 我们这边log一下log

09:13.580 --> 09:15.420
啊 a a好 我们保存

09:17.020 --> 09:17.340
保存

09:18.220 --> 09:21.020
好 保存了之后然后就在这边看一下这边让什么出来了

09:21.740 --> 09:24.940
对不对 这边按钮出来了 出来之后你注意我这边我点击

09:25.900 --> 09:32.380
这边是不是打印出来了 对不对啊 点击点击点击 ok 没问题 好那接下来我们在这里面要干嘛

09:33.100 --> 09:34.460
我们在这里面的话是不是要

09:35.740 --> 09:39.260
一步的选择图片

09:39.900 --> 09:45.500
对不对说到这边的话他应该是一个什么呢 他应该是一个一步函数啊 我们这边呢就是async

09:46.300 --> 09:53.020
看到没有 他是一个一步函数 好然后接下来的话 这里的话我们需要用到一个第三方的这个库

09:53.580 --> 09:57.020
这个叫做什么呢 这个叫做export image picker

09:57.660 --> 10:04.060
啊 所以你这边的话你把这个库你把它装一下 我这边的话是已经装了的啊 这个装的话也很简单

10:04.620 --> 10:08.220
这边就通过npmi装一下就可以了 npmi

10:08.860 --> 10:10.380
然后export

10:10.700 --> 10:13.820
img然后picker

10:14.700 --> 10:21.020
看到没有 他就是选择这个图片的走啊 你那个

10:22.140 --> 10:27.500
你那个网络啊 网络问题你把它弄好了之后啊 他这个装还是挺快的

10:27.980 --> 10:31.420
把这个库装了 这个的话就是可以选取这个图片

10:32.060 --> 10:36.380
好 然后进来装了之后那这边就干嘛呢 这边那是不是就是把它引入

10:37.180 --> 10:41.340
对吧 我这边啊就是import这个信号

10:42.060 --> 10:46.060
然后as这个img picker

10:47.980 --> 10:49.020
然后from

10:50.460 --> 10:55.740
这个export image picker先把这个引入好 引入了之后 然后接下来这边

10:56.300 --> 10:58.060
这边的话我们首先的话

11:01.060 --> 11:06.260
啊 我们需要干嘛呢 我们需要获取一下这个权限啊 首先

11:07.220 --> 11:14.740
首先第一步 我们需要获取一下权限

11:15.380 --> 11:22.020
ok 好 那这边的话就是啊 我看他这边提示已经出来了 他这边是const permission result

11:22.580 --> 11:26.900
等于这个await image picker image picker是不是就是我们这边

11:27.620 --> 11:32.340
啊 引入了这个包 他上面有个方法这个方法的话叫做这个request

11:33.060 --> 11:39.220
啊 camera row permission async 啊 但我没有用这个方法啊 我这边用的是

11:39.940 --> 11:44.500
我这边用的是这个这个点request

11:46.100 --> 11:48.260
request 然后他有一个这个media

11:49.220 --> 11:51.940
啊 就这个啊 他那个方法应该是已经被废弃了

11:52.500 --> 11:55.380
可能没有 已经被废弃了啊 这边就是这个

11:56.340 --> 12:00.820
media media library permission async 啊 名字有点长

12:01.300 --> 12:03.860
啊 但他这样子名字长他其实也有他的好处

12:04.340 --> 12:08.820
他的好处是什么呢 他这边呢 是不是就是你看他这个方法名你就知道他在干什么

12:09.300 --> 12:12.340
他这边是不是就在询问这个用户的这个权限

12:13.300 --> 12:18.820
对不对 获取用户的权限啊 这边呢就是等待await 说这边呢是一个异不含述

12:19.300 --> 12:24.500
好 然后接下来这边呢我们可以拿到这个权限这个权限啊 我们这边log一下

12:25.380 --> 12:26.740
log permission

12:27.060 --> 12:31.540
result okay 啊 我们这边保存一下

12:33.220 --> 12:35.860
保存保存了之后我们把这个应用我们重新启动一下

12:38.300 --> 12:39.180
npm

12:40.220 --> 12:42.380
start啊 把启动一下

12:45.130 --> 12:49.450
ok 啊 启动了 启动了 我把这边我手机双新一下稍等

12:51.670 --> 12:55.990
好 这边也可以了啊 这边可以了 好来我们这边我们点击一下

12:56.710 --> 12:57.190
点击

12:58.230 --> 13:00.630
点击之后 然后接下来你看这边

13:01.590 --> 13:05.830
这边的话获取到一个什么 说获取到一个对象

13:06.790 --> 13:11.830
对不对 获取到一个对象啊 这个的话第一次的话他这边应该是会询问的啊

13:12.550 --> 13:16.230
应该是会询问的 可能是因为我整个这个应用我之前做过了

13:16.870 --> 13:23.430
啊 因为我们这个是在export这个沙盒里面跑的之前已经询问过了 第一次的话他是有了一个弹框的

13:23.990 --> 13:27.750
啊 他是有弹框的 我看看我这边能不能设置一下稍等

13:28.550 --> 13:31.030
看看我这边能不能设置一下 设置

13:31.990 --> 13:35.030
然后这边要选选那个应用

13:36.710 --> 13:39.110
啊 应用设置 然后

13:40.470 --> 13:45.140
应用管理应该是授权管理

13:46.580 --> 13:49.060
应用权限管理 然后

13:51.060 --> 14:00.920
export 找一下export啊 这里啊 你看在这里的话可能是我之前的话已经

14:02.120 --> 14:05.820
相机啊 应该就这个

14:06.700 --> 14:13.260
读写手就这个啊 这个的话就是询问 看到没有啊 因为我之前的话我已经那个过了

14:14.060 --> 14:16.940
已经就是把它改成允许了啊 我们这边我们再来一次

14:20.140 --> 14:20.700
稍等啊

14:21.980 --> 14:26.380
这边怎么卡住了 可以了 好 然后下这边来进来

14:29.320 --> 14:33.640
啊 然后下我点选择 你看看到没有 他这边是不是就会有弹框

14:34.280 --> 14:37.160
啊 就你这个应用第一次的时候 他这边就会有弹框

14:37.640 --> 14:42.840
是否允许 那你这边呢 你如果点拒绝 点拒绝的话 你看他这边得到一个什么

14:43.400 --> 14:48.520
说光体的是啊 false啊 对不对 光体的是 false 然后你再点

14:49.400 --> 14:56.200
再点的话 他这边就又出来了 看到没有啊 你这边可以选 你可以选拒绝 然后拒绝不再行问

14:56.840 --> 14:58.920
始终允许 那我们这次点允许

14:59.640 --> 15:04.760
好 点允许之后 你这边你再点 再点的话 你看他后面拿到就什么了 拿到就是q

15:05.640 --> 15:11.560
看到没有 那就是q okay 说我们这边呢 我们就可以干嘛呀 我们是不是可以做一个判断

15:12.760 --> 15:13.400
啊 义父

15:15.240 --> 15:19.400
义父什么呢 义父这个点 without 点这个

15:19.960 --> 15:24.040
光体的 他如果全等于什么呢 全等于 false

15:25.160 --> 15:28.520
全等于 false 说明什么 说明是不是用户不同意

15:30.520 --> 15:33.160
对不对 用户不同意呢 我们这边就 alert

15:34.840 --> 15:43.260
on alert 啊 这边呢 告诉用户 需要什么呢 需要这个访问

15:43.980 --> 15:45.340
这个相机

15:46.460 --> 15:50.070
交卷 交卷

15:51.510 --> 15:57.290
的全线 对吧 好 然后接下来这边的话是return

15:58.730 --> 16:01.770
返回 ok 那如果没有进上面的义父

16:02.330 --> 16:05.210
没有进上面的义父说明什么呀 是不是说明

16:05.930 --> 16:08.730
这个全线获取成功 对不对

16:09.370 --> 16:09.850
没有

16:12.090 --> 16:14.730
进入到上面的义父

16:15.690 --> 16:20.170
说明什么呢 说明全线获取成功

16:22.330 --> 16:25.930
那全线获取成功的话 那我们就应该干嘛 是不是我们就应该是

16:26.490 --> 16:28.730
一步的打开这个图片选择器

16:29.530 --> 16:32.890
对不对 那我们就应该是一步的打开

16:33.450 --> 16:35.690
这个手机的相册

16:36.410 --> 16:41.530
然后让开嘛 让用户选择这个图片

16:42.570 --> 16:46.490
ok 好 那接下来他这边呢 就会有一个 他这边提示又出来了

16:46.490 --> 16:50.410
哈 我看看他这边对不对 他这边呢 const了一个 image

16:50.970 --> 16:54.410
await image picker 点浪期 image library

16:54.410 --> 16:57.770
sync 对的 对的 和我那儿写的是一样的

16:58.170 --> 17:01.530
就是这边的话 你这个 image picker 这是我们引的那个包码

17:02.090 --> 17:04.810
对吧 他有一个什么呢 他有一个这个浪期

17:06.330 --> 17:12.090
叫做这个浪期 library async 就是一步的 好 这样我们这边呢 我们

17:12.970 --> 17:18.330
等待一下 等待了之后再用户选择 选择了之后 我们把这个结果 我把它存一下

17:18.890 --> 17:21.530
这边呢 就是 picker 然后 result

17:22.970 --> 17:26.490
看了没有 好 存了之后 然后接下来的话 我们这边呢 我们来

17:26.490 --> 17:29.530
还是老规矩啊 走一步 我们这边我们来看一步

17:30.010 --> 17:31.770
这边呢 就是 picker result

17:32.410 --> 17:33.850
好 我们这边呢 我们保存一下

17:34.730 --> 17:40.570
全部保存 好 保存了之后 然后接下来到这边啊 我这边我选一张图片

17:40.890 --> 17:44.570
不要选这张 选这张之后 然后接下来这边我看一下

17:46.010 --> 17:51.450
嗯 这边的话他报了一个错 unhandled promise

17:52.730 --> 17:56.970
can find a picker 这边写错了是吧 这边是 picker

17:58.570 --> 18:00.330
好 大家这边重新保存

18:02.980 --> 18:05.700
OK 好 保存之后 然后接下来 我们这边再来

18:06.340 --> 18:10.740
好 选择图片 走啊 这边选择了 选择了之后 你看这边

18:11.380 --> 18:13.540
你看这边 这边的话是不是出来了

18:14.420 --> 18:20.340
对不对啊 这个cancel的force 就是什么呢 就是取消 他是force 那什么时候是去啊

18:20.900 --> 18:24.260
什么时候是去啊 比如说我这边选择图片 好 这样我这边的话

18:25.060 --> 18:27.300
我这边照理说是应该是有个取消的

18:28.340 --> 18:28.580
啊

18:29.540 --> 18:32.020
我看一下我这边怎么取消 滑一下呢

18:34.120 --> 18:43.770
嗯 这个相册还没办法取消 这里照理说应该是可以取消的哈 这边图片

18:45.450 --> 18:50.010
啊 就是有些时候就是有些这个相册 他这边啊会有一个这个取消

18:50.650 --> 18:54.970
哦 这这这点这个按钮啊 点这个按钮 就这边点一下

18:55.930 --> 19:00.730
那点一下 到这来了啊 这边应该是哦 这这这啊 点这个点这个

19:00.810 --> 19:07.050
就我手机上是点这个按钮啊 点这边这个按钮 他就取消了 取消了之后 你看这边 这边呢 是不是cancel的

19:08.170 --> 19:09.370
是什么 是不是就是去啊

19:10.250 --> 19:13.610
这边就是去 ok 所以我们这边呢 我们再来进行判断

19:14.170 --> 19:19.370
e4 怎么呢 e4这个result 点这个cancel的

19:20.570 --> 19:22.730
点cancel的啊

19:23.610 --> 19:24.970
进入此e4说明什么

19:26.330 --> 19:29.130
进入此e4

19:30.010 --> 19:34.010
说明用户没有选择

19:34.890 --> 19:36.730
任何图片

19:37.450 --> 19:39.530
对吧 那我们直接干嘛 是不是直接return

19:40.410 --> 19:43.130
对吧 好那这样的如果没有进入此e4

19:44.250 --> 19:44.650
如果

19:46.570 --> 19:47.050
没有

19:48.810 --> 19:51.210
进入上面的e4

19:52.090 --> 19:54.970
说明用户选择了

19:55.770 --> 19:59.050
图片 对不对 那选择了图片 那我们就该干嘛

19:59.450 --> 20:01.690
所以我们应该保存一下他图片的信息

20:02.090 --> 20:06.730
保存什么信息呢 我们只需要保存这个UI就可以了 然后这边是不是有一个UI

20:07.850 --> 20:09.530
对不对 好 我们保存一下UI

20:10.010 --> 20:13.850
啊 保存UI的话 我们这边之前的话 这边引入了这个UserState

20:14.250 --> 20:17.130
好 那我们在这边的话 我们就来定义一个变量

20:18.010 --> 20:19.370
那这边呢 就cancel

20:20.330 --> 20:21.290
这里的话一个

20:22.330 --> 20:24.650
本地的这个UI

20:25.050 --> 20:26.410
那下这边一个set

20:27.290 --> 20:28.170
这个local

20:29.450 --> 20:30.490
UI

20:30.730 --> 20:31.930
那等于一个

20:33.370 --> 20:34.250
UserState

20:34.650 --> 20:36.250
一开始呢 是控制圈

20:37.050 --> 20:39.050
对吧 好 然后在这边的话就是

20:40.090 --> 20:42.010
呃 在那里 在这里 那这里的话

20:42.730 --> 20:44.490
就是应该是调用这个set

20:45.450 --> 20:48.330
对吧 调用这个set 然后把什么传进去

20:49.130 --> 20:50.490
是不是就是这个picker

20:51.370 --> 20:52.170
result

20:52.730 --> 20:54.010
点UI

20:55.210 --> 20:57.930
OK 那我们整个这个的话 我们就写完了

20:58.570 --> 20:59.530
啊 就写完了

21:00.490 --> 21:04.330
好 写完了之后呢 我们现在就做到哪一步呢 我们这边保存来看一下

21:05.130 --> 21:05.850
全部保存

21:06.570 --> 21:09.930
保存了之后 然后向我们这边我们来看一下啊 我这边选择照片

21:10.490 --> 21:11.290
啊 点击

21:11.690 --> 21:13.930
好 你看这边他现在是不是又回来了

21:14.330 --> 21:16.010
对 但是现在的话 你的这个

21:16.650 --> 21:21.130
就这个变量里面 就这个local UI里面 他是有东西的

21:21.690 --> 21:24.010
啊 他不像之前之前一开始我们给的是一个什么

21:24.250 --> 21:25.770
这个给的是一个控制圈

21:26.090 --> 21:29.370
但现在经过你这么一操作之后 他里面存了什么

21:29.370 --> 21:33.130
所以存了你选择图片的这个UI地址呀

21:34.250 --> 21:34.730
对不对

21:35.290 --> 21:36.810
啊 存了这个UI地址

21:37.130 --> 21:41.770
然后存了UI地址之后 然后接下来的话 我们这边就可以干嘛呢 我们这边就可以写个eve

21:43.370 --> 21:47.210
eve eve判断什么呢 判断你这边是否有UI

21:48.730 --> 21:49.290
根据

21:50.490 --> 21:52.330
根据这个local

21:53.290 --> 21:53.930
UI

21:55.210 --> 21:57.210
来显示什么呢 来显示图片

21:57.850 --> 22:02.090
ok 让我在这边的话 我就干嘛呢 我再来返回一段

22:03.290 --> 22:05.130
返回一段gsta

22:09.060 --> 22:11.460
看到没有 我再来返回一段gsta

22:11.700 --> 22:15.140
好 那比如说我这边让我就先随便写啊 这边text

22:16.100 --> 22:17.380
啊 随便写个 a a

22:17.780 --> 22:18.980
好 我们这边我们保存一下

22:21.080 --> 22:21.720
全部保存

22:22.520 --> 22:25.160
好 那现在的话这边是什么样子的 你看一下

22:25.720 --> 22:27.960
这边是不是你看这边是不是就是有东西啊

22:28.760 --> 22:30.920
为什么 因为你现在的话你这个local

22:31.560 --> 22:32.680
local UI里面

22:33.160 --> 22:36.920
是不是存了东西的对不对 你看他现在显示的就是什么 显示的就是啊

22:37.560 --> 22:40.280
啊 你这边这个仕图 是不是这边的仕图

22:40.920 --> 22:43.480
对不对 好 那我们在这边 我们就来写我们的

22:44.040 --> 22:46.600
那我这边呢 首先就是什么呢 首先一个view

22:47.560 --> 22:51.320
啊 然后叫这边啊 仍然这个样式 style等于一个

22:51.960 --> 22:53.800
styles container

22:54.520 --> 22:59.800
ok 然后里面里面的话 首先要把这张图片先把它显示出来

23:00.360 --> 23:03.560
啊 先把这张图片显示出来啊 这边智能提示已经出来了啊

23:04.280 --> 23:12.810
这边 我把注释写一下 就是显示显示

23:13.690 --> 23:17.050
用户选择的图片

23:18.170 --> 23:20.170
对吧啊 通过一个这个image

23:20.730 --> 23:25.370
image 然后叫这边source  source对应的就是什么 是不是就是刚才你存到这个

23:25.850 --> 23:27.210
local UI里面的这个字

23:28.170 --> 23:30.890
对不对啊 这边的话这个样式啊

23:31.370 --> 23:34.170
好 那下面 下面有什么 下面是不是两个按钮

23:34.650 --> 23:38.010
对不对 两个按钮 你把这两个就把这两个复制过来

23:39.050 --> 23:42.410
啊 复制一份 两份

23:43.050 --> 23:45.930
对吧 第一个是什么 第一个的话是

23:46.970 --> 23:48.010
啊 分享照片

23:51.670 --> 23:53.350
分享照片

23:55.030 --> 23:59.030
按钮啊 可以啊 分享照片按钮啊 这个是什么 这个是

23:59.190 --> 24:00.310
是吧 重新选择

24:01.110 --> 24:04.070
重新选择这个照片

24:05.510 --> 24:10.310
按钮 对吧啊 那我们把这个改一下 这个呢 是分享

24:11.350 --> 24:14.550
照片 这个是什么呢 这个是重新选择

24:16.630 --> 24:18.390
重新选择

24:19.350 --> 24:26.870
ok 好 然后接下来的话 这边样式这些都不变啊 样式都不变 关键是这边按钮对应的这个事件是不要变

24:27.670 --> 24:31.030
啊 那这个重新选择 重新选择的话 这边很简单

24:31.510 --> 24:35.990
我们这边要把这个写一下 这边呢 就是什么呢 这边就是go back

24:37.030 --> 24:41.670
ok 好 那接下来的话 你这边的话 上面写完了就把它折起来啊

24:42.310 --> 24:45.270
折起来啊 这边是不是就是应该是有一个function

24:45.990 --> 24:47.110
然后go back

24:48.950 --> 24:51.990
这个对应的是不是就是他的这个事件回掉还说

24:52.710 --> 24:54.310
对不对 这个的话是返回

24:55.270 --> 24:59.910
返回上一页 那返回上一页 这边怎么做

25:00.950 --> 25:06.550
这边怎么做 这边其实很简单啊 这边很简单 你这边那只需要干嘛呢 这边让我直接

25:07.030 --> 25:11.830
set local这个ui 重新让他变成一个空置串就可以了

25:12.550 --> 25:15.270
变成空置串之后 他这边是不是意义服 他就进不去了

25:15.590 --> 25:18.710
进不去的话 他这边是不是就重新确认 这一段接是他

25:19.030 --> 25:23.270
也就是说 我根据什么呢 我根据你的这个这个local UI

25:23.270 --> 25:30.310
local UI 你local UI有值的话 我渲染这段接是他没有值的话 我渲染这段接是他

25:31.110 --> 25:33.270
对不对 好 来我们这边我们来看一下好不好使

25:34.550 --> 25:37.830
全部保存 好 全部保存之后 大家这边来看一下

25:38.630 --> 25:44.950
是不是这边分享照片 重新选择啊 我们点击重新选择 是回来了 对了 你看我们这边选择照片

25:45.590 --> 25:48.310
选择啊 选择了之后大家重新选择

25:49.110 --> 25:54.790
是不是ok了 对不对啊ok 好 然后接下来的话是这个分享

25:55.750 --> 25:59.110
分享的话 那我们这边呢 要重新给他绑一个这个实践

26:01.110 --> 26:01.430
呃

26:03.590 --> 26:04.870
分享的话 是不是少了一个

26:06.390 --> 26:07.270
少了一个这个呀

26:08.790 --> 26:15.750
我看一下啊 不是在这里是吧啊 这边分享啊 分享的话 我们这边呢 就是我们绑一个啊 这边呢 就是

26:16.630 --> 26:17.030
open

26:18.630 --> 26:19.990
open这个share

26:21.830 --> 26:23.750
share 这个image

26:24.630 --> 26:25.030
async

26:26.150 --> 26:33.750
那他也是一个异步的 那这边的话就又需要你装一个包了 这边需要你装什么包呢 需要你装一个这个export sharing

26:34.790 --> 26:41.590
把这个包把它装一下 这边npml i 然后export 然后sharing

26:42.310 --> 26:44.310
ok 走

26:45.670 --> 26:52.710
把这个包装一下 装了之后 然后下这边 同样是把这个包 把它引一下 这边呢 就应该是

26:53.270 --> 26:54.790
export sharing

26:56.790 --> 27:03.020
ok 好 然后下这边 这边呢 就是啊 就叫sharing嘛 ok

27:03.660 --> 27:09.580
好 然后接下来的话 这边对应的这个回调函数啊 open sharing image

27:10.300 --> 27:13.660
在这里啊 这个呢 就是分享

27:15.420 --> 27:23.180
分享图片的回调函数 那这个呢 你通过名字 你就可以看出他是什么

27:24.060 --> 27:28.300
是不是应该是异步的 对不对 所以我们这边就是async

27:30.660 --> 27:35.940
async啊 这边名字 open sharing image async

27:36.900 --> 27:43.300
好 这里面 这里面要做什么呢 这里面呢 要做的事情很简单 这边呢 就是通过这个sharing

27:44.740 --> 27:48.820
sharing 点他有个方法 叫做这个share async

27:49.460 --> 27:54.820
然后把什么呢 把这个local ui 就是我们图片的这个地址 把它传进去

27:55.220 --> 27:58.260
好 他这边是个异步的 所以你这边呢 稍微等待一下

27:58.900 --> 28:03.380
怎么样 好 然后我们这边呢 我们来把这个启动起来 我们来看一下

28:11.110 --> 28:17.770
好 这边保存一下 保存了之后呢 再这边重新刷新一下

28:19.130 --> 28:29.740
啊 这边稍微等一下 ok 出来了 出来之后 我们这边选择图片啊 然后选择 选择了之后呢 分享图片

28:30.300 --> 28:37.660
出来没有 这一块就出来了 对不对 也就是他这个方法啊 他这个他这个包包的这个share async

28:37.980 --> 28:43.260
其实就是什么 其实就是调这个手机这个原生的这个分享的这个模块的代码

28:43.900 --> 28:49.740
对不对 把这个分享面板把它打开啊 剩下的话 你要分享到哪 你自己选就可以了

28:50.700 --> 28:55.180
对吧 ok 啊 这就是我们这个应用 实际上其实比较简单

28:55.740 --> 29:02.140
对吧 一个简单的例子 但是你做出来的话 其实你把它写出来的话 应该还是蛮有成就感的

29:03.740 --> 29:10.700
而我这边的话 我其实这边还写了一个 就是判断这个平台是否是这个web 如果是web的话 这边就是

29:11.260 --> 29:17.500
啊 会谈出一句话啊 就是你现在的话 你现在这个平台 没办法进行这个分享

29:18.060 --> 29:22.540
啊 这个代码的话 我们刚才没写啊 但这个代码你看一下 这个代码很简单

29:23.180 --> 29:25.180
就这个plantform 这个是哪来的

29:26.460 --> 29:32.780
这个是他这个原生的啊 就是react live这个react native里面 他给你提供的

29:33.420 --> 29:36.780
怎么样 我们从react native里面引了一个plantform

29:37.500 --> 29:40.460
plantform 然后既然这边的话 就通过点os

29:41.180 --> 29:47.660
就可以看你当前的这个平台 你是ios 还是android 还是就是pc端啊

29:48.140 --> 29:53.260
那既然你如果这边是pc端 他这边就是web 那这边呢 我们就谈出一句话啊 你当才的

29:53.660 --> 29:58.780
当前的这个平台啊 你没办法这个分享 那既然这边直接干嘛 是不是直接return

29:59.340 --> 30:03.900
结束掉 对吧 否则的话 没有进上面的衣服 我们就干嘛 是不是执行刚才的代码

30:04.620 --> 30:07.340
掉这个sharing的share async

30:08.220 --> 30:11.660
对吧 这一块我就不写了啊 就这么几行代码没写

30:12.220 --> 30:17.900
ok 好 那这个的话就是我们整个这个案例啊 我们就做完了 你看这边重新选择

30:18.540 --> 30:20.540
选择图片

30:20.860 --> 30:27.260
ok 整个就做完了啊 这个案例的话蛮有意思的啊 这个的话其实也是这个export

30:27.660 --> 30:31.900
他官方的一个这个案例 你回头的话你在这个位置你是看得到的

30:32.460 --> 30:38.460
啊 我把这 我这边来看一下 就你这边的话你访问这个export他的这个官网

30:39.820 --> 30:44.660
在这里啊 我们请他的官网

30:46.820 --> 30:48.820
应该是互吧

30:49.220 --> 30:51.940
啊 这边进入到那个了 进入到我的那个

30:53.140 --> 30:55.140
啊 我看document形

30:57.590 --> 31:00.230
啊 就这里就这里啊看到没有 就这边

31:01.110 --> 31:05.670
就这这一段看到没有 这个其实他也是这个export官方的一个势力

31:06.390 --> 31:10.950
ok 你回头到也可以把这个官方的设定自己再看一下 要么做的是不就这个

31:11.990 --> 31:20.950
对不对啊 做的就这个啊 ok 好的 下来的话把这个案例做一下吧 好吧 这一个就先到这里啊 再见

