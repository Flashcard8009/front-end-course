WEBVTT

00:00.880 --> 00:06.240
OK 欢迎回来 好 接下来咱们继续啊 上节课的话 我们已经把这个

00:06.960 --> 00:16.160
把这个影院这部分做了 那么这节课的话 我们把这个 把这个搜索页面啊 这个是搜索页面 我们把这个搜索页面把它完成一下

00:17.080 --> 00:22.160
OK 好 然后接下来搜索页面的话 首先是在这里

00:23.400 --> 00:30.520
这里你点击这个 点击这个搜索框的时候啊 这个我在第一节课我就说过这个的话 它其实是一个什么呢

00:30.800 --> 00:35.360
是一个类似于这个按钮 当你点击之后 是不是就会跳转到这个页面

00:36.040 --> 00:44.800
对不对 从我们这边是专门有一个搜索页面的啊 所以我们这边的话在这个views里面 我们来新建一个叫做search

00:45.920 --> 00:53.820
search screen 然后点接插啊 这个的话是我们的搜索页面

00:55.900 --> 01:02.300
搜索页面 好 那这个搜索页面的话 这边的话 整体的话也是分为点

01:02.340 --> 01:07.700
两个部分啊 大家看一下 这边那首先的话 你看这里的话是不是会有个header

01:08.420 --> 01:13.500
那这个header的话 到时候我也得也得把它做成一个什么 是把它做成一个这个主键

01:14.380 --> 01:17.020
对吧 好 那我们这边就写这么一个主键吧

01:17.940 --> 01:23.500
这边的话我们就叫做这个search 叫做search bar

01:25.180 --> 01:33.460
点接插啊 然后这边这个是搜索页面的这个头部主键

01:35.770 --> 01:38.050
ok 好 然后接下来的话 这边

01:39.450 --> 01:43.290
呃 首先的话把该影的样式 把影一下 import

01:44.810 --> 01:50.610
这边的话 view 然后style sheet 然后 demotions

01:51.850 --> 01:53.090
然后priceable

01:54.450 --> 01:58.810
然后text 然后text input

01:59.810 --> 02:06.770
好 再加一个key keyboard 啊 这keyboard一会我们会用啊 啊 再加这边from

02:07.930 --> 02:14.330
rept native 啊 首先把这个要用到的主键 先把拉进来 拉进来之后 然后

02:15.770 --> 02:21.530
接下来的话 这边export default function

02:23.130 --> 02:24.810
呃 方形是不是错了

02:25.810 --> 02:34.290
方形啊 这个叫做search bar 啊 这边呢 会返回一段接插

02:35.250 --> 02:46.570
对吧 好 然后我们把那个样式把它拿过来 样式的话是在在在search bar 在这边也不多啊 因为你毕竟就那么一点东西

02:48.050 --> 02:54.090
啊 把拿过来 拿过来之后这里面的话会用到这个屏幕的宽度啊 所以我们这边呢 获取一下屏幕的宽度

02:55.090 --> 03:01.650
获取屏幕的宽度 啊 这边cans的这个wise

03:02.570 --> 03:06.890
等于一个demotions 点get window 啊 获取一下

03:07.570 --> 03:12.290
好 然后完事之后 然后接下来的话 这边这边的话就来返回这个对应的东西

03:12.970 --> 03:16.130
然后我们这边来看一下 这边其实很简单 这边就分为两块

03:16.690 --> 03:19.250
首先这个 这个的话你就不要再用view来做了

03:19.930 --> 03:24.890
这个的话就应该用什么 是不是就是应该是用text input 是不是输入方来做

03:25.610 --> 03:30.050
对吧 然后加这边呢 一个取消按钮 好 那我这边呢 首先最外层

03:31.810 --> 03:32.890
最外层一个view

03:34.050 --> 03:41.210
好 然后view的话 这边它会有一个样式 style 等于style 是点hater style

03:42.090 --> 03:46.050
好 大家里面 里面的话就分为两个 一个是text

03:47.050 --> 03:55.150
input 啊 这边呢 这边对应有这个style 等于一个

03:56.670 --> 04:05.220
等于一个这个search bar search bar 好 然后接下来的话 这边会对应有一个place holder

04:06.180 --> 04:10.940
啊place holder的话 这里啊 然后搜

04:12.060 --> 04:12.540
影片

04:13.620 --> 04:15.220
然后影院

04:16.220 --> 04:17.420
然后演出

04:18.820 --> 04:26.810
视频 啊 资讯 资讯 每个资

04:28.210 --> 04:28.410
呃

04:30.090 --> 04:30.730
资料的资

04:31.810 --> 04:40.330
讯息 啊 资讯 OK 好 然后接下来 它这边需要有一个这个value 是吧 那这边意味着我们需要干嘛

04:40.770 --> 04:42.210
是维护一个状态

04:42.850 --> 04:44.210
说 这边的话 in port

04:45.210 --> 04:45.730
use

04:46.610 --> 04:46.850
state

04:48.330 --> 04:50.370
好 然后接下来 这边的话 维护一个状态

04:52.210 --> 04:58.410
维护一个状态 用于和什么呢 和输入框

04:59.370 --> 05:05.450
绑定在一起 啊 变成一个收控组件 对吧 啊 这边custom

05:06.450 --> 05:08.690
ware user input

05:09.530 --> 05:11.450
啊 然后接下来 这边是这个set

05:12.650 --> 05:17.530
user input 等于一个use state 一开始的话是一个空

05:18.410 --> 05:23.530
对吧 好 那这边的话这个value value的话就应该是等于

05:24.890 --> 05:25.770
user input

05:26.850 --> 05:29.490
好 然后接下来 这边还需要有一个这个on change

05:31.490 --> 05:34.010
on change 然后text

05:34.610 --> 05:39.010
他的话就应该是等于什么呢 等于这个set user input

05:40.370 --> 05:44.330
对吧 用户输入内容的家 接下来这边的话 直接就设置了

05:45.690 --> 05:49.810
啊 这是关于这个text input 好 然后接下来右边

05:51.170 --> 05:55.490
啊 这这一块我们写完了哈 好 然后加这一块 这一块呢 是不是就是一个按钮

05:56.090 --> 05:59.410
对不对 一个按钮 这个你就是要用这个prisable

06:00.570 --> 06:01.090
包一下

06:02.090 --> 06:07.090
啊 prisable 里面是一个text 啊 这边呢 是一个取消

06:08.090 --> 06:14.090
那你把这个相应的样式 把它给一下style 等于一个styles

06:14.770 --> 06:18.930
点这个cancel btn text 啊 这个的话也有样式

06:20.250 --> 06:20.690
我看一下

06:21.970 --> 06:23.890
啊 这个没有样式 这个的话 只有一个

06:24.890 --> 06:28.370
啊 这个点击事件 啊 点击事件的话 这边的话

06:29.050 --> 06:32.650
prisable handle 然后对应上面

06:33.730 --> 06:34.010
这边

06:35.930 --> 06:38.650
function prisable handle

06:39.610 --> 06:42.770
啊 这边呢 他应该做的事情是什么 是不是就是返回啊

06:43.610 --> 06:46.130
对不对 好 那我们这边呢 我们这个结构

06:46.930 --> 06:51.410
拿到navigation 啊 这边这边呢 就是应该是navigation

06:52.330 --> 06:57.640
点go back 对吧 go back

06:58.520 --> 07:01.720
ok 那我们整个这个逐渐的话 我们就写完了

07:02.400 --> 07:03.120
the text

07:04.520 --> 07:09.720
exit input 啊 这个逐渐就写完了啊 这个逐渐写完了之后

07:09.720 --> 07:12.560
然后接下来的话 我们需要把它就是配置一下

07:13.280 --> 07:17.680
我们这边的话 这个是search screen 是吧啊 这个是搜索页面

07:18.000 --> 07:20.120
我先把这个搜索页面简单的写一下

07:21.720 --> 07:22.000
view

07:22.880 --> 07:25.920
然后text style sheet

07:26.880 --> 07:27.240
from

07:28.200 --> 07:30.520
这个rat native

07:32.280 --> 07:34.640
now export default

07:35.360 --> 07:35.880
function

07:36.640 --> 07:38.440
然后search screen

07:41.830 --> 07:44.190
啊 这边的话 返回一段gsa

07:45.070 --> 07:45.430
view

07:48.020 --> 07:50.660
啊 这边 style 等于一个

07:53.580 --> 07:54.540
style是

07:55.780 --> 07:57.220
点container

07:58.700 --> 08:01.860
啊 这边的话 一个text 这个是搜索页

08:04.100 --> 08:09.660
啊 这边把样式给一下 const 一个styles 等于一个style sheet

08:10.380 --> 08:11.620
啊 这边的话container

08:13.750 --> 08:15.710
对应的flex 1

08:16.350 --> 08:21.350
justify content center or item center 对吧 先大致写一个

08:22.070 --> 08:28.630
好 然后完事之后 我们就需要在这个app.js里面 是不是进行一个这个页面的配置

08:29.710 --> 08:34.070
ok 好 那接下来的话 你来到这下面 这边的话就是搜索

08:35.470 --> 08:43.370
搜索页面 啊 这边呢 仍然是stank screen

08:44.370 --> 08:48.490
啊 这边就用一个单标签 因为它里面没有什么要签头的

08:49.970 --> 08:51.050
啊 这边这个name

08:53.580 --> 08:57.700
name的话 你这边是搜索搜索的话 我们这边就叫做search

08:58.860 --> 09:04.010
search screen 啊 大家对应的这个component

09:04.770 --> 09:08.450
component 就是应该是search screen 那你这边search screen 你得引一下

09:09.450 --> 09:18.610
对吧 啊 这边import search screen from这个views 下面的search screen

09:19.770 --> 09:24.010
ok 把引一下啊 然后接下来的话

09:25.290 --> 09:27.250
下面 下面的话就是应该是一个option

09:28.410 --> 09:31.810
对啊 option option里面 然后首先的话是header

09:32.530 --> 09:38.940
header的话对应的是不是就是也是一个函数 对不对 函数的话 这边解构

09:39.580 --> 09:44.940
拿到nevergation 这边的话是返回什么 返回我们刚才的那个

09:46.340 --> 09:49.540
search 化 啊 这边就用一个

09:50.380 --> 10:00.420
就用一个单标签就可以了 啊 这边nevergation 这边nevergation 把传过去 啊 除了这个以外的话 然后既然我这边还稍微配置了一下 啊 比如说这个animation

10:01.020 --> 10:02.860
是一个now 然后

10:03.860 --> 10:05.500
还有就是这个header

10:07.790 --> 10:10.190
header 这个back visit

10:11.510 --> 10:19.990
visible back visible 就是是否看得到那个左边那个返回按钮 就默认的话 这边是有一个这个返回按钮的 就长这个样子的

10:20.590 --> 10:21.750
啊 这边把他隐藏掉

10:22.550 --> 10:29.350
有visible 等于一个force 当我们配置的组件好像他没有啊 我试一下 这个好像不用写

10:30.030 --> 10:33.150
我们这边来看一下吧 看一下现在长什么样子

10:34.990 --> 10:38.830
好 保存 保存了之后 然后接下来的话 我们这边我们来看一下

10:39.630 --> 10:44.710
呃 这边的话得给他设置一个点击事件 是吧 这个是在哪 是在这

10:45.590 --> 10:53.030
这 是吧 这边的话search come search come的话 我们这边需要把那个nevergation

10:53.710 --> 10:54.870
给他传递过去

10:56.030 --> 10:59.670
这是轰霸 轰霸这边nevergation

11:00.550 --> 11:05.470
然后nevergation 传过去 然后接下来的话 这边这个轰霸

11:06.590 --> 11:10.590
轰霸在这边 轰霸然后接下来这边的话就接收到

11:11.910 --> 11:15.190
这边说有个prox 然后接下来这边接收到

11:17.110 --> 11:17.710
const

11:18.670 --> 11:19.390
nevergation

11:20.990 --> 11:23.710
等于一个prox 然后接下来这边要传过去

11:24.710 --> 11:33.150
对吧 等于一个nevergation 啊 传过去之后 然后接下来在这边 这边呢 是不是通过prox

11:34.150 --> 11:34.630
来拿到

11:36.150 --> 11:36.950
const

11:37.710 --> 11:38.430
nevergation

11:39.350 --> 11:40.750
等于一个prox

11:42.390 --> 11:45.150
好 这边呢 就是应该是nevergation 点

11:49.380 --> 11:54.620
nevergate 对吧 好 大家导航到什么 导航到这个search

11:55.620 --> 11:56.140
screen

11:57.220 --> 12:04.220
ok 好 来我们这边保存一下 保存 保存了之后 然后接下来这边来看一下 走

12:05.460 --> 12:10.700
啊 这边报错了啊 can't find the variable search bar 应该是我们这边没引入啊

12:11.460 --> 12:13.580
我们这边是不是使用了这个search bar

12:14.500 --> 12:19.380
search bar 然后接下来的话search bar 这边是写了的 但是没引 我们这边引一下

12:21.180 --> 12:21.500
这边

12:22.940 --> 12:24.540
import search bar

12:25.380 --> 12:25.820
brown

12:26.740 --> 12:29.580
component下面的search bar

12:31.660 --> 12:34.900
对吧 把引一下 好 然后在这边保存

12:36.100 --> 12:37.900
保存了之后 然后在这边再来看一下

12:39.060 --> 12:39.900
啊 这边点击

12:41.020 --> 12:46.220
那是不是过来了 对不对 这是我们的这个搜索页面 好 这个的话是一个搜索框

12:46.820 --> 12:49.860
可以搜索东西的 好 然后接下来我们在这边

12:50.580 --> 12:56.060
这边的话 你看 我这边的话 当我这边用户输入内容之后 然后接下来我希望什么了

12:57.180 --> 13:04.140
希望就是这个下去的时候 然后在这里的话就是开始搜 显示这个搜索的这个内容

13:04.700 --> 13:07.460
啊 说说我们这边的话 要用到那个keyboard

13:08.260 --> 13:13.020
啊 要用到keyboard 我们这边的话先这样子吧 先把这一块

13:14.300 --> 13:15.220
先把这一块写了吧

13:16.220 --> 13:23.570
好吧 先把下面这块写了 啊 这一块的话有一个历史搜索

13:24.210 --> 13:31.050
然后还有一个热门搜索 那那这一块的话 这个数据的话 我就是直接放到那个redux里面的

13:31.770 --> 13:34.570
那我们这边的话 我们首先在redux里面

13:35.130 --> 13:40.330
redux里面 我们来创建那么几个文件 首先的话会有一个snyce

13:41.090 --> 13:45.690
点击是 还记得吧 之前讲的这个redux 那还会有一个什么

13:46.170 --> 13:52.610
说还会有一个这个steat点击是 这个是放什么了 是放这个初始的这个状态的

13:54.290 --> 14:01.050
存放 存放这个初始状态

14:03.260 --> 14:06.460
ok 好 大家这边的话还会有一个什么呢 还会有一个store

14:08.680 --> 14:12.800
store 点击是 啊 这个那是我们的这个仓库文件

14:15.340 --> 14:15.660
仓库

14:16.500 --> 14:24.780
ok 好 然后接下来我们这边首先这个steatsteat的话是一个初始的这个状态 那我这边的话我导出一个

14:26.300 --> 14:28.180
导出一个这个对象

14:30.100 --> 14:34.020
这对象里面就会有这么几个东西 一个是用户

14:34.820 --> 14:37.420
用户这个搜索内容

14:38.060 --> 14:43.220
这个的话是对应了哪一块呢 就到时候的话这里 这里用户呢 是不是在这里

14:44.180 --> 14:45.700
填写他要搜索的这个电影

14:46.300 --> 14:49.620
对吧 然后接下来当用户取消的时候 就是把这个键盘

14:50.220 --> 14:55.940
把他这个收起来的时候 我是会把这个我会把他提交给redux的

14:56.940 --> 15:01.140
提交给redux 那在下面的话 下面他是一个单独的这个组件

15:01.500 --> 15:07.820
然后从这个redux里面去获取用户这边输了之 获取了之后 然后接下来的话这个

15:08.540 --> 15:14.500
把这个对应的这个电影 把它搜索出来 因为你这边那是两个不同的组件

15:15.220 --> 15:20.540
对吧 你这个是头部 下面的话是另外的这个就是搜索列表的这个

15:21.260 --> 15:28.420
主线 两个是不同的主线啊 所以这边的话就会涉及到什么呢 涉及到就是你这个主线和下面主线

15:28.940 --> 15:29.860
通信的问题

15:30.740 --> 15:36.420
对吧 啊 所以说我这边的话在redux里面 我需要有那么一个这个状态来保存

15:36.860 --> 15:38.780
用户这边输入了这个

15:40.100 --> 15:41.060
电影的这个文字

15:41.780 --> 15:46.820
ok 保存这个搜索的这个内容啊 这个的话是用户搜索内容

15:48.140 --> 15:50.820
这边的话我就叫做search content

15:54.640 --> 15:56.760
search content啊对应的是个空

15:57.720 --> 16:02.440
ok 好 然后这边呢 还有一个这个历史搜索 这个的话我就直接把这个

16:03.640 --> 16:05.200
这个历史搜索

16:06.200 --> 16:09.640
我这边就直接给个数组了啊 我这边直接把那个拿过来吗

16:10.960 --> 16:16.440
直接把这边 直接把这边拿过来 一个是历史搜索 一个是热门搜索

16:17.880 --> 16:24.920
过来 ok 啊 这个的话就是我们初始的这个状态啊 分别有这个search content

16:25.400 --> 16:32.440
search history 这个是搜这个历史搜索 还会有一个热门搜索啊 heart search item

16:33.440 --> 16:37.440
ok 好 然后完了之后 然后接下来来到你的这个store

16:39.680 --> 16:43.440
来到store 这个是一个仓库啊 这边的话 import

16:45.360 --> 16:48.240
这边from 这个圈

16:49.160 --> 16:55.760
redux 啊 然后toolkit 这边呢 从这边引入一个什么是configury

16:56.880 --> 16:59.320
configury store

17:00.320 --> 17:08.560
对吧啊 然后接下来他是一个方法 我们这边就直接你这边可以直接调用这个configury

17:10.640 --> 17:15.520
store 他是个方法调用这个方法 调用这个方法是不是就会生成一个仓库

17:16.160 --> 17:18.120
然后接下来的话把这个仓库把它

17:19.400 --> 17:20.160
倒出出去

17:21.480 --> 17:26.320
对吧 好 大家这边接收一个配置 配置的话这边是reducer

17:27.320 --> 17:32.960
对应你这边reducer 我们这边就movie对应对应了你的这个reducer

17:33.160 --> 17:39.360
reducer的话应该是从哪来是从你的slices这边来 对不对 所以我们这边的话就import

17:41.000 --> 17:48.200
importreducer from 当前目录下面的slices 这边就是reducer

17:49.240 --> 17:51.960
ok 然后切换到你的这个slices

17:52.880 --> 17:59.880
买到这个slices啊 这边 这边的话是不是你说就是你需要来输写对应的reducer

18:01.000 --> 18:04.760
对吧 好 然后下我们这边首先import

18:06.880 --> 18:09.560
front 这边trured dance

18:10.880 --> 18:12.800
toolkit 把这个

18:14.800 --> 18:16.640
create slices

18:17.640 --> 18:23.000
把这个方法先把他引入 引入之后然后接下来的话调用这个方法

18:24.360 --> 18:25.280
create slices

18:28.040 --> 18:35.360
这边调用create slices 他是个方法调用他 调用他之后 然后竟然来生成一个slices

18:36.200 --> 18:37.960
const一个slices

18:38.880 --> 18:43.920
对吧 好 大家这边把这个slices 他上面的这个reducer把它倒出

18:44.800 --> 18:51.160
export defaults nice 上面的这个reducer

18:52.440 --> 18:55.960
把它倒出啊 倒出 然后既然来和哪就对上了

18:56.760 --> 19:03.600
和这边是不是就对上了 这边呢 我们把这个reducer是吧 把引入 引入了之后 然后在这边挂在这个reducer 这个对象

19:04.040 --> 19:06.520
这里面 对吧 这里就对上了

19:07.200 --> 19:12.760
好 然后接下来的话 这边 这边呢 但是你现在是不是还没有reducer 所以你需要在这里面的话进行配置

19:13.520 --> 19:19.960
啊 这里面啊 这里面的话 配置那么几个项目啊 首先呢是name name 我们就要做movice nice

19:21.240 --> 19:24.480
就是他的名字 然后还有什么 这边还有就是

19:26.080 --> 19:28.000
啊 initial stats

19:29.720 --> 19:34.760
对吧 initial stats initial stats就初始化状态应该来源于哪里

19:35.400 --> 19:36.400
来源于

19:37.560 --> 19:40.840
这里啊 对不对啊 所以这边呢 我们再import

19:41.560 --> 19:46.160
import default stats from

19:46.840 --> 19:52.560
当前目录下面的stat 好 然后加这边呢 就是default stat

19:53.560 --> 19:56.240
好 大家还有什么 还有就是reducers

19:58.280 --> 20:00.520
啊 注意他是reducers 有个s

20:01.320 --> 20:05.040
ok 好 这里面就是书写你一个一个的reducer

20:06.040 --> 20:09.640
对不对 好 然后我们这边的话 需要输入一些

20:10.120 --> 20:11.240
就有哪些reducer

20:12.360 --> 20:15.880
有哪些reducer啊 有哪些reducer首先有一个

20:18.280 --> 20:23.560
啊 我想想啊 就是关于获取用户的输入啊 我们要获取这个

20:24.760 --> 20:32.120
要获取这个 这个不需要写reducer是吧 直接获取就可以了 好来 我们就先这样子啊 先这样子我们保存一下

20:32.720 --> 20:33.280
看有没有错

20:34.240 --> 20:38.480
啊 目前为止没有错啊 没有错之后 然后接下来到你的这个

20:39.480 --> 20:45.680
search screen 在这边 这边的话我们是不是就是应该是从这个仓库

20:46.480 --> 20:50.000
去获取这个内容 获取这个数据

20:51.120 --> 20:55.560
对不对 从仓库获取数据啊 那我们这边的话

20:57.200 --> 21:03.040
从仓库获取数据 这里 这里的话我们import

21:05.570 --> 21:09.890
首先的话 use the state from

21:11.010 --> 21:16.290
这个react 因为我们获取了数据 然后接下来我们这边要把它保存一下

21:18.530 --> 21:24.450
好 然后接下来的话 还需要import什么 这边的话import

21:25.330 --> 21:25.810
use

21:27.250 --> 21:27.570
这个

21:30.100 --> 21:31.540
use selector

21:33.060 --> 21:38.660
啊 从这个reacted here 把他获取到好 获取到之后 然后接下来我们这边

21:39.460 --> 21:45.060
从仓库获取数据啊 这边const

21:45.940 --> 21:48.820
一个什么呢 一个这个历史

21:50.740 --> 21:57.250
历史搜索 这边的话search history

21:58.370 --> 22:01.890
啊 这个这个use state暂时用不到啊 暂时用不到 我们这边直接

22:01.890 --> 22:08.210
从仓库取数据啊 这边的话就等于一个use selector

22:09.410 --> 22:21.250
对吧啊 里面的话是一个函数啊 这边啊 把这个state拿到拿到之后 然后再这边返回state点

22:22.050 --> 22:24.450
点什么呢 你这边叫做什么名字啊

22:25.490 --> 22:29.490
这边这个store 这边就叫做movie啊 这边就是movie

22:30.450 --> 22:36.290
点movie 然后接下来点什么 to search history

22:36.930 --> 22:38.290
啊 这个呢是获取

22:39.250 --> 22:41.410
就是搜索歷史

22:43.170 --> 22:47.330
然后数据啊 然后还有一个什么 这边还有一个热门搜索

22:48.290 --> 22:53.330
hot hot 然后search 然后item

22:54.770 --> 22:59.330
啊 这边呢 就是应该是从这个hot search item

23:00.210 --> 23:03.730
把拿到啊 这个是获取热门

23:05.010 --> 23:05.730
热门搜索

23:07.650 --> 23:13.540
热门搜索数据啊 这是搜索历史数据

23:14.260 --> 23:18.820
首先把这两个获取到好 获取到了之后 然后接下来的话 这边

23:19.780 --> 23:23.060
下面 下面的话 是不是就是应该是把它渲染出来

23:23.940 --> 23:31.010
对吧 好 然后这里的话 你看一下 看一下什么呢 你看这一块

23:31.970 --> 23:35.650
这一块 这一块的话 是不是这两个很相似

23:36.690 --> 23:41.810
对不对 这个很相似啊 这两个很相似 所以我这边的话 可以把这一块

23:42.370 --> 23:44.690
单独又封装成一个组件

23:45.730 --> 23:51.090
对不对 你看这这一块的话 唯一的区别就是什么 这边的话会多一个这个清除历史记录

23:51.650 --> 23:52.930
啊 会多一个这个东西

23:53.650 --> 23:59.090
ok 那这个的话 就是我们在用这个组件的时候 我们给他传一下这个太护职

23:59.810 --> 24:04.530
是不是就ok了 对不对啊 说实话 我们这边的话 我们再来创建一个组件

24:05.490 --> 24:07.810
这边这个组件 叫做这个label

24:10.320 --> 24:15.520
label.com.json 啊 这个这个是什么呢 这个是

24:17.600 --> 24:20.240
搜索搜索页面

24:20.960 --> 24:23.040
然后默认内容

24:26.110 --> 24:31.710
叫这个名字行不行 反正你知道就这一块啊 就这一块我单独的封装一个组件

24:32.430 --> 24:33.310
啊 搜索

24:34.510 --> 24:36.990
搜索页面默认内容组件

24:38.030 --> 24:43.470
感觉这个名字怪怪的 是吧 但是你知道知道对应的是这个就可以了啊 知道对应的是这个

24:43.870 --> 24:48.910
ok 好 然后接下来的话 我们在这边 这边我们就来用一下

24:54.320 --> 24:57.600
这里 这里的话 那你要把那个制定组件引进来

24:58.560 --> 25:00.480
引入制定义

25:01.200 --> 25:09.600
这一块这块我先把那个search screen 先把他的这个样式先把拿过来

25:11.200 --> 25:12.000
这一块样式

25:14.000 --> 25:14.800
把拿过来

25:16.720 --> 25:22.640
好 大家这边view 这边我们把这个制定组件引一下 这边import

25:23.520 --> 25:24.880
叫做label.com

25:25.280 --> 25:27.280
from

25:28.800 --> 25:33.120
上一集的component 下面的label.com

25:33.840 --> 25:36.320
好 然后现在在这里 这里的话 然后有几个

25:36.960 --> 25:39.280
这有两个 对不对 第一个 第二个

25:39.760 --> 25:43.360
好 然后接下来的话 我们这边呢 就是label.com

25:46.820 --> 25:48.660
啊 这边 这边呢 把什么传过去

25:49.540 --> 25:51.700
首先呢 是不是就是这个数据你要传过去

25:52.900 --> 25:55.940
对不对 这个数据要传过去啊 说说我们这边的data

25:56.740 --> 26:02.580
等于一个这个的话是search history 下一个的话是heart search item

26:03.220 --> 26:06.900
这个要传过去 除此以外的话 然后这样我们把这个title

26:08.180 --> 26:11.860
把它传过去啊 这边呢对应的是历史

26:13.540 --> 26:17.300
搜索啊 这边这边的话对应的是

26:18.580 --> 26:19.780
啊 热门搜索

26:20.900 --> 26:22.580
热门搜索

26:23.300 --> 26:25.540
对吧 okay 这边对应两个

26:26.180 --> 26:30.020
好 然后接下来的话 我们这边的话就来到这个label.com

26:31.380 --> 26:33.620
把这个label.com啊 我们这边来写一下

26:34.740 --> 26:37.380
这边的话首先 import

26:38.100 --> 26:40.420
这边呢 我们会用到这个view

26:41.540 --> 26:42.020
text

26:42.820 --> 26:44.340
然后stylesheet

26:45.060 --> 26:46.260
然后prisable

26:46.820 --> 26:49.940
啊 以后我们会做一个这个点击的这个效果

26:51.300 --> 26:51.780
就是这里

26:52.420 --> 26:53.300
这里的话 我这边

26:53.860 --> 26:58.100
它是会有这个点击效果的啊 清楚清楚历史记录这个

26:59.060 --> 27:00.260
好 now prisable

27:00.900 --> 27:02.420
然后还有一个anert

27:04.420 --> 27:04.980
from

27:05.700 --> 27:06.900
react.label

27:07.940 --> 27:09.620
好 然后接下来的话 这边

27:10.820 --> 27:11.620
export

27:12.900 --> 27:13.540
default

27:15.060 --> 27:15.460
function

27:17.300 --> 27:17.940
label.com

27:19.780 --> 27:21.300
好 这里的话 props

27:22.260 --> 27:25.460
好 我们从这边的话 我们解构把什么解构出来

27:25.460 --> 27:27.060
首先一个是title

27:27.060 --> 27:28.340
还有一个是data

27:28.820 --> 27:30.020
等于一个 props

27:30.580 --> 27:32.020
对吧 把解构出来

27:32.420 --> 27:35.700
解构出来之后 然后下这边的话 返回一段ges差

27:36.820 --> 27:38.340
这边return

27:38.740 --> 27:40.340
返回一段ges差

27:40.900 --> 27:42.900
好 我把那个样式把它拿过来

27:43.700 --> 27:44.900
这边这个label.com

27:46.260 --> 27:47.220
对应的在这里

27:50.530 --> 27:51.170
在这边

27:51.570 --> 27:51.970
好

27:52.690 --> 27:55.090
然后整个 整体的话 这边分为什么

27:55.810 --> 27:57.570
是不是就分为上面部分

27:58.690 --> 28:00.370
和是不是下面部分

28:00.930 --> 28:02.130
所以就分为这两个部分

28:02.690 --> 28:03.010
对不对

28:03.570 --> 28:06.130
所以说我们这边呢 其实分为两个部分

28:06.130 --> 28:08.290
首先把最外层的容器先写了

28:08.850 --> 28:09.490
这边的话

28:10.130 --> 28:11.010
style

28:11.010 --> 28:12.130
等于一个

28:13.090 --> 28:13.730
styles

28:14.290 --> 28:15.890
点container

28:16.610 --> 28:17.810
然后里面

28:19.010 --> 28:19.570
分为

28:20.450 --> 28:21.250
两个部分

28:22.210 --> 28:23.090
哪两个部分呢

28:23.090 --> 28:24.530
一个是上面部分

28:30.990 --> 28:31.470
上

28:33.470 --> 28:34.830
上面部分

28:35.390 --> 28:37.310
好 然后还有一个下面

28:38.110 --> 28:38.510
部分

28:39.230 --> 28:39.470
OK

28:40.030 --> 28:41.870
好 上面部分 我们这边 我们来看一下

28:42.590 --> 28:45.070
上面部分的话 这里

28:45.470 --> 28:47.550
这里的话 其实就是根据什么呀

28:47.550 --> 28:50.430
你是历史搜索 还是热门搜索

28:50.430 --> 28:51.870
如果是历史搜索

28:51.870 --> 28:54.510
这边是要显示这个清除历史记录的

28:55.070 --> 28:56.430
如果是热门搜索的话

28:57.230 --> 28:58.910
这边是不是就没有东西呀

28:59.790 --> 29:00.110
OK

29:00.670 --> 29:02.590
好 那我们这边的话 我们来写一下

29:03.390 --> 29:05.390
首先把这个最外层的这个容器

29:06.190 --> 29:06.830
先写上

29:07.950 --> 29:08.910
这边这个view

29:09.550 --> 29:11.070
然后接下来这边style

29:11.070 --> 29:13.390
等于一个style是点title

29:15.070 --> 29:15.390
OK

29:16.110 --> 29:16.910
好 这里面

29:17.470 --> 29:18.750
这里面的话就是

29:20.830 --> 29:22.910
首先的话会有第一个text

29:24.430 --> 29:26.350
这个text的话对应的就是什么呢

29:27.070 --> 29:29.310
就是你这边传过来的title

29:29.870 --> 29:32.350
回头你这边你传的是历史搜索

29:32.350 --> 29:33.630
还是热门搜索

29:33.630 --> 29:35.790
我这边就把它显示在这里

29:36.590 --> 29:36.910
对吧

29:37.550 --> 29:39.790
这边他有一个相应的这个样式

29:41.630 --> 29:42.030
style

29:43.470 --> 29:44.670
等于一个style

29:45.470 --> 29:47.470
点title text

29:47.790 --> 29:48.430
这是第一个

29:48.910 --> 29:49.950
好 然后接下来第二个

29:50.430 --> 29:52.830
第二个的话 这边的话就要取决于

29:53.310 --> 29:54.350
你的title

29:55.310 --> 29:58.670
是否是历史记录

30:00.700 --> 30:01.420
看到没有

30:01.420 --> 30:04.380
取决于你这边是否是历史记录

30:04.380 --> 30:05.900
如果是历史记录

30:05.900 --> 30:08.300
那我们这边返回这一段接视差

30:08.300 --> 30:10.380
否则的话 我们这边就返回一个空

30:11.260 --> 30:12.140
那这空

30:12.140 --> 30:13.100
这边怎么回事

30:13.820 --> 30:15.340
我看一下我这边写个view呢

30:16.940 --> 30:17.980
OK对吧

30:17.980 --> 30:19.660
否则的话 我这边就返回一个空

30:20.380 --> 30:20.700
OK

30:21.340 --> 30:22.700
好 然后接下来这个

30:22.700 --> 30:23.980
这个的话是整体来讲

30:23.980 --> 30:25.180
这个是可以点击的

30:25.980 --> 30:27.420
这个是可以点击的

30:27.420 --> 30:28.940
所以我们这边不应该是用view

30:28.940 --> 30:31.180
而是应该是用priceable

30:32.460 --> 30:33.180
priceable

30:33.180 --> 30:34.460
好 然后里面

30:34.460 --> 30:36.540
里面的话就是一个text

30:37.180 --> 30:39.260
大家这边就是清除

30:41.730 --> 30:43.650
历史记录

30:44.450 --> 30:44.850
OK

30:44.850 --> 30:46.210
好 然后我这边的话

30:46.210 --> 30:47.730
后面我还加了一个小图标

30:47.730 --> 30:49.810
加了一个这个叉叉的小图标

30:50.210 --> 30:51.490
所以我这边的话把那个

30:52.690 --> 30:54.130
把那个引入一下

30:54.130 --> 30:55.490
这边import

30:57.890 --> 30:59.410
import

30:59.410 --> 31:00.530
from

31:00.530 --> 31:01.890
这个圈

31:01.890 --> 31:02.850
export

31:02.850 --> 31:03.730
这个图标

31:04.930 --> 31:07.090
这边是这个antdesign

31:07.090 --> 31:08.450
把这个引入

31:08.450 --> 31:09.250
引入了之后

31:09.250 --> 31:10.210
然后接下来下面

31:12.370 --> 31:13.330
下面的话这边

31:14.930 --> 31:15.650
antdesign

31:17.650 --> 31:19.090
用一个单标签就可以了

31:21.540 --> 31:22.260
OK

31:22.260 --> 31:23.700
好 然后加这边

31:23.700 --> 31:24.660
name

31:24.660 --> 31:25.940
等于一个

31:25.940 --> 31:26.980
这个之前是不是用过的

31:27.700 --> 31:28.340
对吧

31:28.740 --> 31:30.260
这边close circle

31:34.030 --> 31:35.390
然后size

31:37.470 --> 31:38.990
然后还有一个corner

31:40.110 --> 31:41.550
corner这边给的是一个

31:42.110 --> 31:43.070
警号666

31:43.870 --> 31:44.190
OK

31:44.830 --> 31:47.550
这边就是取决于你有你的title

31:47.550 --> 31:49.310
是否是历史记录

31:49.870 --> 31:51.390
好 来我们这边来看一下好包史

31:52.270 --> 31:52.990
全部保存

31:55.740 --> 31:56.460
保存之后

31:56.460 --> 31:57.420
然后接下来的话

31:57.420 --> 31:58.540
这边报错了

31:59.500 --> 32:00.540
我看一下报了什么错

32:01.500 --> 32:05.020
co-not-fand-value

32:08.420 --> 32:10.820
无法找到completion-sure

32:11.540 --> 32:12.260
plotter

32:12.260 --> 32:13.060
这里

32:14.420 --> 32:15.540
这里我们还有什么

32:16.260 --> 32:17.060
这边的话

32:17.060 --> 32:18.980
你要把它包起来

32:20.420 --> 32:20.740
对

32:21.460 --> 32:22.740
这边你引入一下

32:25.550 --> 32:26.670
引入仓库

32:29.740 --> 32:30.860
这边的话 import

32:32.140 --> 32:32.940
import

32:32.940 --> 32:34.380
一个 provider

32:36.980 --> 32:39.700
从reactor-redux里面引入

32:39.700 --> 32:40.980
再把你的这个store

32:42.340 --> 32:43.700
import这个store

32:44.500 --> 32:44.980
from

32:45.700 --> 32:48.100
当前目录下面的redux

32:48.100 --> 32:50.180
下面的这个store

32:51.060 --> 32:51.620
引入

32:51.620 --> 32:52.580
好 引入了之后

32:52.580 --> 32:54.340
然后接下来最外层

32:54.340 --> 32:55.540
在他们的最外层

32:56.100 --> 32:57.540
OK 把这个简洩了

32:57.540 --> 32:59.300
最外层这边应该是一个

33:01.140 --> 33:01.860
provider

33:05.950 --> 33:06.430
对吧

33:06.430 --> 33:07.710
最外层是个provider

33:07.710 --> 33:08.990
然后加这边的这个store

33:09.470 --> 33:10.430
等于一个store

33:10.990 --> 33:11.470
OK

33:11.470 --> 33:12.590
那把这个放在里面

33:12.990 --> 33:13.790
给我swag一下

33:14.670 --> 33:14.990
好

33:14.990 --> 33:16.350
然后加这边的话保存

33:17.710 --> 33:18.430
保存了之后

33:18.430 --> 33:19.630
然后加我们这边我们来看一下

33:23.600 --> 33:25.120
这边点击搜索

33:26.000 --> 33:26.640
是不是出来了

33:27.760 --> 33:28.480
对吧

33:28.480 --> 33:29.520
出来了

33:29.520 --> 33:30.640
出来是出来了

33:30.640 --> 33:32.000
为什么这边应该照理说

33:32.000 --> 33:33.680
应该是有一个历史记录才对

33:34.400 --> 33:35.600
这边怎么没出来了

33:37.040 --> 33:38.800
我们这边传的标题是啥呀

33:38.800 --> 33:40.480
我们传的标题是历史搜索

33:42.880 --> 33:43.840
历史搜索

33:44.880 --> 33:45.120
好

33:45.120 --> 33:46.080
你这边再保存

33:48.560 --> 33:49.440
这边是不是出来了

33:50.160 --> 33:50.800
对不对

33:50.800 --> 33:51.680
出来了

33:51.680 --> 33:52.480
出来的话

33:52.480 --> 33:53.360
然后你把那个

33:54.400 --> 33:55.840
把那个就是样式

33:56.480 --> 33:57.760
稍微把它调整一下

33:58.560 --> 33:59.440
这边这个样式

34:00.000 --> 34:00.880
稍微调整一下

34:01.440 --> 34:02.560
这边这个text

34:03.360 --> 34:04.960
首先整个这个presible

34:05.600 --> 34:07.120
这边是挂了一个样式的

34:07.760 --> 34:08.400
style

34:09.280 --> 34:11.920
等于一个stiles

34:13.760 --> 34:18.000
然后点这个clear search history

34:18.640 --> 34:18.960
好

34:18.960 --> 34:20.080
大家这边这个text

34:20.720 --> 34:21.520
text了这边

34:22.640 --> 34:23.200
style

34:24.000 --> 34:26.560
等于一个stiles

34:29.070 --> 34:31.630
点这个title text

34:32.350 --> 34:32.590
好

34:32.590 --> 34:34.350
大家这边我还给了一个margin write

34:34.990 --> 34:36.190
所以我这边给了一个数组

34:37.390 --> 34:37.870
数组

34:38.430 --> 34:38.750
好

34:38.750 --> 34:41.230
大家这边还给了一个margin

34:43.070 --> 34:44.110
margin write

34:44.190 --> 34:45.150
对应是10

34:45.710 --> 34:46.030
好

34:46.030 --> 34:47.230
大家这边我们来看一下

34:47.790 --> 34:48.190
保存

34:50.620 --> 34:51.500
这边是不是出来了

34:52.380 --> 34:52.780
对不对

34:53.420 --> 34:54.860
清除历史基论

34:54.860 --> 34:56.140
这个会不会太多了点

34:56.140 --> 34:56.380
10

34:57.100 --> 34:57.820
给个5吧

34:59.340 --> 34:59.740
保存

35:01.580 --> 35:01.900
OK

35:01.900 --> 35:02.380
是不是差不多

35:03.420 --> 35:04.300
对吧

35:04.300 --> 35:04.540
OK

35:06.300 --> 35:06.700
好

35:06.700 --> 35:08.380
然后接下来的话

35:09.420 --> 35:10.140
接下来继续

35:11.020 --> 35:11.180
好

35:11.180 --> 35:12.700
接下来的话是下面部分

35:13.660 --> 35:16.220
下面部分的话就是应该是根据什么

35:16.700 --> 35:18.940
根据你这边传过来的这个data

35:19.420 --> 35:21.020
是不是使用那个map

35:21.980 --> 35:22.300
是吧

35:22.300 --> 35:23.980
挂在这把它便利出来

35:24.780 --> 35:25.100
对不对

35:25.660 --> 35:25.900
好

35:25.900 --> 35:26.540
所以下面

35:26.540 --> 35:28.300
下面的话我这边首先给一个view

35:28.860 --> 35:30.140
这个外称的容器

35:30.700 --> 35:31.660
这边style

35:32.460 --> 35:33.740
等于一个stiles

35:34.460 --> 35:36.540
点itemcontainer

35:37.420 --> 35:37.740
好

35:37.740 --> 35:38.700
然后加里面

35:38.700 --> 35:41.100
里面的话就是data

35:41.980 --> 35:42.620
点map

35:44.300 --> 35:44.700
好

35:44.700 --> 35:45.740
然后function

35:48.210 --> 35:50.130
这边拿到每一项

35:51.490 --> 35:53.730
拿到每一项以及index

35:54.370 --> 35:54.690
好

35:54.690 --> 35:55.730
这边的话返回

35:57.250 --> 35:58.370
返回一个

35:59.410 --> 36:00.450
一段gsta

36:01.090 --> 36:01.330
好

36:01.330 --> 36:03.010
这边这边的话还是要干嘛呢

36:03.010 --> 36:05.010
还是要做一个判断

36:05.010 --> 36:08.130
看你是历史搜索还是热门搜索

36:08.130 --> 36:09.330
如果是历史搜索的话

36:09.330 --> 36:11.730
我这边后面我会补一个那个叉叉

36:12.770 --> 36:14.130
一个叉叉的这个图标

36:14.850 --> 36:15.330
ok

36:15.330 --> 36:17.730
所以说我们这边还是要做一个判断

36:18.290 --> 36:19.250
判断你这边

36:20.370 --> 36:22.770
是否是等于一个历史搜索

36:23.330 --> 36:24.850
如果是等于历史搜索

36:24.850 --> 36:26.450
我返回这一段gsta

36:26.450 --> 36:28.850
否则返回这一段gsta

36:29.810 --> 36:30.050
ok

36:30.050 --> 36:31.090
好

36:31.090 --> 36:33.650
如果是历史搜索

36:33.650 --> 36:35.970
让我这边的话对应的是一个可点击的

36:35.970 --> 36:38.130
所以我这边是一个prisable

36:39.170 --> 36:39.970
prisable

36:39.970 --> 36:41.010
然后接下来这边的话

36:41.650 --> 36:42.930
里面是text

36:44.610 --> 36:47.490
text里面就是一个一个的item

36:48.370 --> 36:50.210
以及这边的话会有一个这个叉叉

36:52.300 --> 36:53.100
会有一个叉叉

36:53.740 --> 36:53.980
好

36:53.980 --> 36:55.500
大家如果是这个

36:56.140 --> 36:57.340
不是历史搜索

36:57.340 --> 36:58.140
那我这个

36:58.140 --> 37:00.300
这边的话就是一个普通的这个view就可以了

37:01.180 --> 37:01.820
对吧

37:01.820 --> 37:03.340
view里面一个text

37:03.980 --> 37:06.460
text里面item

37:07.180 --> 37:08.700
这边要把这个样式给一下

37:09.420 --> 37:10.940
这边对应的是style

37:11.660 --> 37:15.900
等于一个style.item

37:16.540 --> 37:17.900
那这边还需要一个t

37:18.540 --> 37:20.140
t的话我就直接用index

37:20.780 --> 37:21.820
直接用这个下标了

37:22.460 --> 37:22.620
好

37:22.620 --> 37:23.980
这边的话也是有样式的

37:24.700 --> 37:25.340
style

37:25.340 --> 37:30.300
等于一个style.item

37:31.180 --> 37:31.580
text

37:32.860 --> 37:34.140
这边对应了就是什么呢

37:34.140 --> 37:34.700
对应了就是

37:35.260 --> 37:35.980
下面这一块

37:36.940 --> 37:37.100
好

37:37.100 --> 37:37.740
上面这一块

37:37.740 --> 37:38.700
上面这一块呢

37:38.700 --> 37:40.140
其实样式是一样的

37:40.220 --> 37:41.180
包括你这边这个

37:42.220 --> 37:42.540
这个

37:43.180 --> 37:44.060
它也是有的

37:45.180 --> 37:45.660
对吧

37:45.660 --> 37:47.260
包括你这个prisable

37:47.260 --> 37:49.580
prisable这边也应该对应这个样式

37:51.760 --> 37:52.080
对不对

37:52.080 --> 37:53.680
只不过后面多了一个什么

37:53.680 --> 37:54.640
就多了一个

37:55.520 --> 37:56.560
这个图标

37:57.600 --> 37:58.240
对吧

37:58.240 --> 37:58.480
好

37:58.480 --> 38:00.160
这边也是对应有一个key

38:01.760 --> 38:02.480
OK

38:02.480 --> 38:03.600
好来我们这边来看一下

38:04.080 --> 38:04.560
保存

38:05.600 --> 38:06.240
保存之后

38:06.240 --> 38:07.280
然后下这边来看一下

38:07.760 --> 38:08.320
是不是出来了

38:09.600 --> 38:10.240
对不对

38:10.240 --> 38:11.280
这里就出来了

38:11.600 --> 38:12.160
出来了之后

38:12.160 --> 38:13.920
然后接下来你这边来把这个

38:13.920 --> 38:15.920
这边的话样式再稍微调整一下

38:16.960 --> 38:19.040
这边的话我是给的是一个数组

38:20.480 --> 38:20.880
数组

38:21.600 --> 38:23.040
然后你如果是上面的话

38:23.040 --> 38:24.880
它这边还会再应用一个样式

38:25.600 --> 38:26.640
这边的话叫做

38:26.640 --> 38:28.480
history item

38:29.040 --> 38:30.240
这边history item

38:30.240 --> 38:31.360
其实就是设置什么呢

38:32.160 --> 38:33.200
其实就是设置了一下

38:33.200 --> 38:35.200
它的flex directions

38:35.200 --> 38:36.400
对吧

38:36.400 --> 38:36.720
OK

38:37.520 --> 38:37.760
好

38:37.760 --> 38:39.040
然后接下来这边

38:39.040 --> 38:39.520
这边的话

38:39.520 --> 38:40.880
我也是给的是一个数组

38:42.240 --> 38:43.920
数组

38:43.920 --> 38:44.160
好

38:44.160 --> 38:46.640
这边那就是稍微给一个这个

38:47.520 --> 38:48.320
margin write

38:49.920 --> 38:51.200
给个margin write

38:51.200 --> 38:52.080
给个五项数

38:53.040 --> 38:53.440
好

38:53.440 --> 38:54.480
然后加这边保存

38:56.400 --> 38:56.640
好

38:56.640 --> 38:57.280
你看一下这边

38:58.160 --> 38:59.200
效果是不是就出来了

39:00.400 --> 39:00.800
对不对

39:01.360 --> 39:02.240
上面的话这边

39:02.240 --> 39:03.600
清除历史记录

39:03.600 --> 39:04.800
然后加这边

39:04.800 --> 39:05.440
历史记录

39:05.440 --> 39:06.720
每一个是有这个的

39:07.440 --> 39:10.320
是有这个可以点击的这个图标的

39:10.480 --> 39:11.360
然后热门搜索

39:11.360 --> 39:13.200
热门搜索这边就啥都没有

39:13.200 --> 39:15.120
就简单的把它渲染出来

39:15.840 --> 39:16.400
就OK了

39:17.200 --> 39:17.440
OK

39:18.240 --> 39:18.480
好

39:18.480 --> 39:19.840
然后接下来这一瓶

39:19.840 --> 39:20.560
这一瓶的话

39:20.560 --> 39:22.160
我们这边就写完了

39:22.720 --> 39:23.360
写完了之后

39:23.360 --> 39:23.920
然后接下来

39:23.920 --> 39:24.560
你这边的话

39:24.560 --> 39:26.240
是应该是有对应的这个功能的

39:26.800 --> 39:27.200
对不对

39:27.200 --> 39:28.480
清除历史记录

39:29.040 --> 39:30.480
我们这边我们来写一下

39:30.480 --> 39:32.160
清除历史记录

39:32.160 --> 39:34.240
对应的在在这个位置

39:34.240 --> 39:34.960
那这个位置的话

39:34.960 --> 39:36.560
我们这边就要给它绑定一个

39:37.360 --> 39:38.000
这边

39:39.280 --> 39:39.840
price

39:40.640 --> 39:41.600
等于一个什么呢

39:41.600 --> 39:43.040
这边就是应该是clear

39:43.840 --> 39:44.160
or

39:45.200 --> 39:46.400
or history

39:47.920 --> 39:49.120
OK handle

39:51.150 --> 39:52.830
这边的话对应的就是function

39:55.070 --> 39:55.870
function

39:55.870 --> 39:56.350
这里

39:57.150 --> 39:59.070
好这边这边的话应该怎么做

40:00.190 --> 40:01.550
这边应该怎么做

40:01.550 --> 40:03.310
这边的话是不是就是应该是

40:04.590 --> 40:05.790
派发一个

40:06.750 --> 40:07.950
这个action

40:08.590 --> 40:09.070
对不对

40:09.070 --> 40:11.470
派发一个action到reducer那边

40:12.430 --> 40:13.790
派发一个action

40:13.790 --> 40:16.750
说我们这边的话来的这个snice这边

40:16.750 --> 40:18.030
snice这边这边的话

40:18.030 --> 40:20.270
我们就需要来写这么一个reducer

40:21.310 --> 40:22.510
这个是什么呢

40:22.510 --> 40:23.230
清除

40:25.390 --> 40:26.990
清除整个

40:27.630 --> 40:28.430
历史记录

40:29.870 --> 40:30.110
OK

40:30.830 --> 40:32.190
这个的话其实我们

40:32.190 --> 40:33.550
就是上一个项目

40:33.550 --> 40:35.470
就是那个百度翻译那个

40:35.470 --> 40:36.590
这个我们是写过的

40:37.390 --> 40:38.030
是不是写过的

40:38.830 --> 40:39.470
对吧

40:39.470 --> 40:41.150
这边我们再来写一下吧

40:41.230 --> 40:42.830
clear or

40:43.630 --> 40:44.830
然后history

40:47.870 --> 40:50.030
tory history

40:51.950 --> 40:54.190
这边对应的是一个函数

40:54.750 --> 40:56.510
好这边呢会传入什么呢

40:56.510 --> 40:58.270
传入这个state

40:59.070 --> 41:01.870
传入state之后咱现在我们这边把这个state

41:02.510 --> 41:04.510
上面的这个history

41:05.070 --> 41:07.630
应该是叫做search history

41:07.630 --> 41:09.150
把它重新清空

41:10.830 --> 41:11.550
对不对

41:11.550 --> 41:13.230
好那清空之后咱现在这边呢

41:13.310 --> 41:14.430
你要把那个

41:14.430 --> 41:15.630
把它导出一下

41:16.270 --> 41:17.470
这边export

41:19.150 --> 41:19.710
const

41:20.830 --> 41:21.230
然后

41:23.070 --> 41:24.430
这边把它导入一下

41:28.190 --> 41:30.110
等于一个snice

41:30.830 --> 41:32.510
点actions

41:33.470 --> 41:34.830
这边呢就是导出

41:37.390 --> 41:40.750
导出这个action creator

41:43.360 --> 41:43.920
对吧

41:43.920 --> 41:45.760
上面的话是导出这个reducer

41:48.290 --> 41:48.850
导出

41:49.810 --> 41:51.650
导出reducer

41:52.210 --> 41:55.330
好这边导出了这个action creator之后

41:55.330 --> 41:57.570
然后接下来来到你的这个label看

41:57.810 --> 41:59.970
那你这边的话是不是应该是要引入一下

42:00.610 --> 42:01.410
对吧

42:01.410 --> 42:01.810
好

42:01.810 --> 42:04.210
然后接下来我们这边在这上面

42:04.210 --> 42:05.250
import

42:06.770 --> 42:07.810
import

42:08.290 --> 42:11.860
这边的话

42:11.860 --> 42:14.420
clear or history

42:14.660 --> 42:15.940
然后from

42:15.940 --> 42:17.220
redux

42:17.220 --> 42:18.260
snice

42:18.260 --> 42:19.540
除此之外的话

42:19.700 --> 42:22.260
除此之外的话你这边还需要引一个东西

42:23.540 --> 42:24.740
这边的话是

42:24.740 --> 42:26.900
use dispatch

42:27.700 --> 42:29.140
把它引进来一下

42:29.140 --> 42:30.180
好引进来之后

42:30.180 --> 42:31.300
然后接下来的话这边

42:31.780 --> 42:33.700
const一个dispatch

42:34.900 --> 42:37.460
等于一个use dispatch

42:38.420 --> 42:39.060
对吧

42:39.060 --> 42:40.100
好然后就要在这边

42:40.100 --> 42:41.620
这边的话我们就应该是干嘛

42:41.620 --> 42:44.260
是派发一个dispatch

42:45.780 --> 42:46.980
派发一个action

42:46.980 --> 42:48.100
这个action通过什么呢

42:48.180 --> 42:50.500
通过这个clear or history

42:50.500 --> 42:51.860
这边它应该是

42:51.860 --> 42:52.820
就可以生成

42:52.820 --> 42:54.420
这边它是一个方法

42:54.420 --> 42:56.340
因为它是个action creator嘛

42:56.340 --> 42:56.740
对吧

42:56.740 --> 42:57.700
你调用之后

42:57.700 --> 42:59.060
它会生成一个action

42:59.060 --> 43:00.980
action然后通过dispatch

43:00.980 --> 43:02.580
派发到reducer

43:03.300 --> 43:03.620
OK

43:04.660 --> 43:06.020
好那整个最外层的话

43:06.020 --> 43:07.380
你是不是需要询问一下

43:08.020 --> 43:09.140
所以我们这边

43:09.140 --> 43:10.260
有一个这个anert

43:11.620 --> 43:12.580
这边anert

43:14.660 --> 43:15.620
anert

43:16.340 --> 43:17.860
anert

43:17.860 --> 43:19.860
然后点anert

43:19.860 --> 43:21.860
这个方法

43:21.860 --> 43:23.860
这个方法接受那么三个参数

43:23.860 --> 43:25.540
首先第一个是它的标题

43:26.900 --> 43:27.620
对吧

43:27.620 --> 43:28.980
第二个的话是内容

43:29.700 --> 43:30.340
是否

43:31.380 --> 43:37.060
要删除所有的搜索记录

43:38.100 --> 43:38.500
对吧

43:39.220 --> 43:40.500
好然后第三个

43:40.500 --> 43:42.500
第三个的话对应的就是一个数组

43:43.380 --> 43:44.100
数组里面

43:44.820 --> 43:46.260
对应了两个按钮

43:46.260 --> 43:47.620
首先第一个按钮

43:47.620 --> 43:48.660
这边的text

43:49.220 --> 43:50.820
对应的是取消

43:51.540 --> 43:53.060
好然后再第二个按钮

43:54.180 --> 43:55.460
然后text

43:56.180 --> 43:57.540
对应的就是确定

44:01.500 --> 44:01.900
确定

44:02.940 --> 44:04.860
好然后再这边对应的有一个

44:04.860 --> 44:06.140
unprice

44:08.220 --> 44:09.660
它对应的话

44:09.660 --> 44:10.700
是不是就是应该是

44:10.700 --> 44:11.420
做这件事情

44:12.460 --> 44:13.260
对不对

44:13.260 --> 44:13.980
OK

44:13.980 --> 44:15.500
好然后我们来看一下

44:15.500 --> 44:16.380
来看一下好不好是

44:17.340 --> 44:17.980
全部保存

44:19.340 --> 44:19.900
保存之后

44:19.900 --> 44:21.260
然后再这边来看一下

44:21.260 --> 44:21.820
点击

44:21.820 --> 44:22.940
我现在点击这个

44:22.940 --> 44:23.980
清除历史

44:23.980 --> 44:24.300
点击

44:25.180 --> 44:28.220
这边是否要删除所有的历史记录

44:28.220 --> 44:28.860
点击确定

44:29.660 --> 44:30.540
是不是这边就删除了

44:31.660 --> 44:33.180
删除是删除了

44:33.180 --> 44:33.740
删除的话

44:33.740 --> 44:35.340
它是不是应该也没有了

44:36.860 --> 44:38.060
它是不是应该也没有了

44:38.780 --> 44:40.380
好了我们这边稍微有点问题

44:40.940 --> 44:42.540
我们这边应该是下面的这个结构

44:43.740 --> 44:44.780
有一点问题

44:45.740 --> 44:47.020
好我看一下

44:48.780 --> 44:50.060
好这里的话

44:50.060 --> 44:51.420
我看这个nabel

44:51.420 --> 44:53.180
nabel come这个没问题

44:53.180 --> 44:54.940
应该是在search is green这里

44:55.580 --> 44:56.380
这里

44:56.380 --> 44:57.420
这里的话

44:58.380 --> 45:00.380
我们这边是需要来判断

45:00.380 --> 45:02.940
就是这边你这个历史搜索这边

45:02.940 --> 45:04.060
这边上要判断一下

45:05.260 --> 45:06.220
就这个第一个

45:06.220 --> 45:06.460
第一个

45:06.460 --> 45:07.500
然后我们稍微判断一下

45:08.380 --> 45:10.140
这边那就是search history

45:10.780 --> 45:11.900
我们判断一下

45:13.820 --> 45:14.540
判断一下

45:14.700 --> 45:15.980
它的这个认识

45:16.940 --> 45:19.100
它的认识如果大于零

45:19.660 --> 45:20.060
对吧

45:20.060 --> 45:20.860
大于零的话

45:20.860 --> 45:21.660
让我们这边的话

45:22.220 --> 45:23.020
渲染这个

45:24.460 --> 45:25.260
否则的话

45:25.260 --> 45:26.300
这边就是一个空

45:27.340 --> 45:27.980
对吧

45:27.980 --> 45:28.780
应该是这个样子

45:29.900 --> 45:30.540
好来我们这边

45:30.540 --> 45:31.180
我们保存一下

45:32.220 --> 45:32.940
保存了之后

45:32.940 --> 45:34.380
然后下这边来看一下

45:34.380 --> 45:35.020
是不是OK了

45:36.220 --> 45:36.940
对不对

45:36.940 --> 45:37.740
这里就OK了

45:39.100 --> 45:39.980
OK是OK了

45:39.980 --> 45:40.700
这边的话这个

45:41.740 --> 45:44.220
我这边是不是忘记挂那个

45:44.300 --> 45:45.340
这边最外层的话

45:45.340 --> 45:46.620
应该是有一个

45:48.620 --> 45:51.180
这边stank style

45:53.100 --> 45:54.460
style等于一个style

45:54.460 --> 45:55.660
是点container

45:56.460 --> 45:57.100
保存一下

46:00.420 --> 46:01.460
OK这下好多了

46:02.020 --> 46:02.660
是吧

46:02.660 --> 46:03.380
OK

46:03.380 --> 46:04.420
我们这边再来看一下

46:07.300 --> 46:08.020
点击搜索

46:09.220 --> 46:10.500
刚才大家没看到

46:10.500 --> 46:10.900
对吧

46:10.900 --> 46:11.860
点击搜索

46:11.860 --> 46:12.660
进来

46:12.660 --> 46:13.940
我得重新那个一下

46:15.060 --> 46:15.700
等一下

46:15.860 --> 46:16.740
重新刷新一下

46:20.370 --> 46:21.410
好等下刷新一下

46:26.460 --> 46:26.780
好

46:26.780 --> 46:28.700
然后接下来这边点击搜索

46:29.660 --> 46:30.860
这边一开始是不是有的

46:31.580 --> 46:31.980
有的话

46:31.980 --> 46:32.940
然后接下来我们这边

46:32.940 --> 46:34.220
清除历史记录

46:35.340 --> 46:36.620
然后在这边确定

46:37.340 --> 46:37.900
就搞定了

46:38.780 --> 46:39.100
对不对

46:39.660 --> 46:40.060
搞定了

46:41.020 --> 46:42.140
OK好

46:42.140 --> 46:43.180
这个会做了之后

46:43.180 --> 46:43.820
然后接下来

46:43.820 --> 46:45.100
我这个清除这个部分

46:46.300 --> 46:47.020
就是我这边

46:47.900 --> 46:49.500
这边我就是只清楚

46:49.500 --> 46:50.380
这个某一些

46:51.180 --> 46:52.460
只清楚某一些

46:52.540 --> 46:53.660
那这个的话好不好做

46:54.700 --> 46:56.060
这个是不是基本是一样的

46:56.780 --> 46:57.180
对不对

46:57.580 --> 46:59.420
然后我们来到这边snice这边

46:59.900 --> 47:02.460
我们先把这个对应的这个reducer

47:03.180 --> 47:03.900
先把它写了

47:04.620 --> 47:06.700
这边就是清除单个历史记录

47:09.860 --> 47:13.540
清除单个历史记录

47:14.580 --> 47:16.740
这边呢clear1

47:17.940 --> 47:19.300
然后这个history

47:23.260 --> 47:23.900
然后对应

47:26.210 --> 47:28.050
这边的话state

47:28.530 --> 47:29.090
它这边的话

47:29.090 --> 47:30.530
我们就需要有一个是吧

47:30.530 --> 47:31.810
所以有一个index

47:32.690 --> 47:34.130
所以我们这边通过action

47:34.930 --> 47:35.650
这边action

47:36.210 --> 47:36.610
好

47:36.610 --> 47:38.370
然后接下来这边首先const

47:38.370 --> 47:39.010
一个ar2

47:39.650 --> 47:41.250
等于一个点点点

47:42.290 --> 47:42.770
state

47:43.330 --> 47:45.170
点search history

47:46.050 --> 47:48.370
把这个你之前的历史记录拿出来

47:48.370 --> 47:49.410
放到这个数组里面

47:49.970 --> 47:50.290
好

47:50.290 --> 47:51.170
然后接下来这边

47:51.170 --> 47:52.930
ar2.splice

47:54.850 --> 47:55.170
好

47:55.170 --> 47:55.570
这边呢

47:55.570 --> 47:56.770
就是应该是action

47:57.410 --> 47:58.050
什么

47:58.050 --> 47:59.730
它会有一个payload

48:00.530 --> 48:01.010
对吧

48:01.010 --> 48:01.970
然后接下来这边

48:01.970 --> 48:02.690
删除一个

48:03.570 --> 48:04.290
ok

48:04.290 --> 48:05.170
删除完了之后

48:05.170 --> 48:06.530
然后接下来这边再干嘛

48:07.330 --> 48:09.650
state点search history

48:09.650 --> 48:10.450
等于这个

48:12.210 --> 48:13.810
你看我们这边这个reducer

48:13.810 --> 48:15.570
它不会去修改前面的

48:15.570 --> 48:16.290
而是干嘛呢

48:16.290 --> 48:17.730
拿一个这个新的数组

48:17.730 --> 48:18.610
是不是去覆盖它

48:19.490 --> 48:19.810
对不对

48:20.370 --> 48:20.850
覆盖它

48:22.290 --> 48:22.610
好

48:22.610 --> 48:24.450
然后把这个把它导出一下

48:27.300 --> 48:27.940
把它导出

48:28.660 --> 48:29.460
导出了之后

48:29.460 --> 48:31.220
然后接下来来到这边

48:32.180 --> 48:32.900
来到这边

48:32.900 --> 48:33.220
这边呢

48:33.220 --> 48:34.500
就是把它导入一下

48:36.100 --> 48:36.420
对吧

48:37.060 --> 48:38.100
导入一下之后

48:38.100 --> 48:39.460
然后接下来这边

48:39.460 --> 48:40.740
这边它的榜事件

48:41.380 --> 48:42.580
unprice

48:43.140 --> 48:43.700
等于

48:45.460 --> 48:45.700
好

48:45.700 --> 48:46.020
这里

48:48.290 --> 48:48.770
这里的话

48:48.770 --> 48:51.970
你需要把那个index把它传过去

48:51.970 --> 48:52.930
所以我们这边的话

48:52.930 --> 48:53.890
这样子来

48:53.890 --> 48:54.450
这边呢

48:54.450 --> 48:55.490
是clear

48:56.210 --> 48:57.010
clear

48:57.010 --> 48:57.810
这个one

48:58.610 --> 48:59.650
这个history

49:01.650 --> 49:03.410
history handle

49:04.050 --> 49:04.530
这边呢

49:04.530 --> 49:06.770
把这个index把它传过去

49:08.370 --> 49:08.770
好

49:08.770 --> 49:09.970
然后接下来来到这边

49:11.250 --> 49:11.730
function

49:13.410 --> 49:15.490
这边获取到这个index

49:16.050 --> 49:16.770
获取到之后

49:16.770 --> 49:18.050
然后现在这边要做的事情

49:18.050 --> 49:18.770
是不是很适应的

49:19.330 --> 49:20.210
把它复制过来

49:20.770 --> 49:20.850
好

49:20.850 --> 49:22.370
这边是否要删除

49:22.770 --> 49:24.290
这里就是应该是本条

49:25.810 --> 49:26.370
对吧

49:26.370 --> 49:27.730
本条搜索记录

49:28.610 --> 49:28.850
好

49:28.850 --> 49:30.210
然后接下来这边dispatch

49:30.210 --> 49:31.410
就是应该是dispatch谁

49:31.970 --> 49:33.010
dispatch他

49:34.930 --> 49:35.490
对吧

49:35.490 --> 49:36.690
onehistory

49:36.690 --> 49:38.210
然后把这个index

49:39.330 --> 49:40.770
把它放进去

49:41.650 --> 49:42.290
ok

49:42.290 --> 49:43.090
那这一块的话

49:43.090 --> 49:44.290
也就写完了

49:44.290 --> 49:44.530
好

49:44.530 --> 49:45.170
来我们这边我们来

49:45.170 --> 49:45.810
看一下好不好使

49:46.530 --> 49:47.010
保存

49:49.170 --> 49:49.810
保存之后

49:49.810 --> 49:50.450
然后像我这边

49:50.450 --> 49:51.490
我比如说我点一个

49:51.490 --> 49:52.850
比如到门空间

49:52.850 --> 49:53.730
你看

49:53.730 --> 49:55.730
是否要删除本条

49:55.730 --> 49:56.690
搜索记录

49:56.690 --> 49:57.730
然后点确定

49:57.810 --> 49:59.250
你看这条是不是就删除了

49:59.810 --> 50:00.690
我不是药绳

50:01.170 --> 50:01.410
走

50:02.370 --> 50:03.010
是不是就删除了

50:03.570 --> 50:04.530
我这边我就删除

50:05.330 --> 50:05.810
删除

50:06.690 --> 50:07.090
删除

50:08.450 --> 50:09.250
把它全部删除

50:10.850 --> 50:11.650
全部删除之后

50:11.650 --> 50:12.770
然后接下来最后一个

50:12.770 --> 50:14.770
你看现在只剩一个阿根正传

50:14.770 --> 50:15.410
然后最后一个

50:15.410 --> 50:16.610
我再把它删除掉的话

50:17.170 --> 50:17.410
走

50:18.210 --> 50:19.890
是不是就只剩一个热门搜索

50:21.010 --> 50:21.330
对不对

50:21.810 --> 50:21.970
ok

50:22.530 --> 50:22.690
好

50:22.690 --> 50:24.690
那我们这个关于这个搜索页面

50:24.690 --> 50:26.930
他这边这个默认的这个内容

50:27.410 --> 50:28.610
我们就写完了

50:29.250 --> 50:29.650
ok

50:30.450 --> 50:33.490
然后至于这个具体的用户在这里

50:33.490 --> 50:34.210
输入内容

50:34.210 --> 50:35.090
然后接下来显示

50:35.090 --> 50:36.690
这个搜索的这个内容

50:36.690 --> 50:38.290
那这个的话我们下几课来写

50:38.850 --> 50:39.730
好吧

50:39.730 --> 50:41.570
这期课也讲了50分钟了

50:41.570 --> 50:43.410
大家把这个效果先写一下吧

50:44.290 --> 50:44.770
ok

50:44.770 --> 50:45.810
把这个效果先写一下

50:46.450 --> 50:47.890
好这期课就先到这里

50:48.610 --> 50:49.010
再见

