WEBVTT

00:00.850 --> 00:07.730
OK 欢迎回来 这就看到了 我们把这个列表组建的最后一个啊 就是这个section list

00:08.350 --> 00:15.270
我们把它看一下啊 这个section list的话 我们之前在做这个rn快速入门的时候 我们也是见到过的

00:15.830 --> 00:21.550
对吧 他和这个flatlist 他这个区别就是什么 他有一个这个标题啊

00:22.190 --> 00:26.230
就是可以对我们的这个列表内容进行一个这个分组

00:26.950 --> 00:30.150
OK 那我们这边的话就还是来写一个实际的例子吗

00:30.630 --> 00:35.990
把我们之前的那个渲染电影列表的那个例子 我们把它改一下啊 给他添加一个这个分组

00:36.670 --> 00:39.750
好 我们这边呢 我们首先来看一下关于这个section list

00:40.710 --> 00:41.910
看到一个使用方法

00:42.710 --> 00:45.750
他只需要提供什么呢 提供 render item

00:46.710 --> 00:52.710
Render section header和这个section 是啊 这些的话是必要属性

00:53.190 --> 00:54.870
OK 你也可以在这边来看一下

00:55.670 --> 00:56.150
把那个

00:57.430 --> 01:02.630
rn的官网打开的components components 然后下面这个section list

01:03.110 --> 01:06.470
也他这边呢 是不是这个必要属性 他这边是不是加了这个点的

01:06.950 --> 01:12.310
那必要属性的话就这两个 一个是 render item 一个是什么呢 一个是section

01:13.110 --> 01:13.430
OK

01:14.310 --> 01:20.950
好 我们这边来看一下他的语法啊 他这边这个section 是section 是的话对应的就是什么 是不是对应的就是你的数据

01:21.590 --> 01:25.430
这个section 是就类似于之前我们那个flat list

01:25.910 --> 01:27.270
他的什么 是不是他的data

01:27.990 --> 01:32.630
对不对啊 你主要名字不一样的啊 之前这个flat list他的这个叫做data

01:33.110 --> 01:35.430
那section list的话 他这边叫做section

01:36.310 --> 01:40.150
这个是必要的 然后还有一个是什么呢 还有一个是 render item

01:40.710 --> 01:47.110
那这个的话和之前那个flat list 是一样的啊 他就是你每一块怎么进行这个渲染

01:47.990 --> 01:50.630
对吧啊 然后常用的属性 还有一些

01:51.030 --> 01:59.670
比如这个key extractor 那这个和那个flat list 是一样的啊 表示这个你列表项目的一个围标时

02:00.470 --> 02:08.790
然后 render section header 这个的话是用来渲染这个头部试图的啊 然后后面这两个说了啊 然后还有一个这个

02:09.590 --> 02:11.430
还有一个这个 sticky

02:11.830 --> 02:16.870
然后section header enable 这个是什么呢 这个的话是表示你的这个header

02:17.830 --> 02:22.310
他是否就是呃粘连在屏幕顶端

02:23.190 --> 02:30.390
看到没有 是否粘连在屏幕顶端 就比如说我这边啊 等一下我把这个投屏 我打开一下

02:31.350 --> 02:31.910
稍等啊

02:33.910 --> 02:35.990
投屏 投屏

02:36.870 --> 02:41.350
然后这边手机投屏立即开始 okay

02:43.380 --> 02:44.020
啊 这边

02:44.660 --> 02:50.100
connect啊 就这边这边你看一下 就比如说我这边我走 你看现在的话这边是不是有个header

02:50.820 --> 02:54.660
对吧 让他叫我这边让我走 你看注意 这边的话是不是有一个即将上映

02:55.300 --> 03:03.540
对不对啊 让他叫这边走 你看这边有一个这种粘性的效果啊 有个粘性的效果 而且这个比如这个正在上映

03:03.860 --> 03:09.220
正在上映 然后将我往上滑的时候 你看他这边是不是固定在这个屏幕的这个顶端的

03:10.020 --> 03:18.500
对不对 直到什么呢 直到就是这个东西被替换掉啊 这边即将上映 然后把它给替换掉 你看吧 把他推出去了

03:19.620 --> 03:22.260
推出去了 这就是一个粘性定位

03:23.540 --> 03:28.340
ok 好 那我们把这个粒子我们把它写一下吧 好吧 把它写一下

03:29.860 --> 03:36.820
啊 这个粒子的话其实基本上是差不多的啊 让我这边让这样子 我把这一块关键呢 我把它

03:37.380 --> 03:39.220
上了啊 其他的话不用上

03:39.940 --> 03:42.820
其他的就和那个flat list是一样的

03:43.540 --> 03:49.380
那我们来看一下吧 这边呢 首先引入这个use state use effect 然后引入这个组件

03:49.860 --> 03:56.340
然后既然这边query movies 是不是从那个data service里面 什么拿到那个发送请求的那个

03:57.380 --> 04:02.420
接口函数 对不对 然后这个的话是我们要先这个渲染的这个电影

04:02.900 --> 04:07.940
信息的这个组件 ok 好 这边呢 获取这个屏幕的宽高啊

04:09.060 --> 04:15.960
获取获取屏幕的宽高

04:17.720 --> 04:23.080
ok 好 然后接下来这边这边呢 初始化这个电影数据 你看这边是不是获取第一页的数据

04:23.400 --> 04:27.240
这边获取这个第二页数据 你就说这个获取这个前十条

04:28.680 --> 04:31.800
因为我们这边是做模拟吗 获取前

04:31.880 --> 04:40.680
前十条数据啊 然后这样这个是获取第二个

04:42.280 --> 04:43.000
十条数据

04:44.840 --> 04:46.200
对吧 这个是获取第一个

04:47.400 --> 04:50.920
第一个十条数据 那这个就是获取11到20

04:51.880 --> 04:59.240
ok 好 大家这边这边呢 这个第一个section data这个是不是很明显拿来存储这个就是数据的

05:00.200 --> 05:07.080
对吧 好 大家这边这个notenote的话这个loaded这个就是那个加载条和之前是一样的

05:07.720 --> 05:11.880
啊 好 然后接下来的话 这边这个use effect好 看一下这里

05:13.000 --> 05:20.520
看一下这里啊 这里的话set section data啊 不是说直接就把那个你这边display in movies

05:20.920 --> 05:26.520
incoming movies啊 就放进去了 而是按照什么呢 按照这边这样的结构

05:26.760 --> 05:33.640
看到没有 按照这边这样的结构 这边的这个结构是什么样子的

05:34.520 --> 05:44.600
首先是一个大数组 大数组里面对应的是一个一个的对象对象里面有两个属性 哪两个属性

05:45.160 --> 05:48.920
一个是你的data 一个是你的title

05:49.640 --> 05:52.760
看到没有 第二个data title

05:53.320 --> 05:55.320
ok 所以你看我们这边怎么写的

05:56.440 --> 06:02.360
这边是不是对应我们的这个title正在上映 然后这个对应的是什么 即将上映

06:02.760 --> 06:06.840
然后加这边这个data对应的是什么 是不是这边就是头10个数据

06:07.240 --> 06:10.120
那加这边这个data对应的是什么 是不是第二个

06:10.680 --> 06:11.720
这个10个数据

06:12.680 --> 06:17.320
ok 好 然后加这边的话 把这个set loaded设置为这个true

06:18.040 --> 06:25.800
ok 好 然后加这边呢 这个是渲染标题啊 这个是渲染这个加载条 这些都是一样的啊就不说了

06:26.280 --> 06:28.040
好 来 我们这边让我们来写一下这个

06:28.680 --> 06:29.560
underlist

06:31.740 --> 06:33.420
这个是渲染电影列表

06:34.300 --> 06:38.540
方形 然后under list

06:40.730 --> 06:41.450
underlist

06:42.090 --> 06:43.850
他就是应该是返回什么

06:45.050 --> 06:48.730
他这边的话 是不是就是应该是返回一个section list

06:50.170 --> 06:52.970
对不对 他是一个单主键

06:54.730 --> 06:59.770
ok 然后里面的话就应该是有这么一些需要接收的东西

07:00.490 --> 07:02.970
首先的话是一个这个sections

07:04.170 --> 07:08.490
sections 是不是就是应该是等于你这边的section data

07:09.690 --> 07:15.930
ok section data啊 这是这个 好 然后接下来的话会有一个什么呢 会有一个这个

07:16.650 --> 07:17.690
under item

07:20.150 --> 07:23.030
under item啊 我看一下这边他提示对不对

07:23.510 --> 07:31.590
under item 然后接下来的话 这边通过这个结构拿到item 然后返回一个什么呢 返回一个这个mov

07:32.470 --> 07:39.270
mov item sale 对吧 然后加这边呢这个mov把item传过去好 这边我们再加一个点击事件吧

07:40.390 --> 07:40.790
price

07:44.220 --> 07:48.860
ok 好 这边这边呢 就是一个点击事件 alert

07:49.420 --> 08:01.740
item.title 对吧 点击的电影为

08:03.100 --> 08:08.940
ok 这个是这两个哈 这两个必须要传的 好来我们来看一下现在有没有效果啊 我们保存一下

08:10.940 --> 08:15.100
保存一下之后然后先让我们这边我们来看一下啊 这边效果其实已经出来了

08:16.060 --> 08:21.580
看到没有 已经出来了 但现在这个效果的话其实就和那个flat list 是不是差不多了

08:22.220 --> 08:26.940
啊 点一下 ok啊这个也是ok的 是不是就和flat list差不多

08:28.060 --> 08:33.340
对不对 也就是说你完全可以用这个section list 去代替这个flat list

08:33.980 --> 08:38.780
啊 你看这边的话我也可以做出什么呀 是不是做出这个flat list的这个效果

08:39.580 --> 08:47.100
能不能做出来就可以做出来对不对 好然后接下来我们这边呢就应该是干嘛呢 把这个标题

08:48.140 --> 08:52.380
好 我们先把那个嘛 先把key加什么 这边呢这个key extractor

08:53.100 --> 08:55.900
啊 我们这边就用这个index吧 ok

08:56.780 --> 09:04.300
这边把这个key加上 好然后接下来的话我们这边要设置这个标题那这边的话就是一个

09:05.260 --> 09:07.580
under section header

09:09.020 --> 09:13.820
ok render section header好 然后接下来的话我们来看一下啊

09:14.540 --> 09:20.700
在这边 render section header好 这边解构拿到每一个这个

09:21.260 --> 09:26.860
拿到每一个这个section 每个section 是什么每个section 就是这个对象

09:28.380 --> 09:31.820
看到没有 每一个section 就是这个对象

09:32.540 --> 09:39.900
ok 拿到每一个section 之后 然后接下来的话我们这边要干嘛 我们这边呢是不是应该是返回一段

09:42.300 --> 09:46.220
对啊 我们这边呢应该是返回一段 gs他

09:47.900 --> 09:54.250
好 在这边这边呢就是return return 我看一下这边view

09:56.950 --> 10:00.150
ok 嗯 这边的话

10:01.110 --> 10:10.470
啊 这边的话我应该是不用这样子啊 直接这样子就可以了啊 直接这样子啊 里面就是返回一段 gs他

10:11.110 --> 10:12.550
好 让我这边的话view

10:14.630 --> 10:20.790
ok啊 这边呢啊这个style style的话 这边呢等于一个section header 这个是下面写好了的啊

10:21.350 --> 10:26.470
section header好 然后接下来的话 这里面里面的话一个text

10:27.190 --> 10:31.830
ok 然后里面是什么呢 里面的话就是这个section

10:32.870 --> 10:34.070
section title

10:34.870 --> 10:39.830
ok 因为我说了 这边的话你拿的话那是拿的是什么 是不是拿的是一个一个这个

10:40.390 --> 10:44.710
一个一个这个section 里面的这个一个一个对象 你section 是对应的是个数组吗

10:45.270 --> 10:50.390
数组的话 然后现在你这边这个section 他拿到的是什么呢 拿到的是一个一个这样子的对象

10:51.030 --> 10:55.750
拿到这样子对象之后 然后在这边点title 获取到什么 是获取到标题

10:57.030 --> 10:58.790
对不对啊 我这边把这个

10:59.830 --> 11:03.030
把这个样式给一下啊 这边呢是styles

11:03.830 --> 11:06.390
点section title

11:07.510 --> 11:11.190
ok啊 这边呢 我们的这个标题 我们也就设置了

11:11.750 --> 11:14.470
好 那我们这边我们来看一下啊 我们这边保存

11:16.390 --> 11:18.550
保存之后呢 过来漏一眼 看好不好使

11:19.830 --> 11:24.230
出来没有 就出来了 对不对 出来了之后 然后接下来你看你注意

11:24.790 --> 11:28.310
你现在的话 这边你往上滑的话 这个标题是不是就跟着就走了

11:28.870 --> 11:34.310
对不对 他分组的标题是出来了啊 但是这边的话你这个你这样子滑 他是不是就跟着走了

11:35.110 --> 11:40.550
对不对 那我如果的话我想让他这个粘性啊 粘性就是定在这个顶部

11:41.270 --> 11:44.470
怎么办呢 他这边的话有这么一个这个属性

11:45.510 --> 11:47.110
叫做什么呢 叫做这个

11:48.070 --> 11:52.390
怎么样啊 这个是sticky section header enabled

11:52.950 --> 11:57.670
啊 这个名字很长啊 但其实对应的值很简单 对应的值就是一个布尔值

11:58.630 --> 12:03.190
ok 然后在安卓上面默认是force 在ios上面默认是q

12:03.670 --> 12:06.470
那你这个的话 你把它 把它设置一下就可以了

12:07.750 --> 12:12.070
ok 你这边把它设置一下 等于一个 这边你把它设置成q

12:13.430 --> 12:15.750
啊 让我们刚才的那个效果就出来了

12:17.110 --> 12:20.070
怎么保存 啊 这边来看一下

12:22.070 --> 12:26.870
把我往上面滑动 你看 现在的话这个东西是不是他就是定位在这里了

12:27.590 --> 12:34.230
对不对 啊 继续往下面走啊 这边追即将上映来了 然后加这边继续往上面走 你看

12:34.630 --> 12:37.750
他是不是就把它顶上去了 这就是一个粘性定位啊

12:38.230 --> 12:43.030
你如果学过那个css3的这个粘性定位 那你这个东西是很好理解的

12:43.510 --> 12:47.270
它就是css3里面的粘性定位 对不对 一模一样

12:48.070 --> 12:51.990
ok 这就是关于这个section list

12:53.270 --> 12:59.430
啊section list 但这边的话 还有一些这个其他的这些属性啊 那你就自己来看了

13:00.230 --> 13:04.950
ok 这就你自己来看了 其实很多东西和那个是相同的

13:05.430 --> 13:08.870
和我们前面讲的那个flat list是相同的 有你看这个

13:09.590 --> 13:10.870
on and rich的

13:11.430 --> 13:13.830
on and rich的这个sinkhold

13:14.390 --> 13:17.510
对吧 然后还有这个on refresh refreshing

13:18.150 --> 13:20.390
这个是不是和那个flat list是相同的

13:21.590 --> 13:27.110
对不对 ok 啊 大家下来的话可以把这个section list把这个例子

13:27.670 --> 13:33.910
自己写一些啊 我这边的话还是就把这个app.js把这个文件给大家

13:34.630 --> 13:37.510
啊 因为这边呢 其他文件没有涉及到变动啊

13:37.510 --> 13:43.590
我就把这个app.js给大家 ok 好 这期课就先到这里啊 再见

