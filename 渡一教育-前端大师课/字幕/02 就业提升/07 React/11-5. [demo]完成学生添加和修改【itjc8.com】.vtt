WEBVTT

00:00.690 --> 00:04.930
好 咱们这节课呢就把那个这个demo啊 把完成

00:05.730 --> 00:09.490
呃 添加学生和修改学生啊 反正就是得到真实的API

00:10.850 --> 00:13.250
呃 这里呢 我们首先把API搞定啊

00:14.770 --> 00:20.690
呃 我们看一下这个API里边呢 有这么一个添加学生信息的API 对吧 有这么一个API

00:21.250 --> 00:26.610
好 那么咱们就在services里边 首先在students里边啊 之前我们已经写过一些了 对吧

00:27.010 --> 00:29.410
哎 咱们这里呢 写过那个查询学生

00:30.210 --> 00:33.810
接下来 我们把这个添加学生应该写了啊

00:34.450 --> 00:35.570
add student

00:36.290 --> 00:40.290
你给我传一个啥呢 你给我传一个学生对象啊 stillobg

00:40.690 --> 00:44.290
你给我传一个学生对象 这个学生对象里边 当然你肯定要包含

00:44.850 --> 00:51.490
哪些东西 是不是要包含那个啊 需要用到的 就是需要添加的信息 对吧 学生学号

00:51.970 --> 00:53.730
姓名啊 学生姓别

00:54.450 --> 01:00.610
出生 年份啊 这东西是不是都在包含啊 就是说我们的这个页面里边说这些东西都有啊 对不对

01:00.930 --> 01:06.450
好 那么都在包含啊 那么一把学生对象给我传进来之后呢 我来帮你请求接口

01:06.930 --> 01:11.810
啊 这个接口呢 我们来看一下这个文档啊 咱们的文档呢 是用get方式啊 实际上呢咱们

01:12.450 --> 01:16.610
呃 做添加做修改的话 往往是用post啊 往往是有post

01:17.170 --> 01:23.010
呃 那我们他写的get 我们就用get啊 就用get好 咱们来请求这个地址啊

01:24.210 --> 01:29.010
来 来吧啊 来请求这个地址 好 我们真的要请求的地址呢 我们把它写出来

01:29.730 --> 01:32.610
地址是什么呢 地址就这个啊 就这个地址

01:33.250 --> 01:40.770
然后呢 还要加什么呢 还是不是他一样的啊 还要加app key啊 这里说到了啊 这个API文档里面 他要加这个东西啊 给他加上吧

01:41.410 --> 01:45.170
我们这里呢 打个问号啊 app key 等于啥呢

01:46.130 --> 01:51.810
我们这里用到了啊 拼接 等于i key啊 就是我们上面写的这个长量啊 就是这个长量

01:52.530 --> 01:56.930
呃 接下来呢 还有什么呢 还有哪些东西呢 还有就是s number啊

01:57.490 --> 02:01.410
name six啊 the birth 对吧 还有一大堆东西

02:01.970 --> 02:05.970
那么这些东西呢 我们其实可以用什么呢 可以用那个就是

02:06.610 --> 02:07.490
query stream

02:07.890 --> 02:08.370
那个cool

02:08.930 --> 02:11.810
啊 把我们的对象呢 转换成这种格式

02:12.370 --> 02:16.770
否则的话 你就要直接手动写了啊 比方说我没有手动写的话 就这样子写

02:17.170 --> 02:23.010
s number 等于啥呢 等于stew obj.s number

02:24.210 --> 02:27.250
是不是要手动写了 对吧 要一个一个手动去拼接

02:27.570 --> 02:31.490
就在这啊 还有什么呢 还有name 对不对 是不是这个意思

02:31.890 --> 02:34.930
你是不是得手动一个一个去拼接啊 对不对

02:35.490 --> 02:39.810
不过这样子挺挺麻烦的啊 我们希望呢通过这个query stream那个cool呢

02:40.050 --> 02:44.530
可以直接帮我们生成这样的一个支部串啊 就非常方便了

02:44.770 --> 02:48.930
所以说 我们这里的干脆就直接安装一个query stream那个cool吧 好吧

02:50.130 --> 02:53.250
我看这里边有没有啊 之前有 有没有安装啊

02:53.250 --> 02:54.210
query stream

02:55.010 --> 02:57.010
s d g h h i

02:58.130 --> 03:04.940
query q开头的啊 q开头的

03:06.140 --> 03:07.820
啊 没有啊 没有

03:11.010 --> 03:12.210
q query

03:12.930 --> 03:14.930
有这个cool啊 有这个cool

03:15.330 --> 03:18.450
那有这个cool的话那就清充了啊 我们直接导入进来

03:19.250 --> 03:20.930
测试一下吧 测试一下

03:21.810 --> 03:23.970
我们这里呢 首先拿到

03:25.810 --> 03:30.290
params 先导入进来啊 先导入进来

03:31.890 --> 03:32.450
import

03:34.610 --> 03:37.010
qs query stream

03:37.650 --> 03:39.570
是这个cool啊 是这个cool

03:41.010 --> 03:41.730
query stream

03:42.690 --> 03:44.450
导入进来啊 看一下能不能用

03:44.930 --> 03:47.010
不能用的话 我们直接安装一下啊 post

03:48.450 --> 03:52.530
解析 解析什么呢 解析我们的一个对象啊 把一个对象解析出来

03:52.530 --> 03:56.210
看一下能不能形成一个支部串啊 能不能形成这么一个支部串

03:57.490 --> 04:02.450
啊 这里呢 我们使用啊 得到一个params

04:04.370 --> 04:06.770
输出params啊 看一下吧

04:08.370 --> 04:11.570
好 保存啊 保存 怎么这里呢 右键检查

04:12.290 --> 04:14.770
右键检查 控制台

04:16.530 --> 04:20.370
啊 得到一个 哦 他是得到obj啊 他是得到obj

04:20.370 --> 04:23.730
哦 这个post post呢 他是用这种方式啊 他是

04:25.170 --> 04:27.970
他是把它转换成对象啊 他是把它转换成对象

04:28.610 --> 04:32.290
看一下 是吧 保我们的那个制服串转换成对象

04:32.690 --> 04:36.450
那如果说我们要把那个对象转成制服串呢

04:36.450 --> 04:39.650
要把对象转成制服串呢 我们要用那个swingify

04:40.610 --> 04:41.490
啊 用这个

04:43.010 --> 04:46.930
啊 你看呀 这转成制服串了 对吧 就这么简单啊 就这么简单

04:46.930 --> 04:51.490
没问题吧 是不是很简单啊 这就算转换成制服串了 对不对

04:51.490 --> 04:55.330
好 那么咱们呢 就把那个对象传进去啊 就把这个对象传进去

04:58.240 --> 05:01.440
看着啊 就咱们这一块啊 就这一块

05:02.080 --> 05:06.560
这一块呢 我们就使用query string 就是qs string div

05:07.520 --> 05:12.960
然后呢 把我们的stue obj传进去 好 传进去之后呢 它就会生成一个

05:13.600 --> 05:19.360
query的制服串啊query的制服串 我们把这个制服串放在这 这样子呢 要方便一点啊 主要是为了方便一点

05:19.360 --> 05:23.120
你要手动评阶子 那么行不行呢 当然也可以啊 我们输出一下 url 地址

05:23.520 --> 05:25.600
咱们测试一下吧 啊 add student

05:26.560 --> 05:29.200
呃 这里呢 传入一个obj啊 s number

05:30.320 --> 05:35.040
s number 我看一下啊 就照到这里写 s number 等于啥呢 等于

05:35.760 --> 05:38.880
呃 abc吧 abc

05:39.440 --> 05:42.720
呃 name 等于啊

05:43.520 --> 05:43.840
基层

05:45.920 --> 05:46.400
基层呢

05:48.800 --> 05:50.960
呃 six 性别

05:52.000 --> 05:55.920
成个啥性别 说是啊 领 对吧 领

05:57.200 --> 06:00.160
呃 然后呢 burst 啊 burst

06:02.270 --> 06:05.230
这是啥呢 出生日期 成个的出生日期多久呢

06:06.590 --> 06:10.750
1990年啊 那么那么是90后吧

06:11.470 --> 06:16.030
他确实也是90后啊 嗯 这里电话啊 电话就随便写个吧

06:16.750 --> 06:25.890
随便写的啊 address 地址啊注射 咱们随便写一些啊 随便写一些数据

06:26.690 --> 06:28.370
呃 email 邮箱

06:30.210 --> 06:33.090
啊邮箱 邮箱的话随便写一个吧 随便写一个

06:33.570 --> 06:37.010
好 行了啊 咱们就设置了 就调一个函数 添加一个学生

06:37.410 --> 06:41.410
呃 接下来我们用订啊 看服务器的返回结果 这里也说到了服务器

06:41.410 --> 06:45.330
他会有个返回啊 如果说成功的话 他就返回这个 如果说失败的话

06:45.330 --> 06:48.050
他就会返回这些信息 对吧 他会返回这么一些信息

06:48.850 --> 06:53.410
没问题吧 好 那咱们呢 来吧 我们这里输出服务器的响应结果

06:54.130 --> 06:55.490
好 保存啊 保存

06:56.450 --> 06:59.730
接下来 我们来看啊 诶 是吧 Paris is not defend

07:00.210 --> 07:02.210
啊 应该是在上边啊 上边

07:03.170 --> 07:04.450
把去掉啊 重来

07:05.970 --> 07:13.180
来来 请 诶 就是这是我们请求的地址 对吧 你看一下 这个是什么没问题 对吧

07:13.580 --> 07:17.180
Name呢 他进行了url编码 对吧 他会自动进行编码

07:17.740 --> 07:22.060
好 然后呢 我们这个地址没问题的 对吧 接下来呢 我们就是去请求了 Fetch

07:23.100 --> 07:30.300
请求这个地址 然后呢 请求完了过后呢 老规矩啊 先把它解析 解析成接成人 接成可是对象

07:31.260 --> 07:36.300
啊 解析 进行可是对象 然后呢 是不是拿到服务器的结果了 诶 直接返回服务器的结果就完事了

07:37.180 --> 07:38.780
好 保存啊 再来看一次

07:40.540 --> 07:46.540
好 你看呀 诶 他这里是不是爆错了 他说学号呢 必须为4到16位的数字组成

07:47.020 --> 07:50.780
ok 那么这学号呢 我们这里呢 就随便写个吧 随便写个

07:51.260 --> 07:53.020
保存 再来

07:53.900 --> 07:58.380
诶 添加成功 是不完事了啊 然后呢 我们再发现一次啊 再来添加一个

07:59.100 --> 08:05.820
啊 他该学生已存 已存在 对不对啊 通过这个status 通过服务器返回的这个status来判定

08:06.220 --> 08:13.820
服务器到底有没有添加成功啊 通过这个东西来判定 好 现在我们在学生查讯里边 你可以看到诚哥了啊 就在我们学生查讯里边

08:14.460 --> 08:17.340
我们到伪业去吧 到伪业去

08:18.860 --> 08:23.020
诶 你看一下 就出来了 对吧 诚哥就出来了啊 就这么个意思啊

08:23.820 --> 08:26.620
那么接下来呢 我们要把跟这个组建联合在一起

08:27.100 --> 08:32.780
添加学生啊 刚才我们既然都写到api这一块了 我们就把那个修改学生也做了

08:33.260 --> 08:36.380
行吧 咱们也同时就把这个修改学生给他做了 得了

08:36.940 --> 08:41.260
好 修改学生我们看一下 修改学生 修改学生其实是不是传一样的信息啊

08:42.060 --> 08:46.780
传的信息是不是一样的 对吧 是完全一样的啊 是完全一样的信息

08:47.260 --> 08:50.780
所以说呢 修改学生这一块呢 咱们就直接利用这个

08:51.500 --> 08:55.100
还说啊 稍微改造一下 叫做update

08:55.740 --> 09:01.580
修改学生update student 传入一个学生对象进来 那么他会根据学号来进行修改

09:01.980 --> 09:03.420
啊 根据学号来进行修改

09:04.300 --> 09:11.340
好 嗯 因为学号是唯一的嘛 好 那么这里的做法是不是一样的啊 只不过地址变一下 地址变成这个地址

09:11.980 --> 09:15.580
其他是不是一样的 其他都一样啊 就地址变成这个地址

09:16.460 --> 09:19.580
好 那么我们来看一下啊 修改学生update student

09:19.980 --> 09:25.100
好 基层呢 我们把基层改成 基层二性别呢 改成女 出生年份呢 改成1890年

09:25.740 --> 09:27.820
啊 接下来呢 这边

09:28.940 --> 09:33.580
这边 缝 电话号码呢 改成13G啊 而dris呢 改成一个中文啊

09:34.700 --> 09:37.020
email的前面 改成数字 好 保存

09:39.700 --> 09:41.700
哎 我这里没有把控制台打开

09:42.820 --> 09:47.300
好 这服务器返回结果了 你看呗 是不是修改成功 对不对 好 咱们看一下学生查询

09:48.020 --> 09:49.860
服务器那边就修改成功了 第九页

09:51.620 --> 09:57.380
哎 你看一下 对吧 是不是修改成功了 好 咱们API就写完了啊 支持了API写完了

09:57.780 --> 10:02.580
好 写完了这个API之后呢 我们要跟我们的页面结合起来 在页面上进行修改和添加

10:02.900 --> 10:04.420
所以说呢 我们这里是不是要加页面

10:04.900 --> 10:08.260
对吧 这个没什么问题吧 我们要加页面 好 在页面里边呢

10:08.740 --> 10:14.100
啊 这里学生啊 这里一个ad 是不是添加学生 哎 添加学生我们是不是用的是student for

10:14.500 --> 10:18.660
对不对 是用了这个玩意儿 好 添加学生的时候呢

10:19.140 --> 10:23.620
这个组件啊 你看着啊 这个组件里边 我们之前写好的这个组件

10:25.140 --> 10:32.580
添加学生是什么 添加学生其实无非就是拿到这个组件里边添写的那一种 就当用户提交的时候

10:34.100 --> 10:36.980
我要从这个组件里边拿到这个学生对象 对不对

10:37.380 --> 10:40.500
哎 这个组件能不能拿到学生对象呢 我们之前是不是写过

10:40.740 --> 10:43.460
对吧 验证通过的时候是可以拿到这个对象了

10:44.260 --> 10:49.060
验证通过的时候 那么这个拿到这个对象干嘛呢 是不是可以在这里做添加啊

10:49.700 --> 10:52.580
但是呢 在这里做添加呢 其实并不好

10:53.140 --> 10:57.780
为什么说在这里做添加不好呢 因为如果说你在这里去做添加的话

10:58.900 --> 11:00.820
那么到时候修改咋办呢

11:02.020 --> 11:03.620
修改的时候是不是又得

11:05.220 --> 11:09.540
你得判断一下 对吧 那怎么能判断 当然可以判断啊 当然可以判断

11:10.100 --> 11:14.900
这是其实在这里写也可以啊 你给我一个属相嘛 你给我个属相 别忘了我们来这

11:15.700 --> 11:17.700
添加这一块呢 我们给他一个属相

11:18.500 --> 11:19.780
就是mode模式

11:20.420 --> 11:27.060
是什么 add 是添加 那么他就用添加的模式来做啊 添加的模式来做或者说我们给他一个学生id

11:27.860 --> 11:31.300
就是学生的学号嘛 s number 学生的学号

11:32.180 --> 11:37.940
如果说你不给的话 就是就是修 你不给的话就是添加 你给了的话就修改

11:38.100 --> 11:43.860
那么这句话的意思呢就表示修改这个学生啊 这样子也行啊 也行 我刚才想说的话

11:44.180 --> 11:47.860
这里呢也可以抛出一个视线啊 也可以抛出一个视线

11:49.140 --> 11:52.580
通过一个视线让外边来进行处理 是不是一样的

11:52.820 --> 11:58.020
对吧 那我们就用这种方式嘛 这种方式用起来方便一点 如果说添加的话你就不传这个属相

11:58.180 --> 12:01.060
如果说你修改的话你把这个属性传进来啊

12:01.620 --> 12:03.220
那这样子也行啊 也行

12:04.260 --> 12:07.380
好 那么比方说啊 咱们来做的是做的是什么呢

12:07.460 --> 12:11.540
做的是添加 对吧 那么我们就啥都不传 啥都不传自然而然就是添加

12:11.860 --> 12:16.580
好 验证通过之后我们来判断一下 你给我有没有给我传一个属相啊

12:16.900 --> 12:22.580
你给有没有给我传一个叫做s number 的属性啊 如果说你传了这个属相这是什么 这是修改

12:22.980 --> 12:23.620
修改学生

12:24.420 --> 12:29.540
好 else 这要知道这个代码写的是什么啊 写的是点击事件里边

12:29.700 --> 12:34.820
你要把表单的数据拿到了啊 拿到数据过后你要干嘛 你到底是修改还是添加呢

12:35.300 --> 12:37.780
通过这个属性来判断 添加学生

12:39.140 --> 12:43.060
可以想象一会呢 我们做修改的时候呢 是不是这样子写的

12:43.540 --> 12:46.980
做修改的时候 我们这里呢 还是一样的啊 跟添加一样的

12:48.020 --> 12:55.920
做修改的时候 跟添加一样的啊 那么这里呢 我们是不是给他传一个s number进去就完事了

12:56.080 --> 12:58.560
对不对 给他传一个s number 来自于哪呢

12:59.120 --> 13:02.960
来自于哪 是不是来自于Z 是不是来自于自己的属相

13:04.240 --> 13:04.640
probs

13:05.600 --> 13:07.920
来自于属相里边的

13:09.360 --> 13:09.840
marge

13:10.640 --> 13:11.600
deal parents

13:12.000 --> 13:12.720
deal id

13:13.360 --> 13:15.840
没问题吧 这是一个动态的路由 对不对

13:16.560 --> 13:20.960
他有一个莫名有个id啊 我们通过把这个id获取 把id他传过去

13:22.000 --> 13:25.520
啊 就用这种方式啊 如果说就做修改的话 就用这种方式

13:25.680 --> 13:29.760
如果说做添加的话 就啥了 啥都不传递啊 啥都不传递就完事了 就这样子

13:30.560 --> 13:33.520
好 那么到了这边 我们就可以通过这个属性有没有值

13:33.840 --> 13:36.080
来知道到底是添加还是修改

13:36.720 --> 13:39.920
好 那么比方说我们做添加 做添加的时候怎么做呢

13:40.480 --> 13:43.280
怎么做呢 是不是刚才我们已经写过了啊 导入

13:45.280 --> 13:45.760
from

13:47.440 --> 13:48.080
就A他吧

13:48.880 --> 13:51.680
services

13:52.880 --> 13:53.520
students

13:54.080 --> 13:54.560
students

13:55.440 --> 14:00.000
导入一个啥呢 就是我们刚才写的services里边

14:00.640 --> 14:02.400
有一个把这个取掉了啊

14:03.680 --> 14:06.080
有一个add student

14:07.280 --> 14:08.560
一个add student

14:08.560 --> 14:10.800
我们先把add student导进来

14:10.800 --> 14:12.800
好 添加学生干嘛 添加学生

14:13.360 --> 14:14.000
说干嘛呢

14:14.560 --> 14:16.560
是不是add student

14:17.600 --> 14:21.760
然后呢 这里是把学生对象传进去 对吧 学生对象传进去

14:22.400 --> 14:25.200
好 这就添加学生了 对吧 添加学生了

14:26.240 --> 14:29.280
好 那么我们现在来看一下啊 能不能添加成功

14:30.320 --> 14:33.040
好 我们把控制台拿开啊 看一下有没有包错

14:33.680 --> 14:35.120
没有错误啊 没有错误

14:35.760 --> 14:39.600
好 接下来呢 我们来添加这个学生啊 学号呢 我们比方说学上一个

14:40.480 --> 14:43.600
随便写个吧 随便写个学号啊 新名呢 我们随便写一个

14:44.080 --> 14:47.840
新名为什么要用password的啊 新名为什么要用password的

14:48.400 --> 14:49.600
呃 用input就完事了呗

14:50.640 --> 14:51.440
好 再来啊

14:52.320 --> 14:55.920
学号随便写个吧 新名随便写个啊

14:56.640 --> 14:57.120
molec

14:59.040 --> 15:01.680
啊 你是不是班长 那必须是班长

15:02.240 --> 15:06.160
啊 班长的数据服务器也不用 也不需要用

15:06.720 --> 15:08.800
这个是不是班长了 对我们来说无所谓

15:10.000 --> 15:12.480
这个molec是哪一年呢

15:14.080 --> 15:17.040
是不是2010年呢 对吧

15:17.920 --> 15:20.000
那么手机号呢 手机号随便写个啊

15:23.710 --> 15:27.230
柱子随便写个啊 柱子随便写个 邮箱随便写个

15:29.230 --> 15:31.630
好 接下来我们来点这个提交

15:32.030 --> 15:32.830
诶 点提交

15:33.550 --> 15:36.110
好 它没有什么反应 对吧 没有什么反应

15:36.110 --> 15:38.190
那么我们看一下 在学生里面看一下啊

15:38.190 --> 15:39.710
看一下有没有添加成功呢

15:40.750 --> 15:42.110
啊 有没有添加成功

15:43.150 --> 15:45.150
诶 诶 是不是添加成功了 对吧

15:45.150 --> 15:47.310
跟molec说出来了 对不对

15:47.310 --> 15:48.670
诶 就已经添加成功了

15:49.790 --> 15:51.470
好 这是关于这个添加

15:51.470 --> 15:53.390
好 但是那现在没有提示 对吧

15:53.390 --> 15:54.670
是不是没有提示啊

15:55.390 --> 15:56.510
诶 没有提示

15:56.510 --> 15:58.830
那么我们说希望呢 有个提示啊

15:58.830 --> 16:01.310
有个提示 呃 能够提示我们

16:01.310 --> 16:03.390
提示我们 它添加成功了

16:03.390 --> 16:04.190
那怎么办呢

16:04.750 --> 16:05.550
啊 那怎么办呢

16:05.550 --> 16:07.470
我们首先把这个地方写成一个

16:07.950 --> 16:09.630
预补函数

16:10.110 --> 16:12.190
啊 咱们把这个写成一个预补函数

16:12.190 --> 16:14.110
预补函数的话 我们在这里边可以用await

16:14.990 --> 16:16.670
等待啊 等待服务器完成

16:16.670 --> 16:17.870
拿到服务器的响应结果

16:18.430 --> 16:20.750
好 或者说我们单独再写个函数

16:20.750 --> 16:22.510
啊 单独再写 再写个函数

16:23.070 --> 16:23.550
去搞定

16:24.590 --> 16:25.070
sync

16:27.170 --> 16:29.490
呃 我们这里写上那个

16:30.530 --> 16:31.090
add

16:32.050 --> 16:33.090
啊add

16:33.090 --> 16:33.730
添加

16:33.730 --> 16:34.530
啊添加

16:34.530 --> 16:35.490
添加函数

16:35.490 --> 16:36.450
你把这个

16:36.450 --> 16:37.490
写成对象给我

16:37.490 --> 16:38.690
stude obj

16:38.690 --> 16:40.450
好 我这里去完成添加

16:40.450 --> 16:42.450
这是在界面上完成添加啊

16:42.450 --> 16:43.490
界面上完成添加

16:43.490 --> 16:44.450
我来这里去搞定

16:44.450 --> 16:45.410
那么这里呢

16:45.410 --> 16:46.770
哎 就是这这一块呢

16:46.770 --> 16:48.530
这一块只需要去调这个函数就完成了啊

16:48.530 --> 16:49.970
这一块不用写一步了

16:49.970 --> 16:51.730
啊 这一块只要去调这个函数

16:51.730 --> 16:53.010
thisadd

16:53.490 --> 16:55.010
把value传进去就完成了

16:55.570 --> 16:56.530
好 修改一下

16:56.530 --> 16:58.050
那我们一会再写个函数

16:58.850 --> 16:59.490
update

17:00.450 --> 17:01.490
stude obj

17:03.170 --> 17:04.210
好 这里呢

17:04.210 --> 17:06.130
修改学生我们就调用this

17:06.130 --> 17:06.770
调update

17:06.770 --> 17:08.210
就是把封装一下啊

17:08.210 --> 17:08.770
封装一下

17:09.730 --> 17:10.610
好 有修改学生

17:10.610 --> 17:11.490
就添加学生

17:11.490 --> 17:11.970
好 来吧

17:14.130 --> 17:16.530
添加学生的时候是拿到服务器的响应结果

17:17.490 --> 17:18.130
对吧

17:18.130 --> 17:18.930
那么接下来呢

17:18.930 --> 17:20.770
有几件事情我们挨在这里要做

17:21.570 --> 17:22.370
第一件事情呢

17:22.370 --> 17:23.250
就是说

17:23.250 --> 17:24.050
我们希望呢

17:24.050 --> 17:25.570
因为这个服务器传输啊

17:25.570 --> 17:28.290
它是有一段时间有一个过程的

17:28.290 --> 17:29.170
我们希望呢

17:29.330 --> 17:29.890
就是说

17:29.890 --> 17:33.250
你在正在跟服务器之间交互的时候呢

17:33.250 --> 17:35.650
跟那个表格是一样的

17:35.650 --> 17:37.330
有个东西在那里转啊转啊转

17:37.330 --> 17:38.210
对吧

17:38.210 --> 17:39.650
表示我们正在夹载中

17:39.650 --> 17:40.850
正在夹载中

17:40.850 --> 17:42.450
那么这个东西怎么做呢

17:42.450 --> 17:44.450
好 接下来我们来看这个文档

17:44.450 --> 17:45.170
nd的文档

17:48.180 --> 17:48.660
好 首先呢

17:48.660 --> 17:50.740
我们来组建里面去看一下

17:50.740 --> 17:52.420
这个foam表单

17:52.420 --> 17:53.700
它有没有这个

17:53.700 --> 17:55.620
就是正在夹载中这么一个选项

17:57.940 --> 17:59.860
我们找到它下面的API

17:59.860 --> 18:00.820
有没有个loading

18:00.900 --> 18:02.180
我们之前用那个表格

18:02.180 --> 18:02.420
对吧

18:02.420 --> 18:03.460
它是不是一个loading啊

18:03.460 --> 18:05.220
这个属性

18:05.220 --> 18:06.500
表示正在夹载中

18:06.500 --> 18:08.580
那么我们看一下foam里面有没有

18:08.580 --> 18:09.380
foam里面有没有

18:10.020 --> 18:10.580
有没有呢

18:10.580 --> 18:11.140
你找一找

18:12.020 --> 18:14.020
有没有这个loading正在夹载中

18:14.020 --> 18:14.660
是不是没有

18:15.220 --> 18:15.860
没有的话

18:15.860 --> 18:18.820
那你是不是不能在foam里面做文档了

18:18.820 --> 18:21.220
我们之前的表格回忆一下

18:21.220 --> 18:22.900
之前的表格里面呢

18:22.900 --> 18:23.940
是可以这样做的

18:23.940 --> 18:25.060
就student table里面

18:26.340 --> 18:26.980
爬上去

18:26.980 --> 18:27.300
在这

18:29.140 --> 18:30.580
这里是不是有一个loading

18:31.140 --> 18:32.420
是不正在夹载中

18:32.420 --> 18:32.900
但是呢

18:32.900 --> 18:34.500
表单里面是不是没有

18:35.140 --> 18:35.700
没有

18:35.700 --> 18:36.420
那么没有的话

18:36.420 --> 18:38.980
你不能在foam表单这个组建里面做文档了

18:38.980 --> 18:39.780
你要干嘛呢

18:39.780 --> 18:40.580
你要找一找

18:40.580 --> 18:41.700
有没有单独的一个

18:41.700 --> 18:44.580
就是正在夹载中的这么一个组建呢

18:44.580 --> 18:46.260
有没有单独的这么一个组建

18:46.260 --> 18:46.820
这是有的

18:47.460 --> 18:48.580
来找一找啊

18:50.580 --> 18:53.380
我们找一找在哪里呢

18:53.380 --> 18:54.340
loading

18:54.340 --> 18:58.050
我们要找一找在哪

19:00.240 --> 19:00.880
要找一找啊

19:03.230 --> 19:04.030
loading

19:04.990 --> 19:06.030
loading

19:08.030 --> 19:08.910
数据暂时

19:14.370 --> 19:14.930
对话

19:14.930 --> 19:16.450
防圈具提示精度

19:16.450 --> 19:17.010
瞧确

19:18.210 --> 19:18.850
spin

19:18.850 --> 19:19.570
spin

19:19.570 --> 19:20.290
就是夹载中

19:20.290 --> 19:21.090
也就是这么个效果

19:21.090 --> 19:21.650
对吧

19:21.650 --> 19:22.050
其实呢

19:22.050 --> 19:23.730
在表格这个组建里面呢

19:23.730 --> 19:25.730
它其实就是使用了这个组建

19:25.730 --> 19:25.970
spin

19:26.690 --> 19:27.570
这个spin那个组建

19:27.570 --> 19:29.570
特别特别简单用起来

19:29.570 --> 19:30.130
怎么用呢

19:30.930 --> 19:32.290
就是加一个spin

19:32.290 --> 19:32.930
加一个spin

19:32.930 --> 19:34.370
一个简单的loading状态

19:34.370 --> 19:35.090
对吧

19:35.090 --> 19:37.010
就其实非常非常简单

19:37.010 --> 19:38.450
加这么一个spin就行了

19:39.170 --> 19:39.570
然后呢

19:39.570 --> 19:41.250
它有各种各样的大小啊

19:41.250 --> 19:41.890
样式啊

19:41.890 --> 19:42.690
这些东西都可以调整

19:42.690 --> 19:44.050
比方说调整大小

19:44.050 --> 19:44.850
怎么调整呢

19:44.850 --> 19:45.810
用一个size

19:45.810 --> 19:46.930
size用loading

19:46.930 --> 19:47.810
loading

19:47.810 --> 19:48.770
好比方说吧

19:48.770 --> 19:50.450
我们在我们的组建里边

19:50.450 --> 19:51.650
我们刚才那个组建里边

19:53.890 --> 19:54.690
而且这些东西呢

19:54.690 --> 19:55.890
大家要学会去查

19:55.890 --> 19:57.410
查查越稳当啊

19:57.410 --> 19:58.290
我们在组建里边

19:58.290 --> 19:58.770
我们这里

19:59.570 --> 20:01.250
给他写上一个fragment

20:02.210 --> 20:02.690
包起来

20:04.980 --> 20:05.300
好

20:05.300 --> 20:05.700
接下来呢

20:05.700 --> 20:06.980
我们在这里加上一个什么呢

20:06.980 --> 20:07.300
spin

20:08.980 --> 20:10.180
再导入一个组建

20:10.180 --> 20:10.420
spin

20:12.180 --> 20:12.500
好

20:12.500 --> 20:12.900
接下来呢

20:12.900 --> 20:13.460
我们在这里写

20:14.260 --> 20:14.580
spin

20:17.500 --> 20:17.820
好

20:17.820 --> 20:18.540
保存啊

20:18.540 --> 20:18.860
保存

20:19.500 --> 20:20.220
接下来看这边

20:21.500 --> 20:21.980
看这边

20:22.540 --> 20:23.980
所以一直有东西在那里夹窄

20:23.980 --> 20:24.380
夹窄

20:24.380 --> 20:24.700
夹窄

20:24.700 --> 20:25.260
对吧

20:25.260 --> 20:26.460
有这么一个夹窄中

20:26.460 --> 20:28.220
这么一个夹窄中的效果

20:28.220 --> 20:28.700
但是呢

20:28.700 --> 20:30.140
我们现在希望呢

20:30.140 --> 20:32.140
让让他把整个这个区域呢

20:32.140 --> 20:32.540
遮住

20:33.260 --> 20:34.940
让他把整个这个区域遮住

20:34.940 --> 20:35.740
遮住之后呢

20:35.740 --> 20:36.300
还变完

20:36.300 --> 20:37.420
还要让他居中

20:37.420 --> 20:38.780
还要让他居中

20:38.780 --> 20:39.740
有这么一个效果

20:39.740 --> 20:40.220
让他居中

20:40.940 --> 20:41.100
好

20:41.100 --> 20:42.060
那么这个东西怎么做呢

20:42.060 --> 20:43.420
我们首先看他APM

20:43.580 --> 20:44.620
里边有没有

20:44.620 --> 20:45.020
好

20:45.020 --> 20:46.060
那么他这里边

20:46.060 --> 20:46.540
你看

20:46.540 --> 20:47.740
他有一个什么呢

20:47.740 --> 20:50.300
有一个就是制定义描述文案

20:50.300 --> 20:51.580
他这个效果是不是把遮住了

20:51.580 --> 20:52.620
我们看一下他的代码

20:53.340 --> 20:54.220
看一下他的代码

20:57.340 --> 20:58.860
这个效果里边呢

20:58.860 --> 20:59.580
他有一个

20:59.580 --> 21:00.620
他写了这么一个东西

21:00.620 --> 21:01.420
叫做tip

21:02.140 --> 21:02.540
tip

21:02.540 --> 21:02.860
楼顶

21:02.860 --> 21:04.940
就是他可以写上这么一个文字

21:04.940 --> 21:05.100
好

21:05.100 --> 21:06.540
我们给他写上这个tip

21:07.660 --> 21:08.060
楼顶

21:08.940 --> 21:10.220
或者是夹窄中

21:10.220 --> 21:10.780
啊

21:10.780 --> 21:12.220
就是提交中

21:13.020 --> 21:14.140
请稍后

21:15.980 --> 21:16.860
就这点

21:16.860 --> 21:17.180
好

21:17.180 --> 21:17.580
保存

21:18.220 --> 21:18.460
好

21:18.460 --> 21:19.180
咱们看一下这边

21:20.060 --> 21:20.540
我们这边

21:23.340 --> 21:24.060
实际上呢

21:24.060 --> 21:25.260
他是有这么一个

21:25.260 --> 21:26.300
遮挡效果的

21:26.300 --> 21:27.500
实际上他是有的

21:27.500 --> 21:27.980
只不过呢

21:27.980 --> 21:28.540
他现在没有

21:28.540 --> 21:30.380
由于他没有遮挡任何东西

21:30.380 --> 21:31.660
所以说你看的

21:31.660 --> 21:32.620
你看不见

21:32.620 --> 21:33.180
你看不见

21:34.220 --> 21:35.020
那么如果说

21:35.020 --> 21:37.020
你要让他遮挡东西怎么办呢

21:37.020 --> 21:38.300
你要把他包起来

21:38.300 --> 21:39.660
比方说你看他这里的代码

21:39.660 --> 21:40.620
应该看懂了

21:40.620 --> 21:41.260
他里边有个

21:41.420 --> 21:42.220
这个主件

21:42.220 --> 21:43.180
这个主件是什么呢

21:43.180 --> 21:43.580
就是这个

21:43.580 --> 21:44.460
这背后的东西

21:44.460 --> 21:44.940
看到没

21:44.940 --> 21:46.380
所以背后的这个东西

21:46.380 --> 21:47.180
就是

21:47.180 --> 21:48.460
就这个东西

21:48.460 --> 21:49.580
一个提示的文本

21:49.580 --> 21:50.460
啊

21:50.460 --> 21:51.420
他有这么一个东西

21:51.420 --> 21:51.980
那么

21:51.980 --> 21:52.700
这个楼顶

21:52.700 --> 21:53.740
他把整个东西遮住了

21:53.740 --> 21:54.460
他怎么做的呢

21:54.460 --> 21:55.980
他是把我们要遮住的东西呢

21:55.980 --> 21:56.860
放到里边

21:56.860 --> 21:58.220
所以我们现在就知道了啊

21:58.220 --> 21:59.100
我们要干嘛

21:59.100 --> 22:00.540
我们就把就是把这个form

22:01.100 --> 22:01.740
把这个form

22:02.380 --> 22:03.020
放到哪呢

22:03.020 --> 22:03.980
放到这里边

22:03.980 --> 22:05.500
放到他的q里边

22:05.500 --> 22:06.300
就这么简单

22:07.180 --> 22:07.900
其他都没啥

22:08.860 --> 22:10.300
把这个fragment都可以标了

22:10.300 --> 22:10.860
对

22:10.940 --> 22:11.740
这个东西可以标

22:12.300 --> 22:12.780
一个spin

22:17.920 --> 22:18.160
好

22:18.160 --> 22:18.800
保存

22:18.800 --> 22:19.840
我们来看一下

22:19.840 --> 22:20.320
看一下这边

22:21.040 --> 22:22.560
是不是就形成这么一个效果了

22:22.560 --> 22:23.040
对吧

22:23.040 --> 22:24.000
其实这些东西啊

22:24.000 --> 22:25.360
都可以通过阅读文档

22:25.360 --> 22:26.960
可以很轻松地看出来

22:27.760 --> 22:29.280
提交中程请稍后

22:29.280 --> 22:29.760
但是呢

22:29.760 --> 22:31.200
这个玩意是不是不

22:31.200 --> 22:32.240
不一定要显示的

22:32.240 --> 22:32.640
对吧

22:32.640 --> 22:33.520
是不是不一定要显示的

22:33.520 --> 22:35.040
不是说一定要显示啊

22:35.040 --> 22:36.960
他要正在提交的时候才显示

22:36.960 --> 22:38.480
那我们是不是要有一个属性啊

22:38.480 --> 22:40.000
来决定他是不是显示

22:40.000 --> 22:40.800
首先我们看一下

22:40.800 --> 22:41.840
API文档里边

22:41.920 --> 22:43.680
怎么能够控制他

22:43.680 --> 22:45.040
控制他显示和隐藏呢

22:45.040 --> 22:45.280
你看

22:46.480 --> 22:46.880
显示

22:47.680 --> 22:48.080
隐藏

22:48.080 --> 22:49.600
他这里是不是有这么一个例子

22:49.600 --> 22:50.320
对吧

22:50.320 --> 22:51.280
有这么一个例子

22:51.280 --> 22:51.520
好

22:51.520 --> 22:52.320
那么这个例子呢

22:52.320 --> 22:53.360
他是怎么做的呢

22:53.360 --> 22:55.040
你往下面放贷码啊

22:56.320 --> 22:57.040
你会发现

22:57.040 --> 22:58.320
你通过这东西来

22:58.320 --> 22:59.600
属性来控制就完成了

22:59.600 --> 23:01.440
叫做spinning

23:01.440 --> 23:02.400
spinning

23:02.400 --> 23:03.600
是不是正在夹载中

23:04.480 --> 23:05.360
通过这么一个属性

23:05.360 --> 23:06.560
spinning来进行控制

23:06.560 --> 23:07.280
那么我们这里呢

23:07.280 --> 23:08.320
就需要一个状态

23:08.880 --> 23:10.000
需要这么一个状态

23:10.000 --> 23:11.040
来控制他这个东西

23:11.600 --> 23:12.160
来吧

23:12.160 --> 23:13.040
我们这里写个状态

23:14.080 --> 23:15.040
叫做it's loading

23:15.040 --> 23:16.160
it's loading為forced

23:16.720 --> 23:18.160
那么他就跟这个东西挂钩

23:18.160 --> 23:19.200
他为forced的时候呢

23:19.200 --> 23:20.320
就表示不在夹载中

23:20.320 --> 23:21.040
他为去的时候

23:21.040 --> 23:22.240
就表示正在夹载中

23:22.240 --> 23:23.840
this state

23:23.840 --> 23:24.480
it's loading

23:24.480 --> 23:24.960
对吧

23:24.960 --> 23:25.840
不是所有的东西

23:25.840 --> 23:26.640
都需要仓库了

23:26.640 --> 23:27.840
像这个表单这一块呢

23:27.840 --> 23:29.360
我们通常不需要仓库

23:29.360 --> 23:30.960
因为都是一些临时的数据

23:30.960 --> 23:32.000
提交完了就不要了

23:33.760 --> 23:35.280
那么通过这个东西来控制

23:35.280 --> 23:35.920
那么现在呢

23:35.920 --> 23:36.640
你看一下

23:36.640 --> 23:37.760
一开始呢

23:37.760 --> 23:38.320
一开始呢

23:38.320 --> 23:39.440
自然不是在夹载中

23:39.440 --> 23:40.880
那么什么时候在夹载中呢

23:41.040 --> 23:42.480
是需要我们点击

23:42.480 --> 23:43.680
点击添加

23:43.680 --> 23:45.040
或者是点击修改的时候

23:45.040 --> 23:46.880
这个时候才会把它设置为夹载中

23:46.880 --> 23:47.760
那么怎么设置呢

23:47.760 --> 23:48.800
this is set state

23:49.440 --> 23:50.720
把这个it's loading

23:50.720 --> 23:51.360
是不是设为去

23:52.560 --> 23:53.440
正在夹载中

23:53.440 --> 23:55.600
当我们把服务器的结果拿到之后

23:55.600 --> 23:56.400
返回之后呢

23:56.960 --> 23:58.320
this is set state

23:58.320 --> 23:59.520
set state

23:59.520 --> 24:01.120
是不是把这个it's loading

24:01.120 --> 24:02.160
设为forced

24:02.160 --> 24:02.800
对不对

24:02.800 --> 24:03.760
是不是这样子来处理

24:03.760 --> 24:04.160
对不对

24:05.200 --> 24:05.520
好

24:05.520 --> 24:06.160
咱们来看一下

24:07.360 --> 24:07.680
学号

24:07.680 --> 24:08.800
咱们来又来随便写一个

24:09.360 --> 24:10.080
随便写个学号

24:10.880 --> 24:11.840
姓名 随便写一个

24:13.040 --> 24:14.000
这个随便选一个

24:15.520 --> 24:16.080
随便选一个

24:17.040 --> 24:17.520
随便选

24:18.480 --> 24:19.200
随便选

24:19.200 --> 24:19.520
好

24:19.520 --> 24:20.240
点击提交

24:20.240 --> 24:21.120
你看是不是提交中

24:22.000 --> 24:22.400
对不对

24:23.120 --> 24:23.280
诶

24:23.280 --> 24:24.000
这就爆错了

24:24.640 --> 24:26.000
values is not defined

24:26.720 --> 24:27.280
他说什么呢

24:29.470 --> 24:30.590
他说啥呢

24:30.590 --> 24:31.150
哦

24:31.150 --> 24:32.830
我们这应该用 still obg

24:32.830 --> 24:34.270
应该用 still obg

24:34.830 --> 24:34.990
好

24:34.990 --> 24:35.390
再来

24:36.590 --> 24:36.910
学号

24:39.230 --> 24:39.630
姓名

24:40.590 --> 24:40.830
好

24:40.830 --> 24:41.310
这里呢

24:41.390 --> 24:41.950
出书连份

24:41.950 --> 24:42.510
随便选一个

24:42.510 --> 24:42.910
啊

24:42.910 --> 24:43.630
随便选一个

24:43.630 --> 24:43.950
不是

24:43.950 --> 24:44.750
随便选一个

24:44.750 --> 24:45.470
随便选一个

24:45.470 --> 24:45.790
提交

24:47.710 --> 24:48.190
好

24:48.190 --> 24:50.110
那么现在是不是刚才出现了这个效果了

24:50.110 --> 24:50.430
对吧

24:50.430 --> 24:50.750
而且呢

24:50.750 --> 24:52.510
学生肯定是已经添加进去了

24:52.510 --> 24:52.670
啊

24:52.670 --> 24:53.230
已经添加进去了

24:53.230 --> 24:53.790
我们看一下吧

24:55.310 --> 24:55.630
啊

24:55.630 --> 24:55.950
看一下

24:57.790 --> 24:58.110
啊

24:58.110 --> 24:58.510
你看

24:58.510 --> 24:58.910
嗯

24:58.910 --> 24:59.390
对吧

24:59.390 --> 25:00.590
所以已经添加进去了

25:00.590 --> 25:01.390
对吧

25:01.390 --> 25:01.550
好

25:01.550 --> 25:02.910
那么现在都还没完

25:02.910 --> 25:04.350
还要做什么事情呢

25:04.350 --> 25:05.710
还有一些事情要做

25:05.710 --> 25:07.230
就是如果说你成功了

25:08.030 --> 25:09.070
如果说你成功了

25:09.070 --> 25:10.030
我们要干一些事情

25:10.030 --> 25:10.990
如果说你失败了

25:10.990 --> 25:12.110
我们要做一些事情

25:12.110 --> 25:12.350
好

25:12.350 --> 25:13.390
判断一下

25:13.390 --> 25:13.710
risp

25:14.430 --> 25:15.070
啊

25:15.070 --> 25:16.910
就是如果说你成功

25:16.910 --> 25:17.150
啊

25:17.150 --> 25:18.030
就是这里呢

25:18.030 --> 25:18.990
我们啊

25:18.990 --> 25:19.790
判断什么呢

25:19.790 --> 25:20.910
判断那个status

25:20.910 --> 25:21.230
对吧

25:21.230 --> 25:22.430
服务器的返回结果

25:22.430 --> 25:23.470
事不等于success

25:24.270 --> 25:24.430
好

25:24.430 --> 25:25.870
咱们可以在这里看一下

25:25.870 --> 25:27.070
在这个let's work里面

25:28.590 --> 25:29.630
let's work里面

25:29.630 --> 25:30.270
这里呢

25:30.270 --> 25:30.830
已经消失了

25:30.830 --> 25:31.070
对吧

25:31.070 --> 25:32.270
看一下文档吧

25:32.270 --> 25:33.710
文档里面还说到了

25:33.710 --> 25:34.430
添加学生的话

25:34.430 --> 25:34.910
成功的话

25:34.910 --> 25:36.190
你返回的是status

25:36.190 --> 25:37.150
就是success

25:37.150 --> 25:37.310
啊

25:37.310 --> 25:37.790
success

25:38.430 --> 25:38.910
对吧

25:38.910 --> 25:40.510
那么这是是不是添加成功

25:40.750 --> 25:41.710
添加成功

25:42.750 --> 25:43.310
else

25:43.310 --> 25:44.270
是不是添加失败

25:45.230 --> 25:45.630
对不对

25:45.630 --> 25:46.510
就添加失败

25:46.510 --> 25:46.830
好

25:46.830 --> 25:47.790
添加成功的时候

25:47.790 --> 25:48.510
我们要干嘛呢

25:49.790 --> 25:50.670
添加成功的时候

25:50.670 --> 25:51.310
我们要干嘛呢

25:52.030 --> 25:53.790
添加成功的时候

25:53.790 --> 25:55.230
我们这个时候呢

25:55.230 --> 25:56.190
要挑

25:56.190 --> 25:57.710
就是要给个提示

25:57.710 --> 25:57.950
好

25:57.950 --> 25:59.230
提示完了之后呢

25:59.230 --> 26:00.510
我们要跳转页面

26:00.510 --> 26:01.550
就第一步

26:01.550 --> 26:02.590
先给提示

26:03.390 --> 26:04.190
然后第二步

26:04.910 --> 26:05.950
跳转页面

26:05.950 --> 26:06.830
就跳到那儿了

26:06.830 --> 26:08.030
是不是跳转到

26:08.030 --> 26:09.710
学生查询页

26:09.790 --> 26:10.990
跳转到

26:10.990 --> 26:12.750
学生查询页

26:14.620 --> 26:14.780
好

26:14.780 --> 26:16.220
就是往上这么一个效果

26:16.220 --> 26:16.380
好

26:16.380 --> 26:16.780
首先呢

26:16.780 --> 26:18.700
我们要先给一个提示

26:18.700 --> 26:18.940
好

26:18.940 --> 26:19.660
先给提示

26:19.660 --> 26:20.860
怎么提示呢

26:20.860 --> 26:21.660
我们来看一下

26:21.660 --> 26:22.700
他这里边

26:22.700 --> 26:24.220
有这么一个反馈

26:24.220 --> 26:24.780
反馈

26:24.780 --> 26:25.500
有一些提示

26:25.500 --> 26:25.900
咱们来看一下

26:25.900 --> 26:26.780
有哪些提示

26:26.780 --> 26:27.980
那是警告

26:27.980 --> 26:28.460
啊

26:28.460 --> 26:29.340
就是直接在页面上

26:29.340 --> 26:30.380
显示一个文本

26:30.380 --> 26:31.660
显示这么一个文本

26:31.660 --> 26:32.140
啊

26:32.140 --> 26:32.860
那么来

26:32.860 --> 26:33.740
来显示啊

26:33.740 --> 26:34.620
显示个提示

26:34.620 --> 26:35.580
还有一个桌呢

26:35.580 --> 26:36.300
是抽体

26:36.300 --> 26:37.500
啊抽体我们看一下

26:37.500 --> 26:37.900
就这样

26:37.900 --> 26:38.620
这样的

26:38.620 --> 26:39.580
这样的也

26:39.580 --> 26:40.860
倒也不是我们想要的

26:41.420 --> 26:42.620
摸的对话框

26:44.220 --> 26:45.420
就是用什么点击

26:45.420 --> 26:46.460
确定取消这个

26:46.460 --> 26:47.260
这个有的时候

26:47.260 --> 26:48.780
用于询问倒是不错

26:48.780 --> 26:50.140
用于询问倒是不错

26:50.140 --> 26:50.540
但是呢

26:50.540 --> 26:51.020
你要说

26:51.820 --> 26:52.780
做提示的话

26:52.780 --> 26:53.740
不太好

26:53.740 --> 26:54.380
message

26:54.380 --> 26:55.500
全举提示

26:55.500 --> 26:55.660
好

26:55.660 --> 26:56.380
看一下

26:56.380 --> 26:57.180
这里

26:57.180 --> 26:58.060
这个东西是不是可以

26:58.780 --> 26:59.100
对吧

26:59.820 --> 27:00.860
是这个东西是不是可以

27:01.420 --> 27:01.900
这个sys

27:01.900 --> 27:02.140
你看

27:02.860 --> 27:03.900
所以有这么一个提示

27:03.900 --> 27:04.540
这个提示呢

27:04.540 --> 27:05.740
我们是我们想要的

27:05.740 --> 27:05.980
好

27:05.980 --> 27:06.540
其实这个东西

27:06.540 --> 27:07.900
做起来非常非常简单

27:07.900 --> 27:08.620
那么我们看一下

27:08.620 --> 27:09.260
它是怎么做的

27:10.220 --> 27:12.140
它这有这么一个对象

27:12.140 --> 27:13.260
message这么一个对象

27:13.260 --> 27:14.140
它里面有个函数

27:14.140 --> 27:15.660
就是这个sys

27:15.660 --> 27:16.780
有这么一个函数

27:16.780 --> 27:17.740
它其实这里边

27:17.740 --> 27:18.220
你可以理解

27:18.220 --> 27:19.820
它就是用动物对象来写的

27:19.820 --> 27:21.020
就用动物对象来写的

27:21.820 --> 27:23.180
直接操作动物

27:23.180 --> 27:23.420
好

27:23.420 --> 27:25.180
这个sys里边写上一个文本

27:25.180 --> 27:25.420
对吧

27:25.420 --> 27:26.380
就是你提示的那种

27:26.380 --> 27:27.340
就这么简单

27:27.340 --> 27:28.540
超级超级简单

27:28.540 --> 27:29.020
好

27:29.020 --> 27:29.420
咱们呢

27:29.420 --> 27:30.220
我们这里导入

27:30.220 --> 27:31.500
导入这个message

27:33.340 --> 27:34.300
我们成功的时候

27:34.300 --> 27:35.100
不是要提示吗

27:35.740 --> 27:36.460
message

27:37.020 --> 27:37.740
这个sys

27:38.540 --> 27:39.820
这里是不是写上内容

27:39.820 --> 27:40.780
提示内容

27:40.780 --> 27:41.740
提示内容是什么呢

27:41.740 --> 27:42.860
提示内容就是

27:42.860 --> 27:45.100
添加学生成功

27:47.970 --> 27:48.690
添加学生成功

27:49.490 --> 27:49.650
好

27:49.650 --> 27:50.850
那么这里要挑转页面

27:50.850 --> 27:51.970
怎么挑转呢

27:51.970 --> 27:53.490
挑人页面是不是特别简单了

27:53.490 --> 27:53.970
对吧

27:53.970 --> 27:55.490
挑人页面this props

27:55.490 --> 27:56.450
干嘛呢

27:56.450 --> 27:58.770
就是history

27:59.650 --> 28:00.450
pooch

28:00.450 --> 28:01.490
turner

28:01.490 --> 28:03.170
挑到students

28:03.170 --> 28:04.450
挑到学生查学业

28:04.450 --> 28:04.770
好

28:04.770 --> 28:05.410
保存啊

28:05.410 --> 28:07.010
咱们来看一下这个效果

28:07.970 --> 28:09.090
这里学号

28:09.090 --> 28:09.970
咱们随便写个吧

28:11.250 --> 28:11.970
新名

28:11.970 --> 28:12.450
随便写个

28:13.730 --> 28:14.610
这里出生颜份

28:14.610 --> 28:15.330
随便写个

28:15.330 --> 28:15.810
手机号

28:15.810 --> 28:16.290
随便写个

28:16.930 --> 28:17.330
柱子

28:17.330 --> 28:17.890
随便写个

28:17.890 --> 28:18.210
邮箱

28:20.980 --> 28:21.220
好

28:21.220 --> 28:21.860
随便写个

28:21.860 --> 28:22.420
点击提交

28:23.060 --> 28:23.300
好

28:23.300 --> 28:24.020
现在写的成功

28:24.020 --> 28:24.340
对吧

28:25.060 --> 28:25.620
好

28:25.620 --> 28:26.260
挑转

28:26.260 --> 28:27.380
诶挑转呢

28:27.380 --> 28:27.780
我们

28:29.460 --> 28:30.900
can not read the property

28:31.620 --> 28:32.900
pooch of undefend

28:33.540 --> 28:34.740
哦对对对对

28:34.740 --> 28:35.700
哦他这个里面呢

28:35.700 --> 28:37.540
他是没有这个history就像的

28:37.540 --> 28:38.100
对吧

28:38.180 --> 28:39.380
因为他是个组建里面

28:39.380 --> 28:40.580
他是没有history对象的

28:40.580 --> 28:41.780
所以说这里也简单啊

28:41.780 --> 28:43.380
我们用with rotor不要包装一下

28:44.100 --> 28:47.300
import with rotor front

28:48.020 --> 28:49.700
这些东西都是以前解决过的问题啊

28:49.700 --> 28:51.380
所以说大家一定要熟悉的运用

28:52.420 --> 28:52.980
好

28:52.980 --> 28:53.860
把包装一下啊

28:53.860 --> 28:55.060
就是把这个反回的组建呢

28:55.060 --> 28:55.780
再包装一下

28:56.260 --> 28:57.060
再包装一下

28:57.060 --> 28:57.460
就完成了

28:58.340 --> 28:58.580
好

28:58.580 --> 28:59.140
保存啊

28:59.140 --> 28:59.460
又来

29:01.470 --> 29:01.870
又来

29:01.870 --> 29:02.590
添加学生

29:02.590 --> 29:02.990
学号

29:04.030 --> 29:04.590
新名

29:05.630 --> 29:06.590
出生颜份

29:06.590 --> 29:07.550
手机号

29:07.550 --> 29:08.190
随便写个

29:08.190 --> 29:08.510
柱子

29:08.510 --> 29:09.070
随便写个

29:09.550 --> 29:10.190
随便写个

29:10.190 --> 29:10.670
提交

29:12.830 --> 29:14.910
那么这里有一个小问题是什么呢

29:14.910 --> 29:19.310
就是添加学生成功的显示和挑转页面是同时进行的

29:19.310 --> 29:20.350
我这里不再演示了

29:20.350 --> 29:22.270
大家可以把个视频倒回去看一下

29:22.830 --> 29:25.550
挑转页面和这个提示是同时进行的

29:25.550 --> 29:26.750
因为这个代码是同步的

29:27.630 --> 29:29.070
是同时在运行

29:29.070 --> 29:29.790
就先运行它

29:29.790 --> 29:30.750
马上运行它

29:30.750 --> 29:31.150
但是呢

29:31.150 --> 29:32.430
实际上他这个东西

29:32.430 --> 29:36.430
我们就是感知上可能希望的是

29:36.430 --> 29:38.030
他提示完了之后

29:38.030 --> 29:39.390
他会自动消失对吧

29:39.470 --> 29:40.830
他提示完了之后

29:40.830 --> 29:41.950
我们再挑转页面

29:42.510 --> 29:43.310
就等他消失

29:43.310 --> 29:45.390
等那个提示文本消失了之后

29:45.390 --> 29:46.430
我们再挑转页面

29:46.430 --> 29:47.230
而不是刚刚提示

29:47.230 --> 29:48.510
就马上要去挑转页面

29:48.510 --> 29:49.550
因为它里面要提示

29:49.550 --> 29:50.990
需要等于一段时间才会消失

29:51.470 --> 29:52.590
好那么这个东西怎么做呢

29:52.590 --> 29:53.310
我们找APN

29:53.870 --> 29:54.590
APN里面呢

29:54.590 --> 29:55.630
我们往下看一下

29:57.390 --> 29:58.030
他说他们呢

29:58.030 --> 30:01.710
他可以通过ZIN在接口关闭之后来运行callback

30:02.510 --> 30:03.630
就他这里面呢

30:03.630 --> 30:04.510
返回的是一个什么呢

30:04.510 --> 30:05.790
返回的是一个promise

30:05.790 --> 30:06.670
那么这个样子的话

30:06.670 --> 30:07.550
我们是不可以等待

30:07.870 --> 30:08.190
对吧

30:08.190 --> 30:08.830
等待

30:08.910 --> 30:10.030
等待你完成

30:10.030 --> 30:12.030
等待你完成提示了之后

30:12.030 --> 30:13.390
就提示消失了之后

30:13.390 --> 30:14.430
我们再挑转页面

30:15.070 --> 30:15.790
这就简单了

30:16.510 --> 30:18.270
当然通过ZIN也是可以的

30:18.270 --> 30:19.470
这里我们天天学生

30:19.470 --> 30:20.030
再来

30:20.030 --> 30:20.670
再来

30:22.750 --> 30:23.470
随便写个吧

30:24.110 --> 30:24.750
随便写

30:24.750 --> 30:25.150
随便写

30:26.910 --> 30:27.710
这里随便写

30:27.710 --> 30:28.350
随便写

30:28.750 --> 30:29.390
好点击

30:30.030 --> 30:30.750
天天学生成功

30:32.850 --> 30:33.330
稍等

30:33.330 --> 30:34.370
等他消失

30:35.010 --> 30:35.650
我看是

30:35.650 --> 30:37.010
鼠标以上就不消失了

30:37.650 --> 30:38.690
鼠标以上就不消失了

30:38.690 --> 30:40.210
你看消失的时候再挑转

30:40.210 --> 30:40.610
对吧

30:40.610 --> 30:41.090
再挑转

30:42.050 --> 30:42.850
是不是没问题了

30:42.850 --> 30:43.250
对不对

30:43.970 --> 30:44.850
这是这种模式

30:45.250 --> 30:45.890
这种模式

30:45.890 --> 30:48.690
当然我们也可以先把ZSET STATE

30:49.410 --> 30:51.890
放到就是上面也可以

30:52.450 --> 30:53.570
刚才我们会发现

30:53.570 --> 30:56.370
它的消失的时间太长了

30:56.370 --> 30:57.970
就提示的时间太长了

30:57.970 --> 30:59.330
能不能说短一点呢

31:00.210 --> 31:02.370
咱们看一下它的APN里面

31:02.370 --> 31:03.250
是不是有第二个参数

31:03.650 --> 31:04.370
第二个参数是什么

31:04.370 --> 31:05.170
Diarration

31:05.170 --> 31:06.610
是不是等待时间

31:06.850 --> 31:07.330
对不对

31:07.330 --> 31:08.290
我们这里能写上

31:08.850 --> 31:09.730
一秒钟够了

31:09.730 --> 31:10.610
一秒钟够了

31:11.250 --> 31:11.970
一千毫秒

31:12.370 --> 31:13.650
好咱们保存再看一下

31:14.770 --> 31:15.330
再看一下

31:16.690 --> 31:18.050
接下来让我们看这边

31:20.290 --> 31:20.850
天天学生

31:21.570 --> 31:21.890
学号

31:23.170 --> 31:23.970
学生

31:23.970 --> 31:24.610
随便写个

31:27.200 --> 31:27.840
随便写

31:27.840 --> 31:28.800
随便写

31:28.800 --> 31:29.360
好点击

31:32.060 --> 31:34.140
这里应该是有错误

31:34.140 --> 31:35.340
学号不能是那个

31:36.140 --> 31:38.060
我们以后再说错误的处理

31:38.060 --> 31:38.860
好点击提交

31:38.860 --> 31:39.420
天天学生成功

31:40.460 --> 31:40.940
一秒钟

31:42.860 --> 31:43.980
哎这等的有点久啊

31:45.180 --> 31:47.100
它这个单位是可能剩秒

31:48.060 --> 31:48.940
单位为秒

31:48.940 --> 31:49.980
等一千秒

31:49.980 --> 31:50.780
这个太瞎了

31:51.340 --> 31:52.140
一秒钟就够了

31:52.700 --> 31:53.340
一秒钟就够了

31:53.340 --> 31:53.980
再来

31:53.980 --> 31:54.380
再来

31:54.380 --> 31:55.340
最后一次测试吧

31:56.300 --> 31:56.940
随便写个

31:58.220 --> 31:58.620
新名

31:58.620 --> 31:59.180
随便写个

32:00.860 --> 32:01.420
随便写

32:01.820 --> 32:02.460
随便写

32:02.860 --> 32:03.340
随便写

32:04.300 --> 32:04.940
随便写

32:04.940 --> 32:05.340
提交

32:05.900 --> 32:06.620
天天学生

32:07.020 --> 32:07.260
好

32:07.260 --> 32:08.140
是不是跳过去了

32:08.140 --> 32:08.540
对吧

32:08.540 --> 32:09.660
在一秒钟就差不多了

32:10.460 --> 32:11.260
这是添加

32:11.260 --> 32:11.900
对吧

32:11.900 --> 32:12.540
添加的时候

32:12.540 --> 32:14.300
它但是它还有可能会添加失败

32:14.460 --> 32:15.500
比方学号重复

32:16.060 --> 32:17.340
学号的格式不正确

32:17.660 --> 32:19.740
是不是服务协会返回一个错误消息

32:19.740 --> 32:20.620
错误消息在哪

32:21.180 --> 32:21.740
我们之前说

32:22.620 --> 32:23.260
服务协的接口

32:23.260 --> 32:25.020
你看错误消息是在message里面

32:25.020 --> 32:25.260
对吧

32:25.260 --> 32:26.220
message里面

32:26.220 --> 32:26.460
好

32:26.460 --> 32:27.900
那么如果说添加失败的话

32:27.900 --> 32:29.100
也非常简单

32:29.100 --> 32:30.860
先就给出提示就完事了

32:30.860 --> 32:31.980
给出提示就完事了

32:32.860 --> 32:33.980
我们直接给出提示

32:34.780 --> 32:35.740
这就不用等待了

32:35.740 --> 32:37.260
也不需要调整一面

32:37.260 --> 32:38.380
给出提示就完事了

32:38.380 --> 32:39.180
好那么这个

32:39.180 --> 32:40.780
我们要给出一个错误提示

32:41.420 --> 32:42.620
给一个错误提示在哪呢

32:43.180 --> 32:44.380
我们看一下message里面

32:44.380 --> 32:45.660
不是有一个error吗

32:45.660 --> 32:45.980
对吧

32:45.980 --> 32:46.780
错误提示

32:47.420 --> 32:47.740
这是

32:48.380 --> 32:50.300
那么我们把错误消息是不是写字

32:50.300 --> 32:50.860
对不对

32:50.860 --> 32:51.980
把错误消息写字

32:51.980 --> 32:53.580
我们就不要一秒钟了吧

32:53.580 --> 32:54.620
我们要三秒钟

32:54.620 --> 32:56.540
再让他看得清楚一点

32:57.100 --> 32:57.740
那么这里呢

32:57.740 --> 32:58.860
我们写上这个

33:01.740 --> 33:02.700
a就是这个

33:04.060 --> 33:04.540
error

33:04.540 --> 33:05.740
错误消息在哪呢

33:05.740 --> 33:08.060
在服务协返回的message里面

33:08.540 --> 33:08.860
好

33:08.860 --> 33:09.340
保存

33:09.340 --> 33:09.980
我们来看一下吧

33:11.100 --> 33:11.260
好

33:11.260 --> 33:11.740
听见学生

33:12.780 --> 33:14.540
学号我们这里写了这个

33:14.540 --> 33:16.060
就写个错误的学号

33:16.060 --> 33:17.980
然后手机号我们随便写个

33:17.980 --> 33:18.860
柱子随便写个

33:18.860 --> 33:19.820
油箱随便写个

33:19.820 --> 33:20.860
给你提交

33:20.860 --> 33:21.340
你看

33:21.340 --> 33:23.660
学号必须为4到16位的数字组成

33:24.220 --> 33:25.100
看没

33:25.100 --> 33:26.460
是不是出现错误了

33:26.460 --> 33:27.020
对吧

33:27.020 --> 33:28.220
那就错误就显示到这儿了

33:29.100 --> 33:29.740
没问题吧

33:29.740 --> 33:31.100
咱们在这里给出提示

33:31.100 --> 33:31.660
就完事了

33:33.780 --> 33:36.180
这就是关于这个错误的情况

33:36.180 --> 33:37.620
就不用创造一面了

33:37.620 --> 33:39.540
那添加我们这一块是不是做完了

33:40.180 --> 33:41.060
添加是不是做完了

33:41.940 --> 33:43.220
添加都做完了的话

33:43.300 --> 33:44.420
那修改还不简单吗

33:44.420 --> 33:45.700
修改是不是一样的道理

33:45.700 --> 33:47.460
我们都可以把这个代码复制过去了

33:48.180 --> 33:48.660
你看着

33:49.780 --> 33:51.540
首先把它sss loading对吧

33:51.540 --> 33:52.020
维修

33:52.740 --> 33:54.260
然后这里不是添加学生

33:54.260 --> 33:55.780
这里是干嘛修改学生

33:57.980 --> 33:59.340
这里是修改学生

33:59.340 --> 34:00.060
modify

34:01.420 --> 34:02.780
update student

34:03.420 --> 34:04.380
这是修改学生

34:06.060 --> 34:07.580
这是在哪呢

34:07.580 --> 34:07.980
在这

34:08.620 --> 34:09.020
update

34:09.580 --> 34:10.300
修改学生

34:10.300 --> 34:11.260
学生都让传进去

34:11.260 --> 34:12.220
对吧

34:12.220 --> 34:13.100
还是一样的

34:13.260 --> 34:15.100
服务器有可能会返回成功

34:15.100 --> 34:16.780
有可能会返回失败

34:16.780 --> 34:17.740
有可能会返回成功

34:17.740 --> 34:19.100
有可能会返回失败

34:19.100 --> 34:19.820
对不对

34:19.820 --> 34:20.620
都是有可能的

34:21.180 --> 34:23.660
那么如果说服务器返回的

34:26.300 --> 34:26.700
看一下

34:27.900 --> 34:30.700
服务器返回的是成功

34:30.700 --> 34:31.500
这个sys的话

34:31.500 --> 34:32.700
那么我们要做什么呢

34:32.700 --> 34:33.820
先给他提示

34:33.820 --> 34:35.420
提示就是修改学生成功

34:36.140 --> 34:37.580
然后再挑转页面

34:37.980 --> 34:39.020
挑转页面的话

34:39.020 --> 34:39.820
就调整到这

34:39.820 --> 34:40.220
没问题

34:41.020 --> 34:41.660
如果说

34:42.380 --> 34:43.980
修改失败的时候

34:43.980 --> 34:44.940
那么我们这里呢

34:44.940 --> 34:46.140
就给他一个

34:46.140 --> 34:46.780
airer

34:46.780 --> 34:48.060
把message给他

34:48.060 --> 34:48.940
还是差不多的

34:48.940 --> 34:49.500
差不多的

34:50.140 --> 34:51.340
好这是修改学生

34:51.340 --> 34:51.820
但是

34:52.700 --> 34:54.940
虽然说我们把这个修改学生写了

34:54.940 --> 34:55.500
但是呢

34:55.500 --> 34:56.460
问题在哪呢

34:57.980 --> 34:59.100
问题在于这

34:59.100 --> 34:59.900
我们比方说

34:59.900 --> 35:01.180
把这个接飞修改掉

35:01.180 --> 35:02.460
学号为11019

35:03.180 --> 35:03.820
那么我们要

35:03.820 --> 35:05.420
学号是不是要手动写啊

35:05.420 --> 35:06.940
手动写这些东西信息

35:06.940 --> 35:07.260
对不对

35:08.860 --> 35:10.460
比方说咱们随便写一些

35:12.620 --> 35:13.100
阻止

35:13.900 --> 35:14.300
留乡

35:15.580 --> 35:16.380
好点提交

35:18.460 --> 35:19.260
提交是

35:19.260 --> 35:20.700
他说该学生已存在

35:20.700 --> 35:21.900
我们不是做修改吗

35:22.780 --> 35:23.500
哦

35:23.500 --> 35:24.540
我们得做修改

35:24.540 --> 35:26.780
我们访问的还是添加学生页面

35:26.780 --> 35:27.740
我们要做修改

35:27.740 --> 35:29.260
好那么修改的时候呢

35:29.260 --> 35:29.900
是这样子的

35:30.540 --> 35:32.460
就说我们这里修改页面

35:32.460 --> 35:32.700
是吧

35:32.700 --> 35:34.300
传了一个snumber进去

35:34.300 --> 35:34.700
对吧

35:34.700 --> 35:35.900
传了这么一个东西进去

35:37.020 --> 35:37.420
是吧

35:37.420 --> 35:38.700
所以说我们要访问这个页面

35:38.700 --> 35:39.740
来做修改

35:39.740 --> 35:40.620
那么怎么来访问呢

35:40.700 --> 35:42.460
我们一般是通过这么模式来访问

35:42.460 --> 35:44.060
就在这里学生一个详情

35:44.060 --> 35:44.860
详情的话

35:44.860 --> 35:46.060
就是一般就是修改

35:46.060 --> 35:47.260
一般就是修改

35:47.260 --> 35:48.380
好点详情的时候

35:48.380 --> 35:50.140
我们要挑到这个页面

35:50.140 --> 35:51.580
因为这个页面才是在做修改

35:51.580 --> 35:51.900
看没有

35:51.900 --> 35:53.100
传了一个snumber进去

35:53.100 --> 35:53.980
这个组件里面

35:53.980 --> 35:55.580
通过这个属性有没有值

35:55.580 --> 35:56.220
来判断

35:56.220 --> 35:57.820
他到底是做添加还是修改

35:58.700 --> 35:59.500
好那么现在呢

35:59.500 --> 36:01.180
我们要找到这个table组件了

36:01.900 --> 36:02.700
table组件里面

36:03.180 --> 36:05.020
你看这这也不是一个详情吗

36:05.020 --> 36:05.500
对不对

36:05.500 --> 36:06.300
诶点详情过后

36:06.300 --> 36:07.260
是不是跳到那个页面了

36:07.260 --> 36:08.300
就对应到这个页面了

36:08.300 --> 36:08.700
对吧

36:08.700 --> 36:10.300
好我们点详情

36:10.380 --> 36:11.260
你详情

36:11.260 --> 36:12.300
好跳到过后来我们

36:13.100 --> 36:14.460
你看一下本来呢

36:14.460 --> 36:17.100
是不是这个页面应该默认的填好吧

36:17.100 --> 36:18.380
这东西全部填好

36:18.380 --> 36:18.860
对吧

36:18.860 --> 36:20.540
是不是要把这些东西全部填好啊

36:20.540 --> 36:21.660
默认情况

36:22.460 --> 36:23.500
全部是不是要填好

36:23.500 --> 36:24.460
但是这里填好了吗

36:24.460 --> 36:25.340
是不是啥都没填

36:25.340 --> 36:26.780
我们这里一个个手动写

36:26.780 --> 36:27.580
手动写行不行

36:27.580 --> 36:28.140
刚才行

36:29.020 --> 36:29.660
当然可以

36:31.260 --> 36:31.900
当然可以

36:33.580 --> 36:34.140
匈名

36:34.140 --> 36:36.380
我们比方说这里随便写个匈名吧

36:36.380 --> 36:37.100
随便写个匈名

36:40.210 --> 36:40.850
好这里呢

36:41.410 --> 36:42.370
这里随便写个啊

36:44.900 --> 36:46.180
阻止随便写一个

36:46.180 --> 36:47.220
邮箱随便写一个

36:47.220 --> 36:47.700
点提交

36:50.300 --> 36:50.940
嗯

36:50.940 --> 36:51.740
爆错了吗

36:51.740 --> 36:52.300
我看一下啊

36:53.900 --> 36:54.540
没爆错啊

36:55.260 --> 36:56.140
点提交

36:56.140 --> 36:57.180
诶这里爆错了

36:57.180 --> 36:59.500
它 still the OBG is not defend

37:01.100 --> 37:01.740
看一下这边

37:03.780 --> 37:06.180
它说 still OBG is not defend

37:07.780 --> 37:09.380
哦这里是

37:09.380 --> 37:10.980
update应该写的是 values

37:10.980 --> 37:11.540
对吧

37:11.540 --> 37:12.660
写的是 values

37:12.660 --> 37:13.700
好现在我们做修改啊

37:17.060 --> 37:18.020
11019

37:18.580 --> 37:19.220
随便写一个

37:20.660 --> 37:21.220
随便写个

37:21.220 --> 37:21.460
看一下

37:21.460 --> 37:23.700
首先看一下能不能修改功能是不是齐全的啊

37:23.700 --> 37:25.140
现在说来说不太好用

37:25.140 --> 37:27.380
但是我们首先看看功能是不是正确的

37:28.180 --> 37:29.140
好修改全成功

37:29.140 --> 37:29.620
跳回去

37:30.980 --> 37:31.540
啊我们不是

37:32.660 --> 37:33.140
你看

37:33.140 --> 37:34.020
是不是变了

37:34.020 --> 37:34.660
对吧

37:34.660 --> 37:35.060
变了

37:35.060 --> 37:37.060
重新从服务系拿数据的时候是不是变了

37:37.060 --> 37:37.460
对不对

37:38.260 --> 37:39.940
诶这里就是在做修改

37:39.940 --> 37:40.820
啊在做修改

37:42.500 --> 37:43.220
好

37:43.220 --> 37:43.860
然后呢

37:43.860 --> 37:44.420
现在呢

37:44.420 --> 37:45.700
我们倒是能修改

37:45.700 --> 37:46.260
但是呢

37:46.260 --> 37:46.900
问题呢

37:46.900 --> 37:48.580
就是很烦人

37:48.580 --> 37:49.860
我们在手动写

37:49.940 --> 37:52.580
那你能不能帮我自己直接直接把它填好了

37:53.460 --> 37:55.220
能不能帮我直接把它填好了

37:55.220 --> 37:55.700
可以的

37:56.580 --> 37:57.620
什么时候填好

37:57.620 --> 37:58.900
是不是在组建看

37:58.900 --> 38:00.820
挂载之后叫填这个数据啊

38:00.820 --> 38:01.460
是不是要可以

38:01.460 --> 38:02.420
要开始来填

38:02.420 --> 38:03.060
填这个东西

38:03.700 --> 38:04.500
好来吧

38:04.500 --> 38:05.460
我们就可以写上

38:05.460 --> 38:07.460
组建不是一个生命周期函数吗

38:07.460 --> 38:08.340
叫什么

38:08.340 --> 38:09.460
component

38:09.460 --> 38:10.340
didmount

38:10.340 --> 38:11.540
生命周期函数

38:11.540 --> 38:12.900
在这个函数里边

38:12.900 --> 38:14.740
如果我发现

38:14.740 --> 38:15.780
你是在做修改

38:17.060 --> 38:18.580
在做修改有一个什么样的

38:18.580 --> 38:19.300
就是特点呢

38:19.380 --> 38:20.900
是不是给我传了个学号进来

38:20.900 --> 38:21.860
我们来输出一下

38:21.860 --> 38:22.500
thisprobs

38:23.540 --> 38:23.940
probs

38:25.220 --> 38:26.740
theirsnumber

38:26.740 --> 38:28.580
就给我传了一个学号进来啊

38:28.580 --> 38:28.820
好

38:28.820 --> 38:29.460
保存

38:29.460 --> 38:30.100
你看一下啊

38:32.590 --> 38:33.070
学号

38:33.070 --> 38:33.470
哎哦

38:33.470 --> 38:34.270
这个还是id

38:34.270 --> 38:34.430
啊

38:34.430 --> 38:35.950
这个还不是学号

38:35.950 --> 38:36.990
这个是id

38:36.990 --> 38:38.190
还不是学号

38:38.190 --> 38:39.950
那么我们这里要得到学号

38:39.950 --> 38:41.390
得把学号给我传过来

38:41.390 --> 38:42.350
你不能够传个id

38:43.070 --> 38:43.630
这里是id

38:43.630 --> 38:44.670
它不是学号

38:44.670 --> 38:45.470
所以说我们这里呢

38:45.470 --> 38:46.830
要把这个不是id

38:46.830 --> 38:48.510
传的是snumber

38:48.510 --> 38:49.310
传的是学号

38:50.270 --> 38:50.910
好

38:50.910 --> 38:51.790
你看一下啊

38:51.790 --> 38:52.590
重新重新来

38:52.590 --> 38:55.180
好

38:55.180 --> 38:56.380
这边点击详情

38:56.380 --> 38:57.180
哎

38:57.180 --> 38:58.460
这什么

38:58.460 --> 38:59.100
它说什么

38:59.100 --> 39:00.540
snumber is not defend

39:02.140 --> 39:02.540
啊

39:02.540 --> 39:03.020
哦

39:03.020 --> 39:03.740
哦

39:03.740 --> 39:04.460
这里的

39:04.460 --> 39:05.340
data in这个设

39:05.340 --> 39:06.140
data in这个设

39:06.140 --> 39:07.020
把它变成snumber

39:07.020 --> 39:07.580
啊

39:07.580 --> 39:08.620
这个参数呢

39:08.620 --> 39:09.740
为了名字好看一点啊

39:09.740 --> 39:11.100
都该改成snumber

39:11.100 --> 39:11.980
好

39:11.980 --> 39:12.380
看一下吧

39:12.380 --> 39:13.740
好

39:13.740 --> 39:14.220
点

39:14.220 --> 39:14.380
哎

39:14.380 --> 39:15.100
这里报什么错

39:15.100 --> 39:16.460
这是什么

39:16.460 --> 39:21.060
incounted

39:21.060 --> 39:22.500
incounted

39:23.220 --> 39:26.660
to children with same key

39:26.660 --> 39:27.300
snumber

39:27.300 --> 39:28.660
它说snumber有重复

39:28.660 --> 39:31.140
它不是限制了

39:31.140 --> 39:32.420
snumber没有重复吗

39:32.420 --> 39:33.220
它说为什么说

39:33.220 --> 39:33.940
snumber有

39:33.940 --> 39:35.060
它会有重复呢

39:35.060 --> 39:37.460
哦

39:37.460 --> 39:38.340
其中有一例

39:38.340 --> 39:39.780
它已经用了snumber了啊

39:39.780 --> 39:40.980
已经用了snumber了

39:40.980 --> 39:41.380
那行

39:41.380 --> 39:42.100
那这样子吧

39:42.100 --> 39:43.780
我不写data in这个设了

39:43.780 --> 39:44.980
不写这个了

39:44.980 --> 39:46.580
不写这个玩意了

39:46.580 --> 39:47.940
咱们呢

39:47.940 --> 39:48.740
这直接输出

39:48.740 --> 39:50.020
直接输出

39:50.020 --> 39:50.420
你看一下

39:50.420 --> 39:55.070
看一下

39:56.030 --> 39:59.360
别伤心

39:59.360 --> 40:00.960
是不是得到一个整个对象了

40:00.960 --> 40:01.520
对吧

40:01.520 --> 40:02.880
我就不写一个snumber了

40:02.880 --> 40:04.720
我就得到整个学生对象了

40:04.720 --> 40:06.240
得到整个学生对象了

40:06.240 --> 40:08.720
就是stew

40:08.720 --> 40:10.080
那么我们通过这个stew里面

40:10.080 --> 40:11.920
第二snumber是不是拿到了

40:11.920 --> 40:13.280
总之这个办法太多了

40:13.280 --> 40:16.400
你自己去搞定就行了

40:16.400 --> 40:17.760
这是也是我们之前说过的

40:17.760 --> 40:19.840
它可以拿到整个学生对象

40:19.840 --> 40:20.160
好

40:20.160 --> 40:20.880
那么现在没问题了

40:20.880 --> 40:21.600
点击详情

40:21.600 --> 40:22.400
你看一下

40:22.400 --> 40:23.600
详情

40:23.600 --> 40:25.040
说拿到了学生学号了

40:25.040 --> 40:25.920
11019

40:25.920 --> 40:26.720
对吧

40:26.800 --> 40:27.680
拿到学号了

40:28.800 --> 40:29.040
好

40:29.040 --> 40:30.000
那么现在呢

40:30.000 --> 40:31.680
我们要做的事情是啥呢

40:31.680 --> 40:33.120
我们是不是要把这个

40:33.120 --> 40:35.280
通过这个学号啊

40:35.280 --> 40:38.800
重新去获取学生

40:38.800 --> 40:40.320
是不是要做这么一件事

40:40.320 --> 40:41.520
通过这个学号

40:41.520 --> 40:44.080
要重新去获取学生

40:44.080 --> 40:45.360
关键是我看一下

40:45.360 --> 40:46.400
问题在哪了

40:46.400 --> 40:47.600
问题在这里有没有

40:48.480 --> 40:50.480
获得单个学生的接口

40:51.120 --> 40:52.160
那没有的话

40:52.160 --> 40:53.760
那只能另外想办法了

40:54.560 --> 40:55.600
好像还真没有

40:55.600 --> 40:56.720
有查询所有学生

40:57.600 --> 40:58.640
有添加学生

40:58.640 --> 40:59.600
有三处学生

41:00.320 --> 41:02.640
但是没有获取单个学生的接口

41:03.520 --> 41:04.240
你看没

41:04.240 --> 41:05.760
没有获取单个学生的接口

41:06.400 --> 41:07.200
那这个东西怎么办

41:07.200 --> 41:08.480
这不是我们的问题

41:08.480 --> 41:09.360
这是个接口的

41:09.360 --> 41:12.240
接口有点不太完善

41:12.240 --> 41:12.960
应该是

41:12.960 --> 41:14.400
按理说肯定要获取单个的

41:14.400 --> 41:15.360
就不要说像

41:15.360 --> 41:16.720
以后你们要接触什么

41:16.720 --> 41:18.960
你自己编写个微博应用

41:18.960 --> 41:20.240
微信应用之类的

41:20.240 --> 41:21.840
它都是有相应接口的

41:21.840 --> 41:24.400
就获取一条信息的详情

41:24.560 --> 41:25.920
应该是有这么一个接口的

41:25.920 --> 41:28.080
但是遗憾的是现在的服务器

41:28.080 --> 41:29.360
它没有这个接口

41:29.360 --> 41:30.000
没有这个接口

41:30.000 --> 41:30.560
咋办了

41:31.600 --> 41:32.320
没有这个接口

41:32.960 --> 41:34.160
我们想别的办法

41:34.160 --> 41:34.960
想别的办法

41:36.080 --> 41:37.280
要不然我们这样子

41:39.600 --> 41:40.720
关键是这个东西怎么弄

41:42.080 --> 41:42.800
这个东西怎么弄

41:43.840 --> 41:44.240
我们

41:46.000 --> 41:46.960
我再说一下

41:46.960 --> 41:47.680
说实话

41:47.680 --> 41:49.200
这里肯定要有这么一个

41:49.200 --> 41:52.320
就是根据id来获取学生的

41:52.320 --> 41:53.360
但是现在没有

41:53.440 --> 41:54.880
我们只能想一个笨办法

41:54.880 --> 41:55.760
想个笨办法

41:55.760 --> 41:56.800
我们再还是用

41:58.000 --> 41:59.360
这种开发方式

41:59.360 --> 42:00.240
写上这么一个接口

42:00.880 --> 42:01.760
方可行

42:01.760 --> 42:04.800
就get student by s number

42:06.320 --> 42:07.200
根据学号

42:07.200 --> 42:08.880
你给我传一个学号进来

42:08.880 --> 42:11.200
我根据学号来获取单个学生对象

42:12.240 --> 42:13.440
这是根据学号

42:14.480 --> 42:16.960
获取单个学生对象

42:17.840 --> 42:19.040
这个这个函数呢

42:19.040 --> 42:21.680
其实它里边肯定要去调用接口来得到的

42:21.680 --> 42:22.160
对吧

42:22.240 --> 42:23.760
它肯定要去调用接口来得到

42:23.760 --> 42:24.560
但是那遗憾的是

42:24.560 --> 42:25.600
现在没有接口

42:25.600 --> 42:26.160
没有接口

42:26.160 --> 42:27.040
我就用笨办法

42:27.040 --> 42:28.160
得到所有学生在学习

42:28.160 --> 42:28.960
所有学生里面找

42:29.520 --> 42:30.480
那我怎么办呢

42:30.480 --> 42:31.680
我只能这样做

42:31.680 --> 42:32.160
以后呢

42:32.160 --> 42:33.520
如果说这个接口完上了

42:33.520 --> 42:34.640
你只需要改动这个函数

42:34.640 --> 42:35.760
内部的东西就行了

42:35.760 --> 42:36.720
其他地方不用改

42:36.720 --> 42:38.240
因为我们都是通过函数来调用的

42:39.200 --> 42:39.440
好

42:39.440 --> 42:39.840
我们这里呢

42:39.840 --> 42:40.240
await

42:40.720 --> 42:41.840
get all student

42:43.440 --> 42:44.240
拿到所有学生

42:44.720 --> 42:46.400
在这之前写过的函数

42:46.400 --> 42:47.280
拿到所有学生

42:47.920 --> 42:49.360
拿到所有的学生信息

42:49.920 --> 42:50.720
stues

42:50.800 --> 42:51.200
然后呢

42:51.200 --> 42:52.160
这个学生里边呢

42:52.960 --> 42:53.600
我们看一下啊

42:54.880 --> 42:55.840
拿到所有学生信息过

42:55.840 --> 42:56.640
它是个数组

42:56.640 --> 42:57.920
那么这个数组里边呢

42:57.920 --> 42:58.800
我们去找啊

42:58.800 --> 43:00.000
用fan的去找

43:00.000 --> 43:00.640
找什么呢

43:00.640 --> 43:02.640
找下有没有一个学生的s number

43:02.640 --> 43:04.240
等于你传递的s number

43:05.040 --> 43:06.160
所以找这么一个对象

43:06.160 --> 43:08.000
用数组里边的fan的来进行找

43:08.000 --> 43:08.880
当找到了的话

43:08.880 --> 43:09.840
那就返回这个对象

43:09.840 --> 43:10.560
没有找到的话

43:10.560 --> 43:11.520
就返回了

43:11.520 --> 43:12.880
好咱们来试一下吧

43:12.880 --> 43:13.440
试一下

43:14.320 --> 43:15.520
这里呢get student

43:16.560 --> 43:17.680
by s number

43:17.680 --> 43:19.120
这里再传一个11019

43:19.840 --> 43:20.320
z

43:20.320 --> 43:21.920
看一下服务器的返回结果

43:21.920 --> 43:22.960
看一下这个返回

43:22.960 --> 43:23.520
响应结果

43:25.280 --> 43:26.640
看一下这么准确啊

43:26.640 --> 43:27.120
保存

43:28.000 --> 43:28.400
这边

43:28.400 --> 43:29.600
怎么我们想想办法

43:29.600 --> 43:30.400
把这个事情搞定

43:30.960 --> 43:31.280
好

43:31.920 --> 43:32.800
看一下是不是正确了

43:32.800 --> 43:33.120
对吧

43:33.760 --> 43:34.960
是可以拿到一个学生对象的

43:34.960 --> 43:36.000
我们只能用这奔办法

43:36.000 --> 43:36.640
那怎么办呢

43:37.120 --> 43:38.160
用一个奔办法来搞定

43:39.760 --> 43:40.080
好

43:40.080 --> 43:41.040
那就差不多了

43:41.920 --> 43:42.800
这里table

43:42.800 --> 43:43.760
我们之前写的

43:47.440 --> 43:47.920
差不多了

43:48.720 --> 43:49.360
那么现在呢

43:49.360 --> 43:50.080
我们再回到这

43:50.800 --> 43:52.320
由于它有了这个函数

43:52.320 --> 43:52.880
之后呢

43:52.880 --> 43:53.600
我们是不是在这里

43:53.600 --> 43:55.120
可以得到这么一个函数

43:55.120 --> 43:56.000
API函数

43:56.000 --> 43:57.040
get student

43:57.040 --> 43:57.840
当我们在这里

43:57.840 --> 43:58.800
用这个函数的时候

43:58.800 --> 43:59.760
其实并不清楚

43:59.760 --> 44:01.200
这个函数是这样子处理的

44:01.200 --> 44:02.000
我们只知道

44:02.000 --> 44:02.880
这个函数很神奇

44:02.880 --> 44:03.520
你给它一个学化

44:03.520 --> 44:04.960
就给你一个学生对象

44:04.960 --> 44:06.080
它是个异步函数

44:06.080 --> 44:06.880
但是那以后呢

44:06.880 --> 44:08.000
有了这个接口之后

44:08.000 --> 44:09.920
你可以把这个函数内部去改

44:09.920 --> 44:11.120
改动就完事了

44:11.120 --> 44:12.480
不用去改其他地方

44:12.480 --> 44:14.320
get student by s number

44:15.520 --> 44:16.560
有这么一个函数

44:16.560 --> 44:17.280
好那么这里呢

44:17.280 --> 44:18.800
是不是要用这个函数啊

44:18.800 --> 44:19.840
component will

44:19.840 --> 44:20.960
did mount的时候

44:20.960 --> 44:21.840
是不是要用这个函数

44:22.560 --> 44:24.240
好咱们调用这个函数

44:24.240 --> 44:24.880
传入啥呢

44:24.880 --> 44:26.560
传入 this props

44:26.560 --> 44:27.280
s number

44:27.280 --> 44:28.000
对吧

44:28.000 --> 44:29.200
你不是有这个属性吗

44:29.200 --> 44:29.920
我给你

44:29.920 --> 44:31.120
我把这个

44:31.120 --> 44:32.240
学号传进来

44:32.240 --> 44:33.280
传进来过后

44:33.280 --> 44:35.040
是不是可以拿到一个学生对象

44:35.040 --> 44:35.360
对吧

44:35.360 --> 44:36.560
是不是可以拿到一个学生对象

44:36.560 --> 44:38.080
await

44:38.080 --> 44:39.120
const

44:39.120 --> 44:41.280
stew

44:41.280 --> 44:41.920
输出

44:41.920 --> 44:42.880
咱们输出一下

44:42.880 --> 44:44.560
stew

44:44.560 --> 44:45.680
保存

44:45.680 --> 44:47.360
我们现在学生提交学生

44:47.360 --> 44:48.560
信息已经可以了

44:48.560 --> 44:49.200
没问题了

44:49.200 --> 44:51.200
关键是在页面一开始的时候

44:51.280 --> 44:52.720
我们要把一个信息填进去

44:52.720 --> 44:54.480
现在搞定这个问题

44:54.480 --> 44:54.880
好

44:54.880 --> 44:56.080
那么你看一下

44:56.080 --> 44:57.840
我们现在到学生管理里边去

44:59.680 --> 45:00.400
点击详情

45:01.680 --> 45:02.960
是不是拿到这个学生对象了

45:03.600 --> 45:04.000
对吧

45:04.000 --> 45:04.880
学生对象了

45:04.880 --> 45:05.920
里边有各种各样的信息

45:06.720 --> 45:06.880
好

45:06.880 --> 45:07.200
然后呢

45:07.200 --> 45:08.080
这里小猫女儿

45:08.960 --> 45:09.360
你看一下

45:09.360 --> 45:10.000
从哪里去

45:10.000 --> 45:11.040
学生对象了

45:11.040 --> 45:11.360
对吧

45:12.240 --> 45:12.720
没问题吧

45:13.760 --> 45:14.160
而且呢

45:14.160 --> 45:15.280
在拿的过程中

45:15.280 --> 45:16.240
是不是也可以

45:16.240 --> 45:17.520
也要设置一下z

45:17.520 --> 45:19.280
也要设置一下个loading啊

45:19.280 --> 45:19.840
他正在拿

45:19.840 --> 45:20.880
可能需要一段时间

45:21.840 --> 45:23.600
set is loading 为 true

45:24.400 --> 45:24.880
然后呢

45:24.880 --> 45:25.840
拿完了之后呢

45:25.840 --> 45:30.560
this set is loading 为 force

45:30.560 --> 45:30.960
对吧

45:31.840 --> 45:33.520
把这个东西细节处理一下

45:34.400 --> 45:34.640
好

45:34.640 --> 45:35.040
保存

45:35.680 --> 45:36.240
你看着啊

45:37.360 --> 45:38.320
再回去

45:38.320 --> 45:38.880
学生查询

45:40.240 --> 45:40.480
好

45:40.480 --> 45:41.360
点详情

45:41.360 --> 45:41.680
你看

45:41.680 --> 45:42.400
是不是一个夹载中

45:45.600 --> 45:45.760
好

45:45.760 --> 45:46.640
拿到数据了

45:46.640 --> 45:46.960
好

45:46.960 --> 45:47.280
接下来

45:47.280 --> 45:47.680
再来啊

45:48.480 --> 45:49.520
点小猫女儿

45:49.520 --> 45:50.480
你看是不是夹载中

45:50.720 --> 45:51.360
拿到数据了

45:52.160 --> 45:52.400
好

45:52.400 --> 45:53.680
拿到数据之后

45:53.680 --> 45:55.840
我们是不是要把这个数据填进去啊

45:55.840 --> 45:57.760
关键是怎么填进去了

45:58.400 --> 46:00.640
我们整个表达是不是用了form 组件

46:00.960 --> 46:01.360
对吧

46:01.360 --> 46:02.400
那form 组件里边

46:02.400 --> 46:03.600
有没有这么一个东西

46:03.600 --> 46:04.880
可以让我们填进去了

46:05.360 --> 46:06.720
可不可以让我们填进去了

46:06.720 --> 46:07.600
有没有这么一个东西呢

46:08.080 --> 46:08.960
是有的

46:08.960 --> 46:09.600
我们之前呢

46:09.600 --> 46:11.440
对说对这个数据的操作啊

46:11.440 --> 46:13.280
对那些数据的管理啊

46:13.280 --> 46:15.120
是通过那个form对象来实现的

46:15.120 --> 46:15.920
我们来看一下吧

46:17.120 --> 46:18.320
在表单里边

46:18.320 --> 46:19.280
form里边

46:19.360 --> 46:20.480
它有这么一个form对象

46:22.900 --> 46:24.020
有这么一个form对象

46:24.420 --> 46:25.060
跑到这

46:26.500 --> 46:26.980
下面啊

46:28.100 --> 46:29.140
form里面有

46:29.140 --> 46:30.580
刚才我们之前还学过的

46:30.580 --> 46:30.820
对吧

46:30.820 --> 46:32.100
有这么一个什么

46:32.100 --> 46:33.460
Validate field

46:33.460 --> 46:34.820
验证验证那个

46:35.700 --> 46:37.300
验证所有的表单项

46:37.300 --> 46:38.260
还有什么呢

46:38.260 --> 46:40.660
还有那个就是get field decorator

46:40.660 --> 46:40.980
对吧

46:40.980 --> 46:42.260
来生成一个表单项

46:42.260 --> 46:44.100
那么其中又有一个这么一个属性的

46:44.100 --> 46:46.580
就是设置表单项的值

46:48.260 --> 46:49.860
设置表单项的值

46:49.940 --> 46:51.460
叫做set field

46:52.100 --> 46:53.220
叫做set field

46:53.780 --> 46:55.700
那么这个set field怎么用呢

46:55.700 --> 46:58.260
它是设置一组输入空间的值

46:58.260 --> 46:59.300
与错误状态

46:59.300 --> 47:01.300
那么这个set field值怎么用呢

47:01.300 --> 47:02.740
其实非常非常简单

47:02.740 --> 47:04.180
这个set field值啊

47:04.180 --> 47:06.260
就是设置表单

47:08.020 --> 47:09.060
表单的值

47:10.100 --> 47:10.740
怎么用呢

47:11.220 --> 47:12.500
就是z是form

47:12.500 --> 47:12.820
对吧

47:12.820 --> 47:13.940
这个表单对象

47:13.940 --> 47:14.820
z props form

47:16.020 --> 47:16.980
props form

47:16.980 --> 47:17.700
这表单对象

47:17.700 --> 47:19.780
set field

47:20.660 --> 47:22.180
这里边传啥呢

47:22.180 --> 47:23.380
这里边传的东西呢

47:23.380 --> 47:24.820
你看一下这里已经跟你说了

47:25.540 --> 47:26.580
传的是一个啥

47:26.580 --> 47:27.460
传的是一个对象

47:28.100 --> 47:29.780
这个对象的每一个属性名是啥

47:29.780 --> 47:31.860
就是你要设置的表单域的名称

47:31.860 --> 47:32.900
比方说你要设置学号

47:32.900 --> 47:33.700
是不是要传这个

47:33.700 --> 47:34.340
对吧

47:34.340 --> 47:36.580
s number等于个啥

47:36.580 --> 47:37.140
等于啥呢

47:37.140 --> 47:38.660
s number还又是一个对象

47:38.660 --> 47:39.620
它的值是啥

47:39.620 --> 47:40.340
error是啥

47:40.340 --> 47:42.100
那么这个东西是不是跟我们这里

47:43.540 --> 47:44.740
这种做法是一样的

47:45.460 --> 47:45.860
看一下

47:47.380 --> 47:48.740
所以跟这个玩意是一样的

47:49.380 --> 47:49.700
对吧

47:50.740 --> 47:51.220
没问题吧

47:51.220 --> 47:52.180
所以跟它

47:52.180 --> 47:53.140
跟它是不是一样的

47:53.700 --> 47:54.500
好那么来吧

47:55.300 --> 47:58.420
既然跟它是一样的

47:58.420 --> 48:00.340
那我们就直接用这种方式来写

48:00.340 --> 48:00.900
就完事了

48:04.180 --> 48:05.220
我们就直接

48:05.220 --> 48:06.180
这个有个函数

48:06.180 --> 48:06.820
这有个函数

48:06.820 --> 48:08.340
我们直接把这个函数调用一下

48:08.340 --> 48:09.380
get fields config

48:10.260 --> 48:11.220
get fields config

48:11.220 --> 48:12.180
直接调用一下这个函数

48:13.140 --> 48:13.860
把这个什么

48:14.500 --> 48:16.020
把这个 still 传进去

48:16.020 --> 48:17.220
把这个全对象传进去

48:17.300 --> 48:17.860
好保存

48:18.180 --> 48:18.740
咱们来看一下

48:19.860 --> 48:20.820
你看是不是填进去了

48:21.380 --> 48:21.700
对吧

48:22.980 --> 48:23.620
对不对

48:23.620 --> 48:24.420
就填进去了

48:25.940 --> 48:26.740
刷新再看一下

48:27.540 --> 48:28.420
就填进去了

48:28.420 --> 48:29.620
它这里有什么

48:29.620 --> 48:30.420
一个有警告

48:30.420 --> 48:30.900
它说啥

48:34.340 --> 48:36.340
这里的错误估计是这个

48:36.340 --> 48:38.660
我们把个学生对象打印出来

48:38.660 --> 48:40.020
这个学生对象我们打印出来

48:40.820 --> 48:41.780
已经打印得出来了

48:41.780 --> 48:42.100
对吧

48:42.100 --> 48:42.900
已经打印出来了

48:44.020 --> 48:44.900
这个学生对象呢

48:44.900 --> 48:46.100
它里面有一些属性

48:46.180 --> 48:47.700
我们表单里面是没有的

48:47.700 --> 48:48.740
比方说这个 id

48:48.740 --> 48:49.460
这个 c time

48:49.460 --> 48:50.020
对吧

48:50.020 --> 48:51.540
像这些属性什么 app key

48:51.540 --> 48:51.860
对吧

48:51.860 --> 48:53.860
这些东西我们表单里面是没有的

48:54.420 --> 48:54.820
然后呢

48:54.820 --> 48:55.460
他认为呢

48:55.460 --> 48:56.420
他去对应不上

48:56.420 --> 48:58.740
跟那个表单域里面东西对应不上

48:58.740 --> 48:59.620
就是这个数

48:59.620 --> 49:00.500
这个里面的数据呢

49:00.500 --> 49:01.780
跟表单域对应不上

49:01.780 --> 49:02.980
他就认为呢

49:02.980 --> 49:03.700
你表单

49:03.700 --> 49:05.540
你这个表单是不是还没有显示出来

49:05.540 --> 49:06.420
还没有显示完成

49:06.420 --> 49:07.620
我怎么对应不上呢

49:07.620 --> 49:07.940
对吧

49:08.580 --> 49:10.180
他就报这么一个错误

49:10.180 --> 49:12.660
他说你不能设置一个数据

49:13.060 --> 49:14.820
在他显示之前去设置一个数据

49:15.220 --> 49:16.820
他认为有些东西还没有显示出来

49:16.820 --> 49:18.180
实际上我们都显示出来了

49:18.180 --> 49:19.300
是因为有些东西对应不上

49:19.300 --> 49:20.820
那么我们删一些属性嘛

49:20.820 --> 49:21.540
这个简单

49:21.540 --> 49:22.420
我们删一些属性

49:23.860 --> 49:25.300
什么 id 干三了

49:25.300 --> 49:25.940
id3了

49:28.660 --> 49:29.140
然后呢

49:29.140 --> 49:30.420
什么 app key 删了

49:30.420 --> 49:30.980
删一些属性

49:30.980 --> 49:32.660
或者说我们重新构建一个对象

49:32.660 --> 49:33.380
都行

49:33.380 --> 49:34.420
还有什么呢 c time

49:34.980 --> 49:35.380
c time

49:37.980 --> 49:38.300
c time

49:40.530 --> 49:41.010
还有什么呢

49:41.650 --> 49:42.130
u 10

49:42.850 --> 49:43.330
u 10

49:45.010 --> 49:45.330
好

49:45.330 --> 49:46.210
删除掉

49:46.210 --> 49:47.490
不要的属性我们删除掉

49:47.490 --> 49:47.970
看一下吧

49:48.850 --> 49:49.970
这里呢重新刷新一次

49:51.650 --> 49:51.890
好

49:51.890 --> 49:52.610
那么现在就没问题了

49:52.610 --> 49:53.090
对吧

49:53.090 --> 49:54.050
现在就正常显示了

49:54.850 --> 49:55.010
好

49:55.010 --> 49:55.650
那么这样子呢

49:55.650 --> 49:57.090
我们就是不是在一开始的时候

49:57.090 --> 49:58.530
就显示出这个表弹了

49:58.530 --> 49:59.250
对吧

49:59.250 --> 49:59.970
一开始就是

49:59.970 --> 50:01.650
一开始的时候就显示出这个表弹了

50:02.530 --> 50:02.690
好

50:02.690 --> 50:03.330
没问题吧

50:03.330 --> 50:03.890
那么现在呢

50:03.890 --> 50:04.610
我们这样子的

50:04.610 --> 50:05.650
是不是可以完成

50:06.210 --> 50:06.530
是吧

50:06.530 --> 50:06.930
修改了

50:06.930 --> 50:07.730
对吧

50:07.730 --> 50:09.010
我们小毛绿2

50:09.010 --> 50:09.730
点提交

50:09.730 --> 50:10.210
你看一下

50:10.210 --> 50:11.410
修改学生成功

50:11.410 --> 50:11.730
回去

50:12.690 --> 50:13.890
你看是不是小毛绿2了

50:13.890 --> 50:13.970
好

50:13.970 --> 50:14.290
这里呢

50:14.290 --> 50:15.730
他报了一个错误

50:15.730 --> 50:16.610
像这个错误呢

50:16.610 --> 50:18.690
你们以后再用nd开发的时候呢

50:18.690 --> 50:19.970
可能一不小心就犯了

50:19.970 --> 50:21.890
刚才我就一不小心就犯了这个错误

50:21.890 --> 50:22.210
好

50:22.210 --> 50:23.650
那么就既然犯了这个错误呢

50:23.650 --> 50:24.930
就也挺好的

50:24.930 --> 50:26.290
咱们来看一下这个错误

50:26.290 --> 50:27.410
他说什么意思呢

50:27.410 --> 50:27.970
他就说

50:28.850 --> 50:31.010
一个组件已经被销毁掉了

50:31.010 --> 50:32.530
amounted是不是销毁掉了

50:32.530 --> 50:32.850
对吧

50:33.490 --> 50:34.930
销毁掉了一个组件之后呢

50:34.930 --> 50:37.490
你不能再去重新更改他的状态了

50:37.490 --> 50:38.530
什么意思呢

50:38.530 --> 50:40.210
刚才我们做了什么操作

50:40.210 --> 50:42.610
刚才我们的操作是不是在update

50:42.610 --> 50:43.170
对吧

50:43.170 --> 50:44.210
在修改

50:44.210 --> 50:45.650
修改的时候是不是有个操作啊

50:46.370 --> 50:47.730
你看我们这里是不是挑转页面

50:48.850 --> 50:49.970
挑转页面之后呢

50:49.970 --> 50:51.330
是不是要切换组件显示

50:51.330 --> 50:52.530
切换到表格页面了

50:52.530 --> 50:53.010
对吧

50:53.010 --> 50:54.930
那么添加学生这个就是这个表

50:54.930 --> 50:56.930
这个组件是不是已经被销毁掉了

50:56.930 --> 50:57.890
销毁掉了之后

50:57.890 --> 50:59.570
我们又重新给他是这个状态

50:59.570 --> 51:00.210
合理吗

51:00.210 --> 51:01.410
是不是不合理

51:01.410 --> 51:01.730
对吧

51:01.730 --> 51:02.850
是不是不合理

51:02.850 --> 51:03.650
对不对

51:03.650 --> 51:05.170
所以从他的问题在这

51:05.170 --> 51:07.250
那么添加那一块也有同样的问题

51:07.250 --> 51:07.810
那怎么办呢

51:07.810 --> 51:09.330
我们就可以把这个放上去

51:09.330 --> 51:10.050
放上去

51:11.250 --> 51:12.450
或者说我们这样子

51:12.450 --> 51:13.250
添加失败的时候

51:13.250 --> 51:14.370
我们还去做这件事情

51:14.370 --> 51:14.930
对吧

51:15.010 --> 51:16.050
成功的时候呢

51:16.050 --> 51:16.770
成功的时候呢

51:16.770 --> 51:17.730
就挑战就完事了

51:18.770 --> 51:19.490
好吧

51:19.490 --> 51:20.130
天上失败的时候

51:20.130 --> 51:20.690
我们再去做

51:20.690 --> 51:21.970
把你扭定身为Force

51:21.970 --> 51:22.930
那么在那个

51:22.930 --> 51:24.450
add里边是不是一样的道理

51:24.450 --> 51:24.770
对吧

51:24.770 --> 51:26.610
这里也会有这样的问题

51:26.610 --> 51:27.730
是这个问题倒是的

51:27.730 --> 51:28.450
就是你已经

51:28.450 --> 51:29.490
这个组件已经被销毁了

51:29.490 --> 51:30.610
你不要去设置状态了

51:31.410 --> 51:32.610
我们看一下吧

51:32.610 --> 51:32.930
刷新

51:35.010 --> 51:35.170
好

51:35.170 --> 51:36.530
那么小毛第2对吧

51:36.530 --> 51:37.090
点详情

51:37.970 --> 51:40.210
小毛第2改一下年份

51:40.210 --> 51:42.530
1990年点击提交

51:43.170 --> 51:43.810
修改全成功

51:45.330 --> 51:47.730
1990年对吧

51:47.730 --> 51:49.010
说现在没有错误了

51:49.010 --> 51:50.770
咱们就确认你把修改做好了

51:51.730 --> 51:53.330
接下来我们查最后一件事情

51:53.330 --> 51:53.970
什么事情呢

51:53.970 --> 51:55.090
就是这个学号

51:55.090 --> 51:57.090
学号是不能改的

51:57.090 --> 51:57.890
一般情况下

51:57.890 --> 51:59.410
学号都是不能改的

51:59.410 --> 52:00.370
那么这个学号

52:00.370 --> 52:01.810
怎么让它止读呢

52:01.810 --> 52:02.850
很简单

52:02.850 --> 52:03.570
学号这个呢

52:03.570 --> 52:05.010
我们不是一个文闷框吗

52:05.010 --> 52:05.890
文闷框里边

52:05.890 --> 52:07.170
不是可以让它止读吗

52:07.170 --> 52:08.530
咱们看一下之前的表达

52:08.530 --> 52:09.410
输入框

52:09.410 --> 52:10.690
要做一个止读的输入框

52:10.690 --> 52:12.530
只需要去提供一个属性就完事了

52:12.530 --> 52:13.970
我们直接找API呗

52:14.050 --> 52:15.250
直接找API

52:15.250 --> 52:17.810
这里边有一个叫做禁用状态

52:17.810 --> 52:18.690
禁用状态

52:18.690 --> 52:19.890
也就是不能用的

52:19.890 --> 52:21.250
看一下有没有一个止读的

52:22.530 --> 52:23.090
还没有

52:23.090 --> 52:24.610
直接变成禁用状态就完事了

52:25.810 --> 52:26.930
咱们来看一下

52:26.930 --> 52:28.530
直接给它加上一个禁用状态

52:28.530 --> 52:29.250
disable

52:29.250 --> 52:29.970
把它设为什么

52:29.970 --> 52:31.970
设为去禁用

52:31.970 --> 52:32.610
不准理解

52:33.410 --> 52:33.970
咱们来看一下

52:34.930 --> 52:36.130
你看一下是不是写不了了

52:36.130 --> 52:36.450
对吧

52:36.450 --> 52:37.730
这里是改不了了

52:37.730 --> 52:38.450
对不对

52:38.450 --> 52:39.250
就这么简单

52:39.250 --> 52:39.730
就这么简单

52:39.730 --> 52:40.210
改不了了

52:41.890 --> 52:43.170
这就是禁用状态

52:43.250 --> 52:43.890
但是呢

52:43.890 --> 52:44.850
你这样子一来的话

52:44.850 --> 52:45.730
一添加的时候

52:45.730 --> 52:46.850
是不是也改不了了

52:46.850 --> 52:47.330
对吧

52:47.330 --> 52:49.330
所以说这里道不得能不能改

52:49.330 --> 52:50.530
是不是要根据条件

52:50.530 --> 52:51.650
根据什么条件

52:51.650 --> 52:53.730
s number有没有值

52:54.770 --> 52:55.650
有没有值

52:55.650 --> 52:57.330
就是this props

52:57.330 --> 52:58.210
叫s number

52:59.250 --> 53:00.290
是不是等于

53:01.490 --> 53:03.090
是不是不等于undefend

53:03.890 --> 53:05.490
如果说它不等于undefend的话

53:05.490 --> 53:06.530
是修改对吧

53:06.530 --> 53:07.890
就是修改的意思

53:07.890 --> 53:09.410
而如果它等于undefend呢

53:09.410 --> 53:10.290
就是添加

53:10.290 --> 53:11.250
添加的话

53:11.250 --> 53:13.090
那么它就这个地方就为force

53:13.650 --> 53:15.090
就是可以写

53:15.090 --> 53:16.450
如果说你是修改的话

53:16.450 --> 53:17.250
那就不能写

53:18.050 --> 53:18.370
保存

53:19.250 --> 53:20.450
你看添加是不是可以用

53:20.450 --> 53:20.690
对吧

53:20.690 --> 53:22.130
添加是没问题的

53:22.130 --> 53:22.610
修改呢

53:23.810 --> 53:24.370
看一下

53:24.370 --> 53:26.130
修改是不是就不能写

53:26.130 --> 53:26.370
对吧

53:27.090 --> 53:28.130
把一些细节注意一下

53:28.530 --> 53:29.010
那咱们呢

53:29.010 --> 53:31.250
就真实地实现了一个添加一个修改

53:31.250 --> 53:32.610
那么整套系统就做完了

53:33.490 --> 53:33.730
好

53:33.730 --> 53:34.210
下来呢

53:34.210 --> 53:35.170
大家把它做一次

53:35.170 --> 53:35.730
做一次

