WEBVTT

00:00.000 --> 00:08.200
Hello 大家好 上回书说到咱们这个拽一个事件的目标远送 目标取语 是吧

00:08.800 --> 00:12.800
然后呢 这一节课呢 咱们主要是来做个小DEMO 来练习一下拖拽

00:13.640 --> 00:16.600
做个小DEMO 练习一下拖拽 做个什么是DEMO呢

00:17.680 --> 00:20.480
两个小盒子 一个盒子里有东西 一个盒子里没有

00:20.920 --> 00:25.600
然后呢 把这个东西呢 从一个盒子拖拽到另一个盒子里面去

00:25.800 --> 00:28.480
好 我们现在来简单的写一个

00:29.680 --> 00:33.560
先做第一个盒子DIV class 我让它是box1

00:34.440 --> 00:38.640
然后呢 再做第二个盒子 包个三 两个盒子 OK吧

00:40.520 --> 00:45.880
然后呢 我在一个style里面 我给它设置一下它的触触画

00:48.510 --> 00:54.510
触触画 margin 0px 它的pidng 0px

00:56.190 --> 00:57.390
然后我们来写box1

00:58.270 --> 01:03.630
box1呢 我现在暂时让它宽度是150px

01:04.230 --> 01:07.430
然后position absolute

01:09.110 --> 01:12.550
然后hat 它的高度 我让它是auto

01:13.030 --> 01:14.390
我不一定 不一定多高

01:15.390 --> 01:19.950
然后给它个border 1px solid

01:21.630 --> 01:27.780
然后给它一个panning bottom 10px

01:30.400 --> 01:34.160
好 我们来执行一下 出来一个box1 是吧

01:35.840 --> 01:38.000
我们再把这个复制一下 来写个box2

01:38.800 --> 01:43.040
然后呢 给它一个距离 life的300px

01:45.400 --> 01:48.360
好了 一个box1 一个box2 两个小空间

01:48.880 --> 01:50.960
然后呢 咱们在box1里面加点东西

01:56.000 --> 01:56.760
加几个li

01:58.360 --> 01:59.400
三个li吧 好吧

02:01.560 --> 02:05.560
然后呢 我在上面设置 我们这里面所有的li

02:06.800 --> 02:07.240
宽度

02:08.800 --> 02:09.680
先写个position

02:10.680 --> 02:11.920
定位relative

02:13.120 --> 02:13.560
宽度

02:17.180 --> 02:18.020
100px

02:18.940 --> 02:19.420
然后呢

02:19.420 --> 02:22.060
hat 高度30px

02:23.500 --> 02:24.500
然后background

02:26.020 --> 02:28.700
然后依然用我最喜欢的apcdef 是吧

02:31.220 --> 02:32.300
然后给它一个margin

02:33.140 --> 02:34.540
margin 上右下左

02:34.540 --> 02:40.180
就是像上10px 像右auto 像下零px 像左auto

02:40.660 --> 02:45.260
这样的话就是居中 并且像跟上面隔一个10个像素的地方

02:45.780 --> 02:47.220
前面有个点 我们把点给去了

02:47.820 --> 02:48.660
list of step

02:52.230 --> 02:55.790
好 那这样的话 我们就有左门的一个小盒子里面有三个元素

02:56.030 --> 02:57.790
右门这个小盒子是空的 是吧

02:57.790 --> 03:00.910
我喜欢拖拽这三个元素 把它放到右门的盒子里去

03:00.910 --> 03:01.390
好吧

03:03.550 --> 03:05.990
这个时候 我们要写点啥

03:06.990 --> 03:07.790
写个scribb的

03:09.750 --> 03:11.350
首先我要对它们的处置化

03:11.350 --> 03:13.550
我现在拖拽它们是没有反应的 是吧

03:14.550 --> 03:19.950
我用一个li list等于document.getElementByTagName

03:22.780 --> 03:23.380
li

03:23.380 --> 03:27.380
这样的话我拿到了一个数组 我对这个数组进行一次变例

03:27.380 --> 03:31.380
i等于0, i,小鱼,list

03:31.380 --> 03:33.180
诶 写错了 是吧

03:33.180 --> 03:35.380
li list的lines

03:35.380 --> 03:37.380
然后i加加

03:37.380 --> 03:39.380
然后我对每一个

03:41.380 --> 03:43.380
每一个元素进行什么设置

03:43.380 --> 03:45.380
side of tribute

03:46.380 --> 03:47.380
哪个属性呢

03:48.380 --> 03:49.380
dragable

03:50.380 --> 03:52.380
给它设置的值呢 处

03:55.380 --> 03:58.380
这样的话我是不是就对每一个小方块

03:59.380 --> 04:03.380
蓝色的小方块都添加了一个可拖拽的时间了 是吧

04:03.380 --> 04:04.380
这可拖拽了 是吧

04:04.380 --> 04:07.380
我希望他们在这可以把它给放进去

04:08.380 --> 04:10.380
那好 那我就

04:10.380 --> 04:12.380
were一个box2

04:12.380 --> 04:18.380
等于document.getElementByTagName

04:18.380 --> 04:19.380
box2

04:19.380 --> 04:21.380
去第2个

04:21.380 --> 04:23.380
这样的话我能取到了box2

04:23.380 --> 04:27.380
然后我给box2添加一个什么 添加一个

04:27.380 --> 04:31.380
undrag over时间

04:32.380 --> 04:35.380
为什么要添加一个undrag over

04:35.380 --> 04:38.380
你想想 我移动机来了 我想放下

04:38.380 --> 04:40.380
放下是什么时间 是drop 是吧

04:40.380 --> 04:42.380
我要执行drop时间

04:42.380 --> 04:44.380
我如果不阻碍它的默认时间

04:44.380 --> 04:47.380
它就不会让我drop

04:47.380 --> 04:50.380
所以我必须得先默认

04:50.380 --> 04:52.380
先阻止它的默认时间

04:52.380 --> 04:57.380
然后我这个时候再设置一个box2的drop

04:58.380 --> 05:05.140
这个时候我一打印 看一下

05:05.140 --> 05:12.140
我拖拽 移进来一松手

05:12.140 --> 05:15.140
拖拽 移进来一松手

05:15.140 --> 05:20.990
拖拽 移进来一松手

05:20.990 --> 05:21.990
是吧

05:21.990 --> 05:23.990
是能够打印出来东西了

05:23.990 --> 05:25.990
能够打印出来东西了 对吧

05:26.990 --> 05:30.990
这样的话我就能识别出来拖拽的属性了

05:30.990 --> 05:32.990
是吧 这个拖拽的动作了 是吧

05:32.990 --> 05:34.990
但是我要把哪个东西给拽过来

05:34.990 --> 05:36.990
我创建一个

05:36.990 --> 05:38.990
war a drag down

05:39.990 --> 05:41.990
我要给谁来添加个事件

05:41.990 --> 05:43.990
给这些li添加事件

05:43.990 --> 05:44.990
添加个啥呢

05:44.990 --> 05:46.990
我拖拽谁 我得标记一下 是吧

05:46.990 --> 05:48.990
要不然我放下的时候

05:48.990 --> 05:51.990
我怎么知道我这些刚才拖拽的是哪个元素呢

05:52.990 --> 05:56.990
list i the on drag

05:56.990 --> 05:58.990
什么start 是吧

05:58.990 --> 06:03.940
然后让 drag down等于ead target

06:03.940 --> 06:05.940
ead target是啥意思

06:05.940 --> 06:07.940
是这个事件的触发源

06:07.940 --> 06:09.940
这个事件的触发源

06:09.940 --> 06:12.940
你看我对每一个小方块

06:12.940 --> 06:13.940
进行设置这个属性

06:13.940 --> 06:15.940
让它是可以拖拽的

06:15.940 --> 06:16.940
然后我只要一拖拽

06:16.940 --> 06:18.940
我就给这个小方块

06:18.940 --> 06:20.940
这个小方块

06:21.940 --> 06:23.940
放进了这个辩量里

06:23.940 --> 06:24.940
放进了这个辩量里

06:24.940 --> 06:28.380
我能打一下ead target

06:32.870 --> 06:33.870
看好了

06:33.870 --> 06:34.870
ead target是这个 是吧

06:34.870 --> 06:35.870
我属个ead上来

06:35.870 --> 06:37.870
看是不是第一个小方块

06:37.870 --> 06:38.870
是不是第一个小方块

06:39.870 --> 06:41.870
ead target就是这个事件源

06:41.870 --> 06:42.870
然后触发的源

06:45.500 --> 06:46.500
好 这样的话

06:46.500 --> 06:48.500
我只要移到这里来

06:48.500 --> 06:49.500
我是不是我cancel了一下

06:49.500 --> 06:51.500
drag down就可以了

06:52.500 --> 06:54.500
好了 我一放进来

06:54.500 --> 06:55.500
我松手了

06:56.500 --> 06:57.500
drag down 是不是打进去了

06:57.500 --> 06:58.500
是这个

07:00.500 --> 07:02.500
然后我只需要怎么做就可以了

07:03.500 --> 07:06.500
box2的append child

07:06.500 --> 07:07.500
啥呀

07:07.500 --> 07:08.500
drag down

07:10.500 --> 07:13.500
然后drag down等于空

07:18.310 --> 07:19.310
好 移动第一个

07:19.310 --> 07:21.310
扔了松手

07:21.310 --> 07:22.310
是不是进来了

07:22.310 --> 07:24.310
移动第二个

07:24.310 --> 07:25.310
松手

07:25.310 --> 07:28.310
记住你在移动的过程中

07:28.310 --> 07:30.310
这边的元素

07:30.310 --> 07:32.310
就会脱离它的文档结构

07:32.310 --> 07:33.310
脱离它的文档结构

07:33.310 --> 07:34.310
你松手的时候

07:34.310 --> 07:35.310
它就会再进去

07:37.310 --> 07:39.310
这是进到box2里来

07:39.310 --> 07:41.310
你把box2都变成box1

07:41.310 --> 07:43.310
它就还能再拖回去

07:44.310 --> 07:52.260
这样的话

07:52.260 --> 07:54.260
我们把它都改成box1

07:55.260 --> 07:57.260
它不但能拖到这边来

07:57.260 --> 07:59.260
我还能再给它拖回去

08:01.260 --> 08:02.260
没瞄准

08:02.260 --> 08:04.260
我这个空间有点狭小

08:07.260 --> 08:08.260
这样的话

08:08.260 --> 08:09.260
我们就基本上

08:09.260 --> 08:11.260
完成了一个拖拽的一个功能

08:11.260 --> 08:12.260
但是咱们由于

08:12.260 --> 08:14.260
第一节课的时候就说了 是吧

08:14.260 --> 08:16.260
拖拽这个功能是能用

08:16.260 --> 08:18.260
但是建筑性不是很好

08:18.260 --> 08:21.260
咱们谷歌能用

08:21.260 --> 08:22.260
Safari能用

08:24.260 --> 08:25.260
Safari你看

08:25.260 --> 08:26.260
Safari能用

08:26.260 --> 08:27.260
但是效果不好

08:27.260 --> 08:28.260
你看谷歌的话

08:28.260 --> 08:30.260
会出现一个绿色的加号

08:30.260 --> 08:31.260
Safari上没有

08:32.260 --> 08:35.260
然后火壶上是不能用的

08:36.260 --> 08:37.260
火壶上连拖拽都不能

08:37.260 --> 08:39.260
我这个火壶上连拖拽都不能

08:41.260 --> 08:42.260
好

08:42.260 --> 08:44.260
咱们就算是完成了拖拽

08:44.260 --> 08:47.260
整个功能的一个基本结构

08:47.260 --> 08:49.260
大家可以再练习一下

08:49.260 --> 08:50.260
大家可以再练习一下

08:52.260 --> 08:55.260
我们这一集就先到这里

