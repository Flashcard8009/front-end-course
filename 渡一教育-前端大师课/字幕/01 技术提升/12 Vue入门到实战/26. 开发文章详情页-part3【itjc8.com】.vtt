WEBVTT

00:00.750 --> 00:04.590
好 经过上节课咱们把一些知识给大家补充了

00:04.850 --> 00:08.430
所以这节课呢 我们把文章详情页弄完

00:09.450 --> 00:12.270
好 就是还剩下一个组件对吧 block comments

00:12.270 --> 00:14.830
当然了 还有些细节啊 细节呢 我们后面慢慢弄啊

00:14.830 --> 00:18.410
一些微的地方呢 还不好弄 我们慢慢再说吧

00:18.670 --> 00:20.210
先把主题杠弄完

00:20.970 --> 00:23.030
还剩下一个组件就是block comments

00:23.530 --> 00:26.610
这个是什么玩意呢 这是一个文章的评论组件

00:26.610 --> 00:29.430
也就是说在下面这一坨都属于这个组件

00:30.390 --> 00:31.230
下车啊

00:35.830 --> 00:39.410
在我们这个追踪效果里边

00:41.710 --> 00:42.490
这个位置

00:43.250 --> 00:44.030
就这一块

00:46.830 --> 00:47.610
这一块啊

00:48.110 --> 00:49.150
整个这一块

00:49.410 --> 00:51.450
都是属于文章

00:51.950 --> 00:52.990
评论的组件

00:53.490 --> 00:56.570
其实这一块东西呢 咱们要好好审视一下

00:56.770 --> 01:01.130
因为这一块东西呢 将来我们还有一个页面 他也会出现 就是这个留言板

01:02.150 --> 01:05.990
你看 这一块是不是差不多啊 无非就是这里的标题不同

01:06.750 --> 01:09.070
点击了提交过后要做的事情不同

01:09.570 --> 01:11.110
然后下面的列表都差不多

01:11.370 --> 01:11.890
对不对

01:12.650 --> 01:14.690
所以呢 基于此

01:16.490 --> 01:19.050
我们需要把这个整个这一块啊

01:19.810 --> 01:23.910
单独提出来 做成一个通用的组件 因为它跨页面嘛

01:24.170 --> 01:25.710
不同的页面都可能会用到它

01:26.430 --> 01:28.990
所以说呢 做一次就不要去重复写代码了

01:29.750 --> 01:34.370
因此 我在component里边 有些样式呢 我已经写好了啊 我这里

01:34.630 --> 01:35.650
来再给大家看一下

01:36.230 --> 01:39.230
我在component里边呢 加了一个组件叫message area

01:39.490 --> 01:42.050
表示消息区域

01:42.310 --> 01:45.890
这个消息区域呢 就是这么一个东西 我们打开这个

01:46.150 --> 01:48.950
说明文档啊 说明文档呢 我已经写了

01:49.990 --> 01:50.490
就这个

01:51.270 --> 01:53.810
消息区域 就是有这么一个

01:54.070 --> 01:54.850
表单

01:55.150 --> 01:57.110
两个文闷框 有一个按钮

01:57.370 --> 01:59.330
然后呢 下面有个标题 下面有个列表

01:59.670 --> 02:01.710
就整个这一块就是一个消息区域

02:01.970 --> 02:03.390
它可以用于评论区

02:03.770 --> 02:06.070
就是一个文章的评论区 我们马上要做的

02:06.590 --> 02:08.190
也可以用于留言板

02:08.450 --> 02:09.830
我们将来要做的留言板

02:10.090 --> 02:13.830
所以说这个组件一旦写好了之后啊 将来留言板就极其简单了

02:14.090 --> 02:15.410
稍微配置一下就完事

02:16.310 --> 02:20.150
那么这个组件它需要什么样的属性呢 我已经规划好了啊

02:20.650 --> 02:22.710
需要这么几个属性 我们来再看一下啊

02:22.910 --> 02:23.710
一个是title

02:23.950 --> 02:25.710
title就是影响这个区域

02:26.450 --> 02:28.550
就这个地方 显示啥

02:28.810 --> 02:31.870
显示评论列表 还是显示留言板 还是显示什么别的玩意儿

02:32.390 --> 02:34.690
这个标题 还有subtitle

02:34.950 --> 02:36.750
表示副标题 副标题是这一块

02:37.510 --> 02:39.310
副标题到底显示啥

02:40.070 --> 02:41.610
这两个属性很简单吗

02:42.110 --> 02:44.170
然后一个nest是一个数组

02:44.430 --> 02:46.470
就是列表数据 列表数据呢

02:46.990 --> 02:47.750
显示这个玩意儿

02:48.010 --> 02:49.030
就显示这个列表

02:50.310 --> 02:52.350
里面的意思吧 还有一个数据

02:52.710 --> 02:54.350
isnest loading

02:54.610 --> 02:56.390
列表是否正在加载中

02:56.630 --> 03:00.350
那么这个玩意儿是啥呀 我们来往下找 你看 这里是一个加载中的效果

03:00.790 --> 03:02.390
看呗 下面一个加载中的效果

03:02.650 --> 03:04.390
就是个加载中的效果要不要出现

03:04.650 --> 03:06.490
通过这个属性来控制

03:06.750 --> 03:09.550
那么不过呢 我们什么滚动到最底

03:10.070 --> 03:10.570
然后

03:10.830 --> 03:12.630
加载更多 这个东西呢 我们不着急

03:13.150 --> 03:14.930
不着急 我们后边慢慢来说

03:15.190 --> 03:16.470
这里边还涉及到别的东西

03:16.730 --> 03:19.490
但是呢 这个加载中 什么时候出现 我们通过一个属性

03:19.750 --> 03:20.830
可以控制就行了

03:21.510 --> 03:23.590
好 那么这是它的属性啊 非常简单嘛

03:23.850 --> 03:25.650
它事件有一个就是submit

03:26.150 --> 03:28.970
这个事件是什么时候发生的 是点击这个提交按钮的时候

03:29.230 --> 03:31.790
当然它可以先验证一下啊 有没有数据啊

03:32.050 --> 03:34.610
没有填数据呢 提示你填数据 你看这边

03:35.630 --> 03:36.910
没有 这边啊

03:38.190 --> 03:38.710
这上面啊

03:39.990 --> 03:41.770
没有数据的话 提示你填数据

03:42.290 --> 03:44.590
有数据的话 那么它就会触发

03:45.110 --> 03:46.890
这个事件 submit

03:47.410 --> 03:48.950
它会传一个

03:49.150 --> 03:50.070
事件参数

03:50.330 --> 03:52.990
是一个对象 对象里面就告诉你 它的里程填到啥

03:53.250 --> 03:55.050
它的内容填到啥

03:56.070 --> 03:57.610
也有意思吧 这就是这个组件啊

03:58.370 --> 04:01.190
好 咱们来看一下这个组件 这个组件其实我已经写好了

04:01.450 --> 04:01.950
在这

04:03.910 --> 04:04.670
message everywhere

04:04.930 --> 04:05.950
index.vue

04:06.210 --> 04:09.030
我这里没有测试了 我就直接放到一个页面中去测试了

04:09.550 --> 04:11.330
好 这里边写了啥 这个可以看吧

04:11.850 --> 04:14.150
除了一样式不用创了 样式你们自己去搞定

04:14.410 --> 04:15.690
甚至呢 我建议大家呢

04:15.950 --> 04:17.730
在自己去写的时候啊

04:18.450 --> 04:21.730
你自己去写一下样式啊 远处结构啊 再自己去弄一下

04:21.990 --> 04:25.550
因为我上课呢 为了节约时间啊 就不去弄这些繁硕的东西了

04:25.830 --> 04:27.150
在你们自己开发的话

04:27.670 --> 04:28.950
还是自己去弄一下 比较好

04:29.710 --> 04:31.510
这个dva里边有一个dataform

04:31.770 --> 04:34.590
dataform呢 就是上面这一块 我一把做了一个直主线啊

04:37.370 --> 04:37.870
就这个

04:38.130 --> 04:38.890
dataform

04:39.410 --> 04:41.210
没人意识啊 就这个东西

04:41.470 --> 04:42.370
把它做一个组件

04:42.630 --> 04:45.310
然后呢 下面一个h3 h3是什么呢 就这一块

04:46.070 --> 04:46.830
a3

04:47.170 --> 04:49.850
然后呢 组标题 副标题 你看我是不是读了属性

04:50.110 --> 04:53.450
刚才我们文档里边是有这些属性啊 title sub title list

04:53.710 --> 04:56.250
一声list 楼顶 对吧 有这么一些属性

04:56.910 --> 05:00.610
好 然后h3完了过后呢 下面一个data list 是又是个直主键在这

05:00.870 --> 05:04.450
看看data list 那么data list的这个组件呢 就负责显示下面这个列表

05:04.970 --> 05:06.250
啊 它只负责显示列表

05:07.210 --> 05:09.810
没问题吧 然后下面有个div div呢

05:10.330 --> 05:11.610
主要是显示楼顶效果

05:12.650 --> 05:13.150
显示这个

05:14.130 --> 05:14.930
显示个楼顶效果

05:15.610 --> 05:16.730
啊 没问题吧

05:16.850 --> 05:17.690
那么就这个组件

05:18.330 --> 05:18.850
就写完了

05:19.610 --> 05:24.810
你看这个组件里面没什么代码对吧 当然还有一些东西我们要在讲课的过程中要慢慢去写啊

05:25.050 --> 05:27.610
只是我们把基本样式给它写出来 解构写出来

05:28.370 --> 05:30.490
好 咱们来看一下这两个组件啊 一个是data foam

05:30.890 --> 05:34.970
data foam这个组件呢 没有什么好说的啊 你看脚本接代码的没有 全是一些样式

05:35.490 --> 05:36.610
把样式全部写好了

05:37.010 --> 05:39.770
这个data foam组件呢 其实我们在这里已经看到了啊

05:40.410 --> 05:41.210
我们已经可以看到了

05:42.850 --> 05:44.690
data foam组件就这个样式

05:45.150 --> 05:48.590
这个样式里面我们来看一下吧 大概看一下啊 这是个音铺手文门框

05:48.830 --> 05:49.750
这个是一个

05:50.270 --> 05:53.350
可以写多少字啊 因为我这里有个限制啊 只能写10个字

05:54.110 --> 05:59.230
只能写10个字 所以说呢 这里边我做了一个限制啊 我决定位吧 定位到那个位置

05:59.490 --> 06:00.510
你们自己写样式

06:00.770 --> 06:02.550
然后下面这个呢是一个错误消息

06:03.830 --> 06:06.910
有了这个错误消息的过程呢 这里会显示出来啊 错误消息

06:07.270 --> 06:08.710
那么下面呢 也有一个adder

06:09.470 --> 06:11.270
错误消息啊 就下面

06:12.030 --> 06:14.070
评论内容 或者是消息内容

06:14.910 --> 06:15.710
都有一个错误消息

06:16.470 --> 06:16.990
没问题吧

06:18.030 --> 06:19.310
然后下面一个按钮提交

06:20.830 --> 06:25.430
其实有一些状态呢 我都做了啊 比方说聚焦的时候 这个文门框的边缘呢 有一个

06:26.210 --> 06:27.230
边框颜色

06:27.750 --> 06:30.550
然后呢 这个按钮呢 这个按钮如果说是disabled

06:31.590 --> 06:36.190
disabled的话 那么他也是另外的另外一个样式 这个样式呢 我再稍微处理一下吧

06:36.710 --> 06:40.030
把那个disabled的样式里面给他加上个颗色

06:40.810 --> 06:44.630
其实我这个颜色的一些的都是用基本颜色来做的 无非就把加深一下

06:44.910 --> 06:46.690
把它变淡一些 加深一些

06:46.950 --> 06:49.750
呃 鼠标样式呢 它变成lotsplot

06:51.030 --> 06:53.590
啊 当然不可用的时候呢 鼠标就这个样式

06:54.630 --> 06:56.930
没问题吧 就上边这个啊 data form 组件

06:57.190 --> 06:59.490
然后下边这个呢 data 颜色组件呢 就是一个啊

07:00.010 --> 07:01.290
啊 就是一个

07:01.550 --> 07:04.110
静态的东西了啊 一个ul 下面有一些li

07:04.610 --> 07:06.150
然后他接受一个属性就是列车

07:06.910 --> 07:10.510
有这么一个属性 这个属性呢 给我一个数组 我就把个数组渲染出来一个列表

07:11.010 --> 07:14.350
当然我现在都没有用v4来渲染啊 我只是写个静态样式在这里

07:14.890 --> 07:16.190
啊 这是你称 这是内容

07:17.970 --> 07:21.290
能理解了吧 我们把一个元素结构讲一讲 这个message earlier

07:21.550 --> 07:25.470
我们要的是这个组件 这个组件是内容比较多 我也把它分成两个值组件

07:25.910 --> 07:27.190
data form 和data nest

07:27.710 --> 07:29.750
然后在这个组件里面把它组装起来

07:30.010 --> 07:31.030
就形成了这个组件了

07:31.790 --> 07:35.130
这个组件提供一些属性 还有个啊 还有个事件 这个事件我还没有做

07:36.150 --> 07:36.670
没问题吧

07:37.170 --> 07:38.450
好 这是这一块啊

07:39.990 --> 07:42.030
好了 那么现在呢 这个东西

07:42.290 --> 07:43.310
弄好了之后啊

07:43.530 --> 07:47.410
然后我们在页面上的在这 啊blog页面就是详情页

07:47.670 --> 07:52.610
详情页这里 你看我之前是加了一个blog detail组件啊 就显示文章内容的

07:53.250 --> 07:56.770
啊 文章的主题信息 然后呢 下面呢就有一个blog comment

07:57.450 --> 07:57.950
看没

07:58.690 --> 08:01.570
blog comment组件 这个组件哪来的呢 这个组件在这

08:02.210 --> 08:02.730
log comment

08:03.250 --> 08:06.290
这个组件里边呢 我又直接用了什么message earlier

08:06.810 --> 08:10.650
我把个message earlier在这里封装一下 毕竟 因为毕竟呢 我这里使用的是

08:11.350 --> 08:15.390
评论列表的吧 总归是有些差异的 所以说了 我把封装一下

08:16.910 --> 08:17.790
现在我啥都还没做

08:18.470 --> 08:26.870
没问题的吧 我讲到这 除了样式之外啊 这个结构没问题的吧 我再来过一下啊 我这个detail组件里边用到了什么blog comment组件

08:27.590 --> 08:32.110
显示评论的 这个显示评论呢 以后我们肯定 肯定要根据这个地址栏 传递的id

08:32.670 --> 08:38.950
从远程读取评论信息来发宣传出来 那么我就这个组件内部呢 用到了这个message earlier

08:39.330 --> 08:49.850
为什么要提一个message earlier呢 是因为我发现文章评论这里 跟那个留言板这里的都差不多 所以把它提成一个公共组件啊 方便后边的再进行使用

08:51.130 --> 08:56.970
好 那么这个message earlier呢 因为他里边东西比较多啊 所以说我又把它分化成两个组件 data form和data list

08:57.690 --> 08:59.770
一个显示列表 一个呢显示

09:00.490 --> 09:00.970
一个表达

09:02.530 --> 09:03.330
好了没问题的吧

09:04.190 --> 09:09.150
好 那么接下来我们就开始弄了啊 首先我们到了这个blog comment里边啊 慢慢来

09:11.400 --> 09:12.160
一点点来啊

09:13.480 --> 09:14.560
blog comment里边

09:16.240 --> 09:16.640
呃

09:17.880 --> 09:25.480
要不然学从这里弄也可以 而且就先从这里弄吧blog comment里边 我这要干嘛呀 这个组件要干嘛 他要做的事情

09:26.440 --> 09:26.640
是

09:27.680 --> 09:33.560
向这个组件传递一些属性 然后呢 注册事件 他不是有属性事件吗

09:34.260 --> 09:41.980
对不对 还有属性有事件 那么这些属性呢 我刚传过去 还有事件呢 我要进行注册啊 我要做一些事情

09:42.580 --> 09:47.140
对不对 我们要把做这么一些东西 那么这个组件肯定要是叫远程加载数据

09:47.860 --> 09:52.100
你看 从这个这个这个地方获得id 然后呢 读取评论列表

09:52.700 --> 09:54.420
来进行加载数据 那来呗

09:56.100 --> 09:59.740
那么远程加载数据呢 我们之前用了一个mexim 我这里还是一样啊 把我进来

09:59.960 --> 10:01.040
fetch data from

10:02.880 --> 10:04.000
a 没那个信

10:04.880 --> 10:08.280
fetch data 倒进来啊 然后在这里注册一下啊 mixins

10:09.720 --> 10:10.320
fetch data

10:11.400 --> 10:18.720
啊 那么这里呢 我给他一个默认值 默认值是什么呢 我们看一下 之前的 之前我们模拟数据这一块啊 基本上就可以

10:19.120 --> 10:21.280
暴露出他的格式 他的数据格式

10:22.520 --> 10:28.040
我们获取评论他的数据格式呢 是有总数 有多少一共有多少条啊 然后呢

10:29.020 --> 10:34.100
当前页分页了嘛 当前页有哪些条 对不对 所以说我们这里呢

10:35.260 --> 10:35.780
给他一个

10:36.780 --> 10:44.980
默认值呢 就是一个对象吧 对象甚至我们还可以给他写上一些属性啊 偷偷总数的默认为0条肉时呢 默认为一个空数组

10:46.180 --> 10:48.340
给他的默认值 那么这样子一来呢

10:49.060 --> 10:53.060
他的data啊 还记得吗 这个mexim啊 说自己一定要去写一下

10:53.560 --> 10:56.840
嗯 这个mexim里面 我们给他复制了一个data 一个is loading 对不对

10:57.400 --> 11:00.120
好 那就有了 那么接下来这个mexim呢 还要求我们要写个

11:00.760 --> 11:02.680
方法 方法的名字叫做fake data

11:03.480 --> 11:04.280
这方法呢 要返回

11:05.280 --> 11:08.760
好 那么这个方法要做什么事 事情呢 就是远程获取数据

11:09.640 --> 11:11.040
那怎么呢 远程获取数据呢

11:11.920 --> 11:14.000
我们是不是要调用我们的api接口啊

11:14.800 --> 11:15.800
import

11:17.360 --> 11:17.800
api

11:19.080 --> 11:19.400
vlog

11:19.820 --> 11:21.540
然后这里边我们get comment

11:22.420 --> 11:27.140
我们之前写好的啊 你之前如果说不跟着我写的话 你肯定忘了之前写的是啥了

11:28.700 --> 11:30.220
好 这里边要传哪些参数呢

11:31.740 --> 11:39.180
我这里也忘了 忘了看一下了 传三个啊 一个是配几个是limit 还有一个blog id 好 首先是blog id

11:39.980 --> 11:45.620
博客id来自于哪呢 是不是来自于路由路由配置这里 你看 博客详情这里有个id 看到没

11:46.600 --> 11:48.160
啊 你看这 你看呗

11:48.880 --> 11:51.280
是不是个id 那么我们这里是应该怎么获取

11:51.680 --> 11:54.600
this road parrots id

11:55.120 --> 11:56.720
好 分页呢 页码呢

11:57.800 --> 12:01.240
页码的话 有人说我是不是应该从地址南获取啊

12:01.640 --> 12:05.720
诶 我们之前那个文章分页的一块 页码都是从地址南获取的 你看

12:08.360 --> 12:13.920
这里看 是不是从地址南获取的页码 但是呢 我们 文章详情这里 评论的信息这里

12:14.460 --> 12:15.660
他的页码呢 不在

12:16.420 --> 12:21.860
他的页码不在地址南里面 是内部记录的 那我们这里去是不是需要一个数据啊

12:22.740 --> 12:32.500
来记录他目前的页码 不过呢 这个分页呢 就下达下载更多了 我们这里可能还暂时做不了啊 不过我们第一页 那个页码肯定要有对不对 有有有有这个数据肯定

12:33.180 --> 12:39.580
肯定是要要的 所以给他一个页码 给他个页容量啊 每页像是十条吧 你自己喜欢的话 可以加一些减也都无所谓

12:40.060 --> 12:41.420
好 我们把页码传进过去

12:41.640 --> 12:48.760
然后呢 内卖车传过去 是吧 就拿到数据了 把这个数据返回 因为这个mix啊

12:49.400 --> 12:53.360
这个混合啊 他要求我们有这么一个方法 把这个数据返回 他会调用的

12:54.120 --> 13:01.880
好了 那么这个数据呢 在这里啊 差不多了 接下来我们来尝试给他传递数据啊 他不是用哪 他用哪些数据要传的 一个是态度

13:02.520 --> 13:04.880
标题 标题的话我们就是评论列表吧

13:05.860 --> 13:08.700
列表啊 保存

13:10.260 --> 13:15.860
你看这里是不是显示评论列表了 好一个副标题 副标题是什么呢 sub 态度

13:16.420 --> 13:24.020
这个副标题要显示啥呀 要显示的是一个制服创 这个制服创前面呢是一个扩号 右边是一个扩号 扩号中间呢

13:24.660 --> 13:30.780
拼借一下啊 显示一个什么的 显示一个delta叫头头 同学说这个delta哪来的

13:31.240 --> 13:37.160
这个飞机delta的一个混合里边有个delta啊 有个delta属性 他注入了一个属性 那个属性呢 就是来自于服务系的响应数据

13:37.560 --> 13:42.200
服务系的响应数据里边不是一个属性得偷偷吗 对不对 把偷偷显示到这 评论列表

13:43.440 --> 13:45.600
好 刷新看一下 评论一开始是0

13:46.920 --> 13:53.920
好 加在完成过后 是不是106了 对吧 好 那么这个标题是不是有了 那接下来就是这个list

13:54.860 --> 13:55.180
列表

13:56.580 --> 14:02.220
啊 就是我们看一下 看一下这个属性 列表数据 列表数据是不是给他服务系的数据 rose

14:03.060 --> 14:04.060
delta 点 rose

14:05.020 --> 14:09.940
把个数据给他 还有个什么呢 还有个就是eason 列程楼顶 列表视访正在加在中

14:11.460 --> 14:11.700
给他

14:14.180 --> 14:14.940
就是eason楼顶

14:16.100 --> 14:22.220
所以把一属性是不是全部传过去了 事件我还没有出车 买的属性是不是全部给他了 好 咱们来看一下啊

14:23.200 --> 14:28.680
好 其实看到这呢 还有一些问题啊 我们一个问题 看到问题就一个个解决 首先我们刷新看一下

14:29.360 --> 14:31.400
一开始是一个正在加载中的状态 你看

14:32.600 --> 14:38.800
一开始有一个正在加载中的状态 那么这个正在加载中的时候呢 这个区域其实是显示的

14:39.880 --> 14:44.720
懂这个意思吧 这里有个流程性的问题啊 就是我希望了这个页面

14:45.240 --> 14:51.960
先把这个网呀给我加载出来再说 你先不要着急去加载什么评论 评论不是关键 对吧 我们要看文章

14:52.520 --> 14:55.680
最重要的先把文章给我弄出来 先不要给我显示什么评论

14:56.760 --> 15:01.000
然后呢 把文章显示出来过后 你再去加载评论

15:02.360 --> 15:07.760
那这个东西怎么做呢 你这个东西也很简单啊 我们回到上层就是detail这里

15:08.680 --> 15:14.680
我们这个eason楼顶是不是在加载文章啊 你看吧 我们eason楼顶是不是在gitblock加载个文章数据啊

15:15.240 --> 15:19.280
那正在加载文章的时候你就不要加载这个评论组件 评论组件就不要出来

15:19.700 --> 15:23.420
所以说这个评论组件我加个加刚加上一个vf吧 什么时候出来

15:24.140 --> 15:31.700
什么时候出来了 只有你加载文章一直都顶为force的时候 加载文章完成过后你再给我出来 你不要后出来那么早

15:32.540 --> 15:40.260
那么就完事了呗 好保存你看一下吧 刷新你看一开始是没有加载这个主线啊 等这个文章出来过后才有这个主线看到没

15:41.340 --> 15:47.620
好 如果说我看不清楚的话 我把这个主线先注释掉 这个主线我们将来再加上吧 先注释掉 你可以看得很清楚

15:48.080 --> 15:51.440
你看加载数据先加载文章 文章出来过后 你看一下加载评论

15:52.760 --> 15:53.160
没问题吧

15:54.720 --> 16:00.800
好 那么这个评论里边呢 还有一些东西啊 我们一个个来 首先这个列表是假的 是假的数据 看这个列表传递啊

16:01.120 --> 16:05.320
我在这个组件里边把这个列表数据传过去了 然后传给谁呢 传个这个message

16:08.880 --> 16:15.920
呃在这里 传个这个这个组件 这个组件呢 他就把这个列设数据啊 我们属性里边传过来的列设数据就传给他了

16:16.060 --> 16:24.780
达他列设 传个这个图件了 这个图件要渲染一个列表 那好吧 那这个图件就把列表渲染出来就完事了 因为我这个图件是写死的两个 那么接下来我们用一个v4

16:26.220 --> 16:28.220
v4 item in this

16:29.180 --> 16:33.860
好 那么这里边呢 我还是要给keyz啊 写循环的时候一定要给keyz keyz的话就是评论的id

16:34.500 --> 16:39.020
这毫无疑问的啊 因为我们之前模拟数据的时候 评论不得有个id吗

16:39.740 --> 16:42.380
对不对啊 你看 评论有个id吗

16:43.360 --> 16:47.600
好 那么这里的评论id盖上进去啊 然后首先是头像 头像这里呢 我们绑定

16:48.560 --> 16:52.840
绑定评论的头像 我看一下 这个模拟的数据就是albata啊 这个数项

16:53.720 --> 16:56.880
盖绑定进去 item.albata

16:59.040 --> 17:03.360
好啊 我这里该固定了一个尺寸啊 4044

17:04.200 --> 17:06.680
呃 然后这里边里称内容

17:07.660 --> 17:10.220
里称 里称这里显示

17:11.500 --> 17:15.980
item.liclint 内容这里呢

17:16.980 --> 17:17.380
显示

17:18.900 --> 17:26.020
item.content 好 保存啊 然后你看一下 我们这边列表数据是不是出来了 十条评论 对不对

17:26.420 --> 17:30.500
哎 这里好像还有个东西啊 还有一个就是日期 哎呦 这个还有一个日期啊

17:31.360 --> 17:37.480
呃 这个日期我好像没做啊 没做啊 马上做一下吧 马上吧 做一下 这个日期呢 我就

17:39.000 --> 17:45.160
放到那个这个这个区域的右上角吧 放这个区域的右上角

17:46.480 --> 17:50.280
好 来吧 我们这里写个日期啊 dv 10

17:51.400 --> 17:55.160
呃 这里要 这里要显示的是item.credits

17:56.000 --> 17:57.760
那么这credits呢 他是一个时间戳

17:58.740 --> 18:04.980
啊 是个时间戳 我要把转换成日期格式 所以说我们在这里UTO里边 我们之前写过一个UTO啊 for my date

18:06.100 --> 18:14.260
啊 这里边要转换成日期格式 但是呢 这个日期格式他只有连月日 他没有10分秒啊 所以说我这里呢 加上一个参数吧

18:15.100 --> 18:16.460
show 10

18:17.460 --> 18:25.460
we force 啊 默认 默认了就不显示10分秒 那如果说你给我传一个处的话 我就要显示10分秒啊 那我们这里呢得到一个吧

18:26.440 --> 18:29.160
这是前面的啊 这是前面的

18:31.040 --> 18:36.080
如果说show 10 你给我传处的话 我还要把10分秒给你加上s tr 拼接

18:36.960 --> 18:39.160
拼接什么呢 拼接个功格啊 10分秒

18:40.400 --> 18:44.120
10的话 我们这里还是得到吧 hour

18:45.000 --> 18:47.000
等于get hours

18:47.640 --> 18:49.960
然后to stream

18:51.640 --> 18:52.520
pan start

18:53.520 --> 18:56.640
必须要占两位啊 没有没有占两位的话 用零来填充

18:57.080 --> 18:59.680
这是10分秒 差不多的

19:00.960 --> 19:04.920
manage seconds

19:05.960 --> 19:09.440
second 啊 这边就是get manage

19:12.390 --> 19:15.790
get seconds 好了 那么这里就拼接

19:17.070 --> 19:17.350
10

19:18.950 --> 19:19.390
帽号

19:20.510 --> 19:20.750
分

19:21.830 --> 19:22.190
帽号

19:23.190 --> 19:23.390
秒

19:24.190 --> 19:29.390
好 最后呢 我们把这个s tr 拿回啊 像这种做法有非常常见啊 就是你之前写了个写了一个函数

19:30.210 --> 19:36.090
在发现了后来也好像这个函数不是满足要求 我还要加一些参数啊 那就加给他一个拨认值

19:36.410 --> 19:39.850
保证之前的不要爆错 然后呢新的就可以用这个函数了

19:41.010 --> 19:44.690
好 回到这边来 data列设这里 我们是不是要导入这个函数啊

19:46.940 --> 19:49.700
就是from ut

19:50.740 --> 19:51.140
ut

19:52.100 --> 19:53.100
这里是一个date

19:54.020 --> 19:54.740
for my date

19:58.750 --> 20:05.910
我们把他放到message里边 这边呢 我们就给他

20:07.510 --> 20:11.430
放过来啊 要不要显示10分秒了 给他稍微去吧 要显示10分秒

20:12.390 --> 20:16.910
放过来 你看这是不是出来了 那么现在的这个央视呢 我稍微再处理一下啊

20:17.870 --> 20:21.110
呃 首先呢 我这我其实这个是一个弹性和

20:21.670 --> 20:25.830
左边啊 一个在右边啊 右边那个区域呢 实际上是在这

20:26.750 --> 20:28.390
右边那个区域是在

20:30.150 --> 20:35.270
是在这啊 这个data这个区域呢 我要一定要让他撑满 我给他设置一个flex

20:36.270 --> 20:37.030
1 1

20:38.870 --> 20:43.510
啊 一定要让他撑满 哪怕他里面内容不足 他也得撑满 不然的话内容不足的话 他就没有撑满

20:44.830 --> 20:49.710
data啊 始终保证他撑满 撑满的剩下的区域 然后呢 把它设为相对定位

20:50.270 --> 20:56.830
pracie 原类题 接下来就可以随时代词了啊 日期或者啊 我们说写的是10对吧 10

20:57.830 --> 21:00.970
那么把他设置为绝对定位 把定位到那个位置就可以了

21:05.770 --> 21:07.370
呃 然后呢 right

21:08.530 --> 21:08.770
牛

21:09.850 --> 21:10.090
top

21:10.730 --> 21:12.210
5px吧 看一下位置

21:13.410 --> 21:20.130
差不多到这来了啊 差不多到到到到这来了 接下来把它方赛事的时候设小一点啊 12个相输 卡了能把所谓挥设

21:21.130 --> 21:25.430
差不多了啊 稍微控制一下就完事了 这个很简单

21:26.470 --> 21:29.750
那么这个玩这个列表是不是就出来了呀 我们再来看啊 刷新

21:30.870 --> 21:32.910
好 先加那文章 文章加那网络国家的列表

21:33.630 --> 21:37.830
不挺好的 对不对 好 那么这个列表呢 其实就已经完事了

21:40.090 --> 21:45.210
好 那么现在是这个地方啊 因为这个地方就涉及到事件了 我又回到这个地方 给他奉

21:46.070 --> 21:52.150
这个表单 这个表单里面我啥都还没写 这个表单要干嘛呀 这个表单其实就是要扔出事件的

21:53.430 --> 22:01.110
他这里要绑定一些数据 数据要进行绑定 还有这个地方支出限制对吧 然后这点了提交过后要向上扔出一个视线

22:01.670 --> 22:08.150
并且把数据你填的数据要传过去 对不对 好来吧 我们这里呢 是不是肯定要准备一些数据啊

22:09.350 --> 22:13.470
要准备个data 我们的数据是什么呢 比方说我们这里有个form data

22:14.170 --> 22:19.850
表单数据 表单数据呢 有两个属性 一个呢是你称你可内

22:21.090 --> 22:22.650
默认是空的 一个是呢

22:23.690 --> 22:25.450
评论内容 默认也是空的

22:26.250 --> 22:35.290
对不对 这是表单数据 然后我们还有一个错误消息 你看这里是不是要显示错误消息 反正见面上有可能会发生变化的那种动态数据啊 你最好都

22:35.690 --> 22:41.050
要么是属性 要么是自己的data 总归有个数据来源 好 而如果呢 我们

22:42.030 --> 22:49.630
你可内 默认是空的啊 content 默认也是空的 就是你称了错误消息和内容的错误消息

22:51.510 --> 22:55.110
像这是内容的错误消息 这是你称了错误消息 都把他记录一下

22:55.950 --> 23:01.310
好 那么记录过后了 我们这里 错误消息是一个来啊 首先是这里 是不是用vmode

23:02.250 --> 23:08.650
很甜是吗 formdata.nickname 这里呢 是 error

23:10.850 --> 23:14.650
nickname 没问题吧 好 再来啊 这边

23:16.330 --> 23:24.330
textarea vmode formdata content 这边呢 是 error

23:26.290 --> 23:30.130
content 好 那么现在呢 我们这里搞定了啊

23:31.770 --> 23:37.930
好 接下来还有啊 还有这个就是这个安纽的状态 这个安纽的状态取决于什么呢 取决于是不是正在提交中

23:39.250 --> 23:43.970
是不是正在提交 正在提交中的话 那么他就是这个状态 所以说我们还需要个属性啊 就是

23:44.930 --> 23:48.930
submitim 是不是正在提交啊 默认肯定是force

23:49.570 --> 23:57.090
那么我们这个安纽的道理是不是disable 的呢 取决于是不是正在提交 如果说你是正在提交的话 那么他就是disable 的

23:57.790 --> 24:02.390
那么这里的文字呢 我们来看一下啊 文字要跟他控制一下 如果说你正在提交的话

24:03.350 --> 24:06.710
是不是我们这里就显示一个 比方说提交中

24:08.390 --> 24:09.990
否则的话就显示提交

24:11.670 --> 24:16.990
好 那么我们是不是可以通过这个数据来控制啊 一开始是正常的 对不对 然后呢 我们这里如果说设为去

24:18.110 --> 24:20.150
保存 你看是变成这个样子

24:21.130 --> 24:23.330
ok 那么就这是安纽的做法

24:25.130 --> 24:30.570
好 接下来就是一个点击事件了啊 看还有什么呀 还有这个啊 这个这个地方也写写

24:32.730 --> 24:39.370
最大的数据啊 我们这就定时的啊 定时的都没有标用数据的啊 如果说这个地方有可能会变化的话 你要么就用属性

24:40.010 --> 24:42.890
传过来 要么就用数据 我这里定时的就算了吧

24:43.610 --> 24:45.370
好 这边我们用max length

24:46.330 --> 24:49.930
最大长度10 这边呢我们最大长度max length

24:50.250 --> 24:50.650
300

24:51.570 --> 24:55.250
好 又定时得了 好 那么这个位置呢是有变化的 这个位置取决于什么呢

24:56.490 --> 25:01.530
这个位置是不是取决于当前写的文字 当前的文字是不是来自于form data

25:04.050 --> 25:04.690
nick name

25:05.170 --> 25:08.530
点lence 这个字不算的长度 对不对 是不是这样子

25:09.170 --> 25:12.250
啊 你看吧 这个极其简单 你看 因为我又做这些事情 极其简单

25:12.970 --> 25:14.690
啊 你看 这样子不就不就完事了吗

25:15.810 --> 25:19.290
非常简单的啊 下面的内容呢 这一部分也是一样

25:20.850 --> 25:23.570
嗯 这来自于form data

25:24.530 --> 25:25.490
内容的长度

25:26.770 --> 25:31.130
啊 保存 你看 这里就搞定了啊 这个地方很简单啊

25:31.970 --> 25:38.210
好了 那么这一块呢就搞定了 接下来就是点击提交了 好 点击提交的时候 我们得个按钮注册时间呗 对不对

25:38.490 --> 25:45.010
但是呢 我建议大家啊 这个小的细节 因为我们是放了一个form表单里面的 放了form表那有什么特点呢

25:45.790 --> 25:50.510
就在表单中啊 除了这个多行文文 多行文文框回车的话 你是在文文框内换行

25:51.350 --> 25:54.430
但是呢 你在单行文文框里边 你这里换行

25:55.510 --> 25:59.110
其实就相当于是在提交啊 干嘛 要提交这个表单

25:59.910 --> 26:01.430
啊 你们以前学过这个form元素啊

26:02.230 --> 26:05.550
而点这个按钮的时候呢 也相当于是提交这个表单

26:06.110 --> 26:12.510
所以说 如果说你给指示给这个按钮注册点击事件的话 没有那么完善 因为你只注册点击事件

26:13.290 --> 26:17.210
当他在这里回车的时候你是不知道的 你收到这个通知的啊

26:18.090 --> 26:23.170
你这个回车里在处理呗 所以说呢 更加完善的地方是在这里

26:24.010 --> 26:26.330
注册什么时间呢 注册sab美车时间

26:27.210 --> 26:29.690
当表单提交的时候 你看表了什么时候 点这个按钮

26:30.290 --> 26:33.690
因为在表单里面普通的这个bottom 他就是个提交按钮

26:34.490 --> 26:40.890
啊 出 这全是基础知识啊 除非你给他设置为这个东西 对吧 他默认是什么 默认就是sab美车

26:41.710 --> 26:48.910
本来就是提交的 点击按钮他会提交这个表单 还有我们在表单里面 当我们往里边按回车是不是也会提交这个表单

26:49.350 --> 26:51.190
总归 不管你这点按钮还是回车

26:52.230 --> 26:53.230
都会运行这个事件

26:55.190 --> 26:58.110
都会运行提交 而且表单提交是不是有默认行为啊

26:58.830 --> 27:00.870
他会发送到服务器啊 你我现在没有

27:01.630 --> 27:07.150
根据什么发送了 根据你action的地址 还要根据你的measure的对吧 服务器的发送方法

27:07.610 --> 27:12.770
是不是要刷新页面 提交到服务器 那我不希望这样子 因为我们是用alcool时代提交

27:13.330 --> 27:17.850
而不希望是能够传统的表单提交 所以说呢 我这里是不是要阻止事件默认行为

27:18.370 --> 27:20.930
那么我们上一课决过 在事件中有一些修制服

27:21.530 --> 27:29.370
叫prevents啊 是不是就在这里写上一个prevents 会阻止事件默认行为的 其中你不注册时间就单这样子写 他都能够达到

27:30.130 --> 27:36.330
阻止表单提交的默认行为 你看我不一直不这样的写你试一下吧 不这样的写的话我们这里回车你看是不是刷新页面了

27:36.950 --> 27:40.670
对吧 他提交了吗 但是我这样子写了过后 阻止表单

27:41.790 --> 27:44.910
啊 等默认行为 那么现在我们回车你看是不是没有了

27:45.670 --> 27:51.190
好了 那么我们顺便 那么 阻止了默认行为之后 我们要运行我们自己的实现 handle 什么名字

27:52.230 --> 27:54.990
啊 运行我们自己的事件 好但是这个事件里面来

27:56.110 --> 28:02.980
我们需要写个方法啊 measures 输出啊 提交啊 你正在提交

28:03.720 --> 28:08.000
我们来看一下 控制台

28:09.280 --> 28:18.240
啊 我们这里回车是不是正在提交 对不对 那么提交的时候我们要干嘛呀 是不是首先要进行验证啊 啊 提交的时候要进行验证

28:21.360 --> 28:26.280
来吧 啊 如果说 首先说个消息啊 进行验证

28:27.020 --> 28:32.980
如果 首先验证里程啊 如果说 this form data 里面的nik net 里程

28:34.260 --> 28:41.420
有值 那么里程是没问题的 对吧 那么如果说他没有值的话 没有值的话怎么样啊

28:42.500 --> 28:45.480
没有值的话 我们就给他设置一个

28:46.580 --> 28:50.940
error 里程 给他设置一个请填写里程

28:51.480 --> 28:55.000
所以说这个错误消息 无忧里面开发 一定是关注数据

28:56.720 --> 28:58.760
换句话说 如果说有值的话 那么

29:00.000 --> 29:03.000
就消失啊 就消失啊 或者我们这样子写吧

29:03.760 --> 29:10.920
error 里程等于什么呢 如果说 this form data 里程有值 有值的话 我们就

29:12.160 --> 29:17.680
什么都没有 没有值的话就挺填写里程 对吧 这样子用三分预算服 另外一个content 呢

29:18.540 --> 29:22.740
看一下content 有没有值 有值的话 我就这样子 没有值的话 我就

29:23.980 --> 29:25.580
请填写那种

29:27.340 --> 29:29.940
好 保存啊 现在我们来再来看啊

29:31.740 --> 29:37.180
现在我们提交 你看是不是有错误消息了 对吧 你错误消息负了指 他自然显示出来了

29:37.860 --> 29:44.180
无忧就是用这样子方式来玩的 始终是控制数据 界面是根据数据渲染出来的 不同的数据渲染不同的界面

29:44.640 --> 29:52.040
好 那么这接下来我们要判断到底能不能提交啊 如果说有错误消息 它肯定是不能提交的

29:52.400 --> 29:55.480
所以我们这些人判断错误消息啊 如果arrow 里边

29:56.320 --> 30:06.720
nickname 有值 或者是arrow 里边content 有值 是不是有错误啊 有错误 有错误的情况下是不能提交的 我们就直接返回了

30:07.700 --> 30:15.300
啊 不要提交了 那提交啥呀 没法提交对吧 这里要填内容 那么只有没有错误的时候才能提交

30:15.980 --> 30:20.780
好 有错误就不能提交 那没有错误呢 没有错误得提交了

30:21.460 --> 30:25.260
没有错误得提交的时候要干嘛呀 是不是首先设置一个提交中

30:26.300 --> 30:30.220
this is submitting 把设为去 对吧 表示正在提交

30:31.900 --> 30:32.940
防止重复点击

30:33.720 --> 30:38.400
因为提交的是要一个过程的 防止重复点击

30:39.560 --> 30:46.640
对不对 好 那么正在提交正在提交 然后接下来我干嘛呀 是不是要触发时间了

30:47.920 --> 30:48.960
对不对 是不是要触发时间

30:49.840 --> 30:51.600
amid 触发时间

30:52.520 --> 30:58.840
触发什么时间呢 我们之前写过的啊 有个事件 他要触发给他 他继续往上抛 那个事件就是supamid

30:59.500 --> 31:04.740
表示用户提交的时间 然后给他什么数据呢 数据就是把我们这个formdata给他

31:05.140 --> 31:09.300
把我们的表达数据就扔过去 扔给副主件 那么让副主件来处理

31:10.580 --> 31:12.820
让副主件来处理

31:14.100 --> 31:18.190
事件 来处理事件

31:19.310 --> 31:26.750
那么处理 但是你还不要忘了 处理完了过后 我还有一些事情要做 我也不知道副主件什么时候处理完

31:27.210 --> 31:34.410
处理完了过后 我说实在还有一些 还得有一些事情要做啊 什么事情呢 我得把这个意思supamid社会force

31:34.850 --> 31:38.890
是不是跟上级课有点类似 把这个东西设为force 还得干嘛呀

31:39.850 --> 31:45.890
还得把这个文本框的数据清空 把这些文本框的清空 因为一会儿可能还要评论

31:46.730 --> 31:49.450
意思吧 所以说呢 我们这里呢

31:50.210 --> 31:53.890
又遇到上级课同样的问题了 你可以有三种方式来处理

31:54.870 --> 31:58.550
用nationers 又用probs 或者是传递回调

31:59.110 --> 32:02.390
都可以 那你处理完了过后 你得告诉我一声

32:02.910 --> 32:05.750
什么意思吧 所以说呢 我这里呢就传回调的方式吧

32:06.470 --> 32:09.110
传回调 你处理完了给我说一声

32:10.750 --> 32:16.470
好处理完了过后 我还要干嘛呀 我还要做一些事情supamid社会force

32:17.950 --> 32:19.590
然后呢 还要把这个s

32:21.070 --> 32:23.470
formdata.nickname

32:24.190 --> 32:24.990
稍微控制不上

32:26.030 --> 32:30.710
然后把这个formdata.content也稍微控制不上

32:32.230 --> 32:34.150
好 要做一些还原处理

32:35.590 --> 32:37.430
那么这样子的这个事件是不是扔出去了呀

32:38.110 --> 32:43.430
点击过后还会扔出这个事件 那么这个事件我们大概在这里扔给他了对吧 那么他是不是可以注册

32:44.190 --> 32:49.070
对不对 他可以注册事件 他注册事件你看着啊 这里有个小技巧了

32:49.770 --> 32:51.210
这里有个supamid社会force

32:52.170 --> 32:55.810
我们这里 我们平时如果按你说干怎么写 是不是在这里要注册一个函数

32:59.290 --> 32:59.690
message

33:00.490 --> 33:05.370
注册一个函数 这个函数呢 还要接受一个参数 有两个参数 一个是formdata

33:06.770 --> 33:11.250
一个是cobag 对不对 他能处理吗 这个事件他能处理吗

33:11.770 --> 33:16.450
他能处理就乖了 因为他又要抛出来这个这个事件 对吧 所以说这个事件还要继续往上抛

33:17.450 --> 33:20.410
直助键传过来了 但他也处理不了 因为他要扔给副主键来处理

33:21.690 --> 33:23.530
为什么他处理不了 你说他怎么处理

33:24.370 --> 33:28.290
他都不知道这是评论还是还是那个留言板 他怎么处理 没法处理

33:28.930 --> 33:31.170
那是不是他也要扔出啊 this image

33:32.010 --> 33:33.250
他也要扔出formdata

33:34.530 --> 33:36.570
mess 他要扔出同样的事件 submet

33:37.890 --> 33:45.530
然后呢 formdata 然后来callback 是不是 是不是也要扔往上扔 然后放个放给谁处理 放给他来处理

33:46.410 --> 33:50.730
不知道comment 他就能处理的 因为他是评论主键 他知道该怎么来处理 提交评论呗

33:52.090 --> 33:54.250
那这样子是不是很积极啊 你看

33:55.330 --> 33:59.490
你看着啊 我这边block comment 传过来的事件

34:00.770 --> 34:06.490
他传过来的事件 比较他他会怎么来传 他会在这里 submet 所以这里有个很多submet

34:08.010 --> 34:09.090
说传个事件做过来

34:10.610 --> 34:12.730
注册时间 他传过来

34:14.490 --> 34:18.050
他有什么有两个参数啊 这里第一个参数是formdata

34:19.030 --> 34:23.430
一个参数的是callback 处理完了告诉他一声 那边还要接着处理

34:24.230 --> 34:29.070
是不是传那个函数过来 他传那个函数过来传给谁啊 是不是传给他

34:30.350 --> 34:34.070
他这个函数传过来过后有 他能处理吗 也不能处理

34:34.870 --> 34:38.750
他这个函就他传过来的函数 他也不能处理 继续往后面传

34:39.190 --> 34:43.150
就传给他 传给个电台 传给个电台 写出了位置了

34:44.130 --> 34:46.130
传给这个电台 冯对不对

34:47.330 --> 34:48.210
是不是这么一个逻辑啊

34:49.050 --> 34:52.570
哎呀 就是我们再反过来说 就是他抛事件给他

34:53.290 --> 35:00.050
他一注册这个事件 他也处理不了 继续往上抛 把事件那些数据信息带过去 抛给又抛给副元素

35:01.010 --> 35:02.730
抛给副组件 然后让他去处理

35:04.130 --> 35:08.810
那么这样子呢 其实现在我们的写法都已经没问题了 已经是没有任何问题的

35:09.330 --> 35:11.410
只不过呢 在这个组件里面写下比较机械

35:12.390 --> 35:17.630
无非就是我要把副组件给我的这个东西 给我注册的事件 原封不动的人给他

35:18.270 --> 35:20.910
对不对 你看着我会怎么写 我可以这样子写

35:23.550 --> 35:28.190
V2 是不是事件 我们平时后边是不是跟上一个事件的名字

35:29.590 --> 35:33.750
平时这样子写的 只不过我们平时用的是简写吧 其实他原本的写法是V2

35:34.230 --> 35:36.230
冒号后边是事件名 不要杀不美词

35:37.270 --> 35:40.550
杀不美词 那么其实这里我们可以这样子写 V2

35:43.020 --> 35:46.180
直接用V2 V2的话就给他传一个函数的

35:47.620 --> 35:50.940
列表 给他传一个函数对象进去 比方说我觉得例子

35:51.980 --> 35:54.380
这个V2我怎么给他传 比方说我给他传一个对象

35:55.620 --> 35:58.260
这个对象里边呢 有Tando

35:59.980 --> 36:00.620
就杀不美词

36:01.420 --> 36:03.300
Tando 杀不美词 我这样子传

36:04.700 --> 36:08.580
传这么一种对象格式 什么意思呢 我就表示我给他传了一个事件

36:08.980 --> 36:11.220
注册事件 注册什么事件 什么名字

36:11.720 --> 36:13.840
然后是这个 事件的处理是这个函数

36:14.720 --> 36:17.280
就相当于是 我在这里呢 传了一个这个东西

36:18.600 --> 36:19.080
杀不美词

36:20.000 --> 36:21.800
Vando 杀不美词

36:22.520 --> 36:28.320
相当于这个 这种写法的刚就等效于刚才的我们的V 就等效于V2冒号

36:28.960 --> 36:29.520
杀不美词

36:30.960 --> 36:33.800
Tando 杀不美词 明白这些是吧 虽然是一样的

36:34.840 --> 36:38.360
V1 也就是我们可以通过V1一次性传递多个事件注册函数

36:39.340 --> 36:40.100
对吧

36:40.860 --> 36:43.180
这个玩意让你想起了啥呀

36:45.320 --> 36:46.600
是不是想起了Nessuners

36:47.360 --> 36:52.760
Nessuners 如果说我来这里用Nessuners 是个刚好Nessuners就刚好是副组件

36:53.260 --> 36:54.040
就这个组件啊

36:54.800 --> 36:57.600
Blog comment这个组件 传给我的事件处理函数

36:58.120 --> 37:01.200
我把传给我的事件处理函数 原封不通的传给你就完事了

37:04.000 --> 37:05.800
有的时候我们可以像这种

37:06.560 --> 37:09.400
组件一层层往上抛着这种场景

37:10.200 --> 37:12.160
就不要这个没设置了啊 就可以用这种方式

37:12.680 --> 37:15.760
如果说事件远风不动的话 没有什么额外的处理的话 就可以用这种方式

37:16.440 --> 37:21.560
你看吧 整个过程就是A用到了B B用到了C C用到了D

37:24.740 --> 37:25.860
A传了一个事件给B

37:27.300 --> 37:29.980
就D有一个事件往上抛 C处理不了 C往上抛

37:30.620 --> 37:31.980
B也处理不了 又抛给A

37:32.540 --> 37:34.420
所以A注册 像B注册的一个事件

37:35.620 --> 37:36.100
然后呢

37:37.020 --> 37:41.260
B又像C注册的一个事件 只有像D注册的一个事件 就要一层层往上抛 一层层往下注册

37:42.180 --> 37:45.060
那么为了避免去重复的写这各种没设置

37:45.460 --> 37:47.460
我就A传递给B的时候

37:47.900 --> 37:51.740
B就远风不动的把传递过来的事件直接往后面传 传给C

37:52.020 --> 37:52.580
C又可以

37:53.260 --> 37:56.620
远风不动的 用这种方式把事件远风不动的人给D

37:57.460 --> 37:57.940
明儿那些是吧

37:58.580 --> 37:59.620
好好的去处理一下啊

38:00.340 --> 38:01.540
这都是一些高贴用法

38:02.820 --> 38:05.460
好了就扔过去了 那么现在得到的效果呢 就是说

38:05.900 --> 38:09.220
我这边HandleSupport能运行了 输出一下formdata

38:10.860 --> 38:11.300
看一下吧

38:13.670 --> 38:14.070
检查

38:15.710 --> 38:18.870
控制台用户里称用户内容回车在这边

38:19.550 --> 38:19.870
提销

38:21.150 --> 38:23.310
你看说你内容里称都出来了

38:24.150 --> 38:24.510
对不对

38:25.270 --> 38:28.910
好 拿到这个数据过后呢 我在处理啊 处理完了我还要调用callback

38:29.230 --> 38:31.630
那怎么来处理呢 无非就是个阿迦克师呗

38:33.750 --> 38:34.550
我们之前

38:35.150 --> 38:37.830
不是写过一个API的函数啊 post comment

38:38.910 --> 38:40.390
忘了的话去看一下之前的代码

38:41.390 --> 38:43.730
看一下之前的API这里的代码

38:44.490 --> 38:44.850
blog

38:45.730 --> 38:51.090
post comment 对吧 comment info 那么这个数据呢其实就是一个表达数据啊

38:51.090 --> 38:53.650
你给他里称 给他那个内容就可以了

38:54.530 --> 38:55.890
给他里称和内容就可以了

38:57.170 --> 39:00.370
还有一个博客ID啊 你评论的是哪篇博客 好来吧

39:01.290 --> 39:04.050
按照submit 我们就调用那个post comment

39:06.700 --> 39:10.300
一个对象信息 blog id

39:12.340 --> 39:12.980
blog id

39:17.140 --> 39:17.620
传过去

39:18.300 --> 39:20.900
blog id的话我们就给他给他一个z

39:22.500 --> 39:24.420
我看一下最好看一下接口文档吧

39:25.260 --> 39:29.860
最好看一下接口文档 不然的话到时候这个地方写错了

39:32.140 --> 39:33.780
我们当时是在

39:36.920 --> 39:37.480
出来之后吧

39:39.600 --> 39:40.000
接口文档

39:40.920 --> 39:41.280
看一下

39:43.080 --> 39:45.960
提交评论要传什么格式

39:46.360 --> 39:48.400
blog id content整理knead ok

39:49.240 --> 39:53.360
blog id就是this road tyrants id

39:53.360 --> 39:54.720
这个毫不疑问对不对

39:54.720 --> 39:56.840
我们之前也获取到的

39:57.400 --> 39:58.440
然后是

40:00.440 --> 40:03.040
里称和内容 那么我们就把这个东西展开一碗事

40:03.600 --> 40:04.880
封面对他展开一碗事

40:04.880 --> 40:05.800
是不是提交评论了

40:06.360 --> 40:07.240
好 我们额位置

40:07.240 --> 40:09.240
等待 等待服务器的响应结果

40:09.720 --> 40:11.680
好 响应完了过 服务器会给我们一个响应

40:12.160 --> 40:13.920
响应消息 响应是啥呀

40:14.680 --> 40:15.280
服务器

40:18.800 --> 40:19.480
提交评论

40:21.830 --> 40:22.710
好 给我们响应的结果

40:22.710 --> 40:23.830
你本来就带 id了

40:23.830 --> 40:25.070
带哪篇博客的

40:25.070 --> 40:27.550
然后带这个时间是不是都有了

40:28.670 --> 40:30.590
好 评论完成过后

40:30.590 --> 40:31.390
有哪些事情

40:31.390 --> 40:32.990
首先这边有哪些事情要做

40:33.870 --> 40:34.910
有哪些事情要做

40:35.430 --> 40:36.750
评论完了过后

40:38.790 --> 40:39.510
评论完了过后

40:39.510 --> 40:40.430
这边有哪些事情要做

40:40.430 --> 40:43.470
首先我们把这个新的评论加到这个位置

40:45.150 --> 40:47.230
我们要把这个新的评论加到这个位置

40:47.550 --> 40:49.670
加了 加了这个数组的最开头

40:50.130 --> 40:50.810
那怎么办呀

40:51.530 --> 40:52.130
简单呗

40:52.450 --> 40:52.970
Zis

40:53.610 --> 40:54.090
data

40:54.250 --> 40:55.690
Rose 是不是我们那个数组

40:55.690 --> 40:56.530
评论数组

40:56.690 --> 40:57.810
我用一个on-short

41:00.320 --> 41:01.480
是不往手

41:02.040 --> 41:03.560
加到这个数组的开头

41:03.880 --> 41:05.280
加一个对象呗 加什么对象

41:05.280 --> 41:06.560
就是响应的结果呗

41:07.040 --> 41:07.920
所以响应的结果

41:09.520 --> 41:10.920
响应的结果就这种格式嘛

41:11.800 --> 41:13.320
对了 给它加上

41:13.960 --> 41:15.440
加上这个响应的结果

41:15.680 --> 41:16.240
on-short

41:16.400 --> 41:16.800
Risk

41:18.240 --> 41:19.760
就OK了 那我们来看一下

41:20.220 --> 41:22.060
首先这个地方能不能搞定的

41:22.860 --> 41:23.740
用过里程

41:25.020 --> 41:26.140
用输入内容

41:26.460 --> 41:27.140
点提交

41:29.240 --> 41:30.000
你看

41:30.160 --> 41:30.840
输出来了

41:31.320 --> 41:33.320
响应的结果为什么是这个样子的

41:33.320 --> 41:34.480
为什么不是我们那个数据呢

41:34.480 --> 41:35.880
是因为我们模拟数据啊

41:35.880 --> 41:37.120
一切都在模拟数据

41:37.360 --> 41:39.240
因为我们之前用mock的时候

41:39.240 --> 41:40.600
反而就是一个随机的数据

41:40.840 --> 41:41.920
所以说管它的

41:42.160 --> 41:43.040
管它的

41:43.880 --> 41:44.720
就拿到这个数据了

41:45.280 --> 41:45.960
加到最开头了

41:45.960 --> 41:46.840
我们再来一次啊

41:47.600 --> 41:48.160
刷新

41:50.700 --> 41:51.500
ad

41:51.900 --> 41:52.460
提交

41:53.460 --> 41:54.500
你看数据在这儿了

41:55.300 --> 41:55.700
对吧

41:55.700 --> 41:57.300
将来服务器真的搭建好了过

41:57.300 --> 41:59.180
这就变成这样的发行的数据了

41:59.740 --> 42:00.740
服务器给我们的数据

42:00.740 --> 42:02.100
目前是随机的

42:02.340 --> 42:03.660
是模拟的

42:04.380 --> 42:05.460
所以是一小数据出来了

42:05.460 --> 42:07.300
但是这个总数是不是没有增加

42:07.300 --> 42:09.060
那么我们这里手动增加一下总数吧

42:09.380 --> 42:10.500
手动增加一下总数

42:10.860 --> 42:11.740
data 头统

42:11.740 --> 42:13.060
总数肯定得加加吧

42:13.380 --> 42:14.380
再加加一

42:14.860 --> 42:15.580
好 保存

42:16.660 --> 42:17.260
再来

42:17.420 --> 42:17.980
这边

42:18.140 --> 42:19.260
这边提交

42:19.340 --> 42:20.380
你看是总数啊

42:21.180 --> 42:22.140
就加了一条

42:22.720 --> 42:23.040
对不对

42:23.040 --> 42:23.640
没问题吧

42:25.160 --> 42:25.720
放到这儿

42:26.320 --> 42:27.480
还有什么事情要做呢

42:27.480 --> 42:28.640
其实还有个事情

42:28.640 --> 42:30.040
就是我们给你看个体式消息

42:30.040 --> 42:31.880
我们之前不是做了个体式消息吗

42:32.080 --> 42:32.720
就是z

42:33.360 --> 42:34.480
sue message

42:34.760 --> 42:35.000
对吧

42:35.000 --> 42:37.120
我们之前最很早很早的时候

42:37.120 --> 42:38.280
加一个这么一个函数

42:38.280 --> 42:39.240
这个函数来自于哪呢

42:39.240 --> 42:40.280
来自于uq

42:41.920 --> 42:43.440
来自于这个sue message

42:45.280 --> 42:46.960
那么这里可以传很多东西

42:46.960 --> 42:48.600
可以传消息内容

42:48.600 --> 42:49.600
消息内型

42:49.600 --> 42:50.800
我们按下传吧

42:53.120 --> 42:54.120
sue message

42:54.280 --> 42:56.240
消息内容就是

42:56.920 --> 42:58.120
评论成功

43:01.450 --> 43:03.370
消息的内容

43:03.810 --> 43:04.810
success

43:05.530 --> 43:06.530
成功

43:07.730 --> 43:08.970
多久后消失

43:08.970 --> 43:09.970
默认是两秒钟吗

43:09.970 --> 43:11.170
两秒钟

43:11.330 --> 43:12.410
一秒钟吧

43:13.010 --> 43:14.010
duration

43:14.170 --> 43:15.170
一秒

43:15.410 --> 43:15.650
好

43:15.650 --> 43:17.450
然后就是消失完了过后

43:17.450 --> 43:18.970
的毁掉函数

43:19.490 --> 43:20.970
消失完了过后

43:21.810 --> 43:22.810
这是

43:22.890 --> 43:24.290
多久后消失

43:24.350 --> 43:26.350
没有毁掉函数

43:27.230 --> 43:29.630
没有毁掉函数

43:29.990 --> 43:30.990
这有毁掉函数

43:30.990 --> 43:32.190
callback有毁掉函数

43:32.670 --> 43:33.470
callback

43:33.470 --> 43:35.390
就是消失过后要做什么事情

43:37.650 --> 43:39.170
消失后不做什么事情

43:40.370 --> 43:41.370
OK了

43:42.330 --> 43:43.370
还有什么呢

43:43.370 --> 43:44.170
当时我们做的

43:44.170 --> 43:45.090
还有就是这个

43:45.090 --> 43:45.970
Kantena的容器

43:45.970 --> 43:47.690
他会显然说这个容器的正宗

43:48.090 --> 43:48.770
来吧

43:48.770 --> 43:49.890
给把个容器给他吧

43:49.890 --> 43:51.330
当然这个前提条件的容器

43:51.330 --> 43:52.490
他得是一个

43:52.490 --> 43:53.490
他改过的

43:53.490 --> 43:54.690
改成了rejective

43:54.790 --> 43:55.190
OK

43:55.190 --> 43:56.790
那么就把个容器传给他

43:56.790 --> 43:57.790
容器呢

43:57.790 --> 43:58.790
我们就用这个

43:58.790 --> 43:59.790
哪个容器呢

44:01.990 --> 44:03.790
这个这个事情在这里做

44:03.790 --> 44:04.790
不是很好

44:05.590 --> 44:06.590
我们一会在那边做

44:07.590 --> 44:09.190
那么这个事情我们在那边做

44:09.190 --> 44:10.190
在forumdata里边做

44:10.190 --> 44:10.990
因为我现在拿不到

44:10.990 --> 44:12.390
一个forumdata的容器

44:12.790 --> 44:14.590
在这里做比较好一点

44:15.590 --> 44:16.790
这里做比较好一点

44:17.190 --> 44:17.790
好来吧

44:18.390 --> 44:19.590
那么我这里这边的事情

44:19.590 --> 44:20.190
就做完了

44:20.190 --> 44:20.590
最后呢

44:20.590 --> 44:21.990
我把这个callback给他

44:22.390 --> 44:23.390
掉那个callback

44:23.490 --> 44:24.690
表示我这边的处理

44:24.690 --> 44:25.290
处理完了

44:25.890 --> 44:27.090
剩下的你去处理

44:28.290 --> 44:28.890
你去处理

44:29.890 --> 44:30.490
那么这传

44:30.490 --> 44:31.890
要不要传消息呢

44:31.890 --> 44:33.290
现在暂时不传

44:33.290 --> 44:35.890
我们一会那边需要消息的时候再传

44:35.890 --> 44:37.090
表示高速

44:38.290 --> 44:39.490
高速直主键

44:39.490 --> 44:40.490
或者是后代主键

44:40.490 --> 44:41.090
我这边

44:41.790 --> 44:42.290
处理完了

44:43.490 --> 44:44.090
你继续

44:45.490 --> 44:45.690
好

44:45.690 --> 44:47.090
那么调用这个函数

44:47.090 --> 44:48.490
是不是这边就开始运行这个函数了

44:49.090 --> 44:49.690
你看啊

44:49.690 --> 44:51.090
那么这三句单码就可以运行了

44:51.890 --> 44:52.490
接下来再看

44:53.090 --> 44:55.190
这边我们写一些写些内容

44:55.190 --> 44:56.390
好提交

44:57.790 --> 44:58.990
你看这里还是不是消失了

44:58.990 --> 45:00.590
这个状态又回过到正常了

45:00.590 --> 45:00.990
对吧

45:02.090 --> 45:02.190
好

45:02.190 --> 45:04.390
那么无非就是在这边去多做一些事

45:04.390 --> 45:06.190
就是在提示一个信息

45:08.530 --> 45:09.630
说在这里提示一个信息

45:09.630 --> 45:10.130
评论

45:10.130 --> 45:11.230
那么这里问题就是

45:11.230 --> 45:13.330
到底显示什么提示成功信息

45:13.330 --> 45:14.230
是评论成功呢

45:14.230 --> 45:15.430
还是什么东西

45:15.430 --> 45:17.230
到底显示什么评论信息

45:17.230 --> 45:17.930
我并不知道

45:17.930 --> 45:18.430
对吧

45:18.430 --> 45:19.630
那么也说这个地方

45:19.630 --> 45:21.230
我希望一个传给我

45:21.230 --> 45:22.230
这个s

45:24.430 --> 45:25.630
message

45:25.630 --> 45:27.030
把这个这个message传给我

45:27.030 --> 45:28.230
我怕作为

45:28.230 --> 45:29.630
这个提示消息的内容

45:29.630 --> 45:30.830
那么这边怎么传遞呢

45:30.830 --> 45:32.230
这个传遞一个评论成功

45:34.430 --> 45:36.830
所以说上句课的东西一定要好好理解啊

45:36.830 --> 45:39.430
这句话这句课就很容易绕运

45:39.430 --> 45:41.430
那么这边就提示就完事了

45:41.430 --> 45:42.630
啊提示就完事了

45:42.630 --> 45:43.830
啊等提示完了过后

45:43.830 --> 45:45.230
我再把这个

45:45.230 --> 45:46.830
再把这三句单码写到这

45:46.830 --> 45:48.630
啊等提示完了过后

45:48.630 --> 45:50.030
我再去做这些事情

45:50.030 --> 45:51.030
再清通这一东西

45:52.030 --> 45:53.830
好来看我们整体的效果

45:54.830 --> 45:56.730
还有一个还有一个就是

45:56.730 --> 45:59.130
把这个玩意儿设成一个plation relative

46:00.130 --> 46:00.930
啊不用了啊

46:00.930 --> 46:02.330
他里面好像也设置了

46:02.330 --> 46:02.930
好来吧

46:04.330 --> 46:04.730
提交

46:06.530 --> 46:07.130
评论成功

46:08.130 --> 46:09.330
你看没问题啊

46:10.330 --> 46:12.130
哎好像没有在正宗是吧

46:12.130 --> 46:13.130
没有在他的

46:13.130 --> 46:14.330
哦还有个容器啊

46:14.330 --> 46:15.530
容器我这要给个rave

46:16.330 --> 46:19.880
哦还有个容器

46:21.280 --> 46:21.880
上天的

46:22.680 --> 46:24.480
this raves

46:26.780 --> 46:29.080
啊让他在这个容器正宗

46:29.080 --> 46:29.880
好再来啊

46:32.820 --> 46:33.420
哎你看

46:34.020 --> 46:34.820
挺好了对吧

46:35.620 --> 46:37.320
整个流程就打通了

46:39.020 --> 46:39.420
啊你看

46:40.020 --> 46:40.620
在清空

46:41.420 --> 46:42.020
就挺好了

46:43.020 --> 46:44.220
好了那么这个

46:44.220 --> 46:46.020
评论这一个区域就搞定了啊

46:46.020 --> 46:46.620
我们最后呢

46:46.620 --> 46:48.020
把这个注释夹去掉

46:49.520 --> 46:50.420
把这个注释去掉

46:50.820 --> 46:52.420
好那么整个页面的主体

46:52.620 --> 46:53.620
差不多就差不多了

46:55.220 --> 46:56.020
主体就差不多了

46:56.420 --> 46:57.820
那无非就是这个地方

46:58.320 --> 46:59.920
点了这个评论之后啊

47:00.120 --> 47:01.320
他要跳到下边

47:01.520 --> 47:02.720
哎他怎么得跳到下边呢

47:02.720 --> 47:03.920
我们这个东西就很简单了

47:03.920 --> 47:06.120
其实我就给个某链接就完事了

47:07.220 --> 47:08.020
没那么复杂啊

47:08.020 --> 47:08.920
给个某链接

47:09.020 --> 47:09.920
比方说我在这里呢

47:09.920 --> 47:10.820
给他一个id

47:12.020 --> 47:12.820
这个s3

47:13.320 --> 47:14.720
或者是data form这里吧

47:15.220 --> 47:16.320
我给他一个id

47:18.820 --> 47:21.220
呃就是data form

47:22.020 --> 47:23.720
反天的吧就这么一个id

47:24.520 --> 47:26.420
好那这个id是固定的对吧

47:27.020 --> 47:27.620
id固定的

47:27.620 --> 47:28.620
然后我们在

47:29.620 --> 47:31.620
之前那个detail里边啊

47:31.620 --> 47:32.720
block detail里边

47:33.220 --> 47:35.020
这里一个评论一个延远数对吧

47:37.120 --> 47:39.220
完了哈哈非常简单啊

47:39.620 --> 47:40.520
好来看一下啊

47:40.720 --> 47:41.420
点击评论

47:42.420 --> 47:44.220
就跳到了对不对

47:44.520 --> 47:44.920
ok

47:46.620 --> 47:49.020
好了那么这里呢就搞定了啊

47:49.020 --> 47:49.820
整个页面

47:49.820 --> 47:50.720
但是这个页面里边呢

47:50.720 --> 47:51.320
还有一些细节

47:51.320 --> 47:52.420
比方说拿到底的时候

47:52.420 --> 47:53.320
要加载更多

47:53.320 --> 47:54.520
这个东西怎么来做

47:54.720 --> 47:55.620
还有就是

47:56.120 --> 47:57.420
当我们在这里

47:57.520 --> 47:58.620
慢慢往上拖的时候呢

47:58.620 --> 48:00.420
这边要显示相应的章节

48:00.620 --> 48:02.120
啊一个相应的就是

48:02.720 --> 48:03.920
呃激活效果

48:04.020 --> 48:05.320
个激活效果有怎么弄

48:05.520 --> 48:06.920
还有不少的事情要做

48:07.420 --> 48:09.620
好我们之后的课程再说

