WEBVTT

00:00.000 --> 00:04.860
OK 上节课的话我们讲了就是关于扫码的一个基本的操作

00:05.120 --> 00:10.240
实际上就是调用他那个官方的那个API那个微信点scancode的 对吧

00:10.500 --> 00:14.340
好 这节课的话咱们来做一个这个扫码相关的综合案例

00:15.100 --> 00:18.180
好 这边的话首先演示一下啊 演示一下这个案例

00:18.440 --> 00:22.520
这边的话他下面的话提供了三个功能 分别是扫码

00:22.780 --> 00:25.080
然后生成还有这个历史

00:25.340 --> 00:29.940
好 首先关于这个扫码 扫码的话 这边你点击扫一扫 点击扫一扫

00:30.000 --> 00:35.120
之后啊 这边他是支持那个就是你可以从相册选择二维码图片

00:35.380 --> 00:40.500
也可以就是用手机扫 那我这边呢因为是模拟器 你点击之后他就会打开那个

00:41.000 --> 00:45.360
就文件选择啊 那接下来我们这边比如说点击这个二维码 点击打开

00:46.380 --> 00:52.020
打开之后让家这边可以看到这边呢就会有个扫描结果啊 他这边的类型是二维码

00:52.280 --> 00:53.800
那内容是一个Hello

00:54.320 --> 00:54.820
可不可以啊

00:55.080 --> 00:58.920
好 然后接下来的话你这边可以对他进行个复制啊 这边有个这个复制

00:59.120 --> 01:02.960
复制操作复制了之后再加这边你可以看啊 什么可以粘贴

01:03.220 --> 01:04.760
对吧啊 比如我们这边再扫一个

01:05.780 --> 01:09.880
再扫一个比较少这个啊 之前这个狗这张图打开

01:10.400 --> 01:15.760
啊 这边啊 内容的话对应的是这个啊 这边复制 复制了之后让家这边来看一下

01:16.280 --> 01:17.040
是OK的

01:17.560 --> 01:18.840
对不对 OK

01:19.860 --> 01:20.640
好吧 这个

01:21.660 --> 01:22.420
清空一下

01:23.960 --> 01:25.500
哎 这个还没办法

01:26.260 --> 01:27.540
还没办法啊 可以

01:28.320 --> 01:28.820
OK

01:29.040 --> 01:35.240
啊 这是关于复制功能啊 这个的话就是整个啊 第一个贴博呢啊 他的功能主要就是扫码

01:36.160 --> 01:39.120
然后第二个 第二个的话 这个是深层二维码

01:39.760 --> 01:44.280
OK 这是深层二维码啊 比如我这边的话 输入一个比如说今天

01:45.800 --> 01:51.760
今天是一个好天气 对不对 好 然后接下来我们这边深层

01:52.840 --> 01:58.200
好 你看这边是不是就深层了一张二维码 好 接下来我把这张二维码的话 我把它保存一下

01:59.160 --> 02:01.280
啊 把它截图 保存一下

02:02.440 --> 02:04.680
然后我看这个这个这个该怎么存

02:05.880 --> 02:06.200
这个

02:07.960 --> 02:10.440
好 我把我把它存一下吧 稍等 我把它存一下

02:11.920 --> 02:17.760
啊 我刚才已经把它保存了啊 保存了之后 然后今天我们来到扫码这边啊 这边少一少

02:18.400 --> 02:22.200
来到桌面啊 就这个啊 刚才保存的 好 那就这边点击

02:22.880 --> 02:28.400
打开 你看这边 是不是 今天是一个好天气啊 这个是不是就是刚我们深层的这个二维码

02:29.040 --> 02:36.400
对不对 OK 好 然后最后一个 最后一个的话是历史啊 这边点过来 点过来之后 这边话会有一个这个

02:37.320 --> 02:44.800
扫描的历史记录啊 这边我们刚才有三个嘛 对吧 啊 比如说你这边点过来 点过来之后 它这边的话就是一个历史记录啊 你

02:45.120 --> 02:50.720
但你可以把这条把它删除掉 用把它删除 删除了之后 然后这边就只剩两条了

02:51.160 --> 02:54.600
整体来讲的话 就是这样一个简单的应用啊 主要就是和

02:55.200 --> 03:00.080
少码相关的 对不对啊 相当于是做一个少码的这个综合案例啊

03:01.160 --> 03:05.760
OK 好 那我就把这个最小化 最小化之后 然后接下来我们来到这边

03:06.440 --> 03:14.800
这边的话是一个干净的这个新项目啊 然后下面的像是一种table难这种 这种没有什么技术的 对吧 这个呢 我就直接把它配置好了

03:15.440 --> 03:16.200
这个在这边

03:17.200 --> 03:24.880
在app点接上 我们这边介绍一下啊 这边呢一共四个页面 这边分别是index index就是少码的

03:25.600 --> 03:31.680
然后加这边这个code code的话就是这个生成二维码 然后加这个detail 然后这个logs

03:32.640 --> 03:38.280
logs的话就是这个历史啊 就是历史 那还有一个detail detail是什么 detail是这个页面

03:39.320 --> 03:45.200
啊 就是你这边这边历史吗 历史是那个logs 然后加你这边点进来 点进来这边是不是有一个这个detail 对不对

03:45.200 --> 03:53.680
就这条二维码 少码的这个详情 是这个ok 这是关于这个detail 啊 大家这边的话这个tablebar啊 把它配置一下

03:54.320 --> 04:02.040
少码生成历史分别对应的是index code和logs啊 那logs里面你可以进入到detail

04:02.720 --> 04:09.400
ok 好的 好 然后接下来来到我们这边 我把其他的先关闭了啊 关闭到其他

04:10.280 --> 04:17.600
好 我们就一个一个来写 从index开始写啊 这边的话我已经把这个会使用到的这个wxss

04:18.040 --> 04:20.840
啊 我已经拿过来了啊 就其他页面的我都拿过来了

04:21.400 --> 04:26.400
ok 就这一块的话就不带这些了 好吧 就我们这边要用到的样式我就提前把拿过来了

04:26.920 --> 04:31.080
好 然后接下来来到这边index.wx面

04:31.960 --> 04:38.280
好 然后这里 这里的话首先我们来写这边 这边的话我看一下有没有什么好写的哈

04:38.840 --> 04:41.480
这边 这边的话我们来到这里

04:42.520 --> 04:52.080
这边啊 这边呢 实际上就是一个什么呢 实际上就是首先这边一个就是你扫描后的这个结果啊 然后以及下面的一个扫一扫的这个按钮

04:53.080 --> 04:57.600
对吧啊 你这边呢 你把它编一下 编一下一开始这边只有这个扫一扫

04:58.320 --> 05:04.120
啊 然后加当你扫码之后 然后加他会出现一个扫码的这个结果 然后加这个扫一扫按钮就是跑到下面来了

05:04.600 --> 05:11.080
ok 好 那接下来这边 这边的话我就直接把整个那个wx面 我也把它拿过来啊

05:13.160 --> 05:25.720
拿过来 拿过来之后 大家接下来咱们来看一下啊 首先的话 这边的话是配级啊 配级人家这边 这个配级下发现下发现逼地啊 这个他都是这个外层的盒子啊 这不看了

05:26.200 --> 05:30.200
好 然后接下来这边 这边的话 然后接下来有两个view

05:30.680 --> 05:38.760
两个view 首先这个view 这个view的话是根据你scan result 点一日秀 根据他来决定是否显示

05:39.200 --> 05:45.240
那很明显他就是什么 他是不是就是扫描后的结果 对不对 显示

05:46.680 --> 05:51.320
的是扫描后的结果

05:52.840 --> 05:59.920
对不对啊 大家这边如果你这个一日秀 他是去的话 那我就显示啊 否则的话我就不显示

06:00.400 --> 06:04.720
啊 说实话 我们这边的话在index.js这边 我们分个屏吧

06:05.960 --> 06:11.120
分个屏啊 在这边 这边的话 我就应该有一个什么呢 有一个scan result

06:12.160 --> 06:15.600
这个scan result对应的是一个什么呢 对应的是一个

06:16.760 --> 06:21.920
对象 对不对 这个对象里面有什么呢 这个对象里面有一个叫做ease show

06:23.200 --> 06:26.200
这么一个属性 这个属性对应的是force

06:27.120 --> 06:31.760
一开始是force force那整个这个不显示 对不对 好 那这一块我们就不用管他了

06:32.320 --> 06:39.120
好 然后接下来的话 看这个盒子 这个盒子的话 然后我们把它展开 展开之后 然后接下来这边是不是就是

06:39.640 --> 06:43.200
扫一扫 对不对 把这个这个没用到 把他删了

06:44.320 --> 06:49.120
这边是不是就是扫一扫那个按钮 对不对 扫一扫按钮 让家这边有一个事件 叫做on scan

06:49.680 --> 06:51.040
好 那接下来我们这边on scan

06:52.320 --> 06:55.720
好 那接下来对应的这边 这边的话就是on scan

06:56.800 --> 06:58.320
对啊 这边就是扫描

07:00.520 --> 07:05.080
扫描对应的事件处理

07:05.360 --> 07:05.720
还说

07:07.320 --> 07:12.440
好 在这里 这里的话就直接调用什么 是不是直接调用微信点scan code的

07:13.280 --> 07:18.760
对不对 好 然后他接受一个对象 好 接受一个对象 然后接下来这边

07:20.040 --> 07:23.400
sixth啊 然后加这边二也是

07:24.160 --> 07:27.160
好 这边呢 我们打印出来看一下

07:28.680 --> 07:35.640
二也是 ok 啊 保存 保存之后 然后加这边扫一扫 扫一扫 让家这边比较好天气

07:36.360 --> 07:42.960
打开啊说出来了 对不对 这边呢 出来了啊 我们这边呢 就是要什么 是不是要这个result

07:43.760 --> 07:49.880
今天是一个好天气 除了这个以外 他这边还有一些这个其他的一些属性啊 这边你可以一个一个去看一下

07:50.200 --> 07:56.280
就扫码之后啊 这边你这边你可以去看一下 他扫码后的这个结果 他每个属性是什么意思

07:58.280 --> 08:05.850
他把这个关了 好 然后接下来这边 嗯 这里

08:10.420 --> 08:17.940
呃 这边扫码 扫码之后 这里 对不对啊result啊 这个是扫码的内容 这个是内形

08:18.740 --> 08:20.260
对对 内形然有这么一些

08:20.980 --> 08:28.900
哦 你看 挺多的 是不是啊 挺多的啊 他是这个扫码的内心 qr code 这个就对应了二维码 这个是最常见的

08:29.540 --> 08:34.900
对不对 好 人家这个charset 这个是制服级 pass pass的话是

08:35.860 --> 08:42.020
呃 当所少的码为当前小程序二维码时 会返回此之段啊

08:42.500 --> 08:47.460
好 然后还有一个这个rho data rho data 是原始数据啊 base 64 边吗 ok

08:47.700 --> 08:55.700
好 那接下来哈 这边我们其实就已经拿到这个扫码的内容了 拿到扫码的内容之后 然后接下来我们干什么呢

08:59.350 --> 09:00.070
好 接下来

09:01.830 --> 09:07.430
接下来 我们就什么 是不是更新谁啊 更新这个scan result

09:08.390 --> 09:14.470
这个scan result 这个scan result 这个变量顾名思义就是干嘛 是不是存储扫码结果的

09:15.190 --> 09:18.790
对不对scan result 存储扫码

09:19.750 --> 09:24.710
扫码 结果 ok 好了 接下来我们这边呢 就是z

09:25.830 --> 09:27.510
点set data

09:29.430 --> 09:31.990
好 我们设置谁设置scan result

09:34.340 --> 09:39.940
好 他对应了这边对应一个对象 然后一支shu 我们把它变成什么呢 变成chew

09:41.300 --> 09:46.740
对不对啊 首先把这个变成chew 好 人家这边呢 给了几个值 首先第一个是type

09:47.540 --> 09:53.860
type对应的是什么 type的话你这边是不是有一个scan type啊 理论上来讲的话你这边直接就res点

09:54.420 --> 09:55.620
这个scan type

09:56.660 --> 10:01.540
这就ok了 对不对 那到时候你显示出来的话 这边就是qr code 但是你看我们这边

10:02.660 --> 10:09.850
我们这边比如说少一少 这边最终到这边类型 你还写的是什么 是不是写的是中文 是不是二维码

10:10.410 --> 10:14.970
对不对 那接下来这个怎么做呢 这个很简单 这个你简单做个硬设就可以了

10:15.290 --> 10:18.010
啊 我这边我就直接把这个对象我就把拿过来

10:19.210 --> 10:28.500
啊 拿过来之后然后将我这边放到这里啊 这个是什么呢 这个是少码类型 少描类型和什么呢 和中文

10:29.700 --> 10:34.260
和中文意思的一个硬设

10:35.060 --> 10:39.940
对不对 你这边的qr code的qr code的最终对应的就是什么呢 对应的就是二维码对不对

10:40.100 --> 10:42.900
好 那接下来的话 这边我们就是scan type 他是个对象

10:44.100 --> 10:48.180
啊 他是个对象对象 然后接下来的话啊 这个属性

10:48.820 --> 10:51.540
对不对 啊 回头他拿到的就是一个中文

10:52.500 --> 10:54.580
好 然后接下来的话 这边这个text

10:56.100 --> 10:59.380
这个的话就是res.result

11:00.100 --> 11:06.660
ok 好 那现在的话 我们就已经就更新了这个scan result 啊 并且的话 因为你这边把一字秀

11:07.540 --> 11:11.140
设置成了q 设置成了q之后 然后接下来这个盒子

11:11.940 --> 11:16.180
这个盒子是不是就应该显示出来了 好来 我们来看一下这个盒子 把下面折起来

11:16.820 --> 11:17.540
这边这个盒子

11:19.060 --> 11:21.860
好 这个盒子的话 这边就是分别就三块

11:23.380 --> 11:26.100
三块 首先第一个是扫描结果 来看一下

11:27.220 --> 11:29.540
扫描结果啊 这个的话完全就是一个

11:30.500 --> 11:35.860
静态的内容 对不对 这就完全一个静态内容 只不过这边挂了些样式类而已啊 这个没什么

11:36.260 --> 11:40.740
ok 把折起来 好 然后加这边扫描内心 扫描内心的话 这边就两个

11:41.060 --> 11:44.500
一个是scan result.type对应的是不是就是

11:45.460 --> 11:46.020
啊 这边

11:46.980 --> 11:52.180
对不对 还有什么 还有这个text 你这边呢 这个type和这个text 你可以给个初始字

11:55.060 --> 11:57.700
这边你可以给个初始字 type 一开始是空

11:58.660 --> 12:02.260
然后text 一开始也是空

12:02.900 --> 12:07.860
好了 现在的话 这边你这个扫描之后 这边是不是他就直了 我说复了直了

12:08.340 --> 12:13.140
对吧 复了直之后 然后加这边这个内容 显示出来啊 然后加如果没有

12:13.860 --> 12:20.580
这边有个msg啊 这个这个这个就不要了啊 这就不要了啊 我们这边就直接就是这个内容

12:21.300 --> 12:26.420
然后还有个什么呢 还有一个类型 对不对 这边一个类型一个内容啊 这两个

12:26.980 --> 12:30.820
好 然后完事之后 下面下面就是一个复制的这个按钮

12:33.180 --> 12:36.380
我看一下啊 这边就是一个复制的这个按钮啊

12:38.220 --> 12:42.540
啊 这边我们把这个把这个删掉啊 msg 这个我们不用啊 我们这边就直接

12:42.780 --> 12:47.980
这边一个盒子 盒子里面的话 然后这边就是一个复制的按钮 然后以这个on copy 我们一会来写

12:49.020 --> 12:51.820
好 然后接下来我们这边我们来看一下 我们保存

12:53.420 --> 12:55.340
好 保存之后啊 重新编一下吧

12:56.860 --> 12:58.860
重新编一下啊 少一少

12:59.420 --> 13:08.140
好天气 打开 是不是有了 对不对啊 内形是二维码 然后内容是好天气 对不对 那比如我们这边再来 少一少

13:08.700 --> 13:10.860
不要这个Hello啊 这个Dog嘛

13:11.580 --> 13:19.340
打开 是不是OK了 对不对 就OK了啊 这是首先第一个 关于这个扫码 好 扫码完了之后

13:20.620 --> 13:25.900
接下来的话 我们来做这个复制 复制的话对应的是这边on copy

13:26.540 --> 13:30.780
对吧 好 来来到JS这边 这边的话on copy

13:34.940 --> 13:43.420
on copy好 copy的话 这边会用到一个API这个API的话叫做微信点set clipboard data

13:44.460 --> 13:45.500
好 来给大家看一下

13:46.860 --> 13:51.960
在这里啊 这边微信

13:54.500 --> 13:54.740
这个

13:55.540 --> 14:04.900
这个的话是设置设置系统简贴版的这个内容啊 调用成功后会弹出这个toaster提示内容以复制

14:05.380 --> 14:08.260
持续一点五秒 哇 他这个是自动提示的吗

14:08.980 --> 14:10.180
啊 好像是自动提示的

14:10.900 --> 14:12.180
好 那看一下这边

14:12.980 --> 14:18.100
这边是set对不对 大家这边的话是你要放入到这个剪贴这个剪切版的这个

14:19.060 --> 14:23.620
data好 大家这边呢 这个成功之后 成功之后就是你后面你要做的这个事情

14:24.100 --> 14:25.540
好 那我们这边我们就直接调用

14:26.580 --> 14:31.140
我们回到这边 这边呢 我们就直接调用微信点set

14:32.340 --> 14:34.820
啊 然后clipboard data

14:35.380 --> 14:38.340
好 大家我们要存储的是什么呢 存储的是不是就是

14:39.300 --> 14:43.700
这是点data点什么scan result

14:44.260 --> 14:45.380
点text

14:46.420 --> 14:54.100
对不对 把它这个就是这个这个内容啊 这个的话是就是你扫描后的内容啊 这边是我们要存储的这个data

14:54.420 --> 14:55.540
啊 我们这边保存一下呢

14:57.300 --> 14:57.780
扫一扫

14:59.860 --> 15:02.900
打开啊 复制啊 内容已复制

15:03.540 --> 15:05.380
对不对 内容已复制 ok

15:06.020 --> 15:09.540
啊 这边的话有一个渲染成should have ur ar 我看一下啊

15:10.340 --> 15:14.420
这边的话哦 这里 这里的话这边有一个 ur ar

15:14.900 --> 15:18.340
啊 这个的话之前写的是一个level gator啊 这边我们不要level gator

15:18.820 --> 15:20.820
啊 我们这边就把它改成一个普通的view

15:21.620 --> 15:23.700
好吧啊 这个 ur ar我们就不要了

15:25.300 --> 15:26.900
啊 这边来改成一个普通的view

15:28.020 --> 15:30.100
啊 保存 重新编一下

15:31.220 --> 15:32.580
ok 扫一扫

15:33.540 --> 15:38.980
打开啊 出来出来之后复制啊 内容已复制 ok 搞定

15:39.620 --> 15:41.140
啊 搞定之后 大家这边来看一下

15:41.860 --> 15:49.380
是不是ok了 对吧 这是关于这个复制的这个api啊 顺便就给大家说了啊 这些的话没有必要单独开一堂课

15:49.940 --> 15:55.860
对不对 我们在做这种应用的时候 顺便就把这些会用到这个api 顺便就把它啊 把它看一下啊

15:57.140 --> 16:00.660
好 那接下来的话 这个第一个这个扫码的功能就洗完了

16:01.220 --> 16:03.220
好 洗完了之后 人家这边我们来写这个

16:03.860 --> 16:09.060
来写这个生辰啊 我们来看一下生辰这边 生辰这边对应的啊 过来

16:10.500 --> 16:15.220
好 这边呢 我还是直接把这个wxmail 我直接把拿过来啊

16:16.500 --> 16:19.300
拿过来 然后给大家讲一下啊 首先我们保存一下

16:19.940 --> 16:24.500
ok 可以了 可以了 之后人家这边我们来看一下啊 首先这个最外层的容器

16:24.980 --> 16:32.500
对吧 外层容器啊 这个没什么好说的 好 然后接下来的话 这边 这边的话 然后这边首先二维码对应的是不这个位置啊

16:33.140 --> 16:37.380
好 下面 下面的话这个就是什么 这个的话是不是很明显就是一个数宽

16:38.820 --> 16:43.620
对不对 就是你这边是要生成二维码吗 这边就是要生成的

16:45.300 --> 16:48.180
要生成的二维码

16:48.820 --> 16:50.660
二维

16:51.860 --> 16:55.300
二维码对应的文本内容

16:57.780 --> 17:02.260
对吧 要生成的二维码 你对应的这个文本内容是什么啊 然后接下来这边

17:02.820 --> 17:07.620
这边的话 就是有一个这个用的是一个text area 啊 这边是一个text area

17:08.100 --> 17:12.020
好 这边是请输入这个二维码文本 好 这边呢 做了一个双向保定

17:12.900 --> 17:14.740
可不可以啊 那接下来的话 在我的这边

17:16.020 --> 17:18.820
在我的jess这边啊 把这些杂起杂包的删掉

17:21.620 --> 17:23.620
啊 这边的话就应该有一个

17:24.260 --> 17:25.140
code text

17:26.740 --> 17:33.860
对不对 这个呢 是存储什么 存储用户输入的这个二维码

17:36.300 --> 17:41.900
二维码文本 对吧 把其他的这些干掉 这些都不要了

17:43.500 --> 17:49.660
ok 回头用户在这输入输了之后 那家内容就会存储到这里面 这边是一个双向保定

17:50.620 --> 17:54.060
啊 这个的话就是这个text area啊对应的就是这一块啊

17:54.620 --> 17:56.460
好 然后接下来下面有个image

17:57.180 --> 18:03.260
啊image的话这个是什么呢 这个就是你看我们这边 我们生成这个二维码的时候啊 比如说你好

18:04.620 --> 18:06.620
啊 然后接下来这边生成

18:08.620 --> 18:12.540
哎 我看一下 稍等啊 这个应该是

18:13.500 --> 18:17.420
哦 我们这边是不是写错了啊 这个这个啊

18:18.060 --> 18:19.660
好 你看这边 这边呢 你你好

18:20.300 --> 18:22.940
大家这边生成 你看这边 这边呢 是不是有张图片

18:23.980 --> 18:29.660
对不对 这里有张图片啊 有张图片的话 这里这个图片图片的话 这个回头这个就是什么

18:29.980 --> 18:33.180
是不是生成好的这个二维码的这个图片的这个路径啊

18:33.980 --> 18:37.180
对不对啊 所以这边的话来到code.js

18:37.740 --> 18:38.140
这里

18:39.580 --> 18:42.700
他一开始也是个空子串啊 这个是生成的

18:43.580 --> 18:45.740
生成的二维码

18:46.300 --> 18:47.740
图片路径

18:48.300 --> 18:52.060
你回头的话 你要生成这个二维码 生成了二维码之后 然后加这边把那个路径

18:52.300 --> 18:55.580
就放到这里 放到这里之后 然后加这边这个image

18:55.900 --> 18:58.620
自然而然 是不是就把那张图片就把它渲染出来了

18:59.180 --> 19:01.180
对不对啊 保存一下

19:02.780 --> 19:05.660
ok 好 这个是这个图片啊

19:07.260 --> 19:12.460
生成的二维码 生成的二维码对应的图片

19:13.180 --> 19:18.060
ok 好 那下一个 下一个这个就是什么 这个是不是就是那个生成按钮

19:18.620 --> 19:21.180
对 就这个生成按钮啊 这个没什么好说的

19:21.420 --> 19:25.100
ok 好 那接下来我们这边就是应该是ungenerate

19:26.140 --> 19:29.340
啊 来到这边 这边呢就是应该是有一个ungenerate

19:31.860 --> 19:33.860
这个对应的是什么呢 是不是生成二维码

19:34.580 --> 19:40.580
根据啊 根据文本来生成二维码

19:41.460 --> 19:44.970
图片 图片

19:45.690 --> 19:48.250
对吧 他是不是应该是做这个事情啊

19:48.490 --> 19:53.770
好了 接下来这边如何生成二维码呢 这边的话实际上是调用一个接口

19:54.330 --> 19:59.450
啊 这个接口的话我这边说一下啊 我这边用的是一个叫做聚合数据

20:01.050 --> 20:04.090
网上有很多啊 我这边用的是聚合数据

20:06.010 --> 20:12.090
啊 就这个啊 聚合数据 你这边呢可以进入官网 他就是专门提供那种api的啊

20:12.810 --> 20:14.170
我这个应该是登录过的

20:15.770 --> 20:16.730
啊 重新登录一下

20:18.330 --> 20:23.610
ok 好 然后接下来他这边会有很多的这个数据接口啊 比如这种生活服务

20:24.170 --> 20:32.330
那边比较短信api啊 视频短信啊 历史上的今天啊 新闻头条有很多的 有些是免费的 有些是要收费的

20:32.730 --> 20:35.610
ok 好 他这边呢就有什么呢 就有这个生成二维码

20:36.490 --> 20:37.690
这边输入二维码

20:39.370 --> 20:41.770
在这里 看来 二维码生成

20:42.170 --> 20:47.450
啊 这边按照什么呢 按照你设定的这个参数生成二维码 就是这个接口

20:48.170 --> 20:53.370
啊 这个接口大家你这边进去 进去的话大家这边你就可以看一下 这边他有api文档

20:54.090 --> 20:59.210
啊 这边的话他就是你可以根据就是他这边给你提供的啊 当他这边有自己的这个key

20:59.930 --> 21:05.610
知道吧 你这边的话你需要把你的key给带上 这边这个key 等于你需要把这个key带上

21:05.930 --> 21:07.930
这就类似于我们之前做的那个翻译啊

21:08.570 --> 21:13.850
我们之前是不是做过那个百度翻译 百度翻译你生成 就是申请了那个就是

21:14.570 --> 21:19.770
呃 就是申请了那个账号之后 他是不是给你一个app id 还有一个那个key

21:20.410 --> 21:27.130
对不对 那这样你在发请求的时候 你需要把你的那个id和key 把他带过去啊 这边也是一样的啊 这边你

21:27.690 --> 21:30.010
这个注册了之后你就会有你自己的key

21:30.650 --> 21:34.650
啊 有你自己的key 然后这样你这边就可以发请求 然后后面是你的这个文本

21:35.370 --> 21:40.490
ok 后面是你的文本啊 说说这边的话实际上很简单 这边的话实际上就是

21:41.050 --> 21:48.810
呃 你这边比我们这边测试一下 比如说我们这边一个文本啊 比如说今天

21:50.330 --> 21:52.330
今天是情人节

21:53.610 --> 21:56.010
好 然后接下来的话 这边发送请求

21:57.290 --> 22:00.410
ok 这边就出来了啊 这边出来 他这边的话我看一下

22:01.370 --> 22:05.850
这边应该是可以生成这个图片的啊 这边有一个type type 默认是1

22:06.970 --> 22:08.810
啊 默认是1 这边你可以是2

22:09.930 --> 22:11.370
2我们这边再来发一个请求

22:12.330 --> 22:17.210
啊 发个请求那这边拿到就是什么 拿到就是那个图片 ok 拿到就是图片

22:17.850 --> 22:21.290
ok 好 然后接下来的话我们这边回到我们这里

22:23.450 --> 22:27.370
回到这边啊 回到这边咱们这边就来咱们这边的话就是

22:28.090 --> 22:33.130
通过我就直接把这个u2也让我就把拿过来了啊 稍等我把这个u2也让我把拿过来

22:36.820 --> 22:38.420
嗯 这边整个这个

22:41.160 --> 22:41.720
整个这个

22:43.880 --> 22:52.280
好 把拿过来啊 拿过来之后大家这边看一下啊 我这边呢 就是你看APS聚合点cn 大家这边这边呢 我会带上我自己的这个key

22:52.760 --> 22:55.800
啊 这是我的key 大家这边type等于个这个2

22:56.440 --> 22:59.000
type等于2的话它这边是什么 type等于2

22:59.640 --> 23:05.320
是不是返回二维码的这个图像 对不对 好 然后加这边再and text 等于什么呢

23:05.640 --> 23:10.360
z 点data 点code text 这个是不是就是用户在这个这个框框里面

23:10.760 --> 23:16.440
是不是说输入了这个文本 对不对 然后回头的话整个你请求他 请求他的话他就会

23:17.000 --> 23:21.560
这个返回一个图片啊 返回一个图片 这样我们需要将这个生成的图片下载下来

23:23.080 --> 23:23.480
我们

23:25.640 --> 23:26.360
请求

23:27.320 --> 23:27.720
接口

23:28.680 --> 23:31.880
啊 之后会生成

23:32.680 --> 23:41.000
一张什么呢 二维码的这个图片啊 然后我们需要做什么呢 我们需要将

23:42.040 --> 23:46.200
这张图片下载下来

23:47.800 --> 23:50.360
对不对啊 所以说我们这边呢 就是微信

23:50.920 --> 23:53.000
点什么呢 download file

23:53.800 --> 23:56.040
啊 大家这边这个 ur 一样 就是这个 ur 一样

23:57.000 --> 23:58.440
啊 把这个把它过来

23:59.480 --> 24:04.520
放到这里啊 放到这里啊 ur好 然后接下来的话这个6s

24:06.520 --> 24:09.960
6s 那就在这边用一个箭头含书

24:12.070 --> 24:15.190
ok 好 然后在这边我们来打印一下这个6s

24:15.750 --> 24:20.710
console.nog res 啊 打印一下res 保存

24:21.750 --> 24:24.790
保存之后然后在这边 比如说你好

24:25.750 --> 24:27.270
呃 这边的话把那个吧

24:28.470 --> 24:33.830
这边我们这边输入输入的话给他绑定一个那个吗 绑定一个啊 这边有的吗

24:34.790 --> 24:39.110
bound input 我们这边没写是吧 我们这边写去吗bound input

24:42.760 --> 24:46.120
啊 写上这么一个方法空方法就可以了啊 保存

24:47.560 --> 24:51.080
好 大家这边生成比如说Hello

24:51.880 --> 24:53.640
然后生成你看

24:54.760 --> 24:56.280
哦 这边这边你得把那个

24:57.080 --> 24:58.440
啊 把这边我们把那个

24:59.640 --> 25:03.320
不教演啊 把这个打开一下 打开之后然后重新来

25:04.600 --> 25:09.400
Hello 生成 什么搞定了 对不对 你看他这边的话生成的是一张什么

25:09.400 --> 25:11.000
所以生成的是一张png图片

25:11.880 --> 25:15.240
对不对啊 生成一张png图片 然后接下来我们就给谁负责

25:15.240 --> 25:17.960
是不是就给这个image.tempfirepass负责

25:18.680 --> 25:20.920
对不对啊 所以我们这边就是res

25:21.720 --> 25:22.120
点

25:23.000 --> 25:24.360
这个set data

25:27.240 --> 25:33.160
给谁呢 给这个image.tempfirepass负责 负责是多少呢 res

25:33.800 --> 25:35.400
点这个tempfirepass

25:36.520 --> 25:41.560
ok 就搞定了啊 保存 保存到这边再来 hello

25:42.440 --> 25:47.960
生成是不是就搞定了 对不对 这个二位码图片就生成了啊 比如说

25:49.080 --> 25:53.740
你好呀 朋友生成

25:54.540 --> 26:01.020
是不是就ok了 对不对啊 这个的话关于这个生成二位码啊 但这边你还可以继续往后面做啊

26:01.020 --> 26:03.900
不要把这个二位码把他干嘛 把他那个

26:05.020 --> 26:08.940
下载 对不对 比如说我这边可以长按 长按之后再把它下载

26:08.940 --> 26:12.780
这个的话 这样子嘛 交给你们一个任务 你们下去可以自己研究一下

26:13.340 --> 26:14.860
我这边的长按这个图片

26:15.420 --> 26:18.780
长按这个图片 然后可以把这个图片保存到我的本地

26:19.180 --> 26:22.940
保存到我手机的相册里面 你们可以研究一下啊 这个该怎么做

26:23.100 --> 26:26.380
ok 很简单啊 实际上你猜的猜的到肯定是有

26:27.260 --> 26:31.740
这个对应的api 对不对 然后给这个图片什么绑定一个长按的事件

26:32.460 --> 26:34.460
对吧啊 这个自己下去研究了

26:35.420 --> 26:41.580
好 这是关于这个生成二位码啊 实际上也就是调接口生成图片 然后加这边把它下载下来

26:42.540 --> 26:44.700
好 然后接下来的话是这个logs

26:45.580 --> 26:49.500
来到logslogs这边 这边的话是这个历史记录

26:50.140 --> 26:52.700
历史记录 我们来到logs这边 我们来看一下

26:54.810 --> 26:57.290
这里啊 这里的话我就还是把那个

26:58.810 --> 27:01.770
直接把那个wxmail 我就直接把它拿过来了

27:03.290 --> 27:08.490
拿过来之后 我们这边来看一下啊 这边配几 配几啊 这个就不说了 好 这边呢 下面有两个

27:09.450 --> 27:16.090
有两个看到没有 一个是有数据的情况 一个是没有数据的情况啊 比如说这边呢 没有数据

27:17.130 --> 27:21.830
比如一开始啊 比如这边历史

27:22.470 --> 27:24.710
比如我们这边刷新 重新编一下

27:25.430 --> 27:27.750
这边历史 这个好像是

27:28.710 --> 27:33.430
好像是有了 这边你把那个历史把它清除一下 或者删除一下

27:35.510 --> 27:35.910
删除

27:36.870 --> 27:37.270
删除

27:38.790 --> 27:43.270
删除啊 你看 如果没有数据 没有数据 他这边是什么 什么暂无数据

27:43.910 --> 27:46.070
对不对 但你如果你比如说你扫描了

27:47.990 --> 27:53.110
不要扫描了 扫描了之后人家这边过来看 这边是不是就会有一条历史记录

27:53.510 --> 27:55.510
对不对啊 大家这边比如再扫描

27:58.890 --> 28:03.610
再扫描 大家这边历史 这边是不是就会有一条一条的历史记录 对吧

28:03.930 --> 28:09.610
好 说说我们这边回到我们这边 这边分成两个 就看什么呢 看你这个scan logs

28:10.250 --> 28:13.690
啊 这scan logs 这scan logs应该是一个什么 是不是应该是个数捉

28:14.650 --> 28:18.330
很明显是不是是个数捉 对不对啊 把这些干掉

28:21.320 --> 28:22.840
啊 把这些这些都干掉

28:26.200 --> 28:30.520
啊 这边呢 有一个scan logs 他对应的应该是一个

28:30.840 --> 28:37.080
数组 那数组的话 然后接下来你看这里 这里就说的通了 如果这个数组的长度为0

28:37.800 --> 28:41.480
那说明就是没有 没有的话 我这边就显示什么 是不是 暂无数据

28:42.200 --> 28:45.480
对不对 这些样式内不用管他 这边是提前写好的一些样式内

28:46.040 --> 28:49.480
ok 哦 对了 说起来这个样式内 这个样式内我这边是用到了这边

28:50.040 --> 28:57.400
这个vu i这个这个 这个的话是这个微信 他官方提供的一套这个样式库

28:58.200 --> 29:02.440
官方提供的 所以你可以看到他的风格的话和那个微信是很相似的

29:03.240 --> 29:09.080
但你也可以用其实我们之前讲过的那个主前库 是不是也可以 对不对 都行

29:10.360 --> 29:17.640
ok 好 下面这个就不用管他了 好 上面这个 上面这个很明显这边要通过什么 是不是通过这个微信

29:18.120 --> 29:20.360
然后帽号4 我看一下在哪里

29:22.360 --> 29:27.000
啊 就在这里嘛 就在这啊 微信帽号4 是不是去便利这个数捉

29:27.640 --> 29:32.920
对不对 便利是一个数组 然后下这边生成一个一个的啊 这边level gator 我们来看一下这里

29:33.720 --> 29:39.160
也就是这边每一个是一个level gator 看到没有 他是做了一个这个跳转啊 你看

29:39.640 --> 29:43.960
这边做了一个页面的这个跳转啊 然后每个level gator里面 然后加这边有这个

29:44.840 --> 29:49.400
编号啊 有这个标题 有这个时间 对不对 什么的这个时间

29:50.920 --> 29:56.440
好 这边这边对应的就是你看index加1 index就是那个下标啊 那叫这边

29:56.760 --> 30:04.120
item.txt item.dat 对吧 每一个这个扫描的记录 我们把它这个宣认出来

30:05.480 --> 30:09.080
啊 那现在的话 我们的工作终点就落到哪里了 是不是scannogs

30:09.720 --> 30:14.440
对吧 scannogs 好这个这个的话就是应该是在unshow的时候

30:17.270 --> 30:21.190
unshow的时候啊 我们这边微信点get storage

30:22.710 --> 30:26.310
啊 说起来我们刚才扫码我们是不是没有存啊 我们一会要存一下

30:26.710 --> 30:35.350
啊 这边get storage好 大家这边呢 从什么呢 从这个key key的话叫做scannogs

30:37.590 --> 30:41.990
scannogs 好 然后接下来的话 这边去取啊sixth

30:44.070 --> 30:46.390
sixth 这边is

30:49.050 --> 30:50.490
ok 从这个本地

30:51.530 --> 31:02.780
从本地从本地存储中获取key

31:03.580 --> 31:05.340
为什么呢 为这个scannogs

31:07.100 --> 31:14.870
的这个存储记录 对不对 获取好 获取了之后 然后接下来给谁 说给他呀

31:15.750 --> 31:21.110
对不对 给他啊 所以这边呢 就是应该是z.cdata

31:24.040 --> 31:26.520
好 然后接下来的话 这边就是scannogs

31:27.880 --> 31:36.520
scannogs 好 理论上来讲的话 你这边可以直接给啊 但我这边稍微做一下处理 我这边的话res.data

31:37.160 --> 31:40.200
看他是没有啊 如果没有的话 我这边就是一个空数组

31:41.160 --> 31:48.280
对不对啊 你这边啊 因为第一次第一次呢 他就没有嘛 没有这边就一个空数组好 然后在这边呢 我通过map

31:48.920 --> 31:56.120
去便利map便利最终拿到是吧 还是个数座 对不对 所以可以直接复制给他 好 然后在这边呢 拿到每一项

31:57.480 --> 32:02.120
拿到每一项之后 然后接下来我这边要针对什么呢 我针对这个date

32:03.000 --> 32:08.520
啊 我要针对这个时间进行一个处理啊 让我这边呢 把那个辅助函数我就直接拿过来了

32:10.520 --> 32:12.520
啊 我看我这个辅助函数好像用的就是这个

32:13.480 --> 32:21.030
看一下啊 这边啊 这边他官方官方是不是给了一个对对好 那我这边把这个format

32:21.830 --> 32:27.190
time 把他过来拿过来之后 我们这边的话 我们在logs里面 我们把他引入一下

32:29.990 --> 32:31.590
这边const

32:32.870 --> 32:34.550
youtube

32:34.550 --> 32:43.130
啊 或者直接解构 直接解构啊 这边呢 是format 然后time

32:45.130 --> 32:46.730
等于一个require

32:48.570 --> 32:52.410
上一集的这个youtube 下面的这个

32:53.530 --> 32:54.010
youtube

32:54.970 --> 32:59.770
对吧 把format time 把他解构出来 解构出来之后 人家这边n点

33:01.530 --> 33:06.090
这边n点date 等于什么呢 等于一个format

33:07.210 --> 33:09.050
time 把这个n

33:10.170 --> 33:15.290
边u一个date 这边就是一个简单的时间处理啊 n点date

33:15.690 --> 33:20.650
把这个时间把它处理一下 好 人家这边呢 再把那个

33:21.610 --> 33:27.610
n点text 把它处理 因为他这边呢 可能会涉及到一种情况 什么情况呢 就是很长

33:28.410 --> 33:32.250
啊 就你这边呢 可能会很长 很长的话 我这边呢 就干嘛我显示不完

33:32.570 --> 33:38.010
显示不完 我这边就干嘛呢 我就点点点啊 点点点 这个其实我们之前写过很多次了

33:38.650 --> 33:42.330
对 这边就是判断一下 点这个n-s

33:43.290 --> 33:49.130
啊 看他这个n-s 比如说你随便给 看是否大于10 如果大于10 这边就做一个什么 做个结局

33:50.570 --> 33:52.810
对不对 点snice

33:53.610 --> 34:01.050
啊 这边010 人家加上一个点点点 否则的话这边就干嘛 是不是n点text

34:03.460 --> 34:08.420
对不对 否则就显示这个啊 这边做完这个处理之后 人家这边return

34:09.380 --> 34:10.260
return这个n

34:10.980 --> 34:15.700
返回这个n 那回头呢 这边就是啊 这个数组就有值了 OK

34:16.340 --> 34:21.940
好 那就加你这边 这边这个前面 前面每次扫描完了之后 你还需要干嘛 是吧 还需要存一下

34:22.420 --> 34:25.060
我们之前这个存的这个工作是吧 没有没有做呀

34:26.020 --> 34:29.460
对不对 我看一下我们这边存的工作 我们这边呢 只是就是

34:30.340 --> 34:35.620
更新了scandate啊 这边的话 后面其实还有工作 我们这边刚才写漏了

34:36.100 --> 34:37.220
这边呢 就是还需要

34:38.020 --> 34:38.980
每一次扫描

34:40.740 --> 34:43.380
每一次扫描需要

34:44.180 --> 34:50.740
将这一次扫描存储到本地存储中

34:52.980 --> 35:00.090
对不对 好 那我们这边呢 我们开始存储啊 这边我首先判断一下啊 义父

35:00.810 --> 35:06.650
z是点data啊 点这个scand result 点这个text

35:07.290 --> 35:12.730
啊 如果它不等于怎么呢 不等于空 那说明你这个是有内容的啊 有内容的话 我们这边

35:13.690 --> 35:15.530
这边get

35:16.650 --> 35:19.770
好 首先的话 先取出来get storage

35:20.490 --> 35:25.770
这边呢 是一个对象 对吧 然后key key的话 我们刚才是什么 so scan

35:26.730 --> 35:30.810
nogs 对不对 先取出来啊 这边呢 six sense

35:33.940 --> 35:37.380
six sense 然后这边rs

35:39.220 --> 35:42.020
啊 我们这边扛售一下 扛售点log

35:42.660 --> 35:46.200
rs啊 保存

35:49.380 --> 35:50.740
好 这边呢 扫一扫

35:51.860 --> 35:55.050
那扫一下 okay

35:57.290 --> 36:00.810
这边的话 我看一下啊 这边啊 它这边是这个

36:01.930 --> 36:05.770
答应出来是这个 嗯 这边这个sense 它是没有进来是吧

36:06.490 --> 36:11.850
没有进来 没有进来 它这边是进入到失败了啊 可能是进入到失败了 因为第一次呢 可能没有

36:12.090 --> 36:14.810
啊 那我们这边这样子 我们直接在complete里面

36:15.450 --> 36:18.650
complete 是吧 无论成功还是失败 是吧 都会进

36:19.850 --> 36:21.290
对啊 我们直接在这边

36:22.010 --> 36:23.450
扛售点log

36:24.170 --> 36:24.810
rs

36:26.010 --> 36:26.490
rs

36:27.930 --> 36:30.410
啊 保存啊 重新编一下

36:31.370 --> 36:35.050
再编一下啊 这边扫码啊 dog

36:35.690 --> 36:36.170
打开

36:38.090 --> 36:41.210
嗯 这边 衣服它不等于空

36:42.330 --> 36:45.130
这边应该是进来了的呀 稍等啊 我看一下

36:45.770 --> 36:47.370
扛售点log

36:49.540 --> 36:50.100
啊 here

36:52.200 --> 36:56.600
我们这边看一下 它进来了是吧 我刚才突然看到了啊 进来了的

36:57.960 --> 37:00.280
我看到了 刚才在这里

37:01.640 --> 37:05.800
在这里 对吧 啊 这边进来了的 这边进来了的 它这边有一个

37:06.360 --> 37:11.880
fail data not found 它果然是刚才进这个fail 啊 没拿到啊 所以我们这边写这个complete

37:12.360 --> 37:17.800
complete 它这边无论是成功还是失败啊 这边都会进来 都会进来之后 然后将我们这边

37:19.560 --> 37:20.760
net一个scan

37:21.560 --> 37:25.320
nogs 等于一个rs点这个data

37:26.280 --> 37:29.160
啊 然后加这边问号点这个nose

37:30.520 --> 37:33.560
ok 你如果这边这个nose啊 比较大于零

37:34.120 --> 37:36.440
好 那我这边就是什么呢 就是rs点

37:37.080 --> 37:40.200
data 否则的话 我这边就是一个什么呢 就是个空数组

37:40.680 --> 37:43.080
那你第一次 第一次的话 你这个肯定是不成立的

37:43.640 --> 37:47.480
对不对 他都没有这个认识属性啊 所以在这边第一次就是一个空数组

37:47.480 --> 37:49.800
那后面往这个数组里面存了之后 他这边是不是就

37:50.520 --> 37:55.800
后面数组里面有东西了 那既然他这边就是进这个isdata了 对不对

37:56.280 --> 38:02.200
ok 好 然后接下来的话 我们往这里面推入 啊 这边呢 首先对这个数据进行一下初始化

38:03.000 --> 38:05.000
啊 这边我们初始化这个日期

38:06.600 --> 38:10.200
这边呢 就是rs点这个data

38:11.960 --> 38:13.320
点这个scan result

38:14.280 --> 38:19.400
啊 然后加这边点date 改添加一个属性date 等于一个

38:20.040 --> 38:29.450
这个data node ok 然后加这边呢 就是啊 进行存储 这边scan logs

38:30.170 --> 38:32.810
点这个 um on shift

38:35.110 --> 38:37.990
他是个数组吗 数组我们这边就可以调这个on shift

38:41.500 --> 38:46.700
ok 好 然后加这边呢 把这个对象把它推进去啊 this 点

38:47.260 --> 38:49.420
data 点这个scan result

38:50.060 --> 38:54.300
把它推进去 啊 这边呢 实际上你可以做一下优化 比如这边这个easy show

38:54.620 --> 39:00.220
easy show可以单独提出来 对不对 没必要放到这个scan result 里面 你可以单独把提出来

39:00.540 --> 39:07.180
啊 这些你自己做一下优化就好了啊 好 这边呢 是不是存到数组里面了 对吧 存到数组里面 然后加这边再进行本地存储

39:08.940 --> 39:13.900
本地存储啊 这边呢 微信点这个set storage

39:14.620 --> 39:19.020
我就直接写了啊 好 这边 这这个加那个sync表示什么意思

39:19.660 --> 39:24.060
啊 表示同步的意思 对不对 同步存储啊 这边呢 就是scan

39:25.660 --> 39:29.180
nogs啊 这边存什么 所以就是存他呀

39:30.940 --> 39:35.340
所以就存他 对不对 就把存心这个存进去了啊 保存

39:36.460 --> 39:39.900
啊 重新编一下 ok啊 比我们这边少一少

39:40.860 --> 39:47.980
不要少一下 好天气 打开 好 是不是 这边第一次扫描 扫描之后 然后加在这边存储进去 对不对

39:48.300 --> 39:50.940
好 然后接下来话 我们这边再扫一扫

39:52.860 --> 39:53.980
再扫一扫 给我这个

39:55.340 --> 40:00.780
扫描 ok 好 这一次的话 你这边应该就是scannogs 应该本地就有了啊 我们这边来看一下

40:01.660 --> 40:09.900
scannogs 是不是有 对不对 这边是不是就有 ok 这边有的话呢 意味着我们刚才写的这个历史这边应该也就

40:11.180 --> 40:16.140
这边的话 然后没有出来呢 这边照理说这个历史这边应该也就有了

40:16.620 --> 40:24.460
我们来看一下 历史这边nogs这边 这边的话有些什么样的问题 这边是on show的时候

40:25.420 --> 40:26.060
好 看一下

40:27.980 --> 40:29.900
好 这边好像是爆错了 我看一下

40:31.420 --> 40:39.660
这里的话format time is not a function for mad time啊 这里是吧 这里 这里的话我看一下 utils

40:40.780 --> 40:44.740
format time format

40:45.620 --> 40:48.100
哦 这里写错了format

40:49.220 --> 40:57.220
ok啊 保存啊 是不是出来了 对不对 已经就出来了啊 这边历史出来了啊 出来了之后

40:58.420 --> 41:03.300
然后接下来他这边要做一个跳转啊 我们这边啊 到nogs

41:04.020 --> 41:12.580
nogs这边 这边你看nevergator 这边呢是要做 做一个跳转 跳转到这个detail这边啊 人家这边把这个index 这些带过去啊

41:12.980 --> 41:20.020
啊 最后的话我们把这个detail写一下 啊detail其实没什么好写的 detail是不是基本上和那个index基本上很像啊

41:20.740 --> 41:31.450
对不对啊 直接把这个拿过来 直接把拿过来啊 这边扫描结果 这边是类型内容 是不是基本上就和首页那个扫描很像

41:31.690 --> 41:38.490
多了一个什么 所以多了一个这个删除啊 对不对啊 这边on delete 我们把这个删除把它写一下

41:39.450 --> 41:41.290
啊 把这些 把它干掉

41:42.570 --> 41:51.830
啊 把这些 这些干掉啊 他这边有一个这个删除 删除的话是on delete

41:53.830 --> 42:00.070
啊 好 然后还有就是什么呢 还有就是你这边刚过来的时候 刚过来的时候 你这边 你看一下啊

42:01.990 --> 42:07.590
这里 这里的话是一个nevergator 人家这边呢 这个unair 这边是不是把这个信息给你带过来了

42:07.910 --> 42:16.550
带过来了之后 你跳转到这个detail的时候 那这边的话 你看 这边呢 是不是需要就是把这个scan result 点type啊 这些是渲染出来

42:16.870 --> 42:21.910
所以我们这边还有一个什么 所以还有个获取缓存数据的 对不对啊 这边

42:22.710 --> 42:28.390
获取缓存的数据 那这个呢 我们就在onload的时候

42:30.950 --> 42:35.750
onload的时候啊 我们这边来获取一下啊 好 我们来看一下

42:38.360 --> 42:44.440
好 我这边的话 首先的话 我要知道你啊 点击的是哪个 好 我们来看一下 这边在跳转的时候

42:44.920 --> 42:49.640
跳转的时候 你看到这边配置是detail 然后detail这边有个什么 这边有个id啊

42:50.440 --> 42:54.360
对不对 id 然后加这边index 那回头的话 我是不是就拿这个id

42:55.000 --> 43:01.480
id拿到了 我是不是就可以拿到你点击的是哪个 对不对啊 所以我们在这边 这边的话 我们这边options

43:05.910 --> 43:10.070
options 然后加我们这边来看一下能不能拿到这个id啊 console

43:10.710 --> 43:14.150
点log 啊 这边options 点id

43:14.870 --> 43:16.230
好 我们这边保存一下

43:17.350 --> 43:23.830
保存了之后 然后加这边过来拿到了吧 这边零对不对啊 反方向回去啊 这边过来

43:24.230 --> 43:30.950
这边一拿到了吧 对那拿到就好办了 拿到之后 然后接下来我们就可以干嘛 是不是重缓存中

43:33.720 --> 43:41.160
重缓存中是获取对应id的这个什么 是不是少描内容

43:43.800 --> 43:45.720
对吧 啊 这边就是微信点

43:46.760 --> 43:52.920
get storage 啊 这边一个对象 对象这边这个key啊 这边是scan

43:54.120 --> 43:56.920
logs 好 那就这边sixth

43:58.920 --> 44:05.320
好 这边呢res啊 然后接下来的话 这边我们就直接console一下

44:06.120 --> 44:07.800
console 点log

44:08.600 --> 44:10.920
res 点data

44:11.640 --> 44:14.040
然后接下来这边呢 就是options

44:16.280 --> 44:24.600
options 点id啊 来看一下好不好使 嗯 重新回到这边啊 重新编一下吧

44:26.440 --> 44:29.480
啊console console写错了啊 保存

44:30.520 --> 44:37.270
ok 啊 这边例子把这个升了 清空一下啊 这边过来

44:38.390 --> 44:42.710
就拿到了 二维码text hello 对不对啊 这边过来

44:43.270 --> 44:44.710
二维码今天是个好天气

44:45.190 --> 44:52.950
是不是拿到了 对不对 啊 拿到了那后面就好办了呗 后面是不是就好办了啊 后面的话 这边呢 我们按一个这个scan

44:54.230 --> 45:00.180
scan result result 啊 默认的话 你这边

45:01.940 --> 45:08.500
给他控制一下嘛 啊 实际上什么不给都可以啊 就这样子都行 好 那接下来这边 这边呢 是不是就是this

45:09.300 --> 45:14.840
点set data 对不对 大家这边呢这个scan result

45:15.800 --> 45:17.720
设置为什么 是不是设置为他

45:20.470 --> 45:31.160
设置为他 是不是就ok了 ok 这不就搞定了啊 保存一下 嗯 重新刷新一下

45:33.320 --> 45:36.520
啊 这边历史 hello 是不是出来了

45:37.240 --> 45:43.080
对不对 就出来了啊 出来了这个复制 复制这个是一样的啊 一样的 你甚至你这边其实可以把它

45:43.400 --> 45:44.440
封装成一个组件

45:45.240 --> 45:50.840
你这边呢 实际上你看他和那个首页是一样的 你把它封装成一个这个制定组件 是不是更好一些

45:51.800 --> 45:54.920
对不对 啊 这个你们下去自己把它完善一下 好吧

45:55.800 --> 46:05.080
好 那删除 把删除做了 删除的话也很简单 删除呢 就是从这个缓存里面是不是删除就可以了 对不对 这边基本是一样的啊 首先这边获取到

46:07.000 --> 46:07.640
把他过来

46:09.720 --> 46:16.360
拿过来 首先的话 这边get storage scan logs 把他获取到 获取到之后 然后切下来的话 这边

46:17.160 --> 46:28.440
啊 把这个先干掉 好 然后加这边net一个scan logs等于一个什么呢 等于一个res点data啊 首先获取到什么呢 获取到这个数组

46:30.040 --> 46:30.440
获取到

46:32.360 --> 46:40.920
获取到这个数组 对不对 获取到这个数组之后 然后接下来的话 这边scan logs 他是个数组吗 让我们这边可以splice

46:43.000 --> 46:45.080
对不对 splice 然后这边

46:47.080 --> 46:51.560
这边删除哪一个呢 删除哪一个是不是就是你这边什么 id 传过来了的

46:52.200 --> 46:55.160
对不对 id 传过来 让我们这边这样子 我们再来设置一个

46:56.200 --> 46:57.320
我这边再来个id

46:58.200 --> 47:00.040
啊 一开始的话这个id是一个空

47:00.760 --> 47:08.120
ok 好 然后接下来你这边onload的时候 我通过这个options id 是不可以拿到对不对 让我们这边再设置一下这个id

47:09.160 --> 47:11.080
id对应的就是这个options

47:11.400 --> 47:23.160
options 点id 好 然后接下来这边splice splice 这边就是res点data点id啊 删除这个那删除一个

47:23.960 --> 47:28.040
啊 删除一个之后 然后加这边微信点set storage

47:29.880 --> 47:35.000
啊 这边呢 就是重新进行一个这个存储 这边scan logs

47:36.120 --> 47:39.800
啊 这边呢 是这个scan logs 这边这个

47:41.640 --> 47:45.560
这是更新什么 是不是更新本地存储 更新

47:47.240 --> 47:49.480
更新本地存储

47:50.280 --> 47:54.680
数据 对不对 本地存储数据更新完了之后 然后接下来的话

47:56.680 --> 48:01.320
好 我们这边就是回去啊 微信点啊 never get

48:03.000 --> 48:09.000
never get back 对不对 跳转回去就ok了 好 我们保存

48:09.960 --> 48:12.520
保存 我们这边回来 重新来刷新一下

48:13.720 --> 48:22.200
啊 这边历史 历史大家这边 比如说我们把这个今天是个好天气啊 我们删除 是不是搞定了 对不对 就没有了

48:23.640 --> 48:27.080
啊 就没有了 ok 好 这个的话就是整个这个

48:28.120 --> 48:32.120
扫描 扫描的一个综合案例啊 整体来讲的话也非常简单

48:32.680 --> 48:37.320
对吧啊 然后再通过扫描的图中 然后我们看了一下这个其他的一些api

48:37.800 --> 48:43.960
就这个复制啊 对不对 然后还有就是之前用 就是学的那个本地存储啊 又把它用上了

48:44.440 --> 48:47.960
对不对 本地称这个本地存储很常用啊 非常常用

48:48.760 --> 48:52.280
ok 说本地存储 这个本地存储你一定要会啊

48:53.160 --> 48:59.080
好 那其他的话就没什么了啊 这个的话 其实我建议大家自己把它封装成一个指定组件

49:00.200 --> 49:00.840
就这玩意儿

49:02.440 --> 49:06.680
这玩意儿啊 你自己把它封装成一个组件 实际上要更好一些 对不对

49:07.320 --> 49:15.720
ok 好 这就是关于这个综合的一个实力啊 大家下来的话可以自己把它写一写 好 这节课就到这里啊 再见

