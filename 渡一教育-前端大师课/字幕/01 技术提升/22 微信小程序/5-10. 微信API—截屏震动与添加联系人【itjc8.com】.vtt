WEBVTT

00:00.000 --> 00:02.640
ok 这节课的话咱们继续

00:02.640 --> 00:06.800
好 这边呢 这节课咱们来看一下关于这个小程序里面

00:06.800 --> 00:11.800
就是这个震动 还有截屏 还有就是如何添加这个联系人

00:11.800 --> 00:15.800
这些呢 实际上都是一些比较常见的一些这个操作

00:15.800 --> 00:18.200
然后代码的话也比较简单

00:18.200 --> 00:20.200
因为整个这个微信小程序

00:20.200 --> 00:22.800
它给我们提供了这个对应的这个API

00:22.800 --> 00:26.000
ok 好 我这边呢 还是首先这个

00:26.000 --> 00:29.800
WXSS 我这边已经把它放进来了

00:29.800 --> 00:33.600
ok 这边是index里面的 这边是app里面的

00:33.600 --> 00:38.600
好 然后接下来我这边的话把整个这个wxmail

00:38.600 --> 00:42.800
我也把它拿过来 拿过来 然后放到这里

00:42.800 --> 00:45.400
放到这里之后再叫我们这边来看一下啊

00:45.400 --> 00:48.000
这边呢 首先最外层一个container

00:48.000 --> 00:51.600
container里面的话 然后加分成什么呢 分成这个三个

00:51.600 --> 00:56.200
三块 配级section 配级section 配级section 三块

00:56.200 --> 00:57.800
好 首先第一块我们来看一下

00:58.000 --> 01:00.600
第一块的话是用户截屏

01:00.600 --> 01:06.200
用户截屏这边有个什么呢 有个就是user capture screen

01:06.200 --> 01:10.400
那么在我们的就是JS里面这个data里面

01:10.400 --> 01:13.400
是不是就应该有这么一个数据

01:13.400 --> 01:15.600
对不对 这边呢 就是默认是什么呢

01:15.600 --> 01:19.400
默认这边我们就是用户没有截屏

01:19.400 --> 01:23.200
用户没有截屏

01:23.200 --> 01:26.200
那这边呢 是不是显示出来就是用户没有截屏

01:26.200 --> 01:30.200
对不对 好 那接下来我这边我要监听用户的截屏

01:30.200 --> 01:32.200
好 接下来我在这边on show

01:33.600 --> 01:36.200
on show这边 或者你onload也可以

01:36.200 --> 01:38.800
只要你页面不切换 我们这边其实像

01:38.800 --> 01:41.400
这个实际上没有涉及到这个页面的切换

01:41.400 --> 01:43.200
说你on show onload都可以

01:43.200 --> 01:46.000
好 这边的话有个什么呢 有个叫做微信

01:46.000 --> 01:49.200
点on user capture screen

01:49.200 --> 01:54.660
我们这边把这个API拿来看一下

01:54.660 --> 01:56.660
好 这里过来

01:57.660 --> 02:02.660
好 这边看一下 这个的话是监听用户主动截屏的这个世界

02:02.660 --> 02:05.660
也就是说用户只要一截屏 它就会触发这个世界

02:05.660 --> 02:08.660
触发这个世界 然后加你这边写一个这个

02:08.660 --> 02:12.660
事件处理函数 对不对 事件处理函数里面这边

02:12.660 --> 02:14.660
你就可以写这个用户截屏了

02:14.660 --> 02:16.660
那比如说来到我们这边

02:16.660 --> 02:20.660
我们这边 让我看他res返回的是什么

02:20.660 --> 02:23.660
他这边没写 没写 没写的话

02:23.660 --> 02:25.660
那这边实际上估计是没有什么返回值

02:25.660 --> 02:29.660
那我们这边就直接res点set data

02:29.660 --> 02:33.420
改变谁呢 改变他

02:35.420 --> 02:38.420
对吧 把它改变成这个截屏了

02:38.420 --> 02:40.800
截屏了

02:40.800 --> 02:44.800
OK 那回头的话用户只要一截屏 这边它是不是就变了

02:44.800 --> 02:46.800
对不对 OK

02:46.800 --> 02:48.800
这是首先关于用户截屏

02:48.800 --> 02:52.800
好 来来来 下一个 下一个的话是这个关于这个争动

02:52.800 --> 02:56.800
争动的话 这边绑定了这么几个世界

02:56.800 --> 02:59.800
一个是这个verite none

02:59.800 --> 03:01.800
然后一个是verite short

03:01.800 --> 03:03.800
一个是常振动 一个是短振动

03:03.800 --> 03:04.800
还有一个是什么呢

03:04.800 --> 03:06.800
还有一个是屏幕长量

03:06.800 --> 03:07.800
这些都很简单

03:07.800 --> 03:10.800
我们这边把这个事件写

03:10.800 --> 03:12.800
我们这边就一次性写完

03:12.800 --> 03:14.800
写完了之后我们再演示一下

03:14.800 --> 03:16.800
这边是none

03:16.800 --> 03:18.800
这个是常振动

03:18.800 --> 03:21.800
然后加这边有个短振动

03:21.800 --> 03:25.390
短振动

03:25.390 --> 03:27.390
然后加这边是屏幕长量

03:27.390 --> 03:34.430
OK 这个是常

03:34.430 --> 03:36.430
常振动

03:36.430 --> 03:38.430
然后短振动

03:38.430 --> 03:42.700
短振动

03:42.700 --> 03:46.020
然后屏幕长量

03:46.020 --> 03:48.020
slider change

03:48.020 --> 03:50.020
我看一下

03:50.020 --> 03:52.020
我们这边改个名字吧

03:52.020 --> 03:54.020
这个改成这个keep

03:54.020 --> 03:56.020
keep screen

03:56.020 --> 03:58.020
保持屏幕长量

04:00.020 --> 04:02.020
OK 这是屏幕

04:03.020 --> 04:04.020
长量

04:04.020 --> 04:06.780
OK

04:06.780 --> 04:07.780
好 那这个振动

04:07.780 --> 04:09.780
振动的话你这边就调什么呢

04:09.780 --> 04:10.780
它有一个叫做微信

04:10.780 --> 04:13.780
这个verite none

04:13.780 --> 04:16.780
就调这个API就可以了

04:16.780 --> 04:17.780
OK

04:17.780 --> 04:20.780
我们这边我们过去看一下

04:20.780 --> 04:25.090
好 到这边来

04:25.090 --> 04:27.090
这边verite none

04:27.090 --> 04:28.090
这个是什么呢

04:28.090 --> 04:30.090
这边是一个常振动

04:30.090 --> 04:31.090
使手机发声

04:31.090 --> 04:33.090
叫常时间的这个振动

04:33.090 --> 04:35.090
它是这个400毫秒

04:35.090 --> 04:36.090
OK 那在这边呢

04:36.090 --> 04:38.090
是这个关于成功失败

04:38.090 --> 04:40.090
结束的这个回调

04:40.090 --> 04:42.090
那这边你就传一个空对相就可以了

04:42.090 --> 04:43.090
你这边没有什么配置

04:43.090 --> 04:44.090
你就传一个空对相

04:44.090 --> 04:46.090
这是关于常振动

04:46.090 --> 04:47.090
好 短振动

04:47.090 --> 04:48.090
短振动的话

04:48.090 --> 04:49.090
它这边就是什么呢

04:49.090 --> 04:50.090
它这边就是这个short

04:52.090 --> 04:53.090
short

04:53.090 --> 04:54.090
你看 这边出来了

04:54.090 --> 04:55.090
看到没有

04:56.090 --> 04:57.090
short

04:57.090 --> 04:58.090
你这边也是

04:58.090 --> 04:59.090
它这边的话

04:59.090 --> 05:00.090
应该也是一样的

05:00.090 --> 05:01.090
short

05:01.090 --> 05:02.090
short是不是写错了

05:03.090 --> 05:04.090
short

05:05.090 --> 05:09.490
它这边也是一样的

05:10.490 --> 05:12.490
这边verite short

05:12.490 --> 05:14.490
这边的话对应的

05:14.490 --> 05:16.490
它这边的话会有这个

05:16.490 --> 05:17.490
会有这个type

05:17.490 --> 05:20.490
就是你振动的这个强度内心

05:20.490 --> 05:21.490
有heavy

05:21.490 --> 05:22.490
有medium

05:22.490 --> 05:23.490
有这个night

05:23.490 --> 05:25.490
你这边可以配置

05:25.490 --> 05:27.490
我们这边有这个type

05:27.490 --> 05:29.490
我们把它配置为什么呢

05:29.490 --> 05:31.490
配置为heavy

05:31.490 --> 05:32.490
就是重

05:35.490 --> 05:36.490
OK

05:36.490 --> 05:37.490
这是短振动

05:37.490 --> 05:39.490
好 然后加屏幕长量

05:39.490 --> 05:40.490
屏幕长量的话

05:40.490 --> 05:42.490
它这边是一个微信点

05:42.490 --> 05:43.490
keep

05:43.490 --> 05:44.490
我看一下

05:44.490 --> 05:45.490
微信点

05:45.490 --> 05:46.490
set

05:46.490 --> 05:47.490
set

05:47.490 --> 05:48.490
然后keep

05:48.490 --> 05:49.490
就这个

05:50.490 --> 05:51.490
看到没有

05:51.490 --> 05:52.490
把这个设置成去就可以了

05:52.490 --> 05:54.490
我们这边还是过来看一下

05:54.490 --> 05:57.890
这边

05:57.890 --> 05:58.890
过来看一下

05:58.890 --> 05:59.890
你会发现这个小程序

05:59.890 --> 06:01.890
跟我提供了很多API

06:01.890 --> 06:02.890
是不是

06:02.890 --> 06:04.890
设置是否保持长量状态

06:04.890 --> 06:05.890
状态

06:05.890 --> 06:07.890
仅在当前小程序生效

06:07.890 --> 06:09.890
你如果离开了这个小程序

06:09.890 --> 06:10.890
它就失效了

06:10.890 --> 06:11.890
OK

06:11.890 --> 06:12.890
接受一个对象

06:12.890 --> 06:13.890
对象里面然后加这边

06:13.890 --> 06:15.890
这个你把它设置成去

06:15.890 --> 06:17.890
就表示这个保持这个长量

06:17.890 --> 06:18.890
剩下的话就是这个

06:18.890 --> 06:20.890
对应的回调

06:20.890 --> 06:21.890
让它这边有个例子

06:21.890 --> 06:22.890
设置成去就可以了

06:22.890 --> 06:23.890
OK

06:23.890 --> 06:25.890
这是这三个

06:25.890 --> 06:27.890
最后一个

06:27.890 --> 06:28.890
最后一个的话是这个

06:28.890 --> 06:30.890
添加这个手机联系人

06:31.890 --> 06:33.890
这边这个的话是title

06:33.890 --> 06:34.890
添加联系人

06:34.890 --> 06:36.890
这边我们来写对应的这个世界

06:40.670 --> 06:42.670
这边的话是添加

06:43.670 --> 06:46.670
添加手机联系人

06:46.670 --> 06:47.670
这个的话

06:47.670 --> 06:49.670
实际上你应该猜得到

06:49.670 --> 06:50.670
就像我们刚才那个

06:50.670 --> 06:51.670
拨打电话一样

06:51.670 --> 06:53.670
我不知道你们有没有听那一消息

06:53.670 --> 06:55.670
如果你听到那个拨打电话的话

06:55.670 --> 06:57.670
你就知道拨打电话的话

06:57.670 --> 06:58.670
你点击之后

06:58.670 --> 06:59.670
他在手机上他会干嘛

06:59.670 --> 07:01.670
跳到原生的那个

07:01.670 --> 07:04.670
就是拨打电话的那个程序里面

07:04.670 --> 07:05.670
对不对

07:05.670 --> 07:06.670
这边的话实际上也是一样

07:06.670 --> 07:08.670
这边实际上他就是做了一个跳转

07:08.670 --> 07:10.670
跳转到这个手机的那个

07:10.670 --> 07:12.670
就是联系人的那个应用里面

07:12.670 --> 07:13.670
OK

07:13.670 --> 07:15.670
他这边对应的是微信点

07:15.670 --> 07:17.670
这个and phone

07:18.670 --> 07:20.670
and phone contact

07:20.670 --> 07:21.670
OK

07:21.670 --> 07:23.670
我们这边我们来看一下

07:23.670 --> 07:29.260
这边过来

07:29.260 --> 07:31.260
这边and phone contact

07:31.260 --> 07:33.260
点进来

07:33.260 --> 07:34.260
点进来我们来看一下

07:34.260 --> 07:35.260
你看他这边的话

07:35.260 --> 07:37.260
就会接受一个对象

07:37.260 --> 07:38.260
首先这边接受一个对象

07:38.260 --> 07:39.260
这个对象的话

07:39.260 --> 07:40.260
这边就会有什么呢

07:40.260 --> 07:42.260
就会你可以写

07:42.260 --> 07:43.260
first name

07:43.260 --> 07:44.260
大家这边头像

07:44.260 --> 07:45.260
nick name

07:45.260 --> 07:46.260
last name

07:46.260 --> 07:47.260
这些

07:47.260 --> 07:49.260
可以写这些信息

07:49.260 --> 07:51.260
在对象里面进行配置

07:51.260 --> 07:52.260
还挺多的

07:52.260 --> 07:54.260
还挺多的你看

07:54.260 --> 07:57.260
反正就是一些联系人相关的信息了

07:57.260 --> 07:58.260
好

07:58.260 --> 08:00.260
这边就把我这边

08:00.260 --> 08:02.260
我这边的这个

08:02.260 --> 08:04.260
把他过来

08:04.260 --> 08:06.260
把他放到这里

08:06.260 --> 08:07.260
OK

08:07.260 --> 08:08.260
这边张三

08:08.260 --> 08:09.260
nick name

08:09.260 --> 08:10.260
张三

08:10.260 --> 08:11.260
程序源

08:11.260 --> 08:13.260
这边随便写了一个号码

08:13.260 --> 08:14.260
OK

08:14.260 --> 08:15.260
我们这边保存一下

08:15.260 --> 08:17.260
我们一个一个来看一下

08:17.260 --> 08:18.260
首先这个用户截屏

08:18.260 --> 08:21.260
这咋给你演示呢

08:21.260 --> 08:23.260
他这个这个

08:23.260 --> 08:25.260
这个模拟下有点意思

08:25.260 --> 08:26.260
你看这个震动

08:26.260 --> 08:27.260
他还给你模拟了

08:27.260 --> 08:29.260
这个是短震动

08:29.260 --> 08:31.260
这个是保持屏幕常亮

08:31.260 --> 08:33.260
这个你看不出来什么效果

08:33.260 --> 08:35.260
这个截屏呢

08:35.260 --> 08:36.260
截屏也看不出来效果

08:36.260 --> 08:38.260
这边添加手机联系人

08:38.260 --> 08:39.260
这边

08:39.260 --> 08:41.260
首先他会询问你这个权限

08:41.260 --> 08:43.260
权限人家这边你点击允许

08:43.260 --> 08:45.260
点击允许之后这边

08:45.260 --> 08:47.260
他这边就可以进行一个编辑

08:47.260 --> 08:49.260
但这个呢只是这个模拟器的这个界面

08:49.260 --> 08:52.260
你手机的话真实的手机不是这样的界面

08:52.260 --> 08:54.260
真实的话这个手

08:54.260 --> 08:55.260
就是取决于你手机的那个应用

08:55.260 --> 08:57.260
长什么样子

08:57.260 --> 08:58.260
面包

08:58.260 --> 09:00.260
所以这边你可以点一下这个预览

09:00.260 --> 09:01.260
点一下预览之后

09:01.260 --> 09:03.260
大家这边我们来扫一下

09:03.260 --> 09:06.760
扫一下

09:06.760 --> 09:08.760
我手机扫一下

09:08.760 --> 09:10.760
看一下

09:10.760 --> 09:12.760
这边首先我截屏

09:12.760 --> 09:14.760
截屏之后在上面变了

09:14.760 --> 09:15.760
上面已经变了

09:15.760 --> 09:16.760
你们这个的话

09:16.760 --> 09:17.760
你们到时候自己那个

09:17.760 --> 09:18.760
自己把这个项目跑起来

09:18.760 --> 09:20.760
然后点那个预览就知道了

09:20.760 --> 09:22.760
长震动

09:22.760 --> 09:23.760
短震动

09:23.760 --> 09:24.760
屏幕常亮

09:24.760 --> 09:25.760
屏幕常亮的话

09:25.760 --> 09:26.760
确实这边按了

09:26.760 --> 09:27.760
他也不会有什么效果

09:27.760 --> 09:28.760
他就是这个屏幕一直亮着

09:28.760 --> 09:29.760
对吧

09:29.760 --> 09:32.760
还有这个添加手机联系人

09:32.760 --> 09:34.760
创建新练系人

09:34.760 --> 09:36.760
他这个就跳到我手机

09:36.760 --> 09:39.760
他的那个就是联系人的那个应用里面去了

09:39.760 --> 09:40.760
ok

09:40.760 --> 09:42.760
这就是

09:42.760 --> 09:44.760
这就是关于

09:44.760 --> 09:46.760
这边的话就是关于这个截屏

09:46.760 --> 09:48.760
这些东西都比较锁碎

09:48.760 --> 09:49.760
都比较锁碎

09:49.760 --> 09:50.760
所以我尽量的就是

09:50.760 --> 09:52.760
收集几个一起讲

09:52.760 --> 09:53.760
收集几个一起讲

09:53.760 --> 09:54.760
好吧

09:54.760 --> 09:55.760
ok

09:55.760 --> 09:56.760
这些的话其实也很简单

09:56.760 --> 09:59.760
大家下去试一下就搞定了

09:59.760 --> 10:00.760
好

10:00.760 --> 10:01.760
这期课的话就到这里

10:01.760 --> 10:02.760
再见

