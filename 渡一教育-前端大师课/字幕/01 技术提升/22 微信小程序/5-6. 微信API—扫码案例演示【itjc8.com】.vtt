WEBVTT

00:00.000 --> 00:04.440
ok 接下来的话 咱们来看一下微信小程序当中的这个扫码

00:05.040 --> 00:10.200
扫码的话 它也算是这个小程序里面 一个比较常见的一个这个操作

00:10.880 --> 00:17.360
那整个扫码的话 它实际上比较简单 它实际上就是调用它官方给你提供的一个这个api就可以了

00:17.880 --> 00:19.000
好 来 我们这边来看一下

00:20.400 --> 00:26.400
这边的话 官方提供了一个api 叫做这个scancode 顾名思义scan 就是扫描的意思

00:26.400 --> 00:34.040
scancode 就是这个扫码 ok 好 它这边的话 功能描述 调起客户端扫码界面

00:34.560 --> 00:40.320
然后进行一个扫码 那我们一般扫码的时候 用户会一般会按个按钮之类的 对不对

00:40.600 --> 00:47.360
那这个按钮的话 肯定会绑定一个这个事件处理函数 那么在这个事件处理函数里面 一般就是调用这个api就行了

00:48.480 --> 00:53.400
好 那这边的话 它接受一个参数 这个参数的话是一个对象 我们来看一下

00:54.160 --> 01:00.480
这个对象的话 把它折起来 看一下啊 参数的话有这么一些 only from camera

01:01.120 --> 01:09.320
啊 默认只是force 它是什么意思呢 就是是否只能从相机扫码 不允许从向侧选择图片

01:10.080 --> 01:14.960
就有些时候我们用户呢 可能就是把这个二维码这个图片啊 把它下载下来

01:15.440 --> 01:20.960
保存在这个向侧里面 那你这边在扫码的时候 能否就是用户直接从这个向侧里面去找

01:21.520 --> 01:25.120
啊 它默认的话是force force 是可以 可以从向侧里面找

01:25.520 --> 01:31.760
好的 如果你把它设置成去 设置成去的话 顾名思义就是什么 only from camera 是不是只能从这个

01:32.680 --> 01:38.640
这个相机 我看相机 对啊 只能通过相机是不是去扫码 不能通过这个向侧去选择

01:39.240 --> 01:40.640
对吧 这个意思啊

01:41.800 --> 01:45.560
好 那在这边 这边的话是scan type 他默认值的话是一个

01:46.080 --> 01:52.760
oree啊 就他类型是个oree啊 默认值的话是这边barcode 那qrcode 我们把它展开 我们来看一下

01:54.320 --> 01:57.760
他这边呢 提供了这么几种类型啊 barcode 一维码

01:58.320 --> 02:06.640
qrcode 二维码啊 这个的话都是我们比较熟悉的 对吧 还有这个data matrix和这个pdf417

02:07.120 --> 02:14.040
还有这两种这个调码啊 这两种调码的话 你有兴趣的话 你可以自己下去查一下 我们一般的话 其实用的就是

02:14.760 --> 02:17.000
比较多的就是一维码和二维码啊

02:17.720 --> 02:25.720
好 然后接下来后面 后面呢 就是16s fail complete啊 这个的话都很熟悉了 对吧 成功失败 以及这个最终的这个回调

02:26.280 --> 02:31.840
ok 好 来 接下来的话 咱们来写一个例子啊 这些课咱们写一个简单的这个例子

02:32.640 --> 02:38.240
来看一下他这个少码 我这边的话 我首先就把那个wx面我把拿过来吧

02:39.040 --> 02:41.400
好吧啊 这个呢 没什么好带着写的

02:42.400 --> 02:49.480
好吧 拿过来 拿过来之后 然后接下来 这边很简单啊 这边就是button啊 把这个emag先删掉吧 emag一会儿再来

02:50.120 --> 02:56.600
啊 这边呢 就是两个button 一个是从相机向侧少码 一个是指允许从相机少码

02:56.960 --> 03:00.200
ok 分别绑定了这个scancode1 scancode2

03:00.680 --> 03:04.920
好 大家这边的话会有一些这个样式类 样式类的话 我这边已经提前把他拿过来了

03:05.640 --> 03:11.960
ok 接下来拿过来了啊 这个就不说了 好 那接下来来到我们这边 那这边的话 我们就对应的

03:12.840 --> 03:18.020
scancode1 scancode1

03:19.460 --> 03:22.980
好 然后接下来的话这个scancode2

03:26.660 --> 03:32.660
ok 好 在这里面 这里面的话要做的事情非常简单 咱们这边就直接调就可以了啊 微信

03:33.620 --> 03:40.980
我们其实看一个就行了啊 这边的话是从相机和相侧少码 那这边就是调什么什么微信点scancode

03:41.940 --> 03:46.580
对不对 好 人家这边呢 传一个配置对象 配置对象的话 然后接下来这些都可以不用管

03:47.220 --> 03:54.580
就这个 这个默认他是force嘛 对不对 就是允许啊force的话 相当于就是你可以从相册里面选择 那这个就不管他

03:54.820 --> 04:00.660
这个的话也是就是默认值啊 8code qrcode就ok了 对不对 那我们这边就写个什么

04:01.060 --> 04:07.060
这不就写个6s 对吧 好 然后接下来这边的话res

04:07.940 --> 04:10.660
然后console.log

04:11.460 --> 04:14.420
is 好 然后接下来这边的话保存

04:15.860 --> 04:19.620
好 哎 这边怎么回事啊 这边一下呢

04:20.980 --> 04:23.060
可以了啊 他有些时候就是有这样的问题

04:23.620 --> 04:28.580
好 然后接下来我们这边啊 从相机和相侧少码 大家我们这边点一下

04:29.220 --> 04:36.180
点一下之后你看他这边呢 就是允许我从这个相册啊 去选择这个图片啊 然后接下来我们这边呢 比如说选择一张

04:36.660 --> 04:43.540
比如这个hollow text 打开打开之后你看这边scancode ok 大家这边是不是有个result

04:44.260 --> 04:49.380
对不对啊 你看这边有个result result就是什么 result就是我们最终我们少码的这个结果

04:49.860 --> 04:54.420
啊 你少二维码 无外乎就是什么 外乎是不是就是为了得到那个码上面的这个结果嘛

04:54.740 --> 05:00.180
对吧 这个码上面的结果可能是一个比如说要求你付款的 或者是一个链接要求你跳转的

05:00.580 --> 05:03.380
好 大家我们拿到这个结果之后大家是不是做下一步操作

05:04.180 --> 05:08.020
对不对啊 让我们刚才那个二维码 刚才那个二维码的话得到就是这个hollow

05:08.820 --> 05:10.900
啊 那比如说我这边的话 嗯

05:11.620 --> 05:15.700
另外一个二维码啊 这个dog 他得到了就是什么 他得到就是一张图片

05:16.100 --> 05:17.940
我们打开啊 你看这边result

05:18.580 --> 05:21.220
你看他得到就是什么 是不是得到的是一张图片

05:21.940 --> 05:26.820
对不对 得到的是一张图片 好 那我这边就可以干嘛 我这边就可以把这张图片渲染出来

05:27.220 --> 05:29.700
对不对 好 那我们这边呢 我们解构

05:31.140 --> 05:32.980
解构把这个result

05:34.340 --> 05:39.140
我们把它解构出来 解构出来之后 然后像我们这个data data的话 我们来一个image

05:40.660 --> 05:47.060
ok 好 然后接下来在这个wxmail这边 这边呢 我们就写一个图片啊 把刚才那个三了的

05:47.540 --> 05:48.020
我们这边

05:48.980 --> 05:49.860
三了的 我们把它

05:50.580 --> 05:56.580
推回回来 ok 啊 这边呢 有个image image src对应的是这边这个image 这边image还没写完

05:57.140 --> 06:00.260
这边默认是个空之串啊 然后在这边设置下他的这个mod

06:00.740 --> 06:02.500
那一开始呢 这边是不是什么都不显示啊

06:03.220 --> 06:07.700
对不对 好 然后再回头的话 我这边我成功了之后 我这边拿到的是一个

06:08.100 --> 06:12.260
图片的链接 好 然后接下来的话 我这边就干嘛 我这边是不是就是可以

06:12.820 --> 06:13.620
啊 设置

06:14.340 --> 06:16.580
对不对 把这个链接给这个image

06:17.300 --> 06:20.980
这边的话 应该是要改成一下箭头喊数 咱们改成一下箭头喊数

06:22.820 --> 06:25.780
好 这边呢 就z是点set data

06:28.070 --> 06:32.630
好 这边呢 设置什么呢 设置image image的值是多少呢 image的值是

06:33.190 --> 06:33.750
result

06:34.550 --> 06:37.830
ok 好 我们这边保存啊 重新编一下

06:39.590 --> 06:46.150
好 然后接下来一会我选择那个二维码 这边就应该是出现那张图片啊 因为我这边有这个image元素

06:46.310 --> 06:47.750
ok 好 走

06:48.390 --> 06:49.110
然后dog

06:50.070 --> 06:50.550
打开

06:51.270 --> 06:59.590
so okay了 对不对 就搞定了啊 你看这边就是成功的拿到了这个二维码的这个信息啊 然后接下来你做下一步

06:59.670 --> 07:00.790
你要做的这个处理

07:01.270 --> 07:03.030
没有吧 这边记一下啊

07:03.910 --> 07:04.710
这边少码

07:05.750 --> 07:06.390
少码

07:07.190 --> 07:08.390
成功后

07:09.110 --> 07:11.350
成功后就能够

07:12.950 --> 07:13.430
得到

07:14.150 --> 07:14.710
呃该

07:15.670 --> 07:16.470
这个条码

07:17.750 --> 07:18.630
上面的信息

07:19.590 --> 07:23.270
啊 你这边所谓的这个条码实际上就是什么 就是把我们的一些信息

07:23.510 --> 07:26.710
就把它变成了一个就是二维码或者一维码的这种形式

07:27.430 --> 07:31.590
对不对 那你接下来你少码他之后你就回头就还原了他的这个信息

07:32.070 --> 07:34.230
对不对啊 之后针对这个信息做

07:35.590 --> 07:40.470
之后针对这个信息啊 做

07:41.590 --> 07:42.230
相应的

07:43.190 --> 07:46.310
相应的这个后续

07:46.950 --> 07:47.430
处理

07:48.230 --> 07:48.630
即可

07:49.590 --> 07:56.870
ok 啊 这个就是关于这个少码实际上就是调这个api就可以了啊 你如果是这边只允许从这个相机少码

07:57.030 --> 07:58.630
那这边其实也是一样的

07:59.750 --> 08:02.950
也是一样的啊只不过你这边呢 就是多了一个参数

08:03.750 --> 08:06.470
对不对 多了一个什么 你这边呢需要这个only

08:07.590 --> 08:11.190
front camera啊 这个把它设置成什么 把它设置为

08:12.630 --> 08:19.190
对不对 把这个设置为处啊 那这边那就是你点这个 那这个模拟器的话他就不行了

08:19.830 --> 08:23.430
模拟器的还是打开这个哈 重新编一下呢

08:25.860 --> 08:31.380
那他模拟器的还是打打开这个啊 你这边的话我用那个争计试一下稍等啊

08:31.700 --> 08:33.700
我编一下 然后越南一下

08:35.860 --> 08:40.500
越南了 然后接下来我用这个手机试一下啊 你们回头的话也可以把我这个代码

08:41.140 --> 08:41.780
拿到那个

08:42.660 --> 08:44.340
把这个代码拿过去试一下

08:47.340 --> 08:49.100
那前提是你在你的那个

08:49.900 --> 08:56.300
那个那个就是开开发者工具里面啊 跑起来啊 这边点击相机从相机少码

08:56.860 --> 08:58.780
啊 他这个右下角就会有一个相册

08:59.340 --> 09:03.260
如果点下面这个 他就没有相册啊 他的区别在于这里

09:03.660 --> 09:04.060
ok

09:05.260 --> 09:10.940
啊 就我刚才的话我这边点击那个点击上面的这个时候啊 他会进入到那个相机的那个页面

09:11.500 --> 09:17.180
相机的页面 然后他这个右下角就我的手机哈 右下角会有个相册的按钮啊 你就允许你选择相册

09:17.500 --> 09:20.860
但这个这个的话就是右下角的那个相册的那个按钮他就没有了

09:21.740 --> 09:22.940
就这个区别

09:22.940 --> 09:23.340
ok

09:24.220 --> 09:28.300
好 这是关于这个少码啊 就比较简单 ok

09:28.700 --> 09:31.740
好 我们下几颗吧 大家先试一下嘛 可以先试一下

09:32.140 --> 09:35.740
啊 下几颗的话我带着大家写一个这个综合的这个少码的这个案例

09:36.220 --> 09:40.540
好吧 ok 好 这几颗先到这里啊 大家下去试一下啊 这个很快的

09:40.540 --> 09:41.340
ok

