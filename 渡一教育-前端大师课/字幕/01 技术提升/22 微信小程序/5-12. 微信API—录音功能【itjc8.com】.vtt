WEBVTT

00:00.000 --> 00:04.000
ok 这节课的话咱们来看一下就是微信小程序中

00:04.000 --> 00:10.000
如何进行这个录音 录音的话然后有些项目里面的话有这个需求

00:10.000 --> 00:14.000
你如果就有这个录音的需求的话你可以看一下 好吧

00:14.000 --> 00:19.000
它这个录音的这个API它实际上有两版 最早的那一版的话

00:19.000 --> 00:23.000
它是调用的是微信我记得叫做什么start record

00:23.000 --> 00:27.000
然后就是开始录音start record停止录音

00:27.000 --> 00:31.000
但是那一组这个API它已经被废弃掉了

00:31.000 --> 00:34.000
所以我们这边的话就是用新版的来写 ok

00:34.000 --> 00:38.000
说你这边的话你如果不熟悉新版你也可以把这个视频看一下

00:38.000 --> 00:42.000
好 这边写了个小的案例带着大家过一下

00:42.000 --> 00:46.000
好 这个是我们最终的话我们要做的一个项目的效果

00:46.000 --> 00:50.000
这边两个按钮一个是清除录音一个是按住录音

00:50.000 --> 00:53.000
好 我们现在的话没有任何录音那这样我们这边就开始录音

00:53.000 --> 00:55.000
好 把这个按住

00:55.000 --> 00:59.000
你好 你好 这是一个测试 这是一个测试

00:59.000 --> 01:02.000
ok 你可以看到这边的录音成功

01:02.000 --> 01:05.000
然后既然这边那时候显示出来了刚才的那一段录音

01:05.000 --> 01:09.000
ok 好 然后这样我们这边可以点击它进行播放

01:09.000 --> 01:13.000
你好 你好 这是一个测试 这是一个测试

01:13.000 --> 01:17.000
稍等 然后调整一下 重新来

01:17.000 --> 01:20.000
你好 你好 这是一个测试 这是一个测试

01:20.000 --> 01:24.000
ok 你可以看到就是刚才那段录音就成功了就播放了

01:24.000 --> 01:28.000
对不对 这边你可以再来进行录制

01:28.000 --> 01:33.000
今天是2023年2月14日 情人节

01:33.000 --> 01:36.000
祝大家情人节快乐

01:36.000 --> 01:40.000
ok 这边我看是哪个 是这个

01:40.000 --> 01:46.000
今天是2023年2月14日 情人节祝大家情人节快乐

01:46.000 --> 01:48.000
ok 就是这么一个功能

01:48.000 --> 01:51.000
ok 我们这边按住录音 录完之后

01:51.000 --> 01:55.000
大家把这个录音的这个列表 把它显示出来

01:55.000 --> 01:57.000
显示出来之后 人家这边可以清除录音

01:57.000 --> 02:00.000
你这边这边清除 清除了它就没了

02:00.000 --> 02:03.000
ok 但是你这边你可以下去继续优化

02:03.000 --> 02:06.000
比如说就是你不想就是所有的都清除

02:06.000 --> 02:09.000
这边比如做一个复选框 对吧 复选框选择

02:09.000 --> 02:12.000
选择了之后 然后就是删除就是选中的这个录音

02:12.000 --> 02:14.000
这些你可以自己下去优化

02:14.000 --> 02:17.000
我们这边的主要是讲如何进行这个录音

02:17.000 --> 02:20.000
ok 好 这个就是关于这个demo

02:20.000 --> 02:23.000
我把这个项目就关了 这个项目本身也不难

02:23.000 --> 02:27.000
不用什么截图啊 这里的 就这样 把这个关了

02:27.000 --> 02:30.000
关了之后 然后接下来来到我们这边

02:30.000 --> 02:33.000
这边的话是一个干净的新项目

02:33.000 --> 02:35.000
只问我这边的话有一个Imagics

02:35.000 --> 02:37.000
Imagics这边的话是这里

02:37.000 --> 02:39.000
这个就是那个那个麦克风

02:39.000 --> 02:41.000
看到没有 这边这个是1

02:41.000 --> 02:44.000
这边给大家看一下 这边那是1

02:44.000 --> 02:46.000
一的话这边就是一条横线

02:46.000 --> 02:48.000
二的话就是两条横线

02:48.000 --> 02:52.000
三 三条 四 四条 五 五条

02:52.000 --> 02:54.000
ok 那回头的话 我这边就是按住的时候

02:54.000 --> 02:57.000
它是不是会出现一个这个麦克风

02:57.000 --> 02:59.000
对不对 这边会出现一个这个麦克风

02:59.000 --> 03:02.000
那这个麦克风的话 不停的就是这边

03:02.000 --> 03:04.000
这边这个横线 感觉不停的在闪烁

03:04.000 --> 03:06.000
实际上呢 是个障眼法

03:06.000 --> 03:08.000
实际上是个障眼法

03:08.000 --> 03:10.000
它这边实际上就是什么 就是这个

03:10.000 --> 03:13.000
这个图片 不停的进行一个切换

03:13.000 --> 03:16.000
这个实际上我相信大家应该是能够写得出来的

03:16.000 --> 03:19.000
对不对 我这边呢 不停的去切换这个图片就可以了

03:19.000 --> 03:23.000
ok 那接下来的话 咱们这边就正式开始写

03:23.000 --> 03:25.000
那这边呢 还是老规矩

03:25.000 --> 03:29.000
CSS的话 我这边就已经提前就拿过来了

03:29.000 --> 03:32.000
CSS都是一些常见的这个CSS

03:32.000 --> 03:34.000
这边就不说了

03:34.000 --> 03:37.000
然后WXMIR WXMIR的话我看一下

03:37.000 --> 03:41.000
WXMIR WXMIR也不用那个

03:41.000 --> 03:45.000
带着写 把这个直接拿过来

03:45.000 --> 03:48.000
我先拿一部分过来

03:48.000 --> 03:50.000
没有拿完 拿一部分

03:50.000 --> 03:53.000
ok 来看一下 把这个先关了嘛

03:53.000 --> 03:55.000
看一下 首先上面

03:55.000 --> 03:57.000
首先的话 这边有两个view

03:57.000 --> 03:59.000
对不对 两个view 这边

03:59.000 --> 04:02.000
上面是什么呢 上面是显示录音中的这个图片

04:02.000 --> 04:04.000
那就是我们刚才看到的那个图片

04:04.000 --> 04:07.000
把它这边有个微信E4

04:07.000 --> 04:09.000
E3Speaking

04:09.000 --> 04:11.000
那接下来在这个CS里面

04:11.000 --> 04:13.000
自然而然就会有一个什么

04:13.000 --> 04:15.000
E1Speaking

04:15.000 --> 04:17.000
把这个拿过来

04:17.000 --> 04:19.000
Speaking

04:19.000 --> 04:21.000
这个的话 我默认让它是一个什么呢

04:21.000 --> 04:23.000
默认让它是一个force

04:23.000 --> 04:25.000
就是这边的话默认force

04:25.000 --> 04:27.000
force它就干嘛 这个是不是不显示

04:27.000 --> 04:29.000
这个的话什么时候显示啊 这个盒子

04:29.000 --> 04:31.000
这个盒子是不是就是

04:31.000 --> 04:33.000
应该是在这个你按住录音的时候

04:33.000 --> 04:35.000
才显示啊 对不对

04:35.000 --> 04:37.000
而家这个盒子里面有些什么呢

04:37.000 --> 04:39.000
这盒子里面很简单 就是五张图片

04:39.000 --> 04:41.000
看到没有 五张图片

04:41.000 --> 04:43.000
然后对应的就是刚才的那个12345

04:43.000 --> 04:45.000
只不过它这边显示的时候是根据什么呢

04:45.000 --> 04:47.000
根据这边有个接

04:47.000 --> 04:49.000
这边的话就类似于下标

04:49.000 --> 04:51.000
这边有个接

04:51.000 --> 04:53.000
接默认等于E

04:53.000 --> 04:55.000
我们把这个注释写一下

04:55.000 --> 04:57.000
这个是否显示

04:57.000 --> 04:59.000
是否显示录音图片

05:01.000 --> 05:03.000
录音图片

05:03.000 --> 05:05.000
这个是什么呢 这个是录音图片

05:05.000 --> 05:07.000
录音图片的

05:07.000 --> 05:09.000
下标

05:09.000 --> 05:11.000
OK

05:11.000 --> 05:13.000
好 OK

05:13.000 --> 05:15.000
那这边的话一会儿回头我们就根据什么呢

05:15.000 --> 05:17.000
就这边去修改这个接这个字

05:17.000 --> 05:19.000
让它显示这个不同的这个图片

05:19.000 --> 05:21.000
对不对 OK

05:21.000 --> 05:23.000
这是首先第一个

05:23.000 --> 05:25.000
好 然后第二个的话就是下面的这个录音的这个按钮

05:25.000 --> 05:27.000
这边左边是清除录音

05:27.000 --> 05:29.000
右边是这个按住录音

05:29.000 --> 05:31.000
然后加我们这边一下

05:31.000 --> 05:33.000
这边是不是出来了

05:33.000 --> 05:35.000
对不对 一开始的话这个上面这个是没有显示的

05:35.000 --> 05:37.000
你把这个改成去

05:37.000 --> 05:39.000
改成去 保存

05:39.000 --> 05:41.000
保存这边是不是就出来了

05:41.000 --> 05:43.000
对不对 然后加这边接是E的话显示这个

05:43.000 --> 05:45.000
12就显示这个

05:45.000 --> 05:47.000
13显示这个

05:47.000 --> 05:49.000
是不是这边就是不停的让它进行一个显示

05:49.000 --> 05:51.000
对不对 OK

05:51.000 --> 05:53.000
好 那我们把这个改回来

05:53.000 --> 05:55.000
force

05:55.000 --> 05:57.000
然后加这边一开始是E

05:57.000 --> 05:59.000
保存 OK

05:59.000 --> 06:01.000
好 那清除录音的话我们一会儿再来做

06:01.000 --> 06:03.000
我们着重看这个按住录音

06:03.000 --> 06:05.000
按住录音的话这边绑了两个世界

06:05.000 --> 06:07.000
大家看一下

06:07.000 --> 06:09.000
分别是什么 分别是Bound

06:09.000 --> 06:11.000
Touch Start

06:11.000 --> 06:13.000
和Bound Touch End

06:13.000 --> 06:15.000
这个的话然后对应的是Touch Down

06:15.000 --> 06:17.000
也就是说按下的时候

06:17.000 --> 06:19.000
所以我们在这边我们来写一下

06:19.000 --> 06:21.000
一个是Touch Down

06:21.000 --> 06:23.000
这个是按下的时候

06:25.000 --> 06:27.000
按下的时候

06:27.000 --> 06:29.000
然后接下来的话这边

06:29.000 --> 06:35.320
Touch Up

06:35.320 --> 06:37.320
Touch Up

06:37.320 --> 06:41.340
这个是什么 这个是抬起来的时候

06:41.340 --> 06:43.340
抬起来的时候

06:43.340 --> 06:45.340
OK

06:45.340 --> 06:47.340
那接下来的话我这边我按下去

06:47.340 --> 06:49.340
按下去的话是不是要开始录音

06:49.340 --> 06:51.340
开始录音的话那接下来咱们这边

06:51.340 --> 06:53.340
我们来盘一下这边的话

06:53.340 --> 06:55.340
我们需要做什么样的事情

06:55.340 --> 06:57.340
我们这边首先

06:57.340 --> 06:59.340
我们打印一下console.log

07:01.340 --> 07:03.340
比如说手指按下了

07:05.340 --> 07:07.340
对吧 按下了 按下了之后

07:07.340 --> 07:09.340
然后我们这边来盘一下逻辑

07:09.340 --> 07:11.340
首先这边第一步

07:11.340 --> 07:13.340
是不是显示录音中的图片

07:15.340 --> 07:17.340
显示录音中的图片

07:19.340 --> 07:21.340
第二步是什么

07:21.340 --> 07:23.340
开始录音

07:23.340 --> 07:25.340
开始录音

07:25.340 --> 07:27.340
就这两个事情对不对

07:27.340 --> 07:29.340
显示录音中的图片

07:29.340 --> 07:31.340
接下来这边就是什么

07:31.340 --> 07:33.340
this.setData

07:33.340 --> 07:35.340
然后把这个easeSpeaking

07:35.340 --> 07:37.340
把它改成什么

07:37.340 --> 07:39.340
改成去就完事了

07:39.340 --> 07:41.340
对不对 把这个改成去

07:41.340 --> 07:43.340
然后那个是不是就出来了

07:43.340 --> 07:45.340
出来了 接下来还有一个非常重要的动作

07:45.340 --> 07:47.340
是什么呢 是不是你那个麦克风的话

07:47.340 --> 07:49.340
它会有一个那个动画

07:49.340 --> 07:51.340
对不对 这边的话需要播放

07:51.340 --> 07:53.340
这边播放

07:53.340 --> 07:55.340
麦克风

07:55.340 --> 07:57.340
这个动画

07:57.340 --> 07:59.340
那这个动画的核心就是什么

07:59.340 --> 08:01.340
核心的话是不是就是

08:01.340 --> 08:03.340
不停的修改接的值

08:03.340 --> 08:05.340
不停

08:05.340 --> 08:08.780
不停的修改

08:08.780 --> 08:10.780
接的

08:10.780 --> 08:12.780
值

08:12.780 --> 08:14.780
对不对 接的值

08:14.780 --> 08:16.780
好 那接下来我们这边我们这样子

08:16.780 --> 08:18.780
我们就来写一个

08:18.780 --> 08:20.780
这边你可以把这个函数

08:20.780 --> 08:22.780
不见的都要写到配级里面

08:22.780 --> 08:24.780
不见的 ok 我们这边写到这边

08:24.780 --> 08:26.780
外面 比如说我们一个方形

08:26.780 --> 08:28.780
这个是麦克风动画

08:28.780 --> 08:30.780
麦克风

08:30.780 --> 08:32.780
这个是麦克风动画

08:32.780 --> 08:34.780
好 这边的话

08:34.780 --> 08:36.780
方形

08:36.780 --> 08:41.750
方形一个speaking

08:41.750 --> 08:43.750
好 然后接下来

08:43.750 --> 08:45.750
这边我比如说net一个i

08:45.750 --> 08:47.750
等于一个这个e

08:47.750 --> 08:49.750
从e开始

08:49.750 --> 08:51.750
好 人家这边的这个set interval

08:51.750 --> 08:53.750
set interval

08:53.750 --> 08:55.750
ok 这个的话

08:55.750 --> 08:57.750
每个多久呢 每个比如说200毫秒

08:57.750 --> 08:59.750
大家做什么事情呢

08:59.750 --> 09:03.510
做的事情是不是就是

09:03.510 --> 09:05.510
对不对 i加加的话

09:05.510 --> 09:07.510
你这边的话 然后接下来

09:07.510 --> 09:09.510
你这边加加了之后 它必须是什么

09:09.510 --> 09:11.510
必须是5的倍数 因为我图片一共是5张

09:11.510 --> 09:13.510
对不对 好 人家这边

09:13.510 --> 09:15.510
然后

09:15.510 --> 09:17.510
除等于

09:17.510 --> 09:19.510
就是取于 取于等于一个5

09:19.510 --> 09:21.510
ok 先加加

09:21.510 --> 09:23.510
加了之后 取于等于一个5

09:23.510 --> 09:25.510
然后接下来这边

09:25.510 --> 09:27.510
Race 注意 我们这边的话

09:27.510 --> 09:29.510
要调Race.setData

09:29.510 --> 09:31.510
对不对

09:31.510 --> 09:33.510
写在外面的话 那你这个Race

09:33.510 --> 09:35.510
是不是就不再指向这个配级这个对象

09:35.510 --> 09:37.510
对不对 那这个怎么办呢

09:37.510 --> 09:39.510
这个怎么办呢

09:39.510 --> 09:41.510
有同学说 那把它写进去呗

09:41.510 --> 09:43.510
对 写进去也可以

09:43.510 --> 09:45.510
那我现在的话 比如说我就是写在外面

09:45.510 --> 09:47.510
我这个从外部引入的

09:47.510 --> 09:49.510
那这一步该怎么办

09:49.510 --> 09:51.510
这一步该怎么办

09:51.510 --> 09:53.510
好 我这边的话 我其实可以这个样子

09:53.510 --> 09:55.510
我在这边onload的时候

09:55.510 --> 09:57.510
onload的时候

09:57.510 --> 09:59.510
我这边呢

09:59.510 --> 10:01.510
那首先先定义一个

10:01.510 --> 10:03.510
在这

10:03.510 --> 10:05.510
net一个下滑线Race

10:05.510 --> 10:07.510
等于一个这个空

10:07.510 --> 10:09.510
那它就是用来干嘛呢

10:09.510 --> 10:11.510
它就是用来存储Race指向的

10:11.510 --> 10:13.510
存储Race指向

10:13.510 --> 10:16.820
ok 那回头我在这边

10:16.820 --> 10:18.820
onload的时候

10:18.820 --> 10:20.820
我这里的话就是

10:20.820 --> 10:22.820
下滑线

10:22.820 --> 10:24.820
下滑线Race

10:24.820 --> 10:26.820
等于一个你的这个Race

10:26.820 --> 10:28.820
ok 那之后的话

10:28.820 --> 10:30.820
我是不是直接在这个函数里面

10:30.820 --> 10:32.820
是不是通过下滑线Race

10:32.820 --> 10:34.820
是不是就能够访问得到

10:34.820 --> 10:36.820
对不对 从我这边下滑线Race

10:36.820 --> 10:38.820
点sift data

10:38.820 --> 10:40.820
设置什么呢 设置这个切

10:40.820 --> 10:42.820
对应的值是这个i

10:42.820 --> 10:44.820
ok

10:44.820 --> 10:46.820
然后接下来 我们这边就干嘛呢

10:46.820 --> 10:48.820
这边就调用这个speaking

10:50.820 --> 10:52.820
这里的话 我们调用speaking

10:52.820 --> 10:54.820
方法 ok

10:54.820 --> 10:56.820
好 让大家这边保存一下

10:56.820 --> 10:58.820
好 存之后再叫这边我们来看一下

10:58.820 --> 11:00.820
好 我们这边按住

11:00.820 --> 11:02.820
是不是出来了 对不对

11:02.820 --> 11:04.820
这效果就出来了 哎 这边

11:04.820 --> 11:06.820
是不是表示录音装 ok

11:06.820 --> 11:08.820
好 让大家放开

11:08.820 --> 11:10.820
放开之后再叫你看

11:10.820 --> 11:12.820
我现在已经放开了 放开的话

11:12.820 --> 11:14.820
它这边是不是还是一直显示

11:14.820 --> 11:16.820
为什么 因为你这边是不是没写

11:16.820 --> 11:18.820
对不对 所以接下来这边

11:18.820 --> 11:20.820
手指抬起来的时候

11:20.820 --> 11:22.820
我们这边cancel

11:22.820 --> 11:24.820
点log

11:24.820 --> 11:26.820
开起来了

11:26.820 --> 11:28.820
ok 那接下来的话

11:28.820 --> 11:30.820
这边首先 让这个

11:32.820 --> 11:34.820
是不是改成force

11:34.820 --> 11:36.820
对不对 但没完

11:36.820 --> 11:38.820
你这边改成force之后 这个确实看不到了

11:38.820 --> 11:40.820
但是它这个speaking这边

11:40.820 --> 11:42.820
这边你是不是有一个set inter

11:42.820 --> 11:44.820
对不对 那它这边它就还在干嘛

11:44.820 --> 11:46.820
这边它是不是还在不停的这个

11:46.820 --> 11:48.820
就是不停的变化

11:48.820 --> 11:50.820
加这边图片不停的进行切换

11:50.820 --> 11:52.820
所以我们需要把这个计时器

11:52.820 --> 11:54.820
把它停掉呀 对不对

11:54.820 --> 11:56.820
我们需要把它停掉

11:56.820 --> 11:58.820
好 所以说我们这边的话

11:58.820 --> 12:00.820
我们再来let一个time

12:00.820 --> 12:02.820
一开始是等于now

12:02.820 --> 12:04.820
这个的话是存处

12:04.820 --> 12:08.460
存处

12:08.460 --> 12:10.460
ok 存处

12:10.460 --> 12:12.460
计时器的这个返回值

12:12.460 --> 12:14.460
就是用来停止计时器的

12:14.460 --> 12:16.460
用来停止

12:16.460 --> 12:18.460
这个计时器函数

12:18.460 --> 12:20.460
ok 好 那接下来在这边

12:20.460 --> 12:22.460
这边你在设置的时候

12:22.460 --> 12:24.460
在这里 这边是不是应该是time

12:24.460 --> 12:26.460
等于 对不对

12:26.460 --> 12:28.460
好 那接下来来到这边下面

12:28.460 --> 12:30.460
下面的话这边的话

12:30.460 --> 12:32.460
应该是有一个clear

12:32.460 --> 12:34.460
interval

12:34.460 --> 12:36.460
然后把这个time

12:36.460 --> 12:38.460
就把它传进去

12:38.460 --> 12:40.460
对不对 ok

12:40.460 --> 12:42.460
好 热一下这边

12:42.460 --> 12:44.460
来看一下 好 这边的话

12:44.460 --> 12:46.460
按住 进行一个录音

12:46.460 --> 12:48.460
放开 是吧 ok 了

12:48.460 --> 12:50.460
对不对 这个看不到了 并且那个time

12:50.460 --> 12:52.460
ok 好 这是这一步

12:52.460 --> 12:54.460
好 那接下来的话

12:54.460 --> 12:56.460
我们还没有到关键

12:56.460 --> 12:58.460
我们现在只是把动画做出来了

12:58.460 --> 13:00.460
对不对 那接下来关键是要什么

13:00.460 --> 13:02.460
关键是要进行一个录音

13:02.460 --> 13:04.460
录音的话

13:04.460 --> 13:06.460
这边是什么呢 这边它用到了

13:06.460 --> 13:08.460
把文档打开

13:08.460 --> 13:10.460
它这边的话

13:10.460 --> 13:12.460
现在这个app改了

13:12.460 --> 13:14.460
改成一个叫做

13:14.460 --> 13:16.460
微信.get

13:16.460 --> 13:18.460
我看一下 叫做recorder

13:18.460 --> 13:20.460
recorder manager

13:20.460 --> 13:24.730
哦 是我哪里拼错了吗

13:24.730 --> 13:26.730
呃

13:26.730 --> 13:28.730
微信.getrecorder

13:28.730 --> 13:30.730
我看一下啊

13:30.730 --> 13:32.730
估计是哪里拼错了

13:32.730 --> 13:34.730
recorder

13:34.730 --> 13:39.060
这个搜索它

13:39.060 --> 13:41.060
recorder

13:41.060 --> 13:43.060
稍等 我找一下

13:43.060 --> 13:45.060
啊 这边找到了

13:45.060 --> 13:47.060
啊 这边

13:47.060 --> 13:49.060
微信.getrecorder manager

13:49.060 --> 13:51.060
啊 刚才估计拼错了

13:51.060 --> 13:53.060
来 点过来之后你看这边

13:53.060 --> 13:55.060
获取全局唯一的录音管理器

13:55.060 --> 13:57.060
recorder

13:57.060 --> 13:59.060
recorder manager

13:59.060 --> 14:01.060
它现在的话就是通过这种方式了

14:01.060 --> 14:03.060
通过这种方式来进行一个录音

14:03.060 --> 14:05.060
啊 说说这边的话

14:05.060 --> 14:07.060
你就是调用它这个方法

14:07.060 --> 14:09.060
好 回到我们这边

14:09.060 --> 14:11.060
好 我们这边的话就是

14:11.060 --> 14:13.060
啊 这边你可以用const

14:13.060 --> 14:15.060
const

14:15.060 --> 14:17.060
recorder

14:17.060 --> 14:19.060
recorder manager

14:19.060 --> 14:21.060
等于一个

14:21.060 --> 14:23.060
微信.getrecorder manager

14:23.060 --> 14:25.060
这个是什么呢 这个是录音的

14:25.060 --> 14:27.060
管理器 啊 manager

14:27.060 --> 14:29.060
是不是就是管理器的意思啊 对不对

14:29.060 --> 14:31.060
录音

14:31.060 --> 14:33.060
就全局

14:33.060 --> 14:35.060
全局的录音管理对象

14:35.060 --> 14:37.060
OK

14:37.060 --> 14:39.060
那这个对象有什么用呢

14:39.060 --> 14:41.060
这个对象的话回头你这个

14:41.060 --> 14:43.060
你要开始录音 停止录音

14:43.060 --> 14:45.060
或者各种各样的事件都是通过这个对象

14:45.060 --> 14:47.060
OK 都是通过这个对象

14:47.060 --> 14:49.060
啊 比如说我们这边

14:49.060 --> 14:51.060
我们这边要开始录音了 对不对

14:51.060 --> 14:53.060
那接下来这边就很简单

14:53.060 --> 14:55.060
这边就是调用recorder manager

14:55.060 --> 14:57.060
所以我们这边得到了

14:57.060 --> 14:59.060
刚才通过这个微信.getrecorder manager

14:59.060 --> 15:01.060
得到了这个录音的这个对象

15:01.060 --> 15:03.060
recorder manager 对不对

15:03.060 --> 15:05.060
得到这个对象之后

15:05.060 --> 15:07.060
然后接下来的话这边我们就干嘛呢

15:07.060 --> 15:09.060
这边就调它的这个方法就可以了

15:09.060 --> 15:11.060
调start

15:11.060 --> 15:13.060
调start 开始这个录音

15:13.060 --> 15:15.060
好 来 这边过来看一下

15:15.060 --> 15:17.060
这个是一个平党 知道吧

15:17.060 --> 15:19.060
这边返回直 返回的是一个recorder manager

15:19.060 --> 15:21.060
点过去

15:21.060 --> 15:23.060
点过去看一下他有哪些方法

15:23.060 --> 15:25.060
你看这边什么都在这里对不对

15:25.060 --> 15:27.060
这个是暂停 这个是停止

15:27.060 --> 15:29.060
这个是开始 开始的话

15:29.060 --> 15:31.060
这边是吧 还接收一个参数

15:31.060 --> 15:33.060
对不对 接收一个参数呢有意思

15:33.060 --> 15:35.060
那我们接下来我们就去看一下

15:35.060 --> 15:37.060
这个参数是什么

15:37.060 --> 15:39.060
他这边肯定是有说明的

15:39.060 --> 15:41.060
好 我们点start进去

15:41.060 --> 15:43.060
好 start进去之后这边

15:43.060 --> 15:45.060
功能开始录音

15:45.060 --> 15:47.060
好 这边你看 接收的

15:47.060 --> 15:49.060
这边有这个direction 录音的时长

15:49.060 --> 15:51.060
最大值的话是10分钟

15:51.060 --> 15:53.060
然后接下来这边的话是一个

15:53.060 --> 15:55.060
simple rate

15:55.060 --> 15:57.060
这个是它的采样率

15:57.060 --> 15:59.060
然后接下来这边

15:59.060 --> 16:01.060
这个是和它的那个音频相关的一些参数了

16:01.060 --> 16:03.060
你如果这个不太懂的话

16:03.060 --> 16:05.060
你就用它的默认值就可以了

16:05.060 --> 16:07.060
这边的实际上它都给你用的是什么

16:07.060 --> 16:09.060
用的是否 对不对

16:09.060 --> 16:11.060
否 否 否 否 必填的话都是否

16:11.060 --> 16:13.060
因为它这个涉及到音频的相关的一些东西

16:13.060 --> 16:15.060
什么通道书之类的

16:15.060 --> 16:17.060
好 接下来这边

16:17.060 --> 16:19.060
这个你可以看一下 这个格式

16:19.060 --> 16:21.060
格式的话 你看这边

16:21.060 --> 16:23.060
mp3 aac

16:23.060 --> 16:25.060
wav 这几个是比较常见的格式

16:25.060 --> 16:27.060
pcm

16:27.060 --> 16:29.060
还有一个pcm格式

16:29.060 --> 16:31.060
默认是什么呢 默认是aac

16:31.060 --> 16:33.060
默认是这个

16:33.060 --> 16:35.060
实际上你都可以不用去管

16:35.060 --> 16:37.060
就你这边

16:37.060 --> 16:39.060
只是简单做个录音的话

16:39.060 --> 16:41.060
你这边就用它的默认值就可以了

16:41.060 --> 16:43.060
OK 所以我们这边就是什么呢

16:43.060 --> 16:45.060
就是recorder

16:45.060 --> 16:47.060
manager.start

16:47.060 --> 16:49.060
好 然后加这边

16:49.060 --> 16:51.060
这边的话就是应该是什么

16:51.060 --> 16:53.060
这边是不是应该是recorder

16:53.060 --> 16:57.340
manager.stop

16:57.340 --> 16:59.340
对不对 这边轻空轻空了之后

16:59.340 --> 17:01.340
把那个time重新归位一下

17:01.340 --> 17:03.340
time重新 等于一个闹

17:03.340 --> 17:05.340
好 这边那就是recorder

17:05.340 --> 17:07.340
manager.stop 是不是就是停止录音

17:07.340 --> 17:09.340
对不对 就停止录音

17:09.340 --> 17:11.340
好 那我们的这个录音的话其实就

17:11.340 --> 17:13.340
搞定了 非常简单

17:13.340 --> 17:15.340
对不对 非常简单 你看他这个stop

17:15.340 --> 17:17.340
stop它是没有什么参数的

17:17.340 --> 17:19.340
stop

17:19.340 --> 17:21.340
对不对 没什么参数 直接掉这个方法就可以了

17:21.340 --> 17:25.340
好 那这边的话有一些这个事件

17:25.340 --> 17:27.340
你看 这个是在

17:27.340 --> 17:29.340
开始的时候 这个resume

17:29.340 --> 17:31.340
resume是什么

17:31.340 --> 17:33.340
resume是继续的时候

17:33.340 --> 17:35.340
监听这个录音继续事件

17:35.340 --> 17:37.340
这个是暂停事件 这个是停止

17:37.340 --> 17:39.340
比如说我现在的话 我这边给他

17:39.340 --> 17:41.340
绑定了一个这个停止

17:41.340 --> 17:43.340
停止录音的时候 我在这边

17:43.340 --> 17:45.340
回到我们这里

17:45.340 --> 17:47.340
recorder manager

17:47.340 --> 17:49.340
好 然后接下来的话

17:49.340 --> 17:51.340
这边就是

17:51.340 --> 17:53.340
点 on stop

17:53.340 --> 17:55.340
OK 我就把绑定了一个

17:55.340 --> 17:57.340
就该事件

17:57.340 --> 17:59.340
该事件

17:59.340 --> 18:03.990
该

18:03.990 --> 18:05.990
该事件

18:05.990 --> 18:07.990
会在什么呢 会在这个录音

18:07.990 --> 18:09.990
停止时

18:09.990 --> 18:11.990
停止时

18:11.990 --> 18:13.990
出发

18:13.990 --> 18:15.990
OK

18:15.990 --> 18:17.990
好 那接下来在这边stop

18:17.990 --> 18:19.990
stop这边的话 我们来看一下

18:19.990 --> 18:21.990
过来看一下

18:21.990 --> 18:23.990
这边这个stop 然后在这边是一个

18:23.990 --> 18:25.990
function listener

18:25.990 --> 18:27.990
就是监听函说 我们点过来看一下

18:27.990 --> 18:29.990
这边监听函说

18:29.990 --> 18:31.990
监听函说的话 他这边会有一个这个res

18:31.990 --> 18:33.990
传过来

18:33.990 --> 18:35.990
这里面会有什么呢 会有这么几个东西

18:35.990 --> 18:37.990
一个是temp file pass

18:37.990 --> 18:39.990
就是你录音文件的

18:39.990 --> 18:41.990
临时路径

18:41.990 --> 18:43.990
你录音的时长

18:43.990 --> 18:45.990
还有这个file size 录音文件的大小

18:45.990 --> 18:47.990
这个的话也非常好理解

18:47.990 --> 18:49.990
对不对 好 然后接下来我们这边

18:49.990 --> 18:51.990
回到我们这边

18:51.990 --> 18:53.990
好 我们这边的话就

18:53.990 --> 18:55.990
直接用剑头函数吧

18:55.990 --> 18:57.990
直接这边res

18:57.990 --> 18:59.990
这边写一个函数

18:59.990 --> 19:01.990
写个函数res里面

19:01.990 --> 19:03.990
它是个对象 这个对象里面

19:03.990 --> 19:05.990
是不是就是有这么一些东西

19:05.990 --> 19:07.990
对不对 好 然后接下来

19:07.990 --> 19:09.990
我们把这个pass 我们把它拿到

19:09.990 --> 19:11.990
temp file pass 我们做一个什么

19:11.990 --> 19:13.990
做一个存储

19:13.990 --> 19:15.990
好 我们这边

19:15.990 --> 19:17.990
const

19:17.990 --> 19:19.990
temp file pass

19:19.990 --> 19:21.990
从这个res里面 我们把它解构

19:21.990 --> 19:23.990
把它解出来 解出来之后

19:23.990 --> 19:25.990
然后接下来我们做一个存储

19:25.990 --> 19:30.970
做一个

19:30.970 --> 19:32.970
文件存储

19:32.970 --> 19:34.970
操作 那做文件存储

19:34.970 --> 19:36.970
做操作的话 这边又涉及到一个东西了

19:36.970 --> 19:38.970
叫做什么呢 叫做这个

19:38.970 --> 19:43.180
file system

19:43.180 --> 19:45.180
好 我们这边呢 我们过来看一下

19:45.180 --> 19:47.180
file system

19:47.180 --> 19:49.180
这边搜索一下

19:49.180 --> 19:51.180
在这里 看到没有

19:51.180 --> 19:53.180
get file system manager

19:53.180 --> 19:55.180
它这个的话和那个录音

19:55.180 --> 19:57.180
很像 它也是得到一个什么呢

19:57.180 --> 19:59.180
得到一个file system manager

19:59.180 --> 20:01.180
这个对象 大家这边

20:01.180 --> 20:03.180
你针对文件的所有的处理

20:03.180 --> 20:05.180
都在这个对象上面

20:05.180 --> 20:07.180
看一下 它这边是获取全局

20:07.180 --> 20:09.180
这个全局唯一的

20:09.180 --> 20:11.180
文件管理器

20:11.180 --> 20:13.180
好 那我们这边我们来获取一下

20:13.180 --> 20:15.180
过来到这边

20:15.180 --> 20:17.180
我们就在录音的上面

20:17.180 --> 20:19.180
这边是全局文件

20:19.180 --> 20:21.180
这个全局文件

20:21.180 --> 20:23.180
管理

20:23.180 --> 20:25.180
我们这边const

20:25.180 --> 20:29.000
一个叫做file system

20:29.000 --> 20:31.000
等于一个这个

20:31.000 --> 20:33.000
获取到 获取到之后

20:33.000 --> 20:35.000
然后接下来我们这边点过去来看一下

20:35.000 --> 20:37.000
点过来 点过来之后

20:37.000 --> 20:39.000
人家这边你看 它是不是有很多很多的方法

20:39.000 --> 20:41.000
对不对

20:41.000 --> 20:43.000
这方法就不一一介绍了

20:43.000 --> 20:45.000
你总之记住它就是和那个文件处理相关的

20:45.000 --> 20:47.000
OK

20:47.000 --> 20:49.000
当然的话你也可以通过那个本地

20:49.000 --> 20:51.000
对不对 我们之前的话

20:51.000 --> 20:53.000
讲过那个本地存储

20:53.000 --> 20:55.000
通过本地存储到自己来存储

20:55.000 --> 20:57.000
它这边的话给你封装好了一个这个

20:57.000 --> 20:59.000
file system manager

20:59.000 --> 21:01.000
这么一个这个对象

21:01.000 --> 21:03.000
那接下来你通过这个对象更方便一些

21:03.000 --> 21:05.000
比如说我们这里

21:05.000 --> 21:07.000
这里的话我们要进行一个存储

21:07.000 --> 21:09.000
存储的话那我们这边就是什么呢

21:09.000 --> 21:11.000
这边就是这个save file

21:11.000 --> 21:13.000
再

21:13.000 --> 21:15.000
照一下 这里

21:15.000 --> 21:17.000
看到没有

21:17.000 --> 21:19.000
save file 点过来

21:19.000 --> 21:21.000
接受一个对象 这个对象里面

21:21.000 --> 21:23.000
就是你要存的文件

21:23.000 --> 21:25.000
它的这个临时的路径

21:25.000 --> 21:27.000
这个是必填的

21:27.000 --> 21:29.000
那其他的话都是选填

21:29.000 --> 21:31.000
这是file pass

21:31.000 --> 21:33.000
OK 好 那我们这边我们就来呗

21:33.000 --> 21:35.000
那做一个文件存储操作

21:35.000 --> 21:37.000
那加这边就是file system

21:37.000 --> 21:39.000
点

21:39.000 --> 21:41.000
它这个叫什么方法

21:41.000 --> 21:43.000
叫save file

21:43.000 --> 21:45.000
对不对save file

21:45.000 --> 21:47.000
接受一个对象

21:47.000 --> 21:49.000
这个对象的话它这边首先有这个

21:49.000 --> 21:51.000
temp file pass

21:51.000 --> 21:53.000
这个是必须要填的

21:53.000 --> 21:55.000
那这个temp file pass是不是就是这

21:55.000 --> 21:57.000
结构出来的对不对

21:57.000 --> 21:59.000
这是首先第一个

22:00.000 --> 22:01.000
sixth

22:01.000 --> 22:03.000
我们这边就res

22:05.000 --> 22:07.000
存储成功之后

22:07.000 --> 22:09.000
存储成功之后再加我们这边

22:09.000 --> 22:11.000
打印一下

22:11.000 --> 22:13.000
console.nog

22:13.000 --> 22:15.000
不要这边

22:15.000 --> 22:17.000
save file pass

22:17.000 --> 22:21.720
save file pass

22:21.720 --> 22:23.720
这边是res

22:23.720 --> 22:25.720
这边你存储成功之后

22:25.720 --> 22:27.720
进入到成功的回调

22:27.720 --> 22:29.720
成功的回调它这边res里面

22:29.720 --> 22:31.720
有一个这个save file pass

22:31.720 --> 22:33.720
存储后的文件路径

22:33.720 --> 22:37.220
把它打印出来看一下

22:37.220 --> 22:39.220
对不对把它打印出来

22:39.220 --> 22:41.220
打印出来之后给一个成功的这个提示

22:41.220 --> 22:43.220
微信点修

22:45.220 --> 22:47.220
这边的话就是恭喜

22:47.220 --> 22:52.200
恭喜录音成功

22:52.200 --> 22:57.370
iCon

22:57.370 --> 22:59.370
这边是sixth

23:01.370 --> 23:03.370
这边这个duration

23:03.370 --> 23:05.370
给个一秒钟吧

23:05.370 --> 23:07.370
OK

23:07.370 --> 23:09.370
那接下来这边就存进去了

23:09.370 --> 23:11.370
好存进去了之后

23:11.370 --> 23:13.370
然后接下来我们要把它显示出来

23:13.370 --> 23:15.370
对你存进去是存进去了

23:15.370 --> 23:17.370
我们这边来看一下吗

23:17.370 --> 23:20.740
就你这边我们来看一下

23:20.740 --> 23:22.740
哈喽哈喽哈喽你好你好

23:22.740 --> 23:24.740
OK完事完事之后你看这边

23:24.740 --> 23:26.740
是不是存是存进去了对不对

23:26.740 --> 23:28.740
存进去了之后然后接下来

23:28.740 --> 23:30.740
我们要把它显示出来

23:30.740 --> 23:32.740
好那接下来我们这边再来

23:32.740 --> 23:34.740
封装一个方法

23:34.740 --> 23:36.740
好我们在这边

23:36.740 --> 23:38.740
这边

23:38.740 --> 23:40.740
这边的话我们来写一个

23:40.740 --> 23:42.740
这个是什么呢这个是

23:42.740 --> 23:44.740
从文件系统里面

23:44.740 --> 23:46.740
从文件

23:46.740 --> 23:48.740
系统里面

23:48.740 --> 23:50.740
获取所有的

23:50.740 --> 23:52.740
啊录音记录

23:52.740 --> 23:54.740
OK获取所有的录音记录

23:54.740 --> 23:56.740
然后接下来的话

23:56.740 --> 23:58.740
呃把它存储到我们这边的话

23:58.740 --> 24:00.740
比如说再来定一个变量吧

24:00.740 --> 24:02.740
这边这边呢比如说

24:02.740 --> 24:06.180
比如说叫做 always always

24:06.180 --> 24:08.180
它默认是什么呢默认是个空速组

24:08.180 --> 24:10.180
啊空速组

24:10.180 --> 24:12.180
这个就是什么呢这个就是存储

24:12.180 --> 24:14.180
存储所有的

24:14.180 --> 24:16.180
啊录音

24:16.180 --> 24:18.180
OK你所有的录音倒是

24:18.180 --> 24:20.180
一个一个的对象吗大家放到这个

24:20.180 --> 24:22.180
数组里面好然后回头的话

24:22.180 --> 24:24.180
我们在这边

24:24.180 --> 24:26.180
在这边我直接把那拿过来哈

24:26.180 --> 24:28.180
那边那个列表那边

24:28.180 --> 24:30.180
啊这里我直接把这拿过来

24:30.180 --> 24:32.180
这是刚才吗

24:32.180 --> 24:34.180
刚才的这个一个是录音中的这个图片

24:34.180 --> 24:36.180
啊一个是录音的按钮对不对

24:36.180 --> 24:38.180
还记不记得就是你这边录完音之后

24:38.180 --> 24:40.180
这边是不是有一条一条的这个录音的这个列表

24:40.180 --> 24:42.180
对不对好那接下来我们把

24:42.180 --> 24:44.180
这一块wx 没有

24:44.180 --> 24:46.180
把它补全啊补全之后

24:46.180 --> 24:48.180
大家这边大家来看一下

24:48.180 --> 24:50.180
下面不用看哈主要看上面

24:50.180 --> 24:52.180
啊你看这边这边呢它这边

24:52.180 --> 24:54.180
就是什么微微信啊

24:54.180 --> 24:56.180
大家衣服

24:56.180 --> 24:58.180
啊如果你这边 always 的话

24:58.180 --> 25:00.180
大家这边干嘛去循环这个

25:00.180 --> 25:02.180
对不对它是个数组嘛

25:02.180 --> 25:04.180
因为我们这边看到了

25:04.180 --> 25:06.180
它是个数组对不对啊它是个数组的话

25:06.180 --> 25:08.180
让我们这边去循环它循环它

25:08.180 --> 25:10.180
让它拿出来是一个一个对象

25:10.180 --> 25:12.180
对象的话让我们这边就把这个

25:12.180 --> 25:14.180
对应的啊表面存出了路径啊

25:14.180 --> 25:16.180
然后时间啊然后音频大小啊

25:16.180 --> 25:18.180
这些是不是给它显示出来

25:18.180 --> 25:20.180
对不对啊说在这里

25:20.180 --> 25:22.180
这里的话我们的核心工作就是

25:22.180 --> 25:24.180
核心工作是不是就是这个 always

25:24.180 --> 25:26.180
是不是如何拿到这个字啊对不对

25:26.180 --> 25:28.180
那接下来工作的重点就

25:28.180 --> 25:30.180
落到这边了

25:30.180 --> 25:32.180
这边我们的这个function

25:32.180 --> 25:34.180
function get list

25:34.180 --> 25:37.880
啊工作的重点就

25:37.880 --> 25:39.880
落到这里了啊 get list

25:39.880 --> 25:41.880
啊这个get list

25:41.880 --> 25:43.880
get list要做的事情

25:43.880 --> 25:45.880
其实也很简单这边就是

25:45.880 --> 25:47.880
从文件系统里面

25:47.880 --> 25:49.880
从文件

25:49.880 --> 25:51.880
系统里面

25:51.880 --> 25:53.880
获取什么呢获取这个

25:53.880 --> 25:55.880
音频列表

25:55.880 --> 25:57.880
音频列表

25:57.880 --> 25:59.880
接下来更新

25:59.880 --> 26:03.880
更新

26:03.880 --> 26:05.880
是不是就应该是这样子啊

26:05.880 --> 26:07.880
对不对好那接下来我们这边

26:07.880 --> 26:09.880
file system

26:09.880 --> 26:11.880
file system

26:11.880 --> 26:13.880
然后接下来点

26:13.880 --> 26:15.880
这个get它这边有一个

26:15.880 --> 26:17.880
叫做get saved file list

26:17.880 --> 26:19.880
来这边大家过来看一下

26:19.880 --> 26:21.880
get

26:21.880 --> 26:23.880
找一找啊

26:23.880 --> 26:25.880
get file list

26:25.880 --> 26:31.300
呃这边

26:31.300 --> 26:33.300
get saved file list

26:33.300 --> 26:35.300
获取改小程序

26:35.300 --> 26:37.300
下这个以保存的本地缓存的

26:37.300 --> 26:39.300
文件列表

26:39.300 --> 26:41.300
这边就三个回调

26:41.300 --> 26:43.300
six sense fail

26:43.300 --> 26:45.300
complete

26:45.300 --> 26:47.300
大家six sense里面这边res

26:47.300 --> 26:49.300
这边拿到的就是什么呢拿到就是一个数组

26:49.300 --> 26:51.300
OK好所以我们这边调用

26:51.300 --> 26:53.300
这个方法

26:53.300 --> 26:55.300
调用这个方法之后然后接下来话它这边

26:55.300 --> 26:57.300
它说应该是接收一个对象

26:57.300 --> 27:01.300
对象对象然后加这边six sense

27:01.300 --> 27:05.300
对吧six sense然后加这边res

27:05.300 --> 27:07.300
好那在这边我们先来打一下

27:07.300 --> 27:09.300
console.log res

27:09.300 --> 27:11.300
OK好那加这个操作

27:11.300 --> 27:13.300
这个操作在这个

27:13.300 --> 27:15.300
一开始的时候是不是也应该调用一次啊

27:15.300 --> 27:17.300
对不对所以一开始的时候

27:17.300 --> 27:19.300
我们这边也是get list

27:19.300 --> 27:21.300
然后每次录完音的时候

27:21.300 --> 27:23.300
也会重新get list

27:23.300 --> 27:25.300
好这边保存

27:25.300 --> 27:27.300
你看有没有

27:27.300 --> 27:29.300
我这边往上拉一点

27:29.300 --> 27:31.300
有没有拿到了吧

27:31.300 --> 27:33.300
对不对它这边是个数组

27:33.300 --> 27:35.300
数组里面是一个一个的对象

27:35.300 --> 27:37.300
每一个对象就代表一个录音的记录

27:37.300 --> 27:39.300
每个对象就代表录音的这个记录

27:39.300 --> 27:41.300
里面有这个cretan

27:41.300 --> 27:43.300
filepass有这个size

27:43.300 --> 27:45.300
我们回头的话时间就是什么

27:45.300 --> 27:47.300
什么把这个数组给谁就可以了

27:47.300 --> 27:49.300
这个给这个wise就可以了

27:49.300 --> 27:51.300
给了wise然后加这边是不是自然人

27:51.300 --> 27:53.300
就渲染出来了对不对

27:53.300 --> 27:55.300
这个逻辑好

27:55.300 --> 27:57.300
然后接下来我们这边

27:57.300 --> 27:59.300
回到这里

27:59.300 --> 28:01.300
回到这边啊这边的话

28:01.300 --> 28:03.300
后面就简单了对不对

28:03.300 --> 28:05.300
后面的话你就跟着啊跟着写

28:05.300 --> 28:07.300
我这边的首先const

28:07.300 --> 28:09.300
const一个

28:09.300 --> 28:12.740
wise

28:14.740 --> 28:16.740
他是一个空数组

28:16.740 --> 28:18.740
OK这个空数组之后

28:18.740 --> 28:20.740
再加这边我首先对

28:20.740 --> 28:22.740
res点这个file list

28:22.740 --> 28:24.740
我先对他进行一个排序

28:24.740 --> 28:26.740
这边这个sort

28:26.740 --> 28:28.740
好那在这边ab

28:28.740 --> 28:30.740
我这边就直接写了

28:30.740 --> 28:32.740
这边我假定这边

28:32.740 --> 28:34.740
这些大家都是没问题的

28:34.740 --> 28:36.740
这边a点cret time

28:36.740 --> 28:38.740
减去一个b点cret time

28:38.740 --> 28:40.740
这个代码应该看得懂吧

28:40.740 --> 28:42.740
用的是sort对不对

28:42.740 --> 28:44.740
传一个回调函数

28:44.740 --> 28:46.740
根据什么根据他的这个cret time

28:46.740 --> 28:48.740
来进行这个排序

28:48.740 --> 28:50.740
他这边是不是有cret time

28:50.740 --> 28:52.740
进行排序

28:52.740 --> 28:54.740
首先对音频

28:54.740 --> 28:56.740
进行

28:56.740 --> 28:58.740
排序

28:58.740 --> 29:00.740
好排序完了之后然后

29:00.740 --> 29:02.740
接下来的话这个时间

29:02.740 --> 29:04.740
时间的话这边的话要稍微这个处理一下

29:04.740 --> 29:06.740
OK所以我接下来

29:06.740 --> 29:10.440
我们这边复讯还

29:10.440 --> 29:12.440
net i等于0

29:12.440 --> 29:14.440
然后i

29:14.440 --> 29:16.440
小于is

29:16.440 --> 29:18.440
点这个file list

29:18.440 --> 29:20.440
点nce

29:20.440 --> 29:22.440
然后i加加

29:22.440 --> 29:24.440
OK好这边的话会用到

29:24.440 --> 29:26.440
一个工具方法

29:26.440 --> 29:30.010
这工具方法的话我直接把它拿过来

29:30.010 --> 29:32.010
这边在Utils

29:32.010 --> 29:34.010
Utils这边这边他默认是吧

29:34.010 --> 29:36.010
给我们提供了一个这个这样子的工具方法

29:36.010 --> 29:38.010
对不对把这工具方法稍微给他改一下

29:38.010 --> 29:40.010
也是对这个时间的处理

29:40.010 --> 29:42.010
你给我传一个时间戳进来

29:42.010 --> 29:44.010
回头的话我返回一个什么呢

29:44.010 --> 29:46.010
返回一个像这样子格式的

29:46.010 --> 29:48.010
来就是

29:48.010 --> 29:50.010
几几年对吧几月几日

29:50.010 --> 29:52.010
然后十分秒返回一个这样的支付串

29:52.010 --> 29:54.010
就你传一个时间戳

29:54.010 --> 29:56.010
进来那将我返回这个年月日

29:56.010 --> 29:58.010
十分秒就这个意思

29:58.010 --> 30:00.010
好人家这边导出

30:00.010 --> 30:02.010
导出之后然后接下来在这边

30:02.010 --> 30:04.010
这边的话咱们把它

30:04.010 --> 30:06.010
引入一下那这边的话就是

30:06.010 --> 30:08.010
到这追上面

30:08.010 --> 30:10.010
追上面这边const

30:10.010 --> 30:13.320
const一个

30:13.320 --> 30:15.320
format

30:15.320 --> 30:17.320
format that

30:17.320 --> 30:19.320
然后等于

30:19.320 --> 30:21.320
等于require

30:21.320 --> 30:25.140
这边的话是

30:25.140 --> 30:27.140
youtube下面的

30:27.140 --> 30:30.780
youtube

30:30.780 --> 30:32.780
然后回头我们会用到它

30:32.780 --> 30:34.780
好这边呢就复讯

30:34.780 --> 30:36.780
复讯完的话再将我们这边

30:36.780 --> 30:38.780
对这个时间进行格式化

30:38.780 --> 30:40.780
格式化

30:40.780 --> 30:45.880
时间好这边呢就是

30:45.880 --> 30:47.880
format

30:47.880 --> 30:49.880
that

30:49.880 --> 30:51.880
然后接下来的话这边是

30:51.880 --> 30:53.880
is.file list

30:53.880 --> 30:55.880
然后接下来i

30:55.880 --> 30:57.880
i然后这个对象

30:57.880 --> 30:59.880
它的这个点crate

30:59.880 --> 31:01.880
crate然后再加这边你注意

31:01.880 --> 31:03.880
它这边它的这个时间

31:03.880 --> 31:05.880
默认是到秒

31:05.880 --> 31:07.880
它的这个精度是秒

31:07.880 --> 31:09.880
但是我们js里面的话

31:09.880 --> 31:11.880
js里面是毫秒对不对

31:11.880 --> 31:13.880
所以这边你还需要乘一个1000

31:13.880 --> 31:15.880
还需要乘一个1000

31:15.880 --> 31:17.880
好这边就把整个这个

31:17.880 --> 31:19.880
时间把它格式化

31:19.880 --> 31:21.880
格式化了之后再加这边重新给它复制

31:21.880 --> 31:26.410
重新给它复制

31:26.410 --> 31:28.410
对对它的这个crate

31:28.410 --> 31:30.410
把它格式化之后再加重新给它复制

31:30.410 --> 31:32.410
好然后加这边还有什么呢

31:32.410 --> 31:34.410
还有就是把这个音频

31:34.410 --> 31:36.410
音频的话它现在这个大小是

31:36.410 --> 31:38.410
15758

31:38.410 --> 31:40.410
这个是多少呢

31:40.410 --> 31:42.410
这个是b我们把它转成kb

31:42.410 --> 31:44.410
将音频

31:44.410 --> 31:47.850
将音频

31:47.850 --> 31:49.850
这样子我们单独拿个对象

31:49.850 --> 31:51.850
好不好单独拿个对象

31:51.850 --> 31:56.120
这边const

31:56.120 --> 31:58.120
一个crate-time

31:58.120 --> 32:00.120
crate-time

32:00.120 --> 32:02.120
ok这边将音频

32:02.120 --> 32:06.390
从

32:06.390 --> 32:08.390
从这个b

32:08.390 --> 32:10.390
转为什么呢转为kb

32:10.390 --> 32:12.390
从这个b

32:12.390 --> 32:14.390
转为kb好这边呢

32:14.390 --> 32:16.390
我们就是const

32:16.390 --> 32:18.390
一个size

32:18.390 --> 32:20.390
这个size就等于什么呢等于一个这边

32:20.390 --> 32:22.390
res

32:22.390 --> 32:24.390
file list i

32:24.390 --> 32:26.390
点什么它是不是有个size

32:26.390 --> 32:28.390
然后加除一个1024

32:28.390 --> 32:30.390
然后接下来这边再干嘛呢

32:30.390 --> 32:32.390
再取个整

32:32.390 --> 32:35.770
再取个整tofixed

32:35.770 --> 32:37.770
2

32:37.770 --> 32:39.770
ok这个是对这个大小

32:39.770 --> 32:41.770
进行改变

32:41.770 --> 32:43.770
改变之后然后加我们这边

32:43.770 --> 32:45.770
我们创建一个这个对象

32:45.770 --> 32:47.770
我们这边就直接往os

32:47.770 --> 32:49.770
osar里面

32:49.770 --> 32:51.770
点push

32:51.770 --> 32:53.770
push一个新的对象

32:53.770 --> 32:55.770
这个新的对象然后加这边这个file pass

32:55.770 --> 32:57.770
file

32:57.770 --> 32:59.770
file pass

32:59.770 --> 33:01.770
对应的是什么呢对应的是你这边

33:01.770 --> 33:03.770
i

33:03.770 --> 33:05.770
点什么

33:05.770 --> 33:07.770
所以你这边有个file pass

33:07.770 --> 33:09.770
对不对好

33:09.770 --> 33:11.770
人家这边这个crate-time

33:11.770 --> 33:13.770
crate-time的话就直接用我这个crate-time

33:15.770 --> 33:17.770
对吧好size

33:17.770 --> 33:19.770
size的话直接用我这个size

33:19.770 --> 33:21.770
是不是ok了那整个

33:21.770 --> 33:23.770
否讯还一完然后加这个osar

33:23.770 --> 33:25.770
ar里面就是一个一个对象

33:25.770 --> 33:27.770
这个对象的话和这个对象其实很相似

33:27.770 --> 33:29.770
只不过这个time的话是处理过的

33:29.770 --> 33:31.770
这size是不是也是处理过的

33:31.770 --> 33:33.770
对不对好那接下来整个

33:33.770 --> 33:35.770
否讯还完了之后来我们来打一下

33:35.770 --> 33:37.770
console.log

33:37.770 --> 33:39.770
这个osar

33:39.770 --> 33:41.770
打一下这个输出

33:41.770 --> 33:43.770
好重新来

33:43.770 --> 33:45.770
ok

33:45.770 --> 33:47.770
展开

33:47.770 --> 33:49.770
输出来了对不对

33:49.770 --> 33:51.770
你看这边就出来了11.36

33:51.770 --> 33:53.770
录的音对不对大家这个

33:53.770 --> 33:55.770
这个的话是这个15 kb

33:55.770 --> 33:57.770
ok好出来了就好办了

33:57.770 --> 33:59.770
出来了然后接下来的话这边就干嘛

33:59.770 --> 34:01.770
这边是不是就是

34:01.770 --> 34:03.770
这边用这个下滑线

34:03.770 --> 34:05.770
z.setData

34:05.770 --> 34:07.770
对不对好那给谁

34:07.770 --> 34:09.770
这不给这个os

34:09.770 --> 34:11.770
对不对把它更新成什么

34:11.770 --> 34:13.770
是os

34:13.770 --> 34:15.770
osar

34:15.770 --> 34:17.770
对不对好

34:17.770 --> 34:19.770
这边变异象

34:19.770 --> 34:21.770
ok

34:21.770 --> 34:23.770
这边的话应该是就一开始就应该是

34:23.770 --> 34:25.770
出来的呀

34:25.770 --> 34:27.770
再编一下

34:27.770 --> 34:29.770
这边的话出了一点问题

34:29.770 --> 34:31.770
出了点问题一开始的话这边的话

34:31.770 --> 34:33.770
应该是os现在是不是应该是有值了

34:33.770 --> 34:35.770
看一下啊

34:35.770 --> 34:37.770
os

34:37.770 --> 34:39.770
os现在应该是有值了有值的话

34:39.770 --> 34:41.770
他这边的话这里

34:41.770 --> 34:43.770
这里的话应该是能够

34:43.770 --> 34:45.770
选人出来这边应该就是那个一条一条的

34:45.770 --> 34:47.770
就应该已经选人出来了

34:47.770 --> 34:49.770
好我这边让我检查一下我看一下哪里出问题了

34:49.770 --> 34:51.770
好我这边让我检查一下我看一下哪里出问题了

34:51.770 --> 34:53.770
一开始调用了一开始调用了

34:53.770 --> 34:55.770
一开始调用了一开始调用了

34:55.770 --> 34:57.770
调用了之后然后接下来这边

34:57.770 --> 34:59.770
4循环

34:59.770 --> 35:01.770
我们刚才打印

35:01.770 --> 35:03.770
console.log

35:03.770 --> 35:05.770
打印这个osar

35:05.770 --> 35:07.770
这边打印都是出来了

35:07.770 --> 35:12.040
对不对这边都是出来了

35:12.040 --> 35:15.480
是os写错了吗

35:15.480 --> 35:17.480
这个写错了

35:17.480 --> 35:19.480
这边没写错呀

35:19.480 --> 35:21.480
这边的话然后

35:21.480 --> 35:23.480
应该是和这边

35:23.480 --> 35:25.480
我看这边的话是os

35:25.480 --> 35:29.430
我们到这边来看一下呢

35:29.430 --> 35:31.430
这边是不是他写错了

35:31.430 --> 35:33.430
对不对他写错了

35:33.430 --> 35:35.430
好那我们这边就把他拿过来吧

35:35.430 --> 35:37.430
OK好这边os

35:37.430 --> 35:39.430
包括这里

35:39.430 --> 35:41.430
包括这里

35:41.430 --> 35:43.430
这里给他复制对不对

35:43.430 --> 35:45.430
这个就不管了吧

35:45.430 --> 35:47.430
OK好来保存一下

35:47.430 --> 35:49.430
说出来了对不对

35:49.430 --> 35:51.430
刚才的这个这条录音就已经出来了

35:51.430 --> 35:53.430
出来了之后

35:53.430 --> 35:55.430
然后接下来我们这边还有个工作

35:55.430 --> 35:57.430
什么点击之后然后要

35:57.430 --> 35:59.430
可以什么说可以播放呀

35:59.430 --> 36:01.430
对不对

36:01.430 --> 36:03.430
点击之后我们希望他能够播放

36:03.430 --> 36:05.430
我们这边来看一下

36:05.430 --> 36:07.430
我这边的话在使用这个

36:07.430 --> 36:09.430
微信4循环的时候

36:09.430 --> 36:11.430
你看我给整个这个盒子

36:11.430 --> 36:13.430
整个这个盒子

36:13.430 --> 36:15.430
这边的这个存储路径存储时间存储大小

36:15.430 --> 36:17.430
对应的是这三个

36:17.430 --> 36:19.430
绑定了一个什么

36:19.430 --> 36:21.430
go to play

36:21.430 --> 36:23.430
好所以说我们这边的话

36:23.430 --> 36:27.130
再来写一个

36:27.130 --> 36:29.130
这个是按下的时候

36:29.130 --> 36:31.130
这个是抬起来的时候

36:31.130 --> 36:33.130
然后加这边再来写个go to play

36:33.130 --> 36:35.130
这个是什么呢

36:35.130 --> 36:39.400
这个是播放录音

36:39.400 --> 36:41.400
播放录音

36:41.400 --> 36:43.400
OK好那现在的话

36:43.400 --> 36:45.400
他这个播放录音他这个

36:45.400 --> 36:47.400
也不一样了

36:47.400 --> 36:49.400
也不一样了以前播放录音的话

36:49.400 --> 36:51.400
就直接我记得是一个什么

36:51.400 --> 36:53.400
play video

36:53.400 --> 36:55.400
反正直接微信调一个这个方法就可以了

36:55.400 --> 36:57.400
那现在的话他这种方式

36:57.400 --> 36:59.400
他也改了啊也改了

36:59.400 --> 37:01.400
我们首先啊我们这边在按的时候

37:01.400 --> 37:03.400
你这边通过什么呢通过这个

37:03.400 --> 37:05.400
时间对象啊这边console

37:05.400 --> 37:07.400
点log

37:07.400 --> 37:09.400
1点这个current

37:09.400 --> 37:13.480
target

37:13.480 --> 37:15.480
currenttarget

37:15.480 --> 37:17.480
点这个data set

37:17.480 --> 37:19.480
data set

37:19.480 --> 37:21.480
key

37:21.480 --> 37:23.480
我们这边来看一下

37:23.480 --> 37:25.480
这边可以拿到那个路径

37:25.480 --> 37:27.480
保存

37:27.480 --> 37:29.480
好这边点击你看是不可以拿到

37:29.480 --> 37:31.480
好这边为什么可以拿到呢

37:31.480 --> 37:33.480
是因为在这里

37:33.480 --> 37:35.480
这里的话是不是有一个data

37:35.480 --> 37:37.480
刚key对不对key大家把这个file

37:37.480 --> 37:39.480
pass啊绑在这个key上面

37:39.480 --> 37:41.480
所以我们这边可以拿到什么可以拿到这个

37:41.480 --> 37:43.480
可以拿到他这个

37:43.480 --> 37:45.480
存储的路径

37:45.480 --> 37:47.480
那拿到这个存储的路径的话

37:47.480 --> 37:49.480
播放的话其实就很简单了

37:49.480 --> 37:51.480
以前的话直接就把这个路径

37:51.480 --> 37:53.480
交给那个就是播放

37:53.480 --> 37:55.480
play

37:55.480 --> 37:57.480
这个recorder play还是什么

37:57.480 --> 37:59.480
反正就是一个api

37:59.480 --> 38:01.480
直接播放就可以了

38:01.480 --> 38:03.480
现在的话稍微麻烦那么一点点

38:03.480 --> 38:05.480
这边的话你要播放音频的话

38:05.480 --> 38:07.480
这边的话你得创建一个

38:07.480 --> 38:09.480
上下文对象

38:09.480 --> 38:11.480
ok来到这边

38:11.480 --> 38:13.480
这边来看一下

38:13.480 --> 38:15.480
你看他这边呢有个微信

38:15.480 --> 38:17.480
create a inner audio context

38:17.480 --> 38:19.480
你需要创建一个什么呢

38:19.480 --> 38:21.480
创建一个edio context

38:21.480 --> 38:23.480
的这个上下文对象

38:23.480 --> 38:25.480
专门用来什么呢

38:25.480 --> 38:27.480
专门用来播放音频

38:27.480 --> 38:29.480
所以我们这边需要创建这么一个

38:29.480 --> 38:31.480
上下文对象就不像以前了

38:31.480 --> 38:33.480
以前是直接调那个播放的那个

38:33.480 --> 38:35.480
api方法就可以了

38:35.480 --> 38:38.980
好我们这边

38:38.980 --> 38:40.980
播放

38:40.980 --> 38:42.980
播放音频的这个

38:42.980 --> 38:44.980
全局

38:44.980 --> 38:46.980
上下文

38:46.980 --> 38:48.980
对象

38:48.980 --> 38:50.980
来我们这边const

38:50.980 --> 38:52.980
const一个edio

38:52.980 --> 38:54.980
edio context

38:54.980 --> 39:00.020
ok

39:00.020 --> 39:02.020
创建这么一个

39:02.020 --> 39:04.020
这边写错了const

39:04.020 --> 39:06.020
创建这么一个上下文对象

39:06.020 --> 39:08.020
创建完了之后然后接下来的话

39:08.020 --> 39:10.020
这边你注意你要把那个autoplay

39:10.020 --> 39:12.020
你把它设置成这个q

39:14.020 --> 39:16.020
就让他就是你点击之后

39:16.020 --> 39:18.020
他能够自动的开始播放

39:18.020 --> 39:20.020
好然后接下来这边

39:20.020 --> 39:22.020
这边的话再来调用这个上下文对象的

39:22.020 --> 39:24.020
这个方法就可以了

39:24.020 --> 39:26.020
这边的话你就直接调用

39:26.020 --> 39:29.660
调用这个

39:29.660 --> 39:31.660
哦这边不是他这边有一个势力

39:31.660 --> 39:33.660
我想起来了这边有一个势力

39:33.660 --> 39:35.660
这边是什么呢

39:35.660 --> 39:37.660
设置src

39:37.660 --> 39:39.660
设置src之后再来调这个play

39:39.660 --> 39:41.660
但是前提是你要把那个autoplay

39:41.660 --> 39:43.660
你把它设置为q

39:43.660 --> 39:45.660
我之前的话我就是设置了src

39:45.660 --> 39:47.660
然后直接就按照他这样子写的

39:47.660 --> 39:49.660
然后发现了没有声音

39:49.660 --> 39:51.660
后来的话才发现

39:51.660 --> 39:53.660
这边需要把那个autoplay设置为q

39:53.660 --> 39:55.660
所以你看我这边有个代码

39:55.660 --> 39:57.660
把这个设置为q

39:57.660 --> 39:59.660
让他能够自动播放

39:59.660 --> 40:01.660
好然后接下来这边

40:01.660 --> 40:03.660
这边的话就

40:03.660 --> 40:05.660
autocontext.src

40:05.660 --> 40:07.660
设置为谁

40:07.660 --> 40:09.660
设置为他

40:09.660 --> 40:11.660
对这个打印就不用打印了

40:11.660 --> 40:13.660
OK设置他

40:13.660 --> 40:15.660
之后再来调用什么呢

40:15.660 --> 40:17.660
再来调用play

40:17.660 --> 40:21.420
方法对吧

40:21.420 --> 40:23.420
再来调用这个play

40:23.420 --> 40:25.420
好然后接下来开始播放之后

40:25.420 --> 40:27.420
这边微信点修

40:27.420 --> 40:29.420
toster

40:29.420 --> 40:34.140
开始播放

40:34.140 --> 40:36.140
开始播放对吧

40:36.140 --> 40:38.140
给个icon

40:38.140 --> 40:40.140
icon的话这边是src

40:40.140 --> 40:42.140
给个duration

40:42.140 --> 40:44.140
duration

40:44.140 --> 40:46.140
对应的是1000

40:46.140 --> 40:48.140
好来我们这边来看一下

40:48.140 --> 40:50.140
播放

40:50.140 --> 40:52.140
hello hello你好

40:52.140 --> 40:54.140
是不是OK了

40:54.140 --> 40:56.140
对播放了

40:56.140 --> 40:58.140
这边点接说这边有个提示

40:58.140 --> 41:00.140
然后接下来这边播放完之后

41:00.140 --> 41:02.140
你可以让他就是播放结束

41:02.140 --> 41:04.140
对吧也给用户一个提示

41:04.140 --> 41:06.140
播放结束的话这边你就该干嘛

41:06.140 --> 41:09.700
就监听一个事件了

41:09.700 --> 41:11.700
对吧这边监听来看一下他有些什么事件

41:13.700 --> 41:15.700
这边的话他有这个

41:15.700 --> 41:17.700
这边他应该是on

41:17.700 --> 41:19.700
不是onstop

41:19.700 --> 41:21.700
我之前绑的stop我发现不生效

41:21.700 --> 41:23.700
他是一个叫做

41:23.700 --> 41:25.700
onend

41:25.700 --> 41:27.700
这里不是这个

41:27.700 --> 41:29.700
这个

41:29.700 --> 41:31.700
自然结束的时候

41:31.700 --> 41:33.700
stop是手动停止的时候

41:33.700 --> 41:35.700
监听音频自然播放

41:35.700 --> 41:37.700
自结束的这个事件

41:37.700 --> 41:39.700
应该是onend

41:39.700 --> 41:43.020
好这边

41:43.020 --> 41:45.020
然后接下来这边

41:45.020 --> 41:47.020
我们也不做什么事情

41:47.020 --> 41:49.020
我们这边就干嘛是不是给他给用户一个提示

41:49.020 --> 41:52.710
对吧给用户一个提示

41:52.710 --> 41:54.710
给用户一个提示

41:54.710 --> 41:56.710
播放结束

41:56.710 --> 41:58.710
播放

41:58.710 --> 42:00.710
结束保存

42:00.710 --> 42:02.710
大家这边来看一下

42:02.710 --> 42:04.710
hello hello你好

42:04.710 --> 42:06.710
播放结束

42:06.710 --> 42:08.710
好那整个这个的话就OK了

42:08.710 --> 42:10.710
来我们再来录一个

42:10.710 --> 42:12.710
今天的话是情人节

42:12.710 --> 42:14.710
大家情人节快乐

42:14.710 --> 42:16.710
OK

42:16.710 --> 42:18.710
这边完事之后

42:18.710 --> 42:20.710
应该是调用

42:20.710 --> 42:22.710
这边应该是自动就更新了

42:22.710 --> 42:24.710
我看一下

42:24.710 --> 42:26.710
这边录音结束

42:26.710 --> 42:28.710
我们这边没调用

42:28.710 --> 42:30.710
这边没调用

42:30.710 --> 42:32.710
这边那就是get list

42:32.710 --> 42:34.710
是不是也是调用get list

42:34.710 --> 42:36.710
对重新保存

42:36.710 --> 42:38.710
保存

42:38.710 --> 42:40.710
现在的话是有两条对吧

42:40.710 --> 42:42.710
今天的话是情人节

42:42.710 --> 42:44.710
情人节快乐

42:44.710 --> 42:46.710
然后在这边我们再来一个

42:46.710 --> 42:48.710
欢迎大家学习微信小程序

42:48.710 --> 42:50.710
你看这边有个bug

42:50.710 --> 42:52.710
这个的话你到时候用那个定位

42:52.710 --> 42:54.710
你们自己把它处理一下

42:54.710 --> 42:56.710
OK是不是自动就出来了

42:56.710 --> 42:58.710
欢迎大家学习微信小程序

42:58.710 --> 43:00.710
你看这边有个bug

43:00.710 --> 43:02.710
这个的话你到时候用那个定位

43:02.710 --> 43:04.710
你们自己把它处理一下

43:04.710 --> 43:06.710
OK是吧

43:06.710 --> 43:08.710
整个这个就搞定了

43:08.710 --> 43:10.710
就搞定了

43:10.710 --> 43:12.710
最后的话是关于这个清除录音

43:12.710 --> 43:14.710
清除录音的话我们这边来看一下

43:14.710 --> 43:16.710
清除录音的话

43:16.710 --> 43:18.710
这边绑定了用一个叫做clear list

43:18.710 --> 43:22.020
大家我们在这里

43:22.020 --> 43:24.020
我们来写一下

43:24.020 --> 43:28.620
清除录音

43:28.620 --> 43:30.620
清除录音

43:30.620 --> 43:32.620
这边是一个clear list

43:34.620 --> 43:36.620
清除录音的话

43:36.620 --> 43:38.620
然后它的原理就是

43:38.620 --> 43:40.620
首先先从里面读取出来

43:40.620 --> 43:42.620
首先的话调什么呢

43:42.620 --> 43:44.620
file system

43:44.620 --> 43:46.620
大家这边有个get saved

43:46.620 --> 43:48.620
file list

43:48.620 --> 43:50.620
对吧好

43:50.620 --> 43:52.620
大家这边的这个sync sense

43:52.620 --> 43:54.620
sync sense

43:54.620 --> 43:56.620
然后接下来我们这边解构

43:56.620 --> 43:58.620
把这个file list

43:58.620 --> 44:00.620
把它解构出来

44:00.620 --> 44:02.620
解构出来之后再将我们这边打印一下

44:02.620 --> 44:06.380
console.nog

44:06.380 --> 44:08.380
file list

44:08.380 --> 44:10.380
OK好来我们这边来看一下

44:10.380 --> 44:12.380
重新编一下

44:12.380 --> 44:14.380
好这边清除录音

44:14.380 --> 44:16.380
这把这边出来

44:16.380 --> 44:18.380
对不对

44:18.380 --> 44:20.380
首先把这个file list这个数组拿到

44:20.380 --> 44:22.380
拿到之后然后接下来的话

44:22.380 --> 44:24.380
调每一个文件

44:24.380 --> 44:26.380
然后把它这个清除掉就可以了

44:26.380 --> 44:28.380
这边呢就是它有个叫做什么呢

44:28.380 --> 44:30.380
叫做remove

44:30.380 --> 44:32.380
saved file

44:32.380 --> 44:34.380
看这里

44:34.380 --> 44:36.380
有一个remove

44:36.380 --> 44:38.380
这个是在那个

44:38.380 --> 44:40.380
file system

44:40.380 --> 44:42.380
就是inner

44:42.380 --> 44:44.380
然后file system

44:44.380 --> 44:46.380
找一下啊这边

44:46.380 --> 44:48.380
它有一个remove

44:48.380 --> 44:50.380
我看是不是叫remove对的

44:50.380 --> 44:52.380
叫remove

44:52.380 --> 44:54.380
remove这里

44:54.380 --> 44:56.380
remove saved file

44:56.380 --> 44:58.380
这个的话就是删除该小程序下

44:58.380 --> 45:00.380
以保存的

45:00.380 --> 45:02.380
本地这个文件

45:02.380 --> 45:04.380
你就把它这个删除就可以了

45:04.380 --> 45:06.380
这边接收一个对象对象里面有这个file pass

45:06.380 --> 45:08.380
就是你要删除了那个文件的那个pass

45:08.380 --> 45:10.380
那接下来你这边pass是不是这边拿得到

45:10.380 --> 45:12.380
对不对

45:12.380 --> 45:14.380
拿得到那是简单的嘛

45:14.380 --> 45:15.380
对不对啊这边

45:15.380 --> 45:16.380
复讯环呗

45:16.380 --> 45:18.380
net一个i等于0

45:18.380 --> 45:20.380
i

45:20.380 --> 45:22.380
小于一个file

45:22.380 --> 45:24.380
这个file list

45:24.380 --> 45:26.380
file list

45:26.380 --> 45:28.380
然后点认

45:28.380 --> 45:30.380
然后哎呀呀

45:30.380 --> 45:32.380
首先复讯环

45:32.380 --> 45:34.380
复讯环之后

45:34.380 --> 45:36.380
file list i

45:36.380 --> 45:38.380
不能拿到每个文件

45:38.380 --> 45:40.380
然后每个文件然后接下来点

45:40.380 --> 45:42.380
file pass是不可以拿到他们的路径

45:42.380 --> 45:44.380
拿到他们的路径然后接下来的话

45:44.380 --> 45:46.380
这边调用什么是不调用这个

45:46.380 --> 45:48.380
file system

45:48.380 --> 45:50.380
点remove的

45:50.380 --> 45:52.380
对不对save

45:52.380 --> 45:54.380
save的file

45:54.380 --> 45:56.380
然后加这边的话创一个对象对象这边

45:56.380 --> 45:58.380
是file pass对应的就是

45:58.380 --> 46:00.380
你要删除了对不对

46:00.380 --> 46:02.380
删除完了之后然后接下来

46:02.380 --> 46:04.380
这边在sixth

46:04.380 --> 46:06.380
这边我们判断一下

46:06.380 --> 46:08.380
它是否是最后一个文件

46:08.380 --> 46:10.380
怎么判断你这边是复讯环吗

46:10.380 --> 46:12.380
复讯环我这边判断i

46:12.380 --> 46:14.380
如果全等于什么呢

46:14.380 --> 46:16.380
全等于这个file list

46:16.380 --> 46:19.750
file list 点

46:19.750 --> 46:21.750
认是-1

46:21.750 --> 46:23.750
说明是不是最后一个文件对不对

46:23.750 --> 46:25.750
说明

46:25.750 --> 46:27.750
已经是

46:27.750 --> 46:29.750
删除

46:29.750 --> 46:33.320
最后一个文件了

46:33.320 --> 46:35.320
那接下来我这边就是干嘛

46:35.320 --> 46:37.320
就是

46:37.320 --> 46:39.320
微信

46:39.320 --> 46:41.320
点show toaster

46:41.320 --> 46:43.320
删除完毕

46:43.320 --> 46:45.320
就以删除嘛

46:45.320 --> 46:47.320
以清除

46:47.320 --> 46:49.320
给个icon

46:49.320 --> 46:52.890
sixth

46:52.890 --> 46:54.890
对吧duration

46:54.890 --> 46:56.890
一秒

46:56.890 --> 46:58.890
完事之后你不要忘了把那个

46:58.890 --> 47:00.890
把那个那个

47:00.890 --> 47:02.890
就这个数组把它清空

47:02.890 --> 47:04.890
不然这个数组有值的话这边看到的就还有东西

47:04.890 --> 47:06.890
对吧你那边删除的话只是把那个

47:06.890 --> 47:08.890
文件系统里面的删除了

47:08.890 --> 47:10.890
这边你要把它也清空

47:10.890 --> 47:12.890
这边那就是下滑线

47:12.890 --> 47:14.890
z

47:14.890 --> 47:18.580
点set data

47:18.580 --> 47:20.580
把它重新改成什么呢

47:20.580 --> 47:22.580
重新改成空速组

47:22.580 --> 47:24.580
保存

47:24.580 --> 47:26.580
保存之后人家在这边清除

47:26.580 --> 47:28.580
不搞定了对不对

47:28.580 --> 47:30.580
你再刷新也没有

47:30.580 --> 47:32.580
对吧空速组

47:32.580 --> 47:34.580
好重新录制一个

47:34.580 --> 47:36.580
你好你好

47:36.580 --> 47:38.580
是不OK

47:38.580 --> 47:40.580
对吧你好你好

47:40.580 --> 47:42.580
哈喽哈喽哈喽

47:42.580 --> 47:44.580
今天天气非常的好

47:44.580 --> 47:46.580
然后有大太阳

47:48.580 --> 47:50.580
今天天气非常的好

47:50.580 --> 47:52.580
然后有大太阳

47:52.580 --> 47:54.580
OK那播放结束

47:54.580 --> 47:56.580
清除录音

47:56.580 --> 47:58.580
搞定

47:58.580 --> 48:00.580
我们整个录音的这个案例

48:00.580 --> 48:02.580
就给大家介绍完毕了

48:02.580 --> 48:04.580
那下去的话可以自己把这个例子

48:04.580 --> 48:06.580
自己再看一看

48:06.580 --> 48:08.580
好这期课的话就到这里

48:08.580 --> 48:10.580
再见

