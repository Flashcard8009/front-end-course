WEBVTT

00:00.820 --> 00:09.260
上一节课我们已经把添加文章和文章列表里面

00:09.520 --> 00:14.380
有一个修改文章 编辑文章 把这两个功能已经做完了

00:14.640 --> 00:19.260
那么我们这里的话 基本上就整个文章管理这个模块

00:19.760 --> 00:20.540
我们就写完了

00:21.560 --> 00:26.420
那这个文章管理模块写完 其实后面的话 基本上你就都会写了

00:27.180 --> 00:31.540
也就是说你到目前为止的话 这个项目其实就已经完成

00:31.800 --> 00:35.380
70%了 为什么这么说呢 你看后面

00:35.640 --> 00:37.420
后面比如这个项目列表

00:38.200 --> 00:39.980
看这边 看成品

00:40.500 --> 00:42.560
比如这边 把这个先关掉

00:43.060 --> 00:45.360
你看这边这个项目 项目列表

00:45.880 --> 00:48.180
你看 这不就是把这个项目展示出来

00:48.700 --> 00:50.480
然后接下来这边添加项目

00:51.000 --> 00:52.020
这都是一样的

00:52.280 --> 00:53.560
然后接下来这边评论

00:54.280 --> 00:56.580
评论就更简单了 评论和这个留言板

00:56.840 --> 00:59.400
倒是我们花一节课时间

01:00.160 --> 01:02.980
稍微花点时间把他讲一下 然后后面一个这个关于我

01:03.500 --> 01:04.380
这个也跟

01:04.640 --> 01:06.820
也很简单 然后加一个这个设置

01:07.340 --> 01:09.380
对吧 然后接下来还有一个就是

01:10.160 --> 01:11.940
更改这个密码

01:12.460 --> 01:14.000
基本上就都是一样的了

01:14.260 --> 01:16.800
所以说目前为止的话 你的项目就已经完成

01:17.060 --> 01:19.120
不说80%至少70%

01:19.880 --> 01:20.900
是有的

01:21.360 --> 01:24.860
然后我们这节课的话 我们稍微花一点点时间 我们帮我们的这个

01:25.120 --> 01:27.260
文章管理 我们把它优化一下

01:28.020 --> 01:29.040
优化什么东西呢

01:29.300 --> 01:30.320
首先你注意这里

01:30.580 --> 01:31.860
这边

01:32.620 --> 01:35.440
这边的话 比如说我鼠标一上去 你可以看到这边

01:35.700 --> 01:38.260
你可以看到这些是不是都是中文的

01:39.020 --> 01:41.840
对不对 但是我们这边的话 你一过来

01:42.100 --> 01:44.140
比如说添加文章

01:44.400 --> 01:45.420
你这边你看一下

01:46.200 --> 01:47.220
这边是不是英文的

01:47.940 --> 01:51.260
所以我们这边的话 首先第一个事情 我们就是把这个编辑器

01:51.520 --> 01:54.340
这个马克当的编辑器 我们把它优化一下

01:54.600 --> 01:56.140
好 回到我们的这个代码

01:56.640 --> 01:57.920
我们找到这个

01:59.200 --> 02:04.060
找到src下面views 下面的这个andblog

02:04.840 --> 02:05.860
找到这边

02:06.380 --> 02:09.700
找到这边之后 然后接下来我们这边如何来进行

02:09.960 --> 02:11.500
把它变成这个中文的

02:11.760 --> 02:12.520
你看这边

02:13.800 --> 02:15.320
这边我这边打开了

02:15.660 --> 02:17.060
这边是一个英文的文档

02:17.320 --> 02:18.600
这个就是这个

02:18.860 --> 02:19.980
toaster UI

02:20.240 --> 02:22.180
它支持什么呢 它支持你看这边

02:22.440 --> 02:23.720
international

02:23.980 --> 02:25.260
然后接下来这个

02:25.520 --> 02:27.040
internationalization

02:27.300 --> 02:29.100
就是这种国际化的

02:29.360 --> 02:32.420
也就是它就是支持多个语言版本

02:33.180 --> 02:34.340
看到没有 你看它这边写的有

02:34.600 --> 02:36.780
在它的这个tui editor

02:37.040 --> 02:40.100
下面这个src下面有一个这个

02:41.120 --> 02:42.140
有一个这个这个

02:42.400 --> 02:43.420
i18n

02:43.620 --> 02:46.440
然后里面的话其实就是配置了各种各样的这个语言

02:47.200 --> 02:49.520
看到没有 各种各样的语言都有

02:49.780 --> 02:50.540
你看这边

02:50.800 --> 02:52.080
比如这个中文

02:52.580 --> 02:54.900
这个是中文简体 是吧

02:55.160 --> 02:56.180
中文简体

02:56.440 --> 02:58.220
然后接下来这边的话是中文繁体

02:58.980 --> 03:01.800
看到没有 接下来其他语言都有

03:02.060 --> 03:04.880
所以我们这边的话我们只需要配置一下就可以了

03:05.140 --> 03:05.900
那怎么配置呢

03:06.160 --> 03:07.700
回到我们的这个代码里面

03:08.980 --> 03:11.540
回到我们代码里面 我们这边的话首先

03:11.800 --> 03:12.820
在下面

03:13.940 --> 03:16.240
下面 下面的话我们新增一个

03:16.500 --> 03:18.280
新增一个叫做什么呢 叫做这个

03:18.800 --> 03:20.840
我把那个自动保存 我先把它关掉

03:21.620 --> 03:23.400
不然他敲个制服就自动保存

03:23.660 --> 03:25.960
好 我们这边呢 先新增一个叫做

03:26.220 --> 03:27.760
editor options

03:28.520 --> 03:29.540
editor

03:29.800 --> 03:31.080
然后options

03:32.120 --> 03:34.160
然后这边呢 他是一个这个对象

03:34.660 --> 03:37.740
对象然后接下来你在这边就设置它的这个language

03:39.630 --> 03:40.390
language

03:40.650 --> 03:41.410
设置它为什么呢

03:41.670 --> 03:43.970
zh-cn

03:45.770 --> 03:48.070
然后完事之后在你的这个上面

03:48.590 --> 03:50.890
就是我们使用这个editor这个地方

03:51.650 --> 03:54.210
这个地方啊 这个地方其实我们也没配置多少

03:54.470 --> 03:56.010
对不对 我们就只配这三个

03:56.270 --> 03:58.310
那这边的话你就加上一个配置项

03:58.570 --> 04:00.110
这边呢就是options

04:01.650 --> 04:05.730
options等于什么呢 等于我们刚才说写的这个editor

04:07.010 --> 04:08.290
editor option

04:09.570 --> 04:11.370
啊 然后我们这边的话保存

04:11.950 --> 04:13.430
保存了之后 然后现在我们

04:13.690 --> 04:14.950
回过头来我们来看一下

04:16.230 --> 04:19.830
好 然后这边 呃 这边呢 是不是目前还是英文

04:20.330 --> 04:23.150
对不对 那我们去查一下它的文档 我们看一下它这个文档

04:23.650 --> 04:26.230
文档里面的话 它这边说的是

04:27.230 --> 04:30.570
哦 这边这边是不是得引入相关的这个文件

04:31.850 --> 04:33.890
看到没有 得引入相关的文件

04:34.150 --> 04:35.690
啊 然后如果是这个

04:36.210 --> 04:37.490
呃 这边的话

04:37.750 --> 04:38.250
你看

04:38.710 --> 04:42.810
是不是得引入相关的文件 啊 这边每一部写的有 所以我们这边还需要一个动作

04:43.070 --> 04:44.350
把这个把它引一下

04:45.110 --> 04:47.670
啊 引了之后你看它这边是不是也是相同的配置

04:48.190 --> 04:49.990
看到没有 好 我们把这个引一下

04:51.510 --> 04:52.030
然后

04:52.790 --> 04:54.070
来到我们这边

04:55.870 --> 04:56.890
好 然后下面

04:58.170 --> 05:02.530
啊 把这个引入一下 引入的话 然后既然你要去找一下它那个文件叫什么名字

05:02.790 --> 05:05.350
那这边的话来到你的loader module

05:05.590 --> 05:07.910
loader module下面是不是有一个toaster UI

05:08.010 --> 05:11.690
你跟着它这找 看到没有 跟着它这找 那接下来是不是有一个editor

05:12.370 --> 05:14.450
editor下面有一个dist

05:14.770 --> 05:17.090
dist下面是不是 你看是不是有 对不对

05:17.330 --> 05:21.890
这个 这个的话 然后接下来它的这个势力是引的是这个韩语

05:22.150 --> 05:24.450
那我们的话我们要引中文 中文的话是不是

05:24.710 --> 05:26.050
zh-cn

05:26.570 --> 05:28.610
啊 那这边你就是zh

05:29.110 --> 05:30.890
然后干cn

05:31.150 --> 05:32.690
好 来看一下好保持 保存

05:33.970 --> 05:36.930
保存之后回到我们这边 啊 我们这边让我们来看一下

05:37.390 --> 05:38.790
好 你看中文是不是就出来了

05:39.710 --> 05:44.270
看到没有 啊 中文就出来了 啊 这是我们的第一个优化 我们对这个编辑器

05:44.750 --> 05:49.430
稍微进行一个小小的优化 而第二个优化就是什么呢 第二个优化就是这里

05:50.510 --> 05:55.950
大家看一下 就目前为止的话 我们这个添加文章啊 你看这个是我们这个添加文章的页面

05:56.310 --> 06:00.630
对不对 有这个文章标题 然后接下来这个markdown这个编辑器

06:00.990 --> 06:06.830
然后接下来的话描述 然后图片 然后接下来的话这边啊 选择这个分类

06:07.910 --> 06:12.790
是吧 啊 然后接下来的话 你仔细注意一下 就是我们这边 如果我们是编辑的话

06:13.990 --> 06:17.230
如果我们是编辑 你会发现这个页面是不是长得一模一样

06:17.830 --> 06:20.630
对不对 直播他干嘛呢 他是不是把这个信息回填进去了

06:21.350 --> 06:24.350
而且我们在写的时候 你也会发现啊 就是我们这边

06:26.110 --> 06:30.670
我把这展开啊 就我们这边的话 我们的这个andblog

06:31.150 --> 06:35.310
就这个文件 啊andblog和这个editblog

06:36.290 --> 06:43.770
editblog 是不是基本上是一模一样的 对不对啊 我们上一节课在写这个editblog的时候

06:44.090 --> 06:46.330
我们就是进行了一些小小的调整

06:47.010 --> 06:50.250
就完了 那我们现在的话 我们这个代码就是荣誉的

06:51.250 --> 06:57.130
对吧 代码就是荣誉的 那怎么办呢 那这里的话 其实你就可以把它单独的把它提出来

06:57.730 --> 07:04.210
啊 就是单独的做一个组件 那比如说我们这边的话 在我们的这个component之下面 我们新建一个组件

07:04.830 --> 07:06.670
啊 比如这个组件叫做edit

07:07.950 --> 07:12.800
edit 比如article.vue

07:13.520 --> 07:18.120
ok 那回头的话 我们把这个andblog所有的这个内容

07:18.960 --> 07:22.920
我们就把它拿过去啊 放到我们这边

07:24.640 --> 07:33.920
看到没有 单独的形成一个组件 形成一个组件之后 然后接下来的话 这边 在这个andblog里面啊 我们这边上就是vbass

07:34.540 --> 07:37.820
啊 这边让我们给这儿加上那个appcontainer

07:39.660 --> 07:45.100
appcontainer 然后接下这个组件是不是就不用加了 对不对 这个就单纯包一个这个diw就可以了

07:45.620 --> 07:48.820
ok 好 然后接下来在这边 这边我们是不是使用那个

07:49.500 --> 07:51.020
editarticle那个组件

07:51.860 --> 07:57.980
是不是就ok了 对吧 那我们这边的话 我们就来使用一下 那你使用的话 首先第一步是不是得引入

07:58.600 --> 08:02.360
说说回到这边啊 来到这边 这边的首先就是import

08:03.840 --> 08:05.600
这个editarticle

08:06.560 --> 08:08.400
article 然后from

08:09.320 --> 08:11.960
圈下面的components

08:13.240 --> 08:16.280
下面的这个editarticle

08:17.960 --> 08:25.000
editarticle 对了 是吧 然后点 没有意义啊 先把它引入 引入了之后 然后接下来下面什么 还得注册一下

08:25.540 --> 08:27.060
所以接下来这边的话components

08:28.660 --> 08:32.460
对应的就是editarticle

08:33.780 --> 08:36.180
对应的就是这个 样式你都可以不要

08:36.900 --> 08:46.060
就这一块 因为我们在这个组件里面 样式是不是写好了的 对吧 好 说这边就可以不要 好 然后接下来在这里 这里的话 你是不是就直接使用就可以了

08:46.660 --> 08:52.640
好 那我们这边就直接使用 好 直接使用

08:53.620 --> 09:05.420
好 然后接下来我们这里保存一下 全部保存 好 保存之后 然后下我们回来看一下 来到我们的这个添加文章 你看 这边是没问题

09:06.260 --> 09:14.060
对不对 一样的可以显示出来 好 这个没问题之后 然后接下来站我们的那一边 在我们的这个

09:14.800 --> 09:23.240
呃 这里就是编辑博客这里 那这里的话 是不是也是直接使用那个组件就可以了 但是现在就有一个问题

09:23.920 --> 09:27.400
什么问题呢 我需要在我的组件里面 就是我的这个

09:28.040 --> 09:31.360
editarticle里面 我需要做一个区分

09:32.000 --> 09:37.160
区分什么呢 区分你在使用我这个组件的时候 你究竟是添加文章

09:38.000 --> 09:39.320
还是修改文章

09:40.180 --> 09:44.820
对不对 我得做这么一个区分啊 那我这边怎么做区分呢 我这边可以这个样子

09:45.940 --> 09:52.060
我这边的话 我这个是添加文章 对吧 那这样我给你传一个属性啊 mod mod等于个什么呢 等于一个

09:53.460 --> 09:53.940
add

09:54.980 --> 10:00.340
那回头的话 我在我的这个editarticle里面 我就干嘛呢 我就接受一下这个属性

10:01.220 --> 10:04.820
啊 我就接受一下这个属性 这边的话就写一个这个prox

10:07.100 --> 10:10.260
prox 然后接下来的话 这边就是mod

10:11.740 --> 10:17.260
看了没有 好 接受了这个之后 然后接下来的话 我就根据什么呢 根据你的这个属性值

10:17.660 --> 10:26.020
我是不是来做一系列的这个区别的这个操作 比如这边一进来 无论是添加文章还是修改文章 一进来是不是都是得

10:26.700 --> 10:31.500
获取分类的数据 对不对 但是呢 如果你是这个修改的话 我们这边

10:33.260 --> 10:33.660
if

10:34.620 --> 10:37.900
if 你的这个z是点mod

10:38.760 --> 10:40.440
等于一个什么呢 等于一个edit

10:41.080 --> 10:50.520
啊 我们刚才的话 我们这个添加博客 这边是传的是and嘛 那我们一会儿那个就是编辑博客的时候 我们这个mod 我们就传那个edit

10:51.240 --> 10:53.560
好 那接下来如果你这边的话是edit

10:54.280 --> 10:58.440
那我们要干嘛呢 我们这边的话是不是得根据你的传过来的这个id

10:58.960 --> 11:02.360
是不是拿这个文章的这个数据 那对应的就是哪一块逻辑

11:03.280 --> 11:05.800
对应的是不是就是这一块

11:06.580 --> 11:09.900
对不对 我就直接把这一块啊 我就把它拿过来

11:11.380 --> 11:13.420
放到我们这边 okay

11:14.300 --> 11:18.660
对吧 那他接下来他就他就会去拿数据 然后回填字表达

11:19.460 --> 11:24.580
那接下来还有个地方要做这个区别对待 就是哪哪里呢 就是这个地方

11:25.420 --> 11:31.820
就这个地方啊 这个地方的话如果我们是新增的话我们是不是调的是这个andblog

11:32.320 --> 11:36.800
如果是编辑的话 我们调的是什么呢 调的是editblog

11:37.360 --> 11:41.520
对不对 那我们这边上我们先把那个editblog 我们先把它那个

11:42.800 --> 11:45.880
他把这两个都拿过来 放到放到这里

11:47.280 --> 11:49.720
放到放到这边啊

11:51.080 --> 11:57.800
拿过来放到这边 好 那接下来的话这边的话我就做处理了啊 然后接下来这边的话我是不是就应该有一个判断

11:58.340 --> 11:58.700
if

12:00.540 --> 12:08.860
z是点mode 如果等于什么呢 等于一个这个and 那说明是不是要新增对吧 说明

12:14.630 --> 12:20.670
说明是要新增啊 否则的话 else

12:22.350 --> 12:22.670
说明

12:24.470 --> 12:26.070
是要什么呢 是要什么编辑

12:27.270 --> 12:31.150
对吧 那接下来的话这边 你如果是新增的话就把这一段代码

12:31.870 --> 12:32.310
放进去

12:33.470 --> 12:35.230
啊 格式画一下

12:36.230 --> 12:40.390
然后如果是编辑 编辑的话是不是应该是这边这段代码

12:41.430 --> 12:42.990
呃 编辑在

12:44.110 --> 12:44.590
这个位置

12:45.590 --> 12:49.550
是吧 就应该是这段代码啊 所以把这段代码拿过去

12:51.660 --> 12:52.580
放到这个位置

12:53.340 --> 13:00.140
可不可以啊 好 然后既然你这边的话还可以根据什么呢 根据那个就是他是新增还是编辑 你把这个按钮变一下

13:00.600 --> 13:03.760
什么意思 就是我们现在的话 你看我们这边是不是使用同一个

13:04.280 --> 13:06.720
同一个这个组件 这边是不是都是发布文章呀

13:07.440 --> 13:11.720
对不对 你到时候你点编辑 我们也会使用这个组件 然后点进来也是发布文章

13:12.080 --> 13:16.840
啊 这边的话你为了以示区分 你这边的话可以把这这里这个按钮稍微变一下

13:17.360 --> 13:20.640
这边是不是发布文章 对不对 让我们这边上我们就定义

13:22.640 --> 13:25.520
定义一个比如说btn content

13:28.150 --> 13:28.550
content

13:29.530 --> 13:33.490
好了 下面 下面的话 然后你这个btn content 你先给个值

13:34.370 --> 13:38.930
btn content 然后等于一个什么呢 等于一个发布

13:39.890 --> 13:42.930
文章 好的 如果他是以这个edit

13:43.730 --> 13:48.010
进来的 那这边的话 你就把这个button的这个内容改一下

13:48.890 --> 13:49.290
z

13:50.450 --> 13:55.490
点这个btn content 等于一个什么呢 等于一个确认修改

13:56.270 --> 14:01.950
对吧 好 那接下来的话 基本上这个就改完了 其他就没什么了

14:02.550 --> 14:06.870
啊 就没什么了 没什么之后 然后这样你保存一份 然后这边

14:08.310 --> 14:12.790
这边的话是不是应该是和这边是一样的 对吧 除了就是传的那个mod不一样

14:14.150 --> 14:17.350
啊 这边他传的就是应该是什么了 就是应该是edit

14:18.870 --> 14:22.510
对不对 好 那我们这边的话全部保存一份 我们来看一下好不好使

14:23.290 --> 14:29.650
好 回到我们这边啊 我们这边的文章列表 然后接下来的话 这边点击这个编辑

14:30.570 --> 14:35.850
啊 你看数据是不是回天过去了 看到没有啊 回天过去了 然后加这边的话 添加文章

14:37.010 --> 14:39.010
是不是ok的 而且就下面的这个按钮

14:39.850 --> 14:43.770
说发布文章 对不对 然后接下来这里 这里的话这个编辑

14:45.170 --> 14:46.050
啊 是不是也是ok的

14:46.870 --> 14:54.030
对不对啊 我们这边的话就针对我们的这个添加文章和这个编辑文章 我们做了一个优化

14:54.670 --> 14:56.030
啊 然后把整个这个

14:56.670 --> 15:02.350
组件 我们重新封装了一个组件 然后接下来就直接用这一个组件就可以了 对不对 其实就是

15:02.790 --> 15:04.230
减少这个重复的代码

15:04.710 --> 15:08.470
啊 你回头的话 你其实这个项目管理你也可以这样做

15:09.110 --> 15:11.070
对不对 项目管理的话 你这个添加项目

15:11.670 --> 15:14.430
啊 回到这边吗 就是你这边你这个添加项目

15:14.970 --> 15:18.930
添加项目和这个项目列表里面的这个编辑项目

15:19.890 --> 15:24.490
实际上是不是差不多了 对不对啊 你就可以直接封装成一个组件

15:26.090 --> 15:29.930
好 这一刻的话 然后内容不多 大家下去的话可以把这个

15:31.210 --> 15:34.930
刚才讲的那个文章管理的那两个部分 你把它优化一下

15:35.410 --> 15:43.290
然后把整个这个文章管理这个模块你把它做完啊 把整个这个模块把它做完 我们一个部分一个模块一个模块来做

15:43.290 --> 15:46.910
啊 把它做完 ok好 这一刻就先到这里啊

