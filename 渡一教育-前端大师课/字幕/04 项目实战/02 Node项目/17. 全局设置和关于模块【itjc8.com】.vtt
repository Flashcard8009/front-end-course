WEBVTT

00:00.430 --> 00:02.430
我们这些课继续

00:02.430 --> 00:06.430
我们把这个项目 这个项目基本上快做的差不多了

00:06.430 --> 00:09.430
我们把剩下的一些部分把它做了

00:09.430 --> 00:11.430
我看一下我们这边还剩哪些东西

00:11.430 --> 00:14.430
我们这边的话管理员模块是做完了的

00:14.430 --> 00:16.430
然后这个博客文章

00:16.430 --> 00:18.430
这个模块是做完了的

00:18.430 --> 00:19.430
对吧 里面的这个分类

00:19.430 --> 00:21.430
然后文章评论

00:21.430 --> 00:22.430
做完了

00:22.430 --> 00:25.430
然后还剩一个什么呢 还是一个全局设置

00:25.430 --> 00:26.430
这个没做

00:26.430 --> 00:28.430
首页标语是做了的

00:28.430 --> 00:30.430
关于页面是不是还没做

00:30.430 --> 00:32.430
对不对 全局设置关于页面

00:32.430 --> 00:35.430
然后面的这几个是不是都做了

00:35.430 --> 00:37.430
对不对 那就这个

00:37.430 --> 00:39.430
全局设置和关于页面

00:39.430 --> 00:41.430
那么这个关于页面的话

00:41.430 --> 00:43.430
这个的话我就不带着写了

00:43.430 --> 00:45.430
好吧 这个的话我回头了

00:45.430 --> 00:46.430
我把那个带嘛

00:46.430 --> 00:47.430
我把它放进去

00:47.430 --> 00:49.430
然后给大家说一下

00:49.430 --> 00:50.430
大致说一下就可以了

00:50.430 --> 00:52.430
然后那个全局设置的话

00:52.430 --> 00:54.430
我再带着写一下吧

00:54.430 --> 00:56.430
其实都一样

00:56.430 --> 00:58.430
我这个其实带不带着写

00:58.430 --> 01:00.430
我直接给你看那个带嘛都可以

01:00.430 --> 01:03.430
好 那我们这边我还是再带着写吧

01:03.430 --> 01:04.430
最后一个了

01:04.430 --> 01:05.430
真的是最后一个了

01:05.430 --> 01:07.430
这个全局设置

01:07.430 --> 01:08.430
全局设置的话

01:08.430 --> 01:10.430
我们这边我们来看一下它的接口

01:10.430 --> 01:11.430
你看就两个

01:11.430 --> 01:12.430
看到没有

01:12.430 --> 01:13.430
就两个

01:13.430 --> 01:15.430
一个是这个修改全局设置

01:15.430 --> 01:17.430
这边是这个put

01:17.430 --> 01:19.430
这边的话api setting

01:19.430 --> 01:20.430
api setting

01:20.430 --> 01:21.430
然后这边也是

01:21.430 --> 01:23.430
无需提供全部之段

01:23.430 --> 01:24.430
要修改哪个

01:24.430 --> 01:26.430
你就只提供一个就可以了

01:26.430 --> 01:28.430
好 然后接下来这边

01:28.430 --> 01:29.430
content是太过

01:29.430 --> 01:30.430
然后talking

01:30.430 --> 01:32.430
这些都是一样的 是吧

01:32.430 --> 01:34.430
然后有这么一些制断

01:34.430 --> 01:35.430
看到没有

01:35.430 --> 01:37.430
有这么一些制断

01:37.430 --> 01:38.430
然后回头返回的话

01:38.430 --> 01:40.430
返回的就是这个

01:40.430 --> 01:42.430
它为什么返回的是这个呢

01:42.430 --> 01:43.430
我们明明有一个

01:43.430 --> 01:45.430
那个格式化响应的那个

01:45.430 --> 01:46.430
对不对

01:46.430 --> 01:48.430
那个code是0

01:48.430 --> 01:50.430
然后MESG是空制服

01:50.430 --> 01:51.430
明明有那个

01:51.430 --> 01:53.430
它为什么返回的是这个呢

01:53.430 --> 01:54.430
好奇怪啊

01:54.430 --> 01:56.430
这个是谁写的

01:56.430 --> 01:57.430
丁老师写的

01:57.430 --> 01:59.430
行 那我就按照这个返回

01:59.430 --> 02:01.430
我们就按照这个返回

02:01.430 --> 02:02.430
总之就是

02:02.430 --> 02:04.430
我们要根据这个接口文档来

02:04.430 --> 02:05.430
知道吧

02:05.430 --> 02:07.430
你如果不根据接口文档来

02:07.430 --> 02:09.430
人家比如要求你返回是这个样子

02:09.430 --> 02:11.430
你如果不是这个样子的话

02:11.430 --> 02:12.430
那到时候人家用的话

02:12.430 --> 02:13.430
就会出问题

02:13.430 --> 02:16.430
就和我们的这个前面就对不上

02:16.430 --> 02:17.430
知道吧

02:17.430 --> 02:19.430
就和我们之前写的代码就对不上

02:19.430 --> 02:21.430
我们这边就这样子

02:21.430 --> 02:24.430
好 然后加这边的获取全局

02:24.430 --> 02:27.430
获取全局配置这个的话

02:27.430 --> 02:30.430
就直接是这个setting

02:30.430 --> 02:32.430
然后get

02:32.430 --> 02:34.430
这个整体来讲没什么难度

02:34.430 --> 02:35.430
对不对

02:35.430 --> 02:36.430
没什么难度

02:36.430 --> 02:38.430
好 直接来吧

02:38.430 --> 02:41.430
我这边的话就已经把这个setting的这个model

02:41.430 --> 02:43.430
我就已经就直接从原码

02:43.430 --> 02:45.430
你就是从那个成品里面

02:45.430 --> 02:47.430
把它拿过来了

02:47.430 --> 02:48.430
这边有个setting

02:48.430 --> 02:50.430
然后有这么一些制断

02:50.430 --> 02:51.430
看到没有

02:51.430 --> 02:53.430
这些制断也没什么好说的

02:53.430 --> 02:54.430
这个是头像

02:54.430 --> 02:56.430
这个是你网站的标题

02:56.430 --> 02:58.430
get hub 地址 qq qq二维码

02:58.430 --> 03:00.430
这些都是sd

03:00.430 --> 03:01.430
对不对都是sd

03:01.430 --> 03:02.430
然后微信

03:02.430 --> 03:04.430
微信二维码

03:04.430 --> 03:05.430
然后这个邮箱

03:05.430 --> 03:07.430
这个是那个那个

03:07.430 --> 03:09.430
网站的那个备案号

03:09.430 --> 03:10.430
然后get hub name

03:10.430 --> 03:12.430
那接下来你的这个

03:12.430 --> 03:14.430
网站的图标

03:14.430 --> 03:15.430
OK

03:15.430 --> 03:16.430
好 完事之后

03:16.430 --> 03:17.430
然后接下来的话

03:17.430 --> 03:19.430
我们就把那麽几个文件

03:19.430 --> 03:20.430
把它创建上吧

03:20.430 --> 03:22.430
首先的话有一个这个setting

03:22.430 --> 03:26.430
setting dao.js

03:26.430 --> 03:27.430
对不对

03:27.430 --> 03:28.430
大家这边的话

03:28.430 --> 03:31.940
会有一个setting

03:31.940 --> 03:32.940
setting

03:32.940 --> 03:35.940
然后service.js

03:35.940 --> 03:37.940
好 大家还有一个这边

03:37.940 --> 03:41.700
这边还有一个这个setting

03:41.700 --> 03:43.700
setting.js

03:43.700 --> 03:44.700
OK

03:44.700 --> 03:46.700
这个的话是需要有出使数据的

03:46.700 --> 03:47.700
还有出使

03:47.700 --> 03:49.700
需要有出使数据的话

03:49.700 --> 03:50.700
怎么做呢

03:50.700 --> 03:52.700
我们这个做过好几次了

03:52.700 --> 03:53.700
所以来到db

03:53.700 --> 03:55.700
来到db这边

03:55.700 --> 03:56.700
这边的话

03:56.700 --> 03:58.700
然后就直接const

03:58.700 --> 04:00.700
一个这个setting

04:00.700 --> 04:03.700
model等于一个require

04:03.700 --> 04:07.700
这边那就是应该是model

04:07.700 --> 04:09.700
model下面的

04:09.700 --> 04:11.700
model是不是写错了

04:11.700 --> 04:18.700
model下面的这个setting

04:18.700 --> 04:20.700
model

04:20.700 --> 04:21.700
对吧 把它引入

04:21.700 --> 04:22.700
然后引入之后

04:22.700 --> 04:23.700
然后接下来在这边的话

04:23.700 --> 04:25.700
进行一个出使化

04:25.700 --> 04:28.700
这边的话就是那个

04:28.700 --> 04:30.700
就是关于我

04:30.700 --> 04:32.700
就是这一块

04:32.700 --> 04:34.700
就刚刚我们说的这个关于页面

04:34.700 --> 04:36.700
关于页面这边是不是有一个这个

04:36.700 --> 04:37.700
设置和关于

04:37.700 --> 04:38.700
对不对 这个那就一个

04:38.700 --> 04:40.700
就一个这个url

04:40.700 --> 04:42.700
这个的话我就不带着写了

04:42.700 --> 04:44.700
OK 我就不带着写了

04:44.700 --> 04:47.700
所以我这边就是提前的话在

04:47.700 --> 04:48.700
就是在我们的这个项目里面

04:48.700 --> 04:50.700
我已经就是把它放进去了

04:50.700 --> 04:52.700
回头的话一起发给大家

04:52.700 --> 04:54.700
以后带着大家一起来看一下

04:54.700 --> 04:55.700
好吧

04:55.700 --> 04:56.700
好 那我们这边

04:56.700 --> 04:58.700
我们就来进行最后一个出使化

04:58.700 --> 04:59.700
这个是什么呢

04:59.700 --> 05:01.700
这个是全局设置

05:01.700 --> 05:06.160
全局设置

05:06.160 --> 05:10.160
然后数据出使化

05:10.160 --> 05:11.160
对吧 好

05:11.160 --> 05:12.160
然后加这边你就直接

05:12.160 --> 05:14.160
复制一份

05:14.160 --> 05:16.160
然后加这边就是应该是什么

05:16.160 --> 05:19.160
是不是setting model

05:19.160 --> 05:20.160
对不对

05:20.160 --> 05:22.160
然后加这边就是setting

05:22.160 --> 05:24.160
setting counter

05:24.160 --> 05:27.160
然后如果没有

05:27.160 --> 05:29.160
这边

05:29.160 --> 05:31.160
如果

05:31.160 --> 05:33.160
这边的话我这个

05:33.160 --> 05:36.160
如果没有这个setting counter

05:36.160 --> 05:37.160
那这里的话

05:37.160 --> 05:39.160
我是不是要进行一个出使化

05:39.160 --> 05:40.160
对不对

05:40.160 --> 05:41.160
这里面就出使化

05:41.160 --> 05:45.500
全局设置

05:45.500 --> 05:48.500
全局设置数据

05:48.500 --> 05:49.500
好

05:49.500 --> 05:50.500
然后加这边就是

05:50.500 --> 05:51.500
create的方法

05:51.500 --> 05:52.500
那既然里面是不是就一个字段

05:52.500 --> 05:54.500
一个字段的传递就可以了

05:54.500 --> 05:55.500
对不对

05:55.500 --> 05:57.500
这个我就不一个一个敲了

05:57.500 --> 06:00.500
我到我的成品里面

06:00.500 --> 06:03.500
找到db.js

06:03.500 --> 06:05.500
因为这个比较多

06:05.500 --> 06:07.500
这是banner

06:07.500 --> 06:08.500
这里

06:08.500 --> 06:09.500
可不可以

06:09.500 --> 06:10.500
这边我就直接把这个

06:10.500 --> 06:12.500
我就把它拿过来了

06:12.500 --> 06:14.500
contrc

06:14.500 --> 06:16.500
把它拿过来

06:16.500 --> 06:18.500
OK

06:18.500 --> 06:20.500
是不是创建出使化的数据

06:20.500 --> 06:21.500
好

06:21.500 --> 06:22.500
创建好了之后

06:22.500 --> 06:23.500
然后接下来的话

06:23.500 --> 06:25.500
我们这边保存一下

06:25.500 --> 06:26.500
保存完了之后

06:26.500 --> 06:27.500
然后接下来你看

06:27.500 --> 06:28.500
这里的话

06:28.500 --> 06:29.500
错了

06:29.500 --> 06:32.500
我们看报的什么错

06:32.500 --> 06:34.500
about your error

06:34.500 --> 06:37.500
can't be no

06:37.500 --> 06:41.500
about your error

06:41.500 --> 06:43.500
哪个地方

06:43.500 --> 06:47.500
about是我刚才添加的

06:47.500 --> 06:52.940
about your error

06:52.940 --> 06:54.940
我看一下啊

06:54.940 --> 06:55.940
这怎么回事

06:55.940 --> 07:01.360
这是哪里的保存

07:01.360 --> 07:02.360
保存

07:02.360 --> 07:07.500
这边确实是报了个错

07:07.500 --> 07:10.500
unhand of promise

07:10.500 --> 07:13.500
about your can't be

07:13.500 --> 07:14.500
不能为空

07:14.500 --> 07:16.500
我这边并不为空

07:16.500 --> 07:18.500
我看一下啊

07:18.500 --> 07:20.500
我看一下我的这个表

07:20.500 --> 07:22.500
首先的话

07:22.500 --> 07:25.500
这里setting

07:25.500 --> 07:26.500
setting这边

07:26.500 --> 07:28.500
这边都没我写进去算

07:28.500 --> 07:29.500
about

07:29.500 --> 07:32.500
about这边对的呀

07:32.500 --> 07:34.500
这没有问题啊

07:34.500 --> 07:37.500
这边咋回事呢

07:37.500 --> 07:38.500
这边about

07:38.500 --> 07:41.500
出使化关于我

07:41.500 --> 07:43.500
这里没有问题啊

07:43.500 --> 07:44.500
好

07:44.500 --> 07:45.500
这边让我这样子

07:45.500 --> 07:46.500
我这边把视频暂停一下

07:46.500 --> 07:47.500
我先调试一下

07:47.500 --> 07:50.260
好吧

07:50.260 --> 07:52.260
我刚才调试了一下

07:52.260 --> 07:54.260
是这里

07:54.260 --> 07:55.260
现在ok了是吧

07:55.260 --> 07:57.260
刚才这里这里这个model

07:57.260 --> 07:58.260
model名字忘记改了

07:58.260 --> 08:00.260
这边的话就还是这个about model

08:00.260 --> 08:02.260
这边忘记改成这个setting model了

08:02.260 --> 08:03.260
ok

08:03.260 --> 08:05.260
这边的话就已经这个

08:05.260 --> 08:07.260
出使化完毕了

08:07.260 --> 08:08.260
看到没有

08:08.260 --> 08:09.260
出使化完毕了之后

08:09.260 --> 08:10.260
让我们来数据库

08:10.260 --> 08:11.260
我们来看一眼

08:11.260 --> 08:12.260
这边是about

08:12.260 --> 08:13.260
setting这张表

08:13.260 --> 08:14.260
是不是也有了

08:14.260 --> 08:16.260
这里我们把它关一下

08:16.260 --> 08:17.260
重启一下

08:17.260 --> 08:19.640
重启一下

08:19.640 --> 08:20.640
是不是有了

08:20.640 --> 08:21.640
对不对

08:21.640 --> 08:22.640
好有了之后

08:22.640 --> 08:23.640
然后接下来

08:23.640 --> 08:24.640
下一步

08:24.640 --> 08:25.640
下一步的话就开始来写嘛

08:25.640 --> 08:26.640
一层一层写

08:26.640 --> 08:27.640
啊这边

08:27.640 --> 08:30.640
我们先来到这个setting

08:30.640 --> 08:31.640
dao

08:31.640 --> 08:32.640
在这边

08:32.640 --> 08:33.640
啊那我们这边呢

08:33.640 --> 08:38.640
就是model.expose.

08:38.640 --> 08:39.640
这里的话就两个

08:39.640 --> 08:41.640
一个是这个fand

08:41.640 --> 08:44.640
fand setting

08:44.640 --> 08:45.640
dao

08:45.640 --> 08:49.640
等于一个sync function

08:49.640 --> 08:50.640
啊这个是什么呢

08:50.640 --> 08:53.640
这个是查询

08:53.640 --> 08:54.640
啊查询

08:54.640 --> 08:56.640
我们这个的话就一条数据

08:56.640 --> 08:57.640
对不对

08:57.640 --> 08:58.640
你看我们这边这个

08:58.640 --> 08:59.640
全局设置

08:59.640 --> 09:01.640
是不是一共就一条数据

09:01.640 --> 09:02.640
啊所以这边就是

09:02.640 --> 09:06.640
查询全局设置

09:06.640 --> 09:08.640
那这里的话你就直接

09:08.640 --> 09:11.640
return

09:11.640 --> 09:12.640
return

09:12.640 --> 09:13.640
await

09:13.640 --> 09:16.640
然后这个setting

09:16.640 --> 09:18.640
setting model

09:18.640 --> 09:21.640
然后点fand one

09:21.640 --> 09:22.640
就他查询一条

09:22.640 --> 09:24.640
因为一共也就一条吧

09:24.640 --> 09:25.640
对不对

09:25.640 --> 09:26.640
然后还有一个是什么呢

09:26.640 --> 09:28.640
还有一个是修改

09:28.640 --> 09:30.640
修改

09:30.640 --> 09:33.640
修改全局设置

09:33.640 --> 09:34.640
啊这边呢就是

09:34.640 --> 09:40.640
应该是model.expose.update

09:40.640 --> 09:42.640
update setting

09:42.640 --> 09:44.640
然后dao

09:44.640 --> 09:48.640
等于一个sync function

09:48.640 --> 09:50.640
啊这边他是不是就

09:50.640 --> 09:52.640
应该是接受一个参数啊

09:52.640 --> 09:53.640
接受什么

09:53.640 --> 09:54.640
是不是接受新的

09:54.640 --> 09:55.640
这个setting的信息啊

09:55.640 --> 09:56.640
对不对

09:56.640 --> 09:59.640
new setting infer

09:59.640 --> 10:00.640
新的信息

10:00.640 --> 10:01.640
新的信息

10:01.640 --> 10:02.640
然后接下来的话

10:02.640 --> 10:03.640
这边就干嘛呢

10:03.640 --> 10:05.640
这边的话就

10:05.640 --> 10:06.640
我看他修改了

10:06.640 --> 10:07.640
他要干嘛

10:07.640 --> 10:08.640
修改了

10:08.640 --> 10:10.640
他是要

10:10.640 --> 10:13.640
全局设置

10:13.640 --> 10:15.640
修改

10:15.640 --> 10:16.640
修改了之后

10:16.640 --> 10:17.640
他是要返回这个

10:17.640 --> 10:18.640
整个这一条

10:18.640 --> 10:19.640
啊 ok

10:19.640 --> 10:20.640
没问题

10:20.640 --> 10:21.640
好了我们这边呢就是

10:21.640 --> 10:23.640
应该是调这个setting model

10:23.640 --> 10:25.640
他是不是有一个

10:25.640 --> 10:27.640
update方法

10:27.640 --> 10:28.640
对不对

10:28.640 --> 10:30.640
然后把你的这个new setting infer

10:30.640 --> 10:31.640
传过去

10:31.640 --> 10:33.640
然后接下来这边呢是什么

10:33.640 --> 10:34.640
vr

10:34.640 --> 10:35.640
vr什么

10:35.640 --> 10:37.640
id对应的指示

10:37.640 --> 10:38.640
1

10:38.640 --> 10:39.640
对不对

10:39.640 --> 10:40.640
好然后接下来这边的话

10:40.640 --> 10:41.640
await

10:41.640 --> 10:42.640
等待

10:42.640 --> 10:43.640
他修改

10:43.640 --> 10:44.640
啊修改完了之后

10:44.640 --> 10:45.640
然后接下来的话

10:45.640 --> 10:46.640
这边

10:46.640 --> 10:48.640
这也是这样子

10:48.640 --> 10:49.640
对不对

10:49.640 --> 10:50.640
返回

10:50.640 --> 10:52.640
返回这个查询的一条

10:52.640 --> 10:53.640
就ok了

10:53.640 --> 10:55.640
啊这是关于这个

10:55.640 --> 10:57.640
呃 dao 这一层

10:57.640 --> 10:58.640
好然后接下来的话

10:58.640 --> 11:00.640
我们来到这边

11:00.640 --> 11:03.640
来到服务层

11:03.640 --> 11:04.640
这边呢仍然是

11:04.640 --> 11:05.640
导出两个方法

11:05.640 --> 11:08.640
一个是查询

11:08.640 --> 11:10.640
查询

11:10.640 --> 11:12.640
查询全局设置

11:12.640 --> 11:13.640
一个是什么呢

11:13.640 --> 11:15.640
一个是修改

11:15.640 --> 11:17.640
全局设置

11:17.640 --> 11:19.640
好这边呢就是

11:19.640 --> 11:21.640
module.expose

11:21.640 --> 11:22.640
点这个

11:22.640 --> 11:24.640
fand setting

11:24.640 --> 11:26.640
fand setting

11:26.640 --> 11:27.640
service

11:27.640 --> 11:28.640
等于一个

11:28.640 --> 11:29.640
sync

11:29.640 --> 11:31.640
function

11:31.640 --> 11:32.640
好这边的话

11:32.640 --> 11:33.640
是不是就是

11:33.640 --> 11:34.640
结构

11:34.640 --> 11:35.640
对

11:35.640 --> 11:36.640
结构拿到这个

11:36.640 --> 11:37.640
data

11:37.640 --> 11:38.640
values

11:38.640 --> 11:39.640
values写对秒

11:39.640 --> 11:40.640
对了对吧

11:40.640 --> 11:41.640
然后接下来这边

11:41.640 --> 11:42.640
那就是await

11:42.640 --> 11:44.640
然后这边那就是

11:44.640 --> 11:45.640
fand

11:45.640 --> 11:47.640
setting

11:47.640 --> 11:49.640
setting dao

11:50.640 --> 11:51.640
对吧

11:51.640 --> 11:52.640
好然后接下来这边

11:52.640 --> 11:53.640
return

11:53.640 --> 11:56.640
return一个format

11:56.640 --> 11:59.640
format

11:59.640 --> 12:00.640
raise bounce

12:00.640 --> 12:01.640
诶

12:01.640 --> 12:03.640
这个怎么没有呢

12:03.640 --> 12:06.640
raise bounce

12:06.640 --> 12:07.640
诶他这个提示

12:07.640 --> 12:10.640
真的提示咋没了呢

12:10.640 --> 12:13.640
那我这边手动我导入一下

12:13.640 --> 12:14.640
因为他这个提示真的是

12:14.640 --> 12:15.640
有点奇怪是吧

12:15.640 --> 12:17.640
有的时候又有

12:17.640 --> 12:19.640
这边呢require

12:19.640 --> 12:22.640
这里的话就是上一集的

12:22.640 --> 12:23.640
utils

12:23.640 --> 12:26.640
下面的这个tool

12:26.640 --> 12:28.640
好然后接下来把这个

12:28.640 --> 12:29.640
format

12:29.640 --> 12:30.640
raise bounce

12:30.640 --> 12:32.640
把它导进来

12:32.640 --> 12:33.640
写对了的

12:33.640 --> 12:34.640
我们来看一下这个查询

12:34.640 --> 12:35.640
这个是不是

12:36.640 --> 12:37.640
查询

12:38.640 --> 12:39.640
获取

12:39.640 --> 12:40.640
查询

12:40.640 --> 12:41.640
是的是吧

12:41.640 --> 12:42.640
这边0

12:42.640 --> 12:43.640
0然后控制创

12:43.640 --> 12:44.640
data

12:44.640 --> 12:45.640
好那接下来这边

12:45.640 --> 12:46.640
就是应该是

12:46.640 --> 12:47.640
0

12:47.640 --> 12:48.640
然后控制创

12:48.640 --> 12:49.640
然后

12:49.640 --> 12:50.640
data

12:50.640 --> 12:52.640
values

12:52.640 --> 12:54.640
这边是这样子

12:54.640 --> 12:55.640
对不对

12:55.640 --> 12:56.640
好那接下来这个修改

12:56.640 --> 12:57.640
修改的话

12:57.640 --> 12:58.640
这边就是

12:58.640 --> 13:00.640
model.expose

13:00.640 --> 13:02.640
点这个update

13:02.640 --> 13:04.640
update

13:04.640 --> 13:07.640
setting sorry

13:07.640 --> 13:09.640
等于一个sync

13:09.640 --> 13:10.640
function

13:10.640 --> 13:13.140
对吧

13:13.140 --> 13:16.140
好那接下来这边就是return

13:16.140 --> 13:18.140
然后await

13:18.140 --> 13:19.140
然后这边的话

13:19.140 --> 13:22.140
调用这个update

13:22.140 --> 13:24.140
setting.do

13:24.140 --> 13:25.140
然后把你的这个

13:25.140 --> 13:26.140
这边要介绍一个参数

13:26.140 --> 13:28.140
就是你新的这个

13:28.140 --> 13:30.140
setting的信息

13:30.140 --> 13:32.140
setting infer

13:32.140 --> 13:34.140
然后这边

13:34.140 --> 13:36.140
new

13:36.140 --> 13:38.140
setting infer

13:38.140 --> 13:39.140
对吧

13:39.140 --> 13:40.140
等一下

13:40.140 --> 13:41.140
这个拿到的话要解下

13:41.140 --> 13:42.140
go 是不是

13:42.140 --> 13:43.140
因为这边的话

13:43.140 --> 13:45.140
这边的话和上面一样

13:45.140 --> 13:46.140
反回的东西是一样的

13:46.140 --> 13:48.140
说这边你要解下 go

13:48.140 --> 13:49.140
说我们这边的话

13:49.140 --> 13:50.140
我们来解下 go

13:50.140 --> 13:51.140
这边那就

13:51.140 --> 13:52.140
const

13:52.140 --> 13:53.140
一个data

13:53.140 --> 13:54.140
values

13:54.140 --> 13:55.140
等于

13:55.140 --> 13:57.140
这边那就

13:57.140 --> 13:59.140
等待

13:59.140 --> 14:00.140
OK

14:00.140 --> 14:01.140
好反回的话

14:01.140 --> 14:02.140
这边让我看一下

14:02.140 --> 14:03.140
我看一下

14:03.140 --> 14:04.140
这边的话

14:04.140 --> 14:06.140
反回的话

14:06.140 --> 14:07.140
修改

14:08.140 --> 14:10.140
反回的话是不是就是反回这个

14:10.140 --> 14:11.140
对不对

14:11.140 --> 14:13.140
反回这个对象就可以了

14:13.140 --> 14:15.140
说我们这边就直接反回

14:15.140 --> 14:16.140
data

14:16.140 --> 14:17.140
values

14:18.140 --> 14:19.140
对不对

14:19.140 --> 14:21.140
直接反回data values

14:21.140 --> 14:22.140
OK

14:22.140 --> 14:24.140
这个的话就是

14:24.140 --> 14:25.140
这个服务程

14:25.140 --> 14:27.140
到后面的话就很简单了

14:27.140 --> 14:29.140
就非常非常简单了

14:29.140 --> 14:30.140
好那接下来

14:30.140 --> 14:32.140
来到这个

14:32.140 --> 14:34.140
来到这边路由程

14:34.140 --> 14:36.140
路由程这边setting

14:36.140 --> 14:38.140
这边你拿一个

14:38.140 --> 14:40.140
拿一个banner过来

14:40.140 --> 14:42.140
然后这边

14:42.140 --> 14:44.140
拿过来放过来

14:44.140 --> 14:46.140
把这个

14:46.140 --> 14:48.140
这个不要了

14:48.140 --> 14:49.140
不要了

14:49.140 --> 14:50.140
这边就是

14:50.140 --> 14:51.140
获取

14:51.140 --> 14:53.140
全局

14:53.140 --> 14:55.140
获取全局

14:55.140 --> 14:56.140
设置

14:56.140 --> 14:57.140
这个是设置

14:57.140 --> 14:58.140
就更新

14:58.140 --> 14:59.140
更新

14:59.140 --> 15:01.140
全局

15:01.140 --> 15:03.140
全局

15:03.140 --> 15:04.140
设置

15:04.140 --> 15:05.140
对吧

15:05.140 --> 15:07.140
他们的这个接口的话都是叫什么

15:07.140 --> 15:09.140
接口的话都是API setting

15:09.140 --> 15:11.140
然后API setting

15:11.140 --> 15:12.140
OK

15:12.140 --> 15:15.140
然后get的话是不需要那个

15:15.140 --> 15:16.140
token

15:16.140 --> 15:18.140
修改的话是需要token的

15:18.140 --> 15:19.140
对不对

15:19.140 --> 15:21.140
好你这边把那个在app.js里面

15:21.140 --> 15:23.140
你把它配置一下

15:23.140 --> 15:25.140
app.js

15:25.140 --> 15:26.140
在这边配置一下

15:26.140 --> 15:29.140
这边的话引入这个setting的这个路由

15:30.140 --> 15:31.140
复制一份

15:32.140 --> 15:34.140
我说了哈那个about我就已经写了的哈

15:34.140 --> 15:37.140
一会我带着给大家就是带着大家看一下

15:37.140 --> 15:38.140
这个代码就可以了

15:39.140 --> 15:41.140
好这边呢就是setting

15:41.140 --> 15:44.140
setting然后接下来这边就是应该是

15:44.140 --> 15:46.140
setting rotor

15:47.140 --> 15:48.140
对不对

15:48.140 --> 15:49.140
setting rotor

15:49.140 --> 15:51.140
好然后接下来的话这边

15:51.140 --> 15:54.140
把这个路由把它引进去

15:54.140 --> 15:56.140
这边呢是setting rotor

15:56.140 --> 15:58.140
后面的话他是叫什么名字来的

15:59.140 --> 16:01.140
他是叫做setting是吧

16:01.140 --> 16:03.140
这边呢就是setting

16:03.140 --> 16:04.140
OK

16:04.140 --> 16:06.140
好然后接下来这边

16:06.140 --> 16:08.140
这边呢需要这个排除一下

16:08.140 --> 16:11.140
他这边的话就是setting

16:12.140 --> 16:14.140
setting然后获取的时候

16:14.140 --> 16:15.140
是不是不需要token一下

16:15.140 --> 16:16.140
对不对

16:16.140 --> 16:18.140
把get方式的这个

16:18.140 --> 16:20.140
这个URI 这个把它排除了

16:20.140 --> 16:22.140
如果是poster

16:22.140 --> 16:24.140
是不是poster

16:24.140 --> 16:25.140
不说是put是吧

16:25.140 --> 16:27.140
如果是put的话

16:27.140 --> 16:28.140
就需要带这个token

16:28.140 --> 16:30.140
好了我们这边的话还得

16:30.140 --> 16:32.140
这边的话还得把那个

16:32.140 --> 16:34.140
这边把它改一下

16:34.140 --> 16:35.140
这边不是poster

16:35.140 --> 16:37.140
这边是put

16:37.140 --> 16:39.140
对不对

16:39.140 --> 16:41.140
好然后接下来这边过来

16:41.140 --> 16:42.140
过来之后

16:42.140 --> 16:44.140
然后接下来这边就是res

16:44.140 --> 16:46.140
send

16:46.140 --> 16:48.140
这边呢就是await

16:48.140 --> 16:49.140
什么呢

16:49.140 --> 16:51.140
fender

16:51.140 --> 16:53.140
setting

16:53.140 --> 16:54.140
source

16:54.140 --> 16:56.140
然后把你的信息

16:56.140 --> 16:58.140
这个直接调方法就可以了

16:58.140 --> 17:00.140
然后再加这个

17:00.140 --> 17:02.140
这个的话

17:02.140 --> 17:03.140
他就是调用什么呢

17:03.140 --> 17:06.140
调用这个update

17:06.140 --> 17:08.140
update

17:08.140 --> 17:09.140
setting

17:09.140 --> 17:10.140
source

17:10.140 --> 17:12.140
这边呢把你的什么呢

17:12.140 --> 17:14.140
rq.body

17:14.140 --> 17:16.140
是不是传过去

17:16.140 --> 17:17.140
对不对

17:17.140 --> 17:19.140
你看很快啊很快就写好了

17:19.140 --> 17:22.140
好那我们这边呢我们来保存一下

17:22.140 --> 17:26.030
全部保存

17:26.030 --> 17:28.030
保存之后然后接下来我们这边用posterman

17:28.030 --> 17:30.030
我们来测试

17:30.030 --> 17:32.030
测试一下啊首先是get

17:32.030 --> 17:34.030
get然后接下来这边的话

17:34.030 --> 17:36.030
setting

17:36.030 --> 17:38.030
拿到了

17:38.030 --> 17:39.030
对不对

17:39.030 --> 17:40.030
拿到你的这个信息了

17:40.030 --> 17:42.030
你看一下和这个接口文档

17:42.030 --> 17:44.030
是不是一样的

17:44.030 --> 17:46.030
一样的吧对不对

17:46.030 --> 17:48.030
好然后这边是修改

17:48.030 --> 17:50.030
修改的话然后他可以传部分

17:50.030 --> 17:52.030
比如说我们这边传部分

17:52.030 --> 17:54.030
然后

17:54.030 --> 17:56.030
到这个posterman

17:56.030 --> 17:58.030
这边呢就是put

17:58.030 --> 18:00.030
put然后接下来的话这里

18:00.030 --> 18:02.030
body

18:02.030 --> 18:04.030
body然后加这边传部分

18:04.030 --> 18:06.030
把这个注释删了

18:06.030 --> 18:08.030
这个qqq的话

18:08.030 --> 18:10.030
之前是多少啊之前是这个

18:10.030 --> 18:12.030
我们就改成123456

18:12.030 --> 18:14.030
油箱的话也改成123456

18:14.030 --> 18:16.030
OK

18:16.030 --> 18:18.030
大家这边剩的

18:18.030 --> 18:20.030
是不是OK的

18:20.030 --> 18:22.030
对不对这边qqq

18:22.030 --> 18:24.030
油箱是不OK的

18:24.030 --> 18:26.030
对不对

18:26.030 --> 18:28.030
整个这个全局设置

18:28.030 --> 18:30.030
我们就写完了

18:30.030 --> 18:32.030
非常非常快你只要前面

18:32.030 --> 18:34.030
你搞懂了那后面的话写起来就

18:34.030 --> 18:36.030
非常容易了

18:36.030 --> 18:38.030
说这里的话就是全局设置

18:38.030 --> 18:40.030
然后还有另外一个是那个about

18:40.030 --> 18:42.030
就是关于我

18:42.030 --> 18:44.030
关于我的话我这边呢也就

18:44.030 --> 18:46.030
不带着大家写了我这边就直接

18:46.030 --> 18:48.030
把那个代码从成品里面

18:48.030 --> 18:50.030
我就把他拿过来了他也就两个

18:50.030 --> 18:53.030
他和那个和刚才的那个那个

18:53.030 --> 18:55.030
那个全局设置很像

18:55.030 --> 18:57.030
全局设置是不是就两个对不对

18:57.030 --> 18:59.030
这个关于页面也是两个

18:59.030 --> 19:01.030
一个是获取

19:01.030 --> 19:02.030
获取这个URI

19:02.030 --> 19:04.030
一个是设置

19:04.030 --> 19:06.030
设置这个URI

19:06.030 --> 19:08.030
设置的话是需要那个的

19:08.030 --> 19:09.030
是需要token的啊

19:09.030 --> 19:11.030
所以你这边的话

19:11.030 --> 19:13.030
在这个app.js

19:13.030 --> 19:15.030
这边

19:15.030 --> 19:17.030
这边的话这个APL about

19:17.030 --> 19:19.030
get方式是排除了的

19:19.030 --> 19:20.030
对不对

19:20.030 --> 19:22.030
然后

19:22.030 --> 19:24.030
基本上也就没什么

19:24.030 --> 19:26.030
这边就是查询

19:26.030 --> 19:29.030
这是查询这个是修改

19:29.030 --> 19:31.030
然后这边这个

19:31.030 --> 19:33.030
服务程服务程也没有什么

19:33.030 --> 19:35.030
服务程就单独就单纯的是干嘛呢

19:35.030 --> 19:37.030
就单纯的这个传递一下

19:37.030 --> 19:39.030
没有什么业务逻辑

19:39.030 --> 19:41.030
没有什么业务逻辑单纯的传递一下

19:41.030 --> 19:44.030
然后接下来这边这个路由程

19:44.030 --> 19:46.030
路由程这边也没什么

19:46.030 --> 19:48.030
对不对也没什么

19:48.030 --> 19:51.030
那我们现在的话整体的话就整个

19:51.030 --> 19:52.030
这个

19:52.030 --> 19:56.030
这边各个模块我们就都做完了

19:56.030 --> 19:57.030
看了没有

19:57.030 --> 19:58.030
各个模块都做完了

19:58.030 --> 19:59.030
好那我们这边的话

19:59.030 --> 20:01.030
我们可以来看一看

20:01.030 --> 20:02.030
来看一看

20:02.030 --> 20:04.030
这边的话来到我们这边

20:04.030 --> 20:06.030
这边的话你看

20:06.030 --> 20:07.030
这边的话现在这里

20:07.030 --> 20:08.030
就都可以打的开了

20:08.030 --> 20:11.030
之前的话我们只做了前面一部分

20:11.030 --> 20:12.030
只做前面一部分之后

20:12.030 --> 20:13.030
然后后面的话他是不是

20:13.030 --> 20:15.030
你点击的时候他是不是一直在

20:15.030 --> 20:16.030
转圈圈

20:16.030 --> 20:17.030
对不对

20:17.030 --> 20:19.030
为什么因为你那个服务器那边还没写

20:19.030 --> 20:20.030
那现在的话就都有了

20:20.030 --> 20:23.030
比我们这边留言板

20:23.030 --> 20:24.030
是不是有了

20:24.030 --> 20:25.030
对不对

20:25.030 --> 20:26.030
这是留言板

20:26.030 --> 20:28.030
大家这个是关于我

20:28.030 --> 20:29.030
这是这几颗写的

20:29.030 --> 20:31.030
比我们这边编辑

20:31.030 --> 20:34.030
当然关于我的话是我直接就拿过来的

20:34.030 --> 20:35.030
直接拿过的

20:35.030 --> 20:37.030
我们看这边更新没有

20:37.030 --> 20:38.030
这边你这个

20:38.030 --> 20:40.030
About

20:40.030 --> 20:42.030
是不是这边变成二了

20:42.030 --> 20:43.030
对不对

20:43.030 --> 20:45.030
大家这边我再来改

20:45.030 --> 20:47.030
这个改回来

20:47.030 --> 20:49.030
完成

20:49.030 --> 20:50.030
然后接下这边

20:50.030 --> 20:52.030
这边把它关了

20:52.030 --> 20:54.030
关了然后这边setting

20:54.030 --> 20:55.030
不是setting

20:55.030 --> 20:57.030
About

20:57.030 --> 20:58.030
改回来了

20:58.030 --> 20:59.030
对不对

20:59.030 --> 21:00.030
然后这个setting

21:00.030 --> 21:01.030
setting的话

21:01.030 --> 21:02.030
刚才是改成123456了

21:02.030 --> 21:04.030
这接口是没问题的

21:04.030 --> 21:06.030
setting的话在这看一下

21:06.030 --> 21:07.030
过来漏液

21:07.030 --> 21:09.030
看到没有

21:09.030 --> 21:10.030
没问题

21:10.030 --> 21:11.030
对不对

21:11.030 --> 21:13.030
get hub地址怎么没有呢

21:13.030 --> 21:17.410
get hub

21:17.410 --> 21:20.410
get hub

21:20.410 --> 21:22.410
get hub是空的

21:22.410 --> 21:23.410
我们过来看一下

21:23.410 --> 21:24.410
过来漏液

21:24.410 --> 21:26.410
我们初始话的时候没有吗

21:26.410 --> 21:30.410
在

21:30.410 --> 21:31.410
在哪里

21:31.410 --> 21:32.410
我们在哪里初始话的

21:32.410 --> 21:33.410
db

21:33.410 --> 21:34.410
db

21:34.410 --> 21:36.410
然后get hub内幕

21:36.410 --> 21:38.410
还真的少一个是吧

21:38.410 --> 21:39.410
这边我没写

21:39.410 --> 21:40.410
get hub地址

21:40.410 --> 21:42.410
然后本来我就没写

21:42.410 --> 21:43.410
这边是空的

21:43.410 --> 21:44.410
这个的话你要写

21:44.410 --> 21:45.410
你回头

21:45.410 --> 21:46.410
把你自己的get hub地址

21:46.410 --> 21:48.410
你把它写上就可以了

21:48.410 --> 21:49.410
好不好

21:49.410 --> 21:51.410
这边让你修改这些都是没问题的

21:51.410 --> 21:53.410
进入编辑模式

21:53.410 --> 21:54.410
这边改成

21:54.410 --> 21:56.410
654321

21:56.410 --> 21:57.410
对吧

21:57.410 --> 21:59.410
其他的我也久不改了

21:59.410 --> 22:00.410
QQ也改一下嘛

22:00.410 --> 22:02.410
654321

22:02.410 --> 22:04.410
微信号22

22:04.410 --> 22:06.410
然后接下这边

22:06.410 --> 22:07.410
确定

22:07.410 --> 22:09.410
是不OK了

22:09.410 --> 22:10.410
对不对

22:10.410 --> 22:11.410
没有问题

22:11.410 --> 22:12.410
OK

22:12.410 --> 22:13.410
然后还有就是这边

22:13.410 --> 22:15.410
这边是那个修改密码

22:15.410 --> 22:16.410
这边个人中心修改密码

22:16.410 --> 22:17.410
这个的话

22:17.410 --> 22:19.410
我们是不是在写那个

22:19.410 --> 22:21.410
写那个就是管理员模块的时候

22:21.410 --> 22:23.410
我们是早就写了的

22:23.410 --> 22:24.410
对不对

22:24.410 --> 22:25.410
这早就写了

22:25.410 --> 22:27.410
这个是在那个管理员模块这里

22:27.410 --> 22:30.410
这里这里有个更新管理员

22:30.410 --> 22:31.410
就是修改那个密码

22:31.410 --> 22:32.410
还记不记得

22:32.410 --> 22:34.410
最早写那个管理员的时候

22:34.410 --> 22:36.410
早就写了

22:36.410 --> 22:37.410
早就写了

22:37.410 --> 22:39.410
而说我们整个这个服务器

22:39.410 --> 22:41.410
基本上就差不多了

22:41.410 --> 22:42.410
就差不多了

22:42.410 --> 22:43.410
我们下节课的话

22:43.410 --> 22:45.410
我们把那个

22:45.410 --> 22:47.410
有一些功能我们之前没做的

22:47.410 --> 22:49.410
我们把它完善一下

22:49.410 --> 22:50.410
什么东西呢

22:50.410 --> 22:52.410
就比如说

22:52.410 --> 22:54.410
我记得之前有一些

22:54.410 --> 22:57.410
有一些我说后面再来处理的

22:57.410 --> 22:59.410
比如说

22:59.410 --> 23:00.410
这里

23:00.410 --> 23:01.410
这里对不对

23:01.410 --> 23:03.410
之后还有一个操作

23:03.410 --> 23:04.410
就是该文章下

23:04.410 --> 23:07.410
所有对应的评论也要一并删除

23:07.410 --> 23:08.410
我们之前的话

23:08.410 --> 23:10.410
我们说这个评论模块还没写

23:10.410 --> 23:11.410
说这里的话我们是不是

23:11.410 --> 23:13.410
就当时是空着的

23:13.410 --> 23:14.410
对不对

23:14.410 --> 23:15.410
还有一些

23:15.410 --> 23:17.410
还有一些我找一找

23:17.410 --> 23:19.410
还有一些比如说是删除博客

23:19.410 --> 23:20.410
我记得

23:20.410 --> 23:21.410
删除博客

23:21.410 --> 23:22.410
就这里

23:22.410 --> 23:23.410
对不对

23:23.410 --> 23:27.410
这里需要返回受影响的文章的数量

23:27.410 --> 23:28.410
当时的话也是

23:28.410 --> 23:29.410
那个文章模块还没写

23:29.410 --> 23:32.410
所以我们这边就直接返回的是一个处

23:32.410 --> 23:33.410
对不对

23:33.410 --> 23:34.410
还有没有

23:34.410 --> 23:36.410
好像就这两个是吧

23:36.410 --> 23:37.410
是不是就这两个

23:37.410 --> 23:38.410
我们找一找

23:38.410 --> 23:40.410
about 没有什么

23:40.410 --> 23:42.410
and mean 这边登录更新

23:42.410 --> 23:44.410
这边也没有什么

23:44.410 --> 23:46.410
然后 banner

23:46.410 --> 23:47.410
banner 没什么

23:47.410 --> 23:48.410
好像就这两个

23:48.410 --> 23:49.410
一个是这个博客

23:49.410 --> 23:51.410
博客这个评论要一并删除

23:51.410 --> 23:53.410
一个是这个

23:53.410 --> 23:54.410
这个博客类别

23:54.410 --> 23:56.410
这个删除的时候要返回

23:56.410 --> 23:59.410
这个受影响的这个文章数量

23:59.410 --> 24:01.410
然后

24:01.410 --> 24:02.410
其他好像就真没什么了

24:02.410 --> 24:04.410
我看message 有没有什么

24:04.410 --> 24:06.410
message

24:07.410 --> 24:09.410
好像没有

24:09.410 --> 24:10.410
没有message 没有

24:10.410 --> 24:11.410
ok

24:11.410 --> 24:13.410
这节课就先到这里

24:13.410 --> 24:16.410
大家把这个项目自己再玩上一下

24:16.410 --> 24:19.410
把最后两个模块把它写了

24:19.410 --> 24:20.410
好吧

24:20.410 --> 24:22.410
我这边就先到这里

24:22.410 --> 24:23.410
大家自己写写

24:23.410 --> 24:24.410
再见

