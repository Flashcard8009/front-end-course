<html> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,viewport-fit=cover"> <meta name="format-detection" content="telephone=no"> <title>08 | ELFå’Œé™æ€é“¾æ¥ï¼šä¸ºä»€ä¹ˆç¨‹åºæ— æ³•åŒæ—¶åœ¨Linuxå’ŒWindowsä¸‹è¿è¡Œï¼Ÿ</title>         <style type="text/css"> html { color: #333; -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; text-rendering: optimizelegibility; font-family: Helvetica Neue,PingFang SC,Verdana,Microsoft Yahei,Hiragino Sans GB,Microsoft Sans Serif,WenQuanYi Micro Hei,sans-serif } html.borderbox *,html.borderbox :after,html.borderbox :before { box-sizing: border-box } article,aside,blockquote,body,button,code,dd,details,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hr,input,legend,li,menu,nav,ol,p,pre,section,td,textarea,th,ul { margin: 0; padding: 0 } article,aside,details,figcaption,figure,footer,header,menu,nav,section { display: block } audio,canvas,video { display: inline-block } body,button,input,select,textarea { font: 300 1em/1.8 PingFang SC,Lantinghei SC,Microsoft Yahei,Hiragino Sans GB,Microsoft Sans Serif,WenQuanYi Micro Hei,Helvetica,sans-serif } button::-moz-focus-inner,input::-moz-focus-inner { padding: 0; border: 0 } table { border-collapse: collapse; border-spacing: 0 } fieldset,img { border: 0 } blockquote { position: relative; color: #999; font-weight: 400; border-left: 1px solid #1abc9c; padding-left: 1em; margin: 1em 3em 1em 2em } @media only screen and (max-width: 640px) { blockquote { margin:1em 0 } } abbr,acronym { border-bottom: 1px dotted; font-variant: normal } abbr { cursor: help } del { text-decoration: line-through } address,caption,cite,code,dfn,em,th,var { font-style: normal; font-weight: 400 } ol,ul { list-style: none } caption,th { text-align: left } q:after,q:before { content: "" } sub,sup { font-size: 75%; line-height: 0; position: relative } :root sub,:root sup { vertical-align: baseline } sup { top: -.5em } sub { bottom: -.25em } a { color: #1abc9c } a:hover { text-decoration: underline } .typo a { border-bottom: 1px solid #1abc9c } .typo a:hover { border-bottom-color: #555; color: #555 } .typo a:hover,a,ins { text-decoration: none } .typo-u,u { text-decoration: underline } mark { background: #fffdd1; border-bottom: 1px solid #ffedce; padding: 2px; margin: 0 5px } code,pre,pre tt { font-family: Courier,Courier New,monospace } pre { background: hsla(0,0%,97%,.7); border: 1px solid #ddd; padding: 1em 1.5em; display: block; -webkit-overflow-scrolling: touch } hr { border: none; border-bottom: 1px solid #cfcfcf; margin-bottom: .8em; height: 10px } .typo-small,figcaption,small { font-size: .9em; color: #888 } b,strong { font-weight: 700; color: #000 } [draggable] { cursor: move } .clearfix:after,.clearfix:before { content: ""; display: table } .clearfix:after { clear: both } .clearfix { zoom:1} .textwrap,.textwrap td,.textwrap th { word-wrap: break-word; word-break: break-all } .textwrap-table { table-layout: fixed } .serif { font-family: Palatino,Optima,Georgia,serif } .typo-dl,.typo-form,.typo-hr,.typo-ol,.typo-p,.typo-pre,.typo-table,.typo-ul,.typo dl,.typo form,.typo hr,.typo ol,.typo p,.typo pre,.typo table,.typo ul,blockquote { margin-bottom: 1rem } h1,h2,h3,h4,h5,h6 { font-family: PingFang SC,Helvetica Neue,Verdana,Microsoft Yahei,Hiragino Sans GB,Microsoft Sans Serif,WenQuanYi Micro Hei,sans-serif; color: #000; line-height: 1.35 } .typo-h1,.typo-h2,.typo-h3,.typo-h4,.typo-h5,.typo-h6,.typo h1,.typo h2,.typo h3,.typo h4,.typo h5,.typo h6 { margin-top: 1.2em; margin-bottom: .6em; line-height: 1.35 } .typo-h1,.typo h1 { font-size: 2em } .typo-h2,.typo h2 { font-size: 1.8em } .typo-h3,.typo h3 { font-size: 1.6em } .typo-h4,.typo h4 { font-size: 1.4em } .typo-h5,.typo-h6,.typo h5,.typo h6 { font-size: 1.2em } .typo-ul,.typo ul { margin-left: 1.3em; list-style: disc } .typo-ol,.typo ol { list-style: decimal; margin-left: 1.9em } .typo-ol ol,.typo-ol ul,.typo-ul ol,.typo-ul ul,.typo li ol,.typo li ul { margin-bottom: .8em; margin-left: 2em } .typo-ol ul,.typo-ul ul,.typo li ul { list-style: circle } .typo-table td,.typo-table th,.typo table caption,.typo table td,.typo table th { border: 1px solid #ddd; padding: .5em 1em; color: #666 } .typo-table th,.typo table th { background: #fbfbfb } .typo-table thead th,.typo table thead th { background: hsla(0,0%,95%,.7) } .typo table caption { border-bottom: none } .typo-input,.typo-textarea { -webkit-appearance: none; border-radius: 0 } .typo-em,.typo em,caption,legend { color: #000; font-weight: inherit } .typo-em { position: relative } .typo-em:after { position: absolute; top: .65em; left: 0; width: 100%; overflow: hidden; white-space: nowrap; content: "\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB" } .typo img { max-width: 100% } .common-content { font-weight: 400; color: #353535; line-height: 1.75rem; white-space: normal; word-break: normal; font-size: 1rem } .common-content img { display: block; max-width: 100%; background-color: #eee } .common-content audio,.common-content video { width: 100%; background-color: #eee } .common-content center,.common-content font { margin-top: 1rem; display: inline-block } .common-content center { width: 100% } .common-content pre { margin-top: 1rem; padding-left: 0; padding-right: 0; position: relative; overflow: hidden } .common-content pre code { font-size: .8rem; font-family: Consolas,Liberation Mono,Menlo,monospace,Courier; display: block; width: 100%; box-sizing: border-box; padding-left: 1rem; padding-right: 1rem; overflow-x: auto } .common-content hr { border: none; margin-top: 1.5rem; margin-bottom: 1.5rem; border-top: 1px solid #f5f5f5; height: 1px; background: none } .common-content b,.common-content h1,.common-content h2,.common-content h3,.common-content h4,.common-content h5,.common-content strong { font-weight: 700 } .common-content h1,.common-content h2 { font-size: 1.125rem; margin-bottom: .45rem } .common-content h3,.common-content h4,.common-content h5 { font-size: 1rem; margin-bottom: .45rem } .common-content p { font-weight: 400; color: #353535; margin-top: .15rem } .common-content .orange { color: #ff5a05 } .common-content .reference { font-size: 1rem; color: #888 } .custom-rich-content h1 { margin-top: 0; font-weight: 400; font-size: 15.25px; border-bottom: 1px solid #eee; line-height: 2.8 } .custom-rich-content li,.custom-rich-content p { font-size: 14px; color: #888; line-height: 1.6 } table.hljs-ln { margin-bottom: 0; border-spacing: 0; border-collapse: collapse } table.hljs-ln,table.hljs-ln tbody,table.hljs-ln td,table.hljs-ln tr { box-sizing: border-box } table.hljs-ln td { padding: 0; border: 0 } table.hljs-ln td.hljs-ln-numbers { min-width: 15px; color: rgba(27,31,35,.3); text-align: right; white-space: nowrap; cursor: pointer; user-select: none } table.hljs-ln td.hljs-ln-code,table.hljs-ln td.hljs-ln-numbers { font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace; font-size: 12px; line-height: 20px; vertical-align: top } table.hljs-ln td.hljs-ln-code { position: relative; padding-right: 10px; padding-left: 10px; overflow: visible; color: #24292e; word-wrap: normal; white-space: pre } video::-webkit-media-controls { overflow: hidden!important } video::-webkit-media-controls-enclosure { width: calc(100% + 32px); margin-left: auto } .button-cancel { color: #888; border: 1px solid #888; border-radius: 3px; margin-right: 12px } .button-cancel,.button-primary { -ms-flex-positive: 1; flex-grow: 1; height: 35px; display: inline-block; font-size: 15px; text-align: center; line-height: 36px } .button-primary { color: #fff; background-color: #ff5a05; border-radius: 3px } @font-face { font-family: iconfont; src: url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.eot); src: url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.eot#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.woff) format("woff"),url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.ttf) format("truetype"),url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.svg#iconfont) format("svg") } @font-face { font-family: player-font; src: url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.eot); src: url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.eot#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.woff) format("woff"),url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.ttf) format("truetype"),url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.svg#player-font) format("svg") } .iconfont { font-family: iconfont!important; font-size: 16px; font-style: normal; -webkit-font-smoothing: antialiased; -webkit-text-stroke-width: .2px; -moz-osx-font-smoothing: grayscale } html { background: #fff; min-height: 100%; -webkit-tap-highlight-color: rgba(0,0,0,0) } body { width: 100% } body.fixed { overflow: hidden; position: fixed; width: 100vw; height: 100vh } i { font-style: normal } a { word-wrap: break-word; -webkit-tap-highlight-color: rgba(0,0,0,0) } a:hover { text-decoration: none } .fade-enter-active,.fade-leave-active { transition: opacity .3s } .fade-enter,.fade-leave-to { opacity: 0 } .MathJax,.MathJax_CHTML,.MathJax_MathContainer,.MathJax_MathML,.MathJax_PHTML,.MathJax_PlainSource,.MathJax_SVG { outline: 0 } .ios-app-switch .js-audit { display: none } ._loading_wrap_ { position: fixed; width: 100vw; height: 100vh; top: 50%; left: 50%; transform: translate(-50%,-50%); z-index: 999 } ._loading_div_class_,._loading_wrap_ { display: -ms-flexbox; display: flex; -ms-flex-pack: center; justify-content: center; -ms-flex-align: center; align-items: center } ._loading_div_class_ { word-wrap: break-word; padding: .5rem .75rem; text-align: center; z-index: 9999; font-size: .6rem; max-width: 60%; color: #fff; border-radius: .25rem; -ms-flex-direction: column; flex-direction: column } ._loading_div_class_ .message { color: #353535; font-size: 16px; line-height: 3 } .spinner { animation: circle-rotator 1.4s linear infinite } .spinner * { line-height: 0; box-sizing: border-box } @keyframes circle-rotator { 0% { transform: rotate(0deg) } to { transform: rotate(270deg) } } .path { stroke-dasharray: 187; stroke-dashoffset: 0; transform-origin: center; animation: circle-dash 1.4s ease-in-out infinite,circle-colors 5.6s ease-in-out infinite } @keyframes circle-colors { 0% { stroke: #ff5a05 } to { stroke: #ff5a05 } } @keyframes circle-dash { 0% { stroke-dashoffset: 187 } 50% { stroke-dashoffset: 46.75; transform: rotate(135deg) } to { stroke-dashoffset: 187; transform: rotate(450deg) } } .confirm-box-wrapper,.confirm-box-wrapper .mask { position: absolute; top: 0; left: 0; right: 0; bottom: 0 } .confirm-box-wrapper .mask { background: rgba(0,0,0,.6) } .confirm-box-wrapper .confirm-box { position: fixed; top: 50%; left: 50%; width: 267px; background: #fff; transform: translate(-50%,-50%); border-radius: 7px } .confirm-box-wrapper .confirm-box .head { margin: 0 18px; font-size: 18px; text-align: center; line-height: 65px; border-bottom: 1px solid #d9d9d9 } .confirm-box-wrapper .confirm-box .body { padding: 18px; padding-bottom: 0; color: #353535; font-size: 12.5px; max-height: 150px; overflow: auto } .confirm-box-wrapper .confirm-box .foot { display: -ms-flexbox; display: flex; -ms-flex-direction: row; flex-direction: row; padding: 18px } .confirm-box-wrapper .confirm-box .foot .button-cancel { border: 1px solid #d9d9d9 } .hljs { display: block; overflow-x: auto; padding: .5em; color: #333; background: #f8f8f8 } .hljs-comment,.hljs-quote { color: #998; font-style: italic } .hljs-keyword,.hljs-selector-tag,.hljs-subst { color: #333; font-weight: 700 } .hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable { color: teal } .hljs-doctag,.hljs-string { color: #d14 } .hljs-section,.hljs-selector-id,.hljs-title { color: #900; font-weight: 700 } .hljs-subst { font-weight: 400 } .hljs-class .hljs-title,.hljs-type { color: #458; font-weight: 700 } .hljs-attribute,.hljs-name,.hljs-tag { color: navy; font-weight: 400 } .hljs-link,.hljs-regexp { color: #009926 } .hljs-bullet,.hljs-symbol { color: #990073 } .hljs-built_in,.hljs-builtin-name { color: #0086b3 } .hljs-meta { color: #999; font-weight: 700 } .hljs-deletion { background: #fdd } .hljs-addition { background: #dfd } .hljs-emphasis { font-style: italic } .hljs-strong { font-weight: 700 } .button-cancel[data-v-87ffcada] { color: #888; border: 1px solid #888; border-radius: 3px; margin-right: 12px } .button-cancel[data-v-87ffcada],.button-primary[data-v-87ffcada] { -webkit-box-flex: 1; -ms-flex-positive: 1; flex-grow: 1; height: 35px; display: inline-block; font-size: 15px; text-align: center; line-height: 36px } .button-primary[data-v-87ffcada] { color: #fff; background-color: #ff5a05; border-radius: 3px } .pd[data-v-87ffcada] { padding-left: 1.375rem; padding-right: 1.375rem } .article[data-v-87ffcada] { max-width: 70rem; margin: 0 auto } .article .article-unavailable[data-v-87ffcada] { color: #fa8919; font-size: 15px; font-weight: 600; line-height: 24px; border-radius: 5px; padding: 12px; background-color: #f6f7fb; margin-top: 20px } .article .article-unavailable .iconfont[data-v-87ffcada] { font-size: 12px } .article .main[data-v-87ffcada] { padding: 1.25rem 0; margin-bottom: 52px } .article-title[data-v-87ffcada] { color: #353535; font-weight: bold; line-height: 1.65rem; font-size: 1.34375rem } .article-info[data-v-87ffcada] { color: #888; font-size: .9375rem; margin-top: 1.0625rem } .article-content[data-v-87ffcada] { margin-top: 1.0625rem } .article-content.android video[data-v-87ffcada]::-webkit-media-controls-fullscreen-button { display: none } .copyright[data-v-87ffcada] { color: #b2b2b2; padding-bottom: 20px; margin-top: 20px; font-size: 13px } .audio-player[data-v-87ffcada] { width: 100%; margin: 20px 0 } .to-comment[data-v-87ffcada] { overflow: hidden; padding-top: 10px; margin-bottom: -30px } .to-comment a.button-primary[data-v-87ffcada] { float: right; height: 20px; font-size: 12px; line-height: 20px; padding: 4px 8px; cursor: pointer } .article-comments[data-v-87ffcada] { margin-top: 2rem } .article-comments h2[data-v-87ffcada] { text-align: center; color: #888; position: relative; z-index: 1; margin-bottom: 1rem } .article-comments h2[data-v-87ffcada]:before { border-top: 1px dotted #888; content: ""; position: absolute; top: 56%; left: 0; width: 100%; z-index: -1 } .article-comments h2 span[data-v-87ffcada] { font-size: 15.25px; font-weight: 400; padding: 0 1rem; background: #fff; display: inline-block } .article-sub-bottom[data-v-87ffcada] { z-index: 10; cursor: pointer } .switch-btns[data-v-87ffcada] { height: 76px; cursor: pointer; padding-top: 24px; padding-bottom: 24px; border-bottom: 10px solid #f6f7fb; position: relative } .switch-btns[data-v-87ffcada]:before { content: " "; height: 1px; background: #e8e8e8; position: absolute; top: 0; left: 0; -webkit-box-sizing: border-box; box-sizing: border-box; left: 1.375rem; right: 1.375rem } .switch-btns .btn[data-v-87ffcada] { height: 38px; display: -webkit-box; display: -ms-flexbox; display: flex; -webkit-box-align: center; -ms-flex-align: center; align-items: center } .switch-btns .btn .tag[data-v-87ffcada] { -webkit-box-flex: 0; -ms-flex: 0 0 62px; flex: 0 0 62px; text-align: center; color: #888; font-size: 14px; border-radius: 10px; height: 22px; line-height: 22px; background: #f6f7fb; font-weight: 400 } .switch-btns .btn .txt[data-v-87ffcada] { margin-left: 10px; -webkit-box-flex: 1; -ms-flex: 1 1 auto; flex: 1 1 auto; color: #888; font-size: 15px; height: 22px; line-height: 22px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; font-weight: 400 } @media (max-width: 769px) { .article .breadcrumb[data-v-87ffcada] { padding-top:10px; padding-bottom: 10px } } .comment-item { list-style-position: inside; width: 100%; display: -webkit-box; display: -ms-flexbox; display: flex; -webkit-box-orient: horizontal; -webkit-box-direction: normal; -ms-flex-direction: row; flex-direction: row; margin-bottom: 1rem } .comment-item a { border-bottom: none } .comment-item .avatar { width: 2.625rem; height: 2.625rem; -ms-flex-negative: 0; flex-shrink: 0; border-radius: 50% } .comment-item .info { margin-left: .5rem; -webkit-box-flex: 1; -ms-flex-positive: 1; flex-grow: 1 } .comment-item .info .hd { width: 100%; display: -webkit-box; display: -ms-flexbox; display: flex; -webkit-box-orient: horizontal; -webkit-box-direction: normal; -ms-flex-direction: row; flex-direction: row; -webkit-box-pack: justify; -ms-flex-pack: justify; justify-content: space-between; -webkit-box-align: center; -ms-flex-align: center; align-items: center } .comment-item .info .hd .username { color: #888; font-size: 15.25px; font-weight: 400; line-height: 1.2 } .comment-item .info .hd .control { display: -webkit-box; display: -ms-flexbox; display: flex; -webkit-box-orient: horizontal; -webkit-box-direction: normal; -ms-flex-direction: row; flex-direction: row; -webkit-box-align: center; -ms-flex-align: center; align-items: center } .comment-item .info .hd .control .btn-share { color: #888; font-size: .75rem; margin-right: 1rem } .comment-item .info .hd .control .btn-praise { display: -webkit-box; display: -ms-flexbox; display: flex; -webkit-box-orient: horizontal; -webkit-box-direction: normal; -ms-flex-direction: row; flex-direction: row; -webkit-box-align: center; -ms-flex-align: center; align-items: center; font-size: 15.25px; text-decoration: none } .comment-item .info .hd .control .btn-praise i { color: #888; display: inline-block; font-size: .75rem; margin-right: .3rem; margin-top: -.01rem } .comment-item .info .hd .control .btn-praise i.on,.comment-item .info .hd .control .btn-praise span { color: #ff5a05 } .comment-item .info .bd { color: #353535; font-size: 15.25px; font-weight: 400; white-space: normal; word-break: break-all; line-height: 1.6 } .comment-item .info .time { color: #888; font-size: 9px; line-height: 1 } .comment-item .info .reply .reply-hd { font-size: 15.25px } .comment-item .info .reply .reply-hd span { margin-left: -12px; color: #888; font-weight: 400 } .comment-item .info .reply .reply-hd i { color: #ff5a05; font-size: 15.25px } .comment-item .info .reply .reply-content { background: #f6f7fb; padding: 18px; border-radius: 10px; color: #353535; font-size: 15.25px; font-weight: 400; white-space: normal; word-break: break-all } .comment-item .info .reply .reply-time { color: #888; font-size: 9px } </style> </head> <body> <div id="app"> <div data-v-87ffcada="" class="article" id="watermark"> <div data-v-87ffcada="" class="main main-app"> <h1 data-v-87ffcada="" class="article-title pd"> 08 | ELFå’Œé™æ€é“¾æ¥ï¼šä¸ºä»€ä¹ˆç¨‹åºæ— æ³•åŒæ—¶åœ¨Linuxå’ŒWindowsä¸‹è¿è¡Œï¼Ÿ </h1> <hr> <div data-v-87ffcada="" class="article-content typo common-content pd"> <img data-v-87ffcada="" src="https://static001.geekbang.org/resource/image/49/04/49c871304ceb626799ade3e43a2b7004.jpg"> <div data-v-87ffcada="" id="article-content" class=""> <div class="text"> <p>è¿‡å»çš„ä¸‰èŠ‚ï¼Œä½ å’Œæˆ‘ä¸€èµ·é€šè¿‡ä¸€äº›ç®€å•çš„ä»£ç ï¼Œçœ‹åˆ°äº†æˆ‘ä»¬å†™çš„ç¨‹åºï¼Œæ˜¯æ€ä¹ˆå˜æˆä¸€æ¡æ¡è®¡ç®—æœºæŒ‡ä»¤çš„ï¼›ifâ€¦elseè¿™æ ·çš„æ¡ä»¶è·³è½¬æ˜¯æ€ä¹ˆæ ·æ‰§è¡Œçš„ï¼›for/whileè¿™æ ·çš„å¾ªç¯æ˜¯æ€ä¹ˆæ‰§è¡Œçš„ï¼›å‡½æ•°é—´çš„ç›¸äº’è°ƒç”¨æ˜¯æ€ä¹ˆå‘ç”Ÿçš„ã€‚</p><p>æˆ‘è®°å¾—ä»¥å‰ï¼Œæˆ‘è‡ªå·±åœ¨äº†è§£å®Œè¿™äº›çŸ¥è¯†ä¹‹åï¼Œäº§ç”Ÿäº†ä¸€ä¸ªéå¸¸å¤§çš„ç–‘é—®ã€‚é‚£å°±æ˜¯ï¼Œæ—¢ç„¶æˆ‘ä»¬çš„ç¨‹åºæœ€ç»ˆéƒ½è¢«å˜æˆäº†ä¸€æ¡æ¡æœºå™¨ç å»æ‰§è¡Œï¼Œé‚£ä¸ºä»€ä¹ˆåŒä¸€ä¸ªç¨‹åºï¼Œåœ¨åŒä¸€å°è®¡ç®—æœºä¸Šï¼Œåœ¨Linuxä¸‹å¯ä»¥è¿è¡Œï¼Œè€Œåœ¨Windowsä¸‹å´ä¸è¡Œå‘¢ï¼Ÿåè¿‡æ¥ï¼ŒWindowsä¸Šçš„ç¨‹åºåœ¨Linuxä¸Šä¹Ÿæ˜¯ä¸€æ ·ä¸èƒ½æ‰§è¡Œçš„ã€‚å¯æ˜¯æˆ‘ä»¬çš„CPUå¹¶æ²¡æœ‰æ¢æ‰ï¼Œå®ƒåº”è¯¥å¯ä»¥è¯†åˆ«åŒæ ·çš„æŒ‡ä»¤å‘€ï¼Ÿ</p><p>å¦‚æœä½ å’Œæˆ‘æœ‰åŒæ ·çš„ç–‘é—®ï¼Œé‚£è¿™ä¸€èŠ‚ï¼Œæˆ‘ä»¬å°±ä¸€èµ·æ¥è§£å¼€ã€‚</p><h2>ç¼–è¯‘ã€é“¾æ¥å’Œè£…è½½ï¼šæ‹†è§£ç¨‹åºæ‰§è¡Œ</h2><p><a href="https://time.geekbang.org/column/article/93359">ç¬¬5èŠ‚</a>æˆ‘ä»¬è¯´è¿‡ï¼Œå†™å¥½çš„Cè¯­è¨€ä»£ç ï¼Œå¯ä»¥é€šè¿‡ç¼–è¯‘å™¨ç¼–è¯‘æˆæ±‡ç¼–ä»£ç ï¼Œç„¶åæ±‡ç¼–ä»£ç å†é€šè¿‡æ±‡ç¼–å™¨å˜æˆCPUå¯ä»¥ç†è§£çš„æœºå™¨ç ï¼Œäºæ˜¯CPUå°±å¯ä»¥æ‰§è¡Œè¿™äº›æœºå™¨ç äº†ã€‚ä½ ç°åœ¨å¯¹è¿™ä¸ªè¿‡ç¨‹åº”è¯¥ä¸é™Œç”Ÿäº†ï¼Œä½†æ˜¯è¿™ä¸ªæè¿°æŠŠè¿‡ç¨‹å¤§å¤§ç®€åŒ–äº†ã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬ä¸€èµ·å…·ä½“æ¥çœ‹ï¼ŒCè¯­è¨€ç¨‹åºæ˜¯å¦‚ä½•å˜æˆä¸€ä¸ªå¯æ‰§è¡Œç¨‹åºçš„ã€‚</p><p>ä¸çŸ¥é“ä½ æ³¨æ„åˆ°æ²¡æœ‰ï¼Œè¿‡å»å‡ èŠ‚ï¼Œæˆ‘ä»¬é€šè¿‡gccç”Ÿæˆçš„æ–‡ä»¶å’Œobjdumpè·å–åˆ°çš„æ±‡ç¼–æŒ‡ä»¤éƒ½æœ‰äº›å°å°çš„é—®é¢˜ã€‚æˆ‘ä»¬å…ˆæŠŠå‰é¢çš„addå‡½æ•°ç¤ºä¾‹ï¼Œæ‹†åˆ†æˆä¸¤ä¸ªæ–‡ä»¶add_lib.cå’Œlink_example.cã€‚</p><!-- [[[read_end]]] --><pre><code>// add_lib.c
int add(int a, int b)
{
    return a+b;
}
</code></pre><pre><code>// link_example.c

#include &lt;stdio.h&gt;
int main()
{
    int a = 10;
    int b = 5;
    int c = add(a, b);
    printf(&quot;c = %d\n&quot;, c);
}
</code></pre><p>æˆ‘ä»¬é€šè¿‡gccæ¥ç¼–è¯‘è¿™ä¸¤ä¸ªæ–‡ä»¶ï¼Œç„¶åé€šè¿‡objdumpå‘½ä»¤çœ‹çœ‹å®ƒä»¬çš„æ±‡ç¼–ä»£ç ã€‚</p><pre><code>$ gcc -g -c add_lib.c link_example.c
$ objdump -d -M intel -S add_lib.o
$ objdump -d -M intel -S link_example.o
</code></pre><pre><code>add_lib.o:     file format elf64-x86-64
Disassembly of section .text:
0000000000000000 &lt;add&gt;:
   0:   55                      push   rbp
   1:   48 89 e5                mov    rbp,rsp
   4:   89 7d fc                mov    DWORD PTR [rbp-0x4],edi
   7:   89 75 f8                mov    DWORD PTR [rbp-0x8],esi
   a:   8b 55 fc                mov    edx,DWORD PTR [rbp-0x4]
   d:   8b 45 f8                mov    eax,DWORD PTR [rbp-0x8]
  10:   01 d0                   add    eax,edx
  12:   5d                      pop    rbp
  13:   c3                      ret    
</code></pre><pre><code>link_example.o:     file format elf64-x86-64
Disassembly of section .text:
0000000000000000 &lt;main&gt;:
   0:   55                      push   rbp
   1:   48 89 e5                mov    rbp,rsp
   4:   48 83 ec 10             sub    rsp,0x10
   8:   c7 45 fc 0a 00 00 00    mov    DWORD PTR [rbp-0x4],0xa
   f:   c7 45 f8 05 00 00 00    mov    DWORD PTR [rbp-0x8],0x5
  16:   8b 55 f8                mov    edx,DWORD PTR [rbp-0x8]
  19:   8b 45 fc                mov    eax,DWORD PTR [rbp-0x4]
  1c:   89 d6                   mov    esi,edx
  1e:   89 c7                   mov    edi,eax
  20:   b8 00 00 00 00          mov    eax,0x0
  25:   e8 00 00 00 00          call   2a &lt;main+0x2a&gt;
  2a:   89 45 f4                mov    DWORD PTR [rbp-0xc],eax
  2d:   8b 45 f4                mov    eax,DWORD PTR [rbp-0xc]
  30:   89 c6                   mov    esi,eax
  32:   48 8d 3d 00 00 00 00    lea    rdi,[rip+0x0]        # 39 &lt;main+0x39&gt;
  39:   b8 00 00 00 00          mov    eax,0x0
  3e:   e8 00 00 00 00          call   43 &lt;main+0x43&gt;
  43:   b8 00 00 00 00          mov    eax,0x0
  48:   c9                      leave  
  49:   c3                      ret    
</code></pre><p>æ—¢ç„¶ä»£ç å·²ç»è¢«æˆ‘ä»¬â€œç¼–è¯‘â€æˆäº†æŒ‡ä»¤ï¼Œæˆ‘ä»¬ä¸å¦¨å°è¯•è¿è¡Œä¸€ä¸‹ ./link_example.oã€‚</p><p>ä¸å¹¸çš„æ˜¯ï¼Œæ–‡ä»¶æ²¡æœ‰æ‰§è¡Œæƒé™ï¼Œæˆ‘ä»¬é‡åˆ°ä¸€ä¸ªPermission deniedé”™è¯¯ã€‚å³ä½¿é€šè¿‡chmodå‘½ä»¤èµ‹äºˆlink_example.oæ–‡ä»¶å¯æ‰§è¡Œçš„æƒé™ï¼Œè¿è¡Œ./link_example.oä»ç„¶åªä¼šå¾—åˆ°ä¸€æ¡cannot execute binary file: Exec format errorçš„é”™è¯¯ã€‚</p><p>æˆ‘ä»¬å†ä»”ç»†çœ‹ä¸€ä¸‹objdumpå‡ºæ¥çš„ä¸¤ä¸ªæ–‡ä»¶çš„ä»£ç ï¼Œä¼šå‘ç°ä¸¤ä¸ªç¨‹åºçš„åœ°å€éƒ½æ˜¯ä»0å¼€å§‹çš„ã€‚å¦‚æœåœ°å€æ˜¯ä¸€æ ·çš„ï¼Œç¨‹åºå¦‚æœéœ€è¦é€šè¿‡callæŒ‡ä»¤è°ƒç”¨å‡½æ•°çš„è¯ï¼Œå®ƒæ€ä¹ˆçŸ¥é“åº”è¯¥è·³è½¬åˆ°å“ªä¸€ä¸ªæ–‡ä»¶é‡Œå‘¢ï¼Ÿ</p><p>è¿™ä¹ˆè¯´å§ï¼Œæ— è®ºæ˜¯è¿™é‡Œçš„è¿è¡ŒæŠ¥é”™ï¼Œè¿˜æ˜¯objdumpå‡ºæ¥çš„æ±‡ç¼–ä»£ç é‡Œé¢çš„é‡å¤åœ°å€ï¼Œéƒ½æ˜¯å› ä¸º add_lib.o ä»¥åŠ link_example.oå¹¶ä¸æ˜¯ä¸€ä¸ª<strong>å¯æ‰§è¡Œæ–‡ä»¶</strong>ï¼ˆExecutable Programï¼‰ï¼Œè€Œæ˜¯<strong>ç›®æ ‡æ–‡ä»¶</strong>ï¼ˆObject Fileï¼‰ã€‚åªæœ‰é€šè¿‡é“¾æ¥å™¨ï¼ˆLinkerï¼‰æŠŠå¤šä¸ªç›®æ ‡æ–‡ä»¶ä»¥åŠè°ƒç”¨çš„å„ç§å‡½æ•°åº“é“¾æ¥èµ·æ¥ï¼Œæˆ‘ä»¬æ‰èƒ½å¾—åˆ°ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ã€‚</p><p>æˆ‘ä»¬é€šè¿‡gccçš„-oå‚æ•°ï¼Œå¯ä»¥ç”Ÿæˆå¯¹åº”çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¯¹åº”æ‰§è¡Œä¹‹åï¼Œå°±å¯ä»¥å¾—åˆ°è¿™ä¸ªç®€å•çš„åŠ æ³•è°ƒç”¨å‡½æ•°çš„ç»“æœã€‚</p><pre><code>$ gcc -o link-example add_lib.o link_example.o
$ ./link_example
c = 15
</code></pre><p>å®é™…ä¸Šï¼Œâ€œ<strong>Cè¯­è¨€ä»£ç -æ±‡ç¼–ä»£ç -æœºå™¨ç </strong>â€  è¿™ä¸ªè¿‡ç¨‹ï¼Œåœ¨æˆ‘ä»¬çš„è®¡ç®—æœºä¸Šè¿›è¡Œçš„æ—¶å€™æ˜¯ç”±ä¸¤éƒ¨åˆ†ç»„æˆçš„ã€‚</p><p>ç¬¬ä¸€ä¸ªéƒ¨åˆ†ç”±ç¼–è¯‘ï¼ˆCompileï¼‰ã€æ±‡ç¼–ï¼ˆAssembleï¼‰ä»¥åŠé“¾æ¥ï¼ˆLinkï¼‰ä¸‰ä¸ªé˜¶æ®µç»„æˆã€‚åœ¨è¿™ä¸‰ä¸ªé˜¶æ®µå®Œæˆä¹‹åï¼Œæˆ‘ä»¬å°±ç”Ÿæˆäº†ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ã€‚</p><p>ç¬¬äºŒéƒ¨åˆ†ï¼Œæˆ‘ä»¬é€šè¿‡è£…è½½å™¨ï¼ˆLoaderï¼‰æŠŠå¯æ‰§è¡Œæ–‡ä»¶è£…è½½ï¼ˆLoadï¼‰åˆ°å†…å­˜ä¸­ã€‚CPUä»å†…å­˜ä¸­è¯»å–æŒ‡ä»¤å’Œæ•°æ®ï¼Œæ¥å¼€å§‹çœŸæ­£æ‰§è¡Œç¨‹åºã€‚</p><p><img src="https://static001.geekbang.org/resource/image/99/a7/997341ed0fa9018561c7120c19cfa2a7.jpg" alt=""></p><h2>ELFæ ¼å¼å’Œé“¾æ¥ï¼šç†è§£é“¾æ¥è¿‡ç¨‹</h2><p>ç¨‹åºæœ€ç»ˆæ˜¯é€šè¿‡è£…è½½å™¨å˜æˆæŒ‡ä»¤å’Œæ•°æ®çš„ï¼Œæ‰€ä»¥å…¶å®æˆ‘ä»¬ç”Ÿæˆçš„å¯æ‰§è¡Œä»£ç ä¹Ÿå¹¶ä¸ä»…ä»…æ˜¯ä¸€æ¡æ¡çš„æŒ‡ä»¤ã€‚æˆ‘ä»¬è¿˜æ˜¯é€šè¿‡objdumpæŒ‡ä»¤ï¼ŒæŠŠå¯æ‰§è¡Œæ–‡ä»¶çš„å†…å®¹æ‹¿å‡ºæ¥çœ‹çœ‹ã€‚</p><pre><code>link_example:     file format elf64-x86-64
Disassembly of section .init:
...
Disassembly of section .plt:
...
Disassembly of section .plt.got:
...
Disassembly of section .text:
...

 6b0:   55                      push   rbp
 6b1:   48 89 e5                mov    rbp,rsp
 6b4:   89 7d fc                mov    DWORD PTR [rbp-0x4],edi
 6b7:   89 75 f8                mov    DWORD PTR [rbp-0x8],esi
 6ba:   8b 55 fc                mov    edx,DWORD PTR [rbp-0x4]
 6bd:   8b 45 f8                mov    eax,DWORD PTR [rbp-0x8]
 6c0:   01 d0                   add    eax,edx
 6c2:   5d                      pop    rbp
 6c3:   c3                      ret    
00000000000006c4 &lt;main&gt;:
 6c4:   55                      push   rbp
 6c5:   48 89 e5                mov    rbp,rsp
 6c8:   48 83 ec 10             sub    rsp,0x10
 6cc:   c7 45 fc 0a 00 00 00    mov    DWORD PTR [rbp-0x4],0xa
 6d3:   c7 45 f8 05 00 00 00    mov    DWORD PTR [rbp-0x8],0x5
 6da:   8b 55 f8                mov    edx,DWORD PTR [rbp-0x8]
 6dd:   8b 45 fc                mov    eax,DWORD PTR [rbp-0x4]
 6e0:   89 d6                   mov    esi,edx
 6e2:   89 c7                   mov    edi,eax
 6e4:   b8 00 00 00 00          mov    eax,0x0
 6e9:   e8 c2 ff ff ff          call   6b0 &lt;add&gt;
 6ee:   89 45 f4                mov    DWORD PTR [rbp-0xc],eax
 6f1:   8b 45 f4                mov    eax,DWORD PTR [rbp-0xc]
 6f4:   89 c6                   mov    esi,eax
 6f6:   48 8d 3d 97 00 00 00    lea    rdi,[rip+0x97]        # 794 &lt;_IO_stdin_used+0x4&gt;
 6fd:   b8 00 00 00 00          mov    eax,0x0
 702:   e8 59 fe ff ff          call   560 &lt;printf@plt&gt;
 707:   b8 00 00 00 00          mov    eax,0x0
 70c:   c9                      leave  
 70d:   c3                      ret    
 70e:   66 90                   xchg   ax,ax
...
Disassembly of section .fini:
...
</code></pre><p>ä½ ä¼šå‘ç°ï¼Œå¯æ‰§è¡Œä»£ç dumpå‡ºæ¥å†…å®¹ï¼Œå’Œä¹‹å‰çš„ç›®æ ‡ä»£ç é•¿å¾—å·®ä¸å¤šï¼Œä½†æ˜¯é•¿äº†å¾ˆå¤šã€‚å› ä¸ºåœ¨Linuxä¸‹ï¼Œå¯æ‰§è¡Œæ–‡ä»¶å’Œç›®æ ‡æ–‡ä»¶æ‰€ä½¿ç”¨çš„éƒ½æ˜¯ä¸€ç§å«<strong>ELF</strong>ï¼ˆExecuatable and Linkable File Formatï¼‰çš„æ–‡ä»¶æ ¼å¼ï¼Œä¸­æ–‡åå­—å«<strong>å¯æ‰§è¡Œä¸å¯é“¾æ¥æ–‡ä»¶æ ¼å¼</strong>ï¼Œè¿™é‡Œé¢ä¸ä»…å­˜æ”¾äº†ç¼–è¯‘æˆçš„æ±‡ç¼–æŒ‡ä»¤ï¼Œè¿˜ä¿ç•™äº†å¾ˆå¤šåˆ«çš„æ•°æ®ã€‚</p><p>æ¯”å¦‚æˆ‘ä»¬è¿‡å»æ‰€æœ‰objdumpå‡ºæ¥çš„ä»£ç é‡Œï¼Œä½ éƒ½å¯ä»¥çœ‹åˆ°å¯¹åº”çš„å‡½æ•°åç§°ï¼Œåƒaddã€mainç­‰ç­‰ï¼Œä¹ƒè‡³ä½ è‡ªå·±å®šä¹‰çš„å…¨å±€å¯ä»¥è®¿é—®çš„å˜é‡åç§°ï¼Œéƒ½å­˜æ”¾åœ¨è¿™ä¸ªELFæ ¼å¼æ–‡ä»¶é‡Œã€‚è¿™äº›åå­—å’Œå®ƒä»¬å¯¹åº”çš„åœ°å€ï¼Œåœ¨ELFæ–‡ä»¶é‡Œé¢ï¼Œå­˜å‚¨åœ¨ä¸€ä¸ªå«ä½œ<strong>ç¬¦å·è¡¨</strong>ï¼ˆSymbols Tableï¼‰çš„ä½ç½®é‡Œã€‚ç¬¦å·è¡¨ç›¸å½“äºä¸€ä¸ªåœ°å€ç°¿ï¼ŒæŠŠåå­—å’Œåœ°å€å…³è”äº†èµ·æ¥ã€‚</p><p>æˆ‘ä»¬å…ˆåªå…³æ³¨å’Œæˆ‘ä»¬çš„addä»¥åŠmainå‡½æ•°ç›¸å…³çš„éƒ¨åˆ†ã€‚ä½ ä¼šå‘ç°ï¼Œè¿™é‡Œé¢ï¼Œmainå‡½æ•°é‡Œè°ƒç”¨addçš„è·³è½¬åœ°å€ï¼Œä¸å†æ˜¯ä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€äº†ï¼Œè€Œæ˜¯addå‡½æ•°çš„å…¥å£åœ°å€äº†ï¼Œè¿™å°±æ˜¯EFLæ ¼å¼å’Œé“¾æ¥å™¨çš„åŠŸåŠ³ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/27/b3/276a740d0eabf5f4be905fe7326d9fb3.jpg" alt=""></p><p>ELFæ–‡ä»¶æ ¼å¼æŠŠå„ç§ä¿¡æ¯ï¼Œåˆ†æˆä¸€ä¸ªä¸€ä¸ªçš„Sectionä¿å­˜èµ·æ¥ã€‚ELFæœ‰ä¸€ä¸ªåŸºæœ¬çš„æ–‡ä»¶å¤´ï¼ˆFile Headerï¼‰ï¼Œç”¨æ¥è¡¨ç¤ºè¿™ä¸ªæ–‡ä»¶çš„åŸºæœ¬å±æ€§ï¼Œæ¯”å¦‚æ˜¯å¦æ˜¯å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¯¹åº”çš„CPUã€æ“ä½œç³»ç»Ÿç­‰ç­‰ã€‚é™¤äº†è¿™äº›åŸºæœ¬å±æ€§ä¹‹å¤–ï¼Œå¤§éƒ¨åˆ†ç¨‹åºè¿˜æœ‰è¿™ä¹ˆä¸€äº›Sectionï¼š</p><ol>
<li>
<p>é¦–å…ˆæ˜¯.text Sectionï¼Œä¹Ÿå«ä½œ<strong>ä»£ç æ®µ</strong>æˆ–è€…æŒ‡ä»¤æ®µï¼ˆCode Sectionï¼‰ï¼Œç”¨æ¥ä¿å­˜ç¨‹åºçš„ä»£ç å’ŒæŒ‡ä»¤ï¼›</p>
</li>
<li>
<p>æ¥ç€æ˜¯.data Sectionï¼Œä¹Ÿå«ä½œ<strong>æ•°æ®æ®µ</strong>ï¼ˆData Sectionï¼‰ï¼Œç”¨æ¥ä¿å­˜ç¨‹åºé‡Œé¢è®¾ç½®å¥½çš„åˆå§‹åŒ–æ•°æ®ä¿¡æ¯ï¼›</p>
</li>
<li>
<p>ç„¶åå°±æ˜¯.rel.text Secionï¼Œå«ä½œ<strong>é‡å®šä½è¡¨</strong>ï¼ˆRelocation Tableï¼‰ã€‚é‡å®šä½è¡¨é‡Œï¼Œä¿ç•™çš„æ˜¯å½“å‰çš„æ–‡ä»¶é‡Œé¢ï¼Œå“ªäº›è·³è½¬åœ°å€å…¶å®æ˜¯æˆ‘ä»¬ä¸çŸ¥é“çš„ã€‚æ¯”å¦‚ä¸Šé¢çš„ link_example.o é‡Œé¢ï¼Œæˆ‘ä»¬åœ¨mainå‡½æ•°é‡Œé¢è°ƒç”¨äº† add å’Œ printf è¿™ä¸¤ä¸ªå‡½æ•°ï¼Œä½†æ˜¯åœ¨é“¾æ¥å‘ç”Ÿä¹‹å‰ï¼Œæˆ‘ä»¬å¹¶ä¸çŸ¥é“è¯¥è·³è½¬åˆ°å“ªé‡Œï¼Œè¿™äº›ä¿¡æ¯å°±ä¼šå­˜å‚¨åœ¨é‡å®šä½è¡¨é‡Œï¼›</p>
</li>
<li>
<p>æœ€åæ˜¯.symtab Sectionï¼Œå«ä½œ<strong>ç¬¦å·è¡¨</strong>ï¼ˆSymbol Tableï¼‰ã€‚ç¬¦å·è¡¨ä¿ç•™äº†æˆ‘ä»¬æ‰€è¯´çš„å½“å‰æ–‡ä»¶é‡Œé¢å®šä¹‰çš„å‡½æ•°åç§°å’Œå¯¹åº”åœ°å€çš„åœ°å€ç°¿ã€‚</p>
</li>
</ol><p>é“¾æ¥å™¨ä¼šæ‰«ææ‰€æœ‰è¾“å…¥çš„ç›®æ ‡æ–‡ä»¶ï¼Œç„¶åæŠŠæ‰€æœ‰ç¬¦å·è¡¨é‡Œçš„ä¿¡æ¯æ”¶é›†èµ·æ¥ï¼Œæ„æˆä¸€ä¸ªå…¨å±€çš„ç¬¦å·è¡¨ã€‚ç„¶åå†æ ¹æ®é‡å®šä½è¡¨ï¼ŒæŠŠæ‰€æœ‰ä¸ç¡®å®šè¦è·³è½¬åœ°å€çš„ä»£ç ï¼Œæ ¹æ®ç¬¦å·è¡¨é‡Œé¢å­˜å‚¨çš„åœ°å€ï¼Œè¿›è¡Œä¸€æ¬¡ä¿®æ­£ã€‚æœ€åï¼ŒæŠŠæ‰€æœ‰çš„ç›®æ ‡æ–‡ä»¶çš„å¯¹åº”æ®µè¿›è¡Œä¸€æ¬¡åˆå¹¶ï¼Œå˜æˆäº†æœ€ç»ˆçš„å¯æ‰§è¡Œä»£ç ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆï¼Œå¯æ‰§è¡Œæ–‡ä»¶é‡Œé¢çš„å‡½æ•°è°ƒç”¨çš„åœ°å€éƒ½æ˜¯æ­£ç¡®çš„ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/f6/12/f62da9b29aa53218f8907851df27f912.jpeg" alt=""></p><p>åœ¨é“¾æ¥å™¨æŠŠç¨‹åºå˜æˆå¯æ‰§è¡Œæ–‡ä»¶ä¹‹åï¼Œè¦è£…è½½å™¨å»æ‰§è¡Œç¨‹åºå°±å®¹æ˜“å¤šäº†ã€‚è£…è½½å™¨ä¸å†éœ€è¦è€ƒè™‘åœ°å€è·³è½¬çš„é—®é¢˜ï¼Œåªéœ€è¦è§£æ ELF æ–‡ä»¶ï¼ŒæŠŠå¯¹åº”çš„æŒ‡ä»¤å’Œæ•°æ®ï¼ŒåŠ è½½åˆ°å†…å­˜é‡Œé¢ä¾›CPUæ‰§è¡Œå°±å¯ä»¥äº†ã€‚</p><h2>æ€»ç»“å»¶ä¼¸</h2><p>è®²åˆ°è¿™é‡Œï¼Œç›¸ä¿¡ä½ å·²ç»çŒœåˆ°ï¼Œä¸ºä»€ä¹ˆåŒæ ·ä¸€ä¸ªç¨‹åºï¼Œåœ¨Linuxä¸‹å¯ä»¥æ‰§è¡Œè€Œåœ¨Windowsä¸‹ä¸èƒ½æ‰§è¡Œäº†ã€‚å…¶ä¸­ä¸€ä¸ªéå¸¸é‡è¦çš„åŸå› å°±æ˜¯ï¼Œä¸¤ä¸ªæ“ä½œç³»ç»Ÿä¸‹å¯æ‰§è¡Œæ–‡ä»¶çš„æ ¼å¼ä¸ä¸€æ ·ã€‚</p><p>æˆ‘ä»¬ä»Šå¤©è®²çš„æ˜¯Linuxä¸‹çš„ELFæ–‡ä»¶æ ¼å¼ï¼Œè€ŒWindowsçš„å¯æ‰§è¡Œæ–‡ä»¶æ ¼å¼æ˜¯ä¸€ç§å«ä½œ<strong>PE</strong>ï¼ˆPortable Executable Formatï¼‰çš„æ–‡ä»¶æ ¼å¼ã€‚Linuxä¸‹çš„è£…è½½å™¨åªèƒ½è§£æELFæ ¼å¼è€Œä¸èƒ½è§£æPEæ ¼å¼ã€‚</p><p>å¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªå¯ä»¥èƒ½å¤Ÿè§£æPEæ ¼å¼çš„è£…è½½å™¨ï¼Œæˆ‘ä»¬å°±æœ‰å¯èƒ½åœ¨Linuxä¸‹è¿è¡ŒWindowsç¨‹åºäº†ã€‚è¿™æ ·çš„ç¨‹åºçœŸçš„å­˜åœ¨å—ï¼Ÿæ²¡é”™ï¼ŒLinuxä¸‹è‘—åçš„å¼€æºé¡¹ç›®Wineï¼Œå°±æ˜¯é€šè¿‡å…¼å®¹PEæ ¼å¼çš„è£…è½½å™¨ï¼Œä½¿å¾—æˆ‘ä»¬èƒ½ç›´æ¥åœ¨Linuxä¸‹è¿è¡ŒWindowsç¨‹åºçš„ã€‚è€Œç°åœ¨å¾®è½¯çš„Windowsé‡Œé¢ä¹Ÿæä¾›äº†WSLï¼Œä¹Ÿå°±æ˜¯Windows Subsystem for Linuxï¼Œå¯ä»¥è§£æå’ŒåŠ è½½ELFæ ¼å¼çš„æ–‡ä»¶ã€‚</p><p>æˆ‘ä»¬å»å†™å¯ä»¥ç”¨çš„ç¨‹åºï¼Œä¹Ÿä¸ä»…ä»…æ˜¯æŠŠæ‰€æœ‰ä»£ç æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œæ¥ç¼–è¯‘æ‰§è¡Œï¼Œè€Œæ˜¯å¯ä»¥æ‹†åˆ†æˆä¸åŒçš„å‡½æ•°åº“ï¼Œæœ€åé€šè¿‡ä¸€ä¸ªé™æ€é“¾æ¥çš„æœºåˆ¶ï¼Œä½¿å¾—ä¸åŒçš„æ–‡ä»¶ä¹‹é—´æ—¢æœ‰åˆ†å·¥ï¼Œåˆèƒ½é€šè¿‡é™æ€é“¾æ¥æ¥â€œåˆä½œâ€ï¼Œå˜æˆä¸€ä¸ªå¯æ‰§è¡Œçš„ç¨‹åºã€‚</p><p>å¯¹äºELFæ ¼å¼çš„æ–‡ä»¶ï¼Œä¸ºäº†èƒ½å¤Ÿå®ç°è¿™æ ·ä¸€ä¸ªé™æ€é“¾æ¥çš„æœºåˆ¶ï¼Œé‡Œé¢ä¸åªæ˜¯ç®€å•ç½—åˆ—äº†ç¨‹åºæ‰€éœ€è¦æ‰§è¡Œçš„æŒ‡ä»¤ï¼Œè¿˜ä¼šåŒ…æ‹¬é“¾æ¥æ‰€éœ€è¦çš„é‡å®šä½è¡¨å’Œç¬¦å·è¡¨ã€‚</p><h2>æ¨èé˜…è¯»</h2><p>æƒ³è¦æ›´æ·±å…¥äº†è§£ç¨‹åºçš„é“¾æ¥è¿‡ç¨‹å’ŒELFæ ¼å¼ï¼Œæˆ‘æ¨èä½ é˜…è¯»ã€Šç¨‹åºå‘˜çš„è‡ªæˆ‘ä¿®å…»â€”â€”é“¾æ¥ã€è£…è½½å’Œåº“ã€‹çš„1ï½4ç« ã€‚è¿™æ˜¯ä¸€æœ¬éš¾å¾—çš„è®²è§£ç¨‹åºçš„é“¾æ¥ã€è£…è½½å’Œè¿è¡Œçš„å¥½ä¹¦ã€‚</p><h2>è¯¾åæ€è€ƒ</h2><p>ä½ å¯ä»¥é€šè¿‡readelfè¯»å–å‡ºä»Šå¤©æ¼”ç¤ºç¨‹åºçš„ç¬¦å·è¡¨ï¼Œçœ‹çœ‹ç¬¦å·è¡¨é‡Œéƒ½æœ‰å“ªäº›ä¿¡æ¯ï¼›ç„¶åé€šè¿‡objdumpè¯»å–å‡ºä»Šå¤©æ¼”ç¤ºç¨‹åºçš„é‡å®šä½è¡¨ï¼Œçœ‹çœ‹é‡Œé¢åˆæœ‰å“ªäº›ä¿¡æ¯ã€‚</p><p>æ¬¢è¿ç•™è¨€å’Œæˆ‘åˆ†äº«ä½ çš„æ€è€ƒå’Œç–‘æƒ‘ï¼Œä½ ä¹Ÿå¯ä»¥æŠŠä»Šå¤©çš„å†…å®¹åˆ†äº«ç»™ä½ çš„æœ‹å‹ï¼Œå’Œä»–ä¸€èµ·å­¦ä¹ å’Œè¿›æ­¥ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/28/29/281ca28b90c8aa0aecbb5adc08394f29.jpg" alt=""></p> </div> </div> <div data-v-87ffcada="" class="article-comments"><h2 data-v-87ffcada=""><span data-v-87ffcada="">ç²¾é€‰ç•™è¨€</span></h2> <ul data-v-87ffcada="">  <li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/12/a6/43/cb6ab349.jpg" class="avatar"> <div class="info"> <div class="hd"><span class="username">Spring</span> </div> <div class="bd">è¡¥å……ä¸€ä¸‹:<br>ELFå…¶å®æ˜¯ä¸€ç§æ–‡ä»¶æ ¼å¼çš„æ ‡å‡†ï¼ŒELFæ–‡ä»¶æœ‰ä¸‰ç±»:å¯é‡å®šå‘æ–‡ä»¶ã€å¯æ‰§è¡Œæ–‡ä»¶ã€å…±äº«ç›®æ ‡æ–‡ä»¶ã€‚ä»£ç ç»è¿‡é¢„å¤„ç†ã€ç¼–è¯‘ã€æ±‡ç¼–åå½¢æˆå¯é‡å®šå‘æ–‡ä»¶ï¼Œå¯é‡å®šå‘æ–‡ä»¶ç»è¿‡é“¾æ¥åç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ã€‚<br>å¦å¤–æˆ‘æƒ³è¯·æ•™ä¸€ä¸‹ï¼Œæœºå™¨ç æ˜¯åœ¨å“ªä¸€æ­¥å½¢æˆçš„ï¼Ÿ<br></div> <span class="time">2019-05-13</span> <div class="reply"> <div class="reply-hd"><span>ä½œè€…å›å¤</span></div> <p class="reply-content">ç®€å•åœ°è¯´ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯åœ¨æ±‡ç¼–ä¹‹åå˜æˆäº†æœºå™¨ç æ”¾åœ¨äº†elfçš„ä»£ç æ®µé‡Œã€‚</p> <p class="reply-time">2019-05-13</p> </div> </div> </li>  <li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg" class="avatar"> <div class="info"> <div class="hd"><span class="username">ä¸€æ­¥</span> </div> <div class="bd">è€å¸ˆï¼Œæˆ‘æ›¾ç»åœ¨linuxä¸Šä½¿ç”¨è¿‡wineï¼Œæœ‰å¥½å¤šwindowè½¯ä»¶ä¸èƒ½å¾ˆå¥½å…¼å®¹çš„è¿è¡Œï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿæ˜¯ä¸æ˜¯é™¤äº†æ‰§è¡Œæ–‡ä»¶æ ¼å¼ä¹‹å¤–ï¼Œè¿˜æœ‰å…¶ä»–çš„å› ç´ å½±å“è½¯ä»¶çš„è¿è¡Œå‘¢ï¼Ÿ<br></div> <span class="time">2019-05-13</span> <div class="reply"> <div class="reply-hd"><span>ä½œè€…å›å¤</span></div> <p class="reply-content">ä¸€æ­¥åŒå­¦ä½ å¥½ï¼Œå½“ç„¶ï¼Œå› ä¸ºå¾ˆå¤šç¨‹åºè¿˜ä¾èµ–å„ç§æ“ä½œç³»ç»Ÿæœ¬èº«æä¾›çš„åŠ¨æ€é“¾æ¥åº“ï¼Œç³»ç»Ÿè°ƒç”¨ç­‰ç­‰ã€‚éœ€è¦wineæä¾›å¯¹åº”çš„å®ç°ï¼Œå…¼å®¹æ ¼å¼åªæ˜¯ä¸‡é‡Œé•¿å¾ç¬¬ä¸€æ­¥ã€‚</p> <p class="reply-time">2019-05-13</p> </div> </div> </li>  <li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg" class="avatar"> <div class="info"> <div class="hd"><span class="username">ä¸€æ­¥</span> </div> <div class="bd">è€å¸ˆé—®ä¸€ä¸‹Macç³»ç»Ÿçš„å¯æ‰§è¡Œæ–‡ä»¶æ ¼å¼æ˜¯ä»€ä¹ˆï¼Œä¹Ÿæ˜¯ELFå—ï¼Ÿè¿˜æ˜¯macè‡ªå·±æœ‰è‡ªå·±ä¸€å¥—ï¼Ÿ<br></div> <span class="time">2019-05-13</span>  </div> </li>  <li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/0f/55/f2/ba68d931.jpg" class="avatar"> <div class="info"> <div class="hd"><span class="username">æœ‰ç±³</span> </div> <div class="bd">Javaçš„è·¨å¹³å°è¿è¡Œæ˜¯å¦‚ä½•åšåˆ°çš„å‘¢ï¼Ÿè·Ÿæœ¬èŠ‚å†…å®¹æœ‰å…³ç³»å—ï¼Ÿ<br></div> <span class="time">2019-05-13</span> <div class="reply"> <div class="reply-hd"><span>ä½œè€…å›å¤</span></div> <p class="reply-content">Javaæ˜¯é€šè¿‡å®ç°ä¸åŒå¹³å°ä¸Šçš„è™šæ‹Ÿæœºï¼Œç„¶åå³æ—¶ç¿»è¯‘javacç”Ÿæˆçš„ä¸­é—´ä»£ç æ¥åšåˆ°è·¨å¹³å°çš„ã€‚è·¨å¹³å°çš„å·¥ä½œè¢«è™šæ‹Ÿæœºå¼€å‘äººå‘˜æ¥è§£å†³äº†</p> <p class="reply-time">2019-05-13</p> </div> </div> </li>  <li data-v-87ffcada="" class="comment-item"><img src="" class="avatar"> <div class="info"> <div class="hd"><span class="username">æœ‰é“­</span> </div> <div class="bd">æ‰€ä»¥ç†è®ºä¸Šï¼Œåªè¦ä¸æ¶‰åŠåˆ°windowså’Œlinuxçš„ç³»ç»Ÿapiè°ƒç”¨ï¼Œç†è®ºä¸Šåªè¦æå®šäº†å¯æ‰§è¡Œæ–‡ä»¶æ ¼å¼è¿™ä¸ªé—®é¢˜ï¼Œé‚£ä¹ˆCç¨‹åºå°±æ˜¯äºŒè¿›åˆ¶å¯ç§»æ¤çš„ï¼Ÿ<br></div> <span class="time">2019-05-13</span> <div class="reply"> <div class="reply-hd"><span>ä½œè€…å›å¤</span></div> <p class="reply-content">é™¤äº†ç³»ç»Ÿè°ƒç”¨ï¼Œè¿˜è¦è€ƒè™‘æ˜¯å¦æœ‰åŠ¨æ€é“¾æ¥åº“çš„ä¾èµ–ç­‰ç­‰</p> <p class="reply-time">2019-05-13</p> </div> </div> </li>  <li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/0f/d8/ee/6e7c2264.jpg" class="avatar"> <div class="info"> <div class="hd"><span class="username">Only now</span> </div> <div class="bd">mark <br>æœ¬ç« å†…å®¹ç¡®å®åœ¨é“¾æ¥è£…è½½ä¸åº“é‡Œæœ‰æ›´è¯¦å°½çš„è¯´æ˜ã€‚<br></div> <span class="time">2019-05-13</span> <div class="reply"> <div class="reply-hd"><span>ä½œè€…å›å¤</span></div> <p class="reply-content">ğŸ‘ç¨‹åºå‘˜çš„è‡ªæˆ‘ä¿®å…»æ˜¯ä¸€æœ¬å¥½ä¹¦ã€‚è¿™ä¸ªä¸“æ çš„ä¸»é¢˜æ˜¯ç»„æˆåŸç†ï¼Œå¸Œæœ›èƒ½å¸¦å¤§å®¶å…¥ä¸ªé—¨ã€‚æ›´æ·±å…¥åœ°è¦å»å†èŠ±æ—¶é—´çœ‹ä¹¦å“¦</p> <p class="reply-time">2019-05-13</p> </div> </div> </li>  <li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/10/f6/00/2a248fd8.jpg" class="avatar"> <div class="info"> <div class="hd"><span class="username">æ¨æ€€</span> </div> <div class="bd">è€å¸ˆå¥½ï¼Œå°±æ˜¯æ²¡æœ‰æ“ä½œç³»ç»Ÿï¼Œç›´æ¥åœ¨ç¡¬ä»¶ä¸Šè¿è¡Œçš„å¯æ‰§è¡Œç¨‹åºï¼Œå…¶æ ¼å¼åº”è¯¥ä¸æ˜¯peæˆ–elfï¼Œåº”è¯¥æ˜¯çº¯çš„æœºå™¨æŒ‡ä»¤å§ï¼Œpeæˆ–elfæ ¼å¼çš„å¯æ‰§è¡Œç¨‹åºæ˜¯è·Ÿæ“ä½œç³»ç»Ÿç»‘å®šçš„ï¼Œç»è¿‡ç¿»è¯‘åæˆä¸ºçº¯æœºå™¨æŒ‡ä»¤ï¼Œæ‰èƒ½è¢«æ‰§è¡Œï¼Œä¸çŸ¥é“è¿™æ ·ç†è§£å¯¹ä¸ã€‚<br></div> <span class="time">2019-05-18</span>  </div> </li>  <li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/12/e7/2e/1522a7d6.jpg" class="avatar"> <div class="info"> <div class="hd"><span class="username">æ´»çš„æ½‡æ´’</span> </div> <div class="bd">è¿™ä¸€å‘¨ç´§èµ¶æ…¢èµ¶ï¼Œæ€»ç®—æ˜¯èµ¶ä¸Šäº†æ›´æ–°çš„è¿›åº¦ã€‚day08å¤©å­¦ä¹ ç¬”è®°<br>https:&#47;&#47;www.cnblogs.com&#47;luoahong&#47;p&#47;10877269.html<br></div> <span class="time">2019-05-17</span>  </div> </li>  <li data-v-87ffcada="" class="comment-item"><img src="https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83epxBnhGmLOXwIN0fod3dEHzena2dAATaJqCHEJVDicR09wEKDp4kgxMT0tibMVVzjOmSYB2cr4ha9iaA/0" class="avatar"> <div class="info"> <div class="hd"><span class="username">Ant</span> </div> <div class="bd">è€å¸ˆå¥½ï¼Œæœ‰ä¸ªç–‘é—®è¯·æ•™æ‚¨<br><br>é‡å®šä½è¡¨é‡Œï¼Œä¿ç•™çš„æ˜¯å½“å‰çš„æ–‡ä»¶é‡Œé¢ï¼Œå“ªäº›è·³è½¬åœ°å€å…¶å®æ˜¯æˆ‘ä»¬ä¸çŸ¥é“çš„ã€‚æ¯”å¦‚æˆ‘ä»¬åœ¨ main å‡½æ•°é‡Œé¢è°ƒç”¨äº† add å’Œ printf è¿™ä¸¤ä¸ªå‡½æ•°ï¼Œä½†æ˜¯åœ¨é“¾æ¥å‘ç”Ÿä¹‹å‰ï¼Œæˆ‘ä»¬å¹¶ä¸çŸ¥é“è¯¥è·³è½¬åˆ°å“ªé‡Œï¼Œè¿™äº›ä¿¡æ¯å°±ä¼šå­˜å‚¨åœ¨é‡å®šä½è¡¨é‡Œï¼›<br>ç¬¦å·è¡¨ä¿ç•™äº†æˆ‘ä»¬æ‰€è¯´çš„å½“å‰æ–‡ä»¶é‡Œé¢å®šä¹‰çš„å‡½æ•°åç§°å’Œå¯¹åº”åœ°å€çš„åœ°å€ç°¿ã€‚<br>é“¾æ¥å™¨ä¼šæ‰«ææ‰€æœ‰è¾“å…¥çš„ç›®æ ‡æ–‡ä»¶ï¼Œæ„æˆä¸€ä¸ªå…¨å±€çš„ç¬¦å·è¡¨ã€‚ç„¶åå†æ ¹æ®é‡å®šä½è¡¨ï¼ŒæŠŠæ‰€æœ‰ä¸ç¡®å®šè¦è·³è½¬åœ°å€çš„ä»£ç ï¼Œæ ¹æ®ç¬¦å·è¡¨é‡Œé¢å­˜å‚¨çš„åœ°å€ï¼Œè¿›è¡Œä¸€æ¬¡ä¿®æ­£ã€‚<br><br>é‚£ä¹ˆé“¾æ¥å™¨ä¸ºå•¥è¦ä¿®æ­£é‡å®šä½è¡¨å‘¢ï¼Ÿ  æ²¡æœ‰é‡å®šä½è¡¨ï¼Œç›´æ¥ç”¨ç¬¦å·è¡¨è¡Œä¸è¡Œï¼Ÿ<br><br><br></div> <span class="time">2019-05-14</span>  </div> </li>  <li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/16/ee/9e/204ce89c.jpg" class="avatar"> <div class="info"> <div class="hd"><span class="username">å¾</span> </div> <div class="bd">è¯·é—®è€å¸ˆobjdumpå‡ºæ¥çš„åœ°å€ å’Œæ‰§è¡Œç¨‹åºæ—¶å®é™…çš„å†…å­˜åœ°å€æ˜¯æ€ä¹ˆå¯¹åº”èµ·æ¥çš„<br></div> <span class="time">2019-05-14</span>  </div> </li>  <li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/10/f6/00/2a248fd8.jpg" class="avatar"> <div class="info"> <div class="hd"><span class="username">æ¨æ€€</span> </div> <div class="bd">è€å¸ˆå¥½ï¼Œæˆ‘æœ‰ä¸ªé—®é¢˜ï¼Œå°±æ˜¯æˆ‘å¯ä»¥ç”¨ç¼–ç¨‹è¯­è¨€å†™ä¸€ä¸ªä¸ä¾èµ–æ“ä½œç³»ç»Ÿçš„å¯æ‰§è¡Œç¨‹åºï¼Œè¿™ä¸ªå¯æ‰§è¡Œç¨‹åºä¸æ˜¯peæ ¼å¼ï¼Œä¹Ÿä¸æ˜¯elfçš„ï¼Œé‚£ä¸ºä»€èƒ½æ‰§è¡Œå‘¢ï¼Œæ˜¯ä¸æ˜¯å› ä¸ºè¿™ä¸ªå¯æ‰§è¡Œç¨‹åºå…¨æ˜¯çº¯çš„cpuæŒ‡ä»¤ï¼Œæ²¡æœ‰å…¶ä»–è¦è§£æçš„ä¸œè¥¿ï¼Ÿ<br></div> <span class="time">2019-05-13</span> <div class="reply"> <div class="reply-hd"><span>ä½œè€…å›å¤</span></div> <p class="reply-content">å¦‚æœä¸æ˜¯peæ ¼å¼ä¹Ÿä¸æ˜¯elfæ ¼å¼ï¼Œå°±ä¸èƒ½æ‰§è¡Œå•Šã€‚èƒ½æ‰§è¡Œæ˜¯å› ä¸ºå®é™…æ‰§è¡Œçš„ä¸æ˜¯ä½ çš„ç¨‹åºã€‚æ¯”å¦‚ä½ å†™äº†ä¸€æ®µpythonä»£ç ï¼Œå®é™…æ‰§è¡Œçš„æ˜¯pythonè§£é‡Šå™¨ï¼Œè€Œä¸æ˜¯ä½ çš„pyä»£ç </p> <p class="reply-time">2019-05-17</p> </div> </div> </li>  <li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/12/f2/2b/7d9751bb.jpg" class="avatar"> <div class="info"> <div class="hd"><span class="username">è®¸å±±å±±</span> </div> <div class="bd">âœ  ch7 git:(coding) âœ— objdump -d -M intel -S function_example.o        <br><br>function_example.o:     file format elf64-x86-64<br><br><br>Disassembly of section .text:<br><br>0000000000000000 &lt;add&gt;:<br>#include &lt;stdio.h&gt;<br><br><br>int add(int a, int b)<br>{<br>   0:   55                      push   rbp<br>   1:   48 89 e5                mov    rbp,rsp<br>   4:   89 7d fc                mov    DWORD PTR [rbp-0x4],edi<br>   7:   89 75 f8                mov    DWORD PTR [rbp-0x8],esi<br>    return a + b;<br>   a:   8b 55 fc                mov    edx,DWORD PTR [rbp-0x4]<br>   d:   8b 45 f8                mov    eax,DWORD PTR [rbp-0x8]<br>  10:   01 d0                   add    eax,edx<br>}<br>  12:   5d                      pop    rbp<br>  13:   c3                      ret    <br><br>0000000000000014 &lt;main&gt;:<br><br>int main(int argc, const char *argv[])<br>{<br>  14:   55                      push   rbp<br>  15:   48 89 e5                mov    rbp,rsp<br>  18:   48 83 ec 20             sub    rsp,0x20<br>  1c:   89 7d ec                mov    DWORD PTR [rbp-0x14],edi<br>  1f:   48 89 75 e0             mov    QWORD PTR [rbp-0x20],rsi<br>    int a = 5;<br>  23:   c7 45 f4 05 00 00 00    mov    DWORD PTR [rbp-0xc],0x5<br>    int b = 10;<br>  2a:   c7 45 f8 0a 00 00 00    mov    DWORD PTR [rbp-0x8],0xa<br>    int u = add(a, b);<br>  31:   8b 55 f8                mov    edx,DWORD PTR [rbp-0x8]<br>  34:   8b 45 f4                mov    eax,DWORD PTR [rbp-0xc]<br>  37:   89 d6                   mov    esi,edx<br>  39:   89 c7                   mov    edi,eax<br>  3b:   e8 00 00 00 00          call   40 &lt;main+0x2c&gt;<br>  40:   89 45 fc                mov    DWORD PTR [rbp-0x4],eax<br>    return 0;<br>  43:   b8 00 00 00 00          mov    eax,0x0<br>}<br>  48:   c9                      leave  <br>  49:   c3                      ret    <br><br>è€å¸ˆæˆ‘æƒ³é—®ä¸€ä¸‹ main å‡½æ•°é‡Œèµ·å§‹ä½ç½® 18, 1c, 1f å¤„çš„ä»£ç æ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿèµ·å§‹ä½ç½® 3b, 40 å¤„çš„å‡½æ•°è°ƒç”¨ä¸ºä»€ä¹ˆæ˜¯ç›´æ¥æŠŠ eax æ”¾åˆ° u é‡Œï¼Œè¿™æ—¶å€™çš„ eax å·²ç»æ˜¯ add å‡½æ•°è¿è¡Œåçš„ç»“æœäº†å—ï¼Ÿ<br><br>åˆšåˆšèµ¶ä¸Šè¿›åº¦ï¼Œæ‰€ä»¥æŠŠå‰é¢é‡åˆ°çš„é—®é¢˜ä¹Ÿé—®ä¸€ä¸‹è€å¸ˆï¼Œå¸Œæœ›è€å¸ˆç­”ç–‘ï¼Œè°¢è°¢è€å¸ˆäº†ã€‚<br></div> <span class="time">2019-05-13</span>  </div> </li>  <li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/12/ec/2a/b11d5ad8.jpg" class="avatar"> <div class="info"> <div class="hd"><span class="username">æ›¾ç»ç˜¦è¿‡</span> </div> <div class="bd">mark   åé¢å»è¯»ä¸€è¯» ç¨‹åºå‘˜çš„è‡ªæˆ‘ä¿®å…»<br></div> <span class="time">2019-05-13</span> <div class="reply"> <div class="reply-hd"><span>ä½œè€…å›å¤</span></div> <p class="reply-content">ğŸ‘è¿™æœ¬ä¹¦å¯¹äºåšç³»ç»Ÿå¼€å‘çš„åŒå­¦æ˜¯å¿…è¯»ä¹¦ç›®ä¹‹ä¸€ã€‚</p> <p class="reply-time">2019-05-13</p> </div> </div> </li>  <li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/10/03/11/f58c6278.jpg" class="avatar"> <div class="info"> <div class="hd"><span class="username">é—«å¾ªé¸£</span> </div> <div class="bd">æ•´ä¸ªelfæ–‡ä»¶éƒ½åŠ è½½åˆ°å†…å­˜å—ï¼Œè¿˜æ˜¯åªåŠ è½½ä¸€éƒ¨åˆ†ï¼Ÿ<br></div> <span class="time">2019-05-13</span> <div class="reply"> <div class="reply-hd"><span>ä½œè€…å›å¤</span></div> <p class="reply-content">é—«å¾ªé¸£åŒå­¦ä½ å¥½ï¼Œå…³äºè¿™ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥çœ‹ä¸‹ä¸€è®²çš„ç¨‹åºåŠ è½½</p> <p class="reply-time">2019-05-13</p> </div> </div> </li>  <li data-v-87ffcada="" class="comment-item"><img src="" class="avatar"> <div class="info"> <div class="hd"><span class="username">æ—ä¸‰æ </span> </div> <div class="bd">å›ç­”ä¸€ä¸‹javaè·¨å¹³å°çš„é—®é¢˜ã€‚<br>javaçš„è·¨å¹³å°æ˜¯é€šè¿‡è™šæ‹Ÿæœºjvmå®ç°çš„ï¼Œç¨‹åºå‘˜å†™çš„ä»£ç éƒ½ç¼–è¯‘æˆclassæ–‡ä»¶ï¼Œclassæ–‡ä»¶åœ¨windowså’Œlinuxä¸Šéƒ½æ˜¯ä¸€æ ·çš„ï¼Œè¿è¡Œclassæ–‡ä»¶çš„jvmæ˜¯ä¸è·¨å¹³å°çš„ã€‚windowsæœ‰winç‰ˆæœ¬çš„jvmï¼Œlinuxæœ‰linuxç‰ˆæœ¬çš„jvmã€‚<br></div> <span class="time">2019-05-13</span>  </div> </li>  <li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/10/4d/49/28e73b9c.jpg" class="avatar"> <div class="info"> <div class="hd"><span class="username">æ˜ç¿¼</span> </div> <div class="bd">è€å¸ˆæˆ‘æœ‰ä¸ªç–‘é—®ç»è¿‡é“¾æ¥ä¹‹åè¡Œç¨‹å¯æ‰§è¡Œæ–‡ä»¶ï¼Œåƒå‡½æ•°åœ°å€æ˜¯ç¡®å®šäº†çš„ï¼Œä½†æ˜¯ç¨‹åºè¿˜æ²¡è·‘èµ·æ¥ï¼Œè¿™ä¸ªåœ°å€æ€ä¹ˆå’Œè¿è¡Œæ—¶å€™å†…å­˜å®é™…åœ°å€åšæ˜ å°„é‚£ï¼Ÿè°¢è°¢<br></div> <span class="time">2019-05-13</span>  </div> </li>  <li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/12/ff/3f/bbb8a88c.jpg" class="avatar"> <div class="info"> <div class="hd"><span class="username">å¾å‡¯</span> </div> <div class="bd">ç¨‹åºæ— æ³•è£…è½½å¯èƒ½æ˜¯ç”±äºç³»ç»Ÿæ— æ³•è¯†åˆ«ç›®æ ‡æ–‡ä»¶çš„æ ¼å¼ï¼Œæˆ‘è®°å¾—å¥½åƒè¿˜æœ‰ABIçš„å½±å“å§ï¼Œå‡½æ•°ç¬¦å·çš„è§£ææ–¹å¼ å‚æ•°çš„å…¥æ ˆé¡ºåº ä»¥åŠc++åº•å±‚å†…å­˜å¸ƒå±€ ç‰¹æ€§åº•å±‚çš„ä¸åŒå®ç° è€å¸ˆèƒ½ä¸èƒ½ç®€å•è®²è§£ä¸€ä¸‹ <br></div> <span class="time">2019-05-13</span>  </div> </li>  <li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/10/e2/86/90041355.jpg" class="avatar"> <div class="info"> <div class="hd"><span class="username">ä¸€å¡Œç³Šæ¶‚</span> </div> <div class="bd">çœ‹ä¸€ç« ï¼Œæœ¨æœ‰çœ‹å¤Ÿ<br></div> <span class="time">2019-05-13</span>  </div> </li>  <li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/11/9b/ba/333b59e5.jpg" class="avatar"> <div class="info"> <div class="hd"><span class="username">Linuxer</span> </div> <div class="bd">è¯·é—®ä»£ç æ®µé‡Œé¢çš„ç¬¦å·å’Œæ•°æ®æ®µé‡Œé¢çš„ç¬¦å·åˆ†é…çš„åœ°å€èŒƒå›´ä¸€æ ·å—ï¼Ÿæœ‰ä»€ä¹ˆè§„åˆ™?å¦å¤–åŠ¨æ€é“¾æ¥çš„é‡å®šä½åº”è¯¥æœ‰ä¸åŒçš„è§„åˆ™å§<br></div> <span class="time">2019-05-13</span>  </div> </li>  <li data-v-87ffcada="" class="comment-item"><img src="" class="avatar"> <div class="info"> <div class="hd"><span class="username">lzhao</span> </div> <div class="bd">ä¸Šå‘¨äº”è¿˜åœ¨æ€è€ƒè¿™ä¸ªé—®é¢˜ï¼Ÿè¿™ç­”æ¡ˆè¯´æ¥å°±æ¥ï¼ŒåŠæ—¶é›¨å®‹æ±Ÿ<br></div> <span class="time">2019-05-13</span> <div class="reply"> <div class="reply-hd"><span>ä½œè€…å›å¤</span></div> <p class="reply-content">ğŸ‘å¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©</p> <p class="reply-time">2019-05-13</p> </div> </div> </li>  </ul> </div> </div> </div> </div> </div> </body> </html>
